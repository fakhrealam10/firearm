function xE(r,o){for(var s=0;s<o.length;s++){const c=o[s];if(typeof c!="string"&&!Array.isArray(c)){for(const d in c)if(d!=="default"&&!(d in r)){const h=Object.getOwnPropertyDescriptor(c,d);h&&Object.defineProperty(r,d,h.get?h:{enumerable:!0,get:()=>c[d]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))c(d);new MutationObserver(d=>{for(const h of d)if(h.type==="childList")for(const _ of h.addedNodes)_.tagName==="LINK"&&_.rel==="modulepreload"&&c(_)}).observe(document,{childList:!0,subtree:!0});function s(d){const h={};return d.integrity&&(h.integrity=d.integrity),d.referrerPolicy&&(h.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?h.credentials="include":d.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function c(d){if(d.ep)return;d.ep=!0;const h=s(d);fetch(d.href,h)}})();var SE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jy(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var CE={exports:{}},Iy={},OE={exports:{}},Hr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jh=Symbol.for("react.element"),c2=Symbol.for("react.portal"),f2=Symbol.for("react.fragment"),d2=Symbol.for("react.strict_mode"),p2=Symbol.for("react.profiler"),h2=Symbol.for("react.provider"),v2=Symbol.for("react.context"),g2=Symbol.for("react.forward_ref"),m2=Symbol.for("react.suspense"),y2=Symbol.for("react.memo"),w2=Symbol.for("react.lazy"),r1=Symbol.iterator;function _2(r){return r===null||typeof r!="object"?null:(r=r1&&r[r1]||r["@@iterator"],typeof r=="function"?r:null)}var EE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},TE=Object.assign,PE={};function Id(r,o,s){this.props=r,this.context=o,this.refs=PE,this.updater=s||EE}Id.prototype.isReactComponent={};Id.prototype.setState=function(r,o){if(typeof r!="object"&&typeof r!="function"&&r!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,r,o,"setState")};Id.prototype.forceUpdate=function(r){this.updater.enqueueForceUpdate(this,r,"forceUpdate")};function kE(){}kE.prototype=Id.prototype;function sx(r,o,s){this.props=r,this.context=o,this.refs=PE,this.updater=s||EE}var lx=sx.prototype=new kE;lx.constructor=sx;TE(lx,Id.prototype);lx.isPureReactComponent=!0;var n1=Array.isArray,AE=Object.prototype.hasOwnProperty,ux={current:null},LE={key:!0,ref:!0,__self:!0,__source:!0};function ME(r,o,s){var c,d={},h=null,_=null;if(o!=null)for(c in o.ref!==void 0&&(_=o.ref),o.key!==void 0&&(h=""+o.key),o)AE.call(o,c)&&!LE.hasOwnProperty(c)&&(d[c]=o[c]);var x=arguments.length-2;if(x===1)d.children=s;else if(1<x){for(var S=Array(x),C=0;C<x;C++)S[C]=arguments[C+2];d.children=S}if(r&&r.defaultProps)for(c in x=r.defaultProps,x)d[c]===void 0&&(d[c]=x[c]);return{$$typeof:Jh,type:r,key:h,ref:_,props:d,_owner:ux.current}}function b2(r,o){return{$$typeof:Jh,type:r.type,key:o,ref:r.ref,props:r.props,_owner:r._owner}}function cx(r){return typeof r=="object"&&r!==null&&r.$$typeof===Jh}function x2(r){var o={"=":"=0",":":"=2"};return"$"+r.replace(/[=:]/g,function(s){return o[s]})}var i1=/\/+/g;function Jw(r,o){return typeof r=="object"&&r!==null&&r.key!=null?x2(""+r.key):o.toString(36)}function _m(r,o,s,c,d){var h=typeof r;(h==="undefined"||h==="boolean")&&(r=null);var _=!1;if(r===null)_=!0;else switch(h){case"string":case"number":_=!0;break;case"object":switch(r.$$typeof){case Jh:case c2:_=!0}}if(_)return _=r,d=d(_),r=c===""?"."+Jw(_,0):c,n1(d)?(s="",r!=null&&(s=r.replace(i1,"$&/")+"/"),_m(d,o,s,"",function(C){return C})):d!=null&&(cx(d)&&(d=b2(d,s+(!d.key||_&&_.key===d.key?"":(""+d.key).replace(i1,"$&/")+"/")+r)),o.push(d)),1;if(_=0,c=c===""?".":c+":",n1(r))for(var x=0;x<r.length;x++){h=r[x];var S=c+Jw(h,x);_+=_m(h,o,s,S,d)}else if(S=_2(r),typeof S=="function")for(r=S.call(r),x=0;!(h=r.next()).done;)h=h.value,S=c+Jw(h,x++),_+=_m(h,o,s,S,d);else if(h==="object")throw o=String(r),Error("Objects are not valid as a React child (found: "+(o==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":o)+"). If you meant to render a collection of children, use an array instead.");return _}function em(r,o,s){if(r==null)return r;var c=[],d=0;return _m(r,c,"","",function(h){return o.call(s,h,d++)}),c}function S2(r){if(r._status===-1){var o=r._result;o=o(),o.then(function(s){(r._status===0||r._status===-1)&&(r._status=1,r._result=s)},function(s){(r._status===0||r._status===-1)&&(r._status=2,r._result=s)}),r._status===-1&&(r._status=0,r._result=o)}if(r._status===1)return r._result.default;throw r._result}var oo={current:null},bm={transition:null},C2={ReactCurrentDispatcher:oo,ReactCurrentBatchConfig:bm,ReactCurrentOwner:ux};function DE(){throw Error("act(...) is not supported in production builds of React.")}Hr.Children={map:em,forEach:function(r,o,s){em(r,function(){o.apply(this,arguments)},s)},count:function(r){var o=0;return em(r,function(){o++}),o},toArray:function(r){return em(r,function(o){return o})||[]},only:function(r){if(!cx(r))throw Error("React.Children.only expected to receive a single React element child.");return r}};Hr.Component=Id;Hr.Fragment=f2;Hr.Profiler=p2;Hr.PureComponent=sx;Hr.StrictMode=d2;Hr.Suspense=m2;Hr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=C2;Hr.act=DE;Hr.cloneElement=function(r,o,s){if(r==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+r+".");var c=TE({},r.props),d=r.key,h=r.ref,_=r._owner;if(o!=null){if(o.ref!==void 0&&(h=o.ref,_=ux.current),o.key!==void 0&&(d=""+o.key),r.type&&r.type.defaultProps)var x=r.type.defaultProps;for(S in o)AE.call(o,S)&&!LE.hasOwnProperty(S)&&(c[S]=o[S]===void 0&&x!==void 0?x[S]:o[S])}var S=arguments.length-2;if(S===1)c.children=s;else if(1<S){x=Array(S);for(var C=0;C<S;C++)x[C]=arguments[C+2];c.children=x}return{$$typeof:Jh,type:r.type,key:d,ref:h,props:c,_owner:_}};Hr.createContext=function(r){return r={$$typeof:v2,_currentValue:r,_currentValue2:r,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},r.Provider={$$typeof:h2,_context:r},r.Consumer=r};Hr.createElement=ME;Hr.createFactory=function(r){var o=ME.bind(null,r);return o.type=r,o};Hr.createRef=function(){return{current:null}};Hr.forwardRef=function(r){return{$$typeof:g2,render:r}};Hr.isValidElement=cx;Hr.lazy=function(r){return{$$typeof:w2,_payload:{_status:-1,_result:r},_init:S2}};Hr.memo=function(r,o){return{$$typeof:y2,type:r,compare:o===void 0?null:o}};Hr.startTransition=function(r){var o=bm.transition;bm.transition={};try{r()}finally{bm.transition=o}};Hr.unstable_act=DE;Hr.useCallback=function(r,o){return oo.current.useCallback(r,o)};Hr.useContext=function(r){return oo.current.useContext(r)};Hr.useDebugValue=function(){};Hr.useDeferredValue=function(r){return oo.current.useDeferredValue(r)};Hr.useEffect=function(r,o){return oo.current.useEffect(r,o)};Hr.useId=function(){return oo.current.useId()};Hr.useImperativeHandle=function(r,o,s){return oo.current.useImperativeHandle(r,o,s)};Hr.useInsertionEffect=function(r,o){return oo.current.useInsertionEffect(r,o)};Hr.useLayoutEffect=function(r,o){return oo.current.useLayoutEffect(r,o)};Hr.useMemo=function(r,o){return oo.current.useMemo(r,o)};Hr.useReducer=function(r,o,s){return oo.current.useReducer(r,o,s)};Hr.useRef=function(r){return oo.current.useRef(r)};Hr.useState=function(r){return oo.current.useState(r)};Hr.useSyncExternalStore=function(r,o,s){return oo.current.useSyncExternalStore(r,o,s)};Hr.useTransition=function(){return oo.current.useTransition()};Hr.version="18.3.1";OE.exports=Hr;var pt=OE.exports;const gi=jy(pt),O2=xE({__proto__:null,default:gi},[pt]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E2=pt,T2=Symbol.for("react.element"),P2=Symbol.for("react.fragment"),k2=Object.prototype.hasOwnProperty,A2=E2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,L2={key:!0,ref:!0,__self:!0,__source:!0};function RE(r,o,s){var c,d={},h=null,_=null;s!==void 0&&(h=""+s),o.key!==void 0&&(h=""+o.key),o.ref!==void 0&&(_=o.ref);for(c in o)k2.call(o,c)&&!L2.hasOwnProperty(c)&&(d[c]=o[c]);if(r&&r.defaultProps)for(c in o=r.defaultProps,o)d[c]===void 0&&(d[c]=o[c]);return{$$typeof:T2,type:r,key:h,ref:_,props:d,_owner:A2.current}}Iy.Fragment=P2;Iy.jsx=RE;Iy.jsxs=RE;CE.exports=Iy;var Rt=CE.exports,H_={},NE={exports:{}},Vo={},jE={exports:{}},IE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(r){function o(ye,Ue){var $e=ye.length;ye.push(Ue);e:for(;0<$e;){var ge=$e-1>>>1,Ve=ye[ge];if(0<d(Ve,Ue))ye[ge]=Ue,ye[$e]=Ve,$e=ge;else break e}}function s(ye){return ye.length===0?null:ye[0]}function c(ye){if(ye.length===0)return null;var Ue=ye[0],$e=ye.pop();if($e!==Ue){ye[0]=$e;e:for(var ge=0,Ve=ye.length,Ye=Ve>>>1;ge<Ye;){var We=2*(ge+1)-1,dt=ye[We],Te=We+1,ze=ye[Te];if(0>d(dt,$e))Te<Ve&&0>d(ze,dt)?(ye[ge]=ze,ye[Te]=$e,ge=Te):(ye[ge]=dt,ye[We]=$e,ge=We);else if(Te<Ve&&0>d(ze,$e))ye[ge]=ze,ye[Te]=$e,ge=Te;else break e}}return Ue}function d(ye,Ue){var $e=ye.sortIndex-Ue.sortIndex;return $e!==0?$e:ye.id-Ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var h=performance;r.unstable_now=function(){return h.now()}}else{var _=Date,x=_.now();r.unstable_now=function(){return _.now()-x}}var S=[],C=[],T=1,P=null,L=3,N=!1,U=!1,K=!1,fe=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function $(ye){for(var Ue=s(C);Ue!==null;){if(Ue.callback===null)c(C);else if(Ue.startTime<=ye)c(C),Ue.sortIndex=Ue.expirationTime,o(S,Ue);else break;Ue=s(C)}}function X(ye){if(K=!1,$(ye),!U)if(s(S)!==null)U=!0,W(_e);else{var Ue=s(C);Ue!==null&&Le(X,Ue.startTime-ye)}}function _e(ye,Ue){U=!1,K&&(K=!1,q(Ae),Ae=-1),N=!0;var $e=L;try{for($(Ue),P=s(S);P!==null&&(!(P.expirationTime>Ue)||ye&&!te());){var ge=P.callback;if(typeof ge=="function"){P.callback=null,L=P.priorityLevel;var Ve=ge(P.expirationTime<=Ue);Ue=r.unstable_now(),typeof Ve=="function"?P.callback=Ve:P===s(S)&&c(S),$(Ue)}else c(S);P=s(S)}if(P!==null)var Ye=!0;else{var We=s(C);We!==null&&Le(X,We.startTime-Ue),Ye=!1}return Ye}finally{P=null,L=$e,N=!1}}var ie=!1,we=null,Ae=-1,se=5,ve=-1;function te(){return!(r.unstable_now()-ve<se)}function re(){if(we!==null){var ye=r.unstable_now();ve=ye;var Ue=!0;try{Ue=we(!0,ye)}finally{Ue?ae():(ie=!1,we=null)}}else ie=!1}var ae;if(typeof z=="function")ae=function(){z(re)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,be=G.port2;G.port1.onmessage=re,ae=function(){be.postMessage(null)}}else ae=function(){fe(re,0)};function W(ye){we=ye,ie||(ie=!0,ae())}function Le(ye,Ue){Ae=fe(function(){ye(r.unstable_now())},Ue)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ye){ye.callback=null},r.unstable_continueExecution=function(){U||N||(U=!0,W(_e))},r.unstable_forceFrameRate=function(ye){0>ye||125<ye?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):se=0<ye?Math.floor(1e3/ye):5},r.unstable_getCurrentPriorityLevel=function(){return L},r.unstable_getFirstCallbackNode=function(){return s(S)},r.unstable_next=function(ye){switch(L){case 1:case 2:case 3:var Ue=3;break;default:Ue=L}var $e=L;L=Ue;try{return ye()}finally{L=$e}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(ye,Ue){switch(ye){case 1:case 2:case 3:case 4:case 5:break;default:ye=3}var $e=L;L=ye;try{return Ue()}finally{L=$e}},r.unstable_scheduleCallback=function(ye,Ue,$e){var ge=r.unstable_now();switch(typeof $e=="object"&&$e!==null?($e=$e.delay,$e=typeof $e=="number"&&0<$e?ge+$e:ge):$e=ge,ye){case 1:var Ve=-1;break;case 2:Ve=250;break;case 5:Ve=1073741823;break;case 4:Ve=1e4;break;default:Ve=5e3}return Ve=$e+Ve,ye={id:T++,callback:Ue,priorityLevel:ye,startTime:$e,expirationTime:Ve,sortIndex:-1},$e>ge?(ye.sortIndex=$e,o(C,ye),s(S)===null&&ye===s(C)&&(K?(q(Ae),Ae=-1):K=!0,Le(X,$e-ge))):(ye.sortIndex=Ve,o(S,ye),U||N||(U=!0,W(_e))),ye},r.unstable_shouldYield=te,r.unstable_wrapCallback=function(ye){var Ue=L;return function(){var $e=L;L=Ue;try{return ye.apply(this,arguments)}finally{L=$e}}}})(IE);jE.exports=IE;var M2=jE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D2=pt,Fo=M2;function mt(r){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+r,s=1;s<arguments.length;s++)o+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+r+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var FE=new Set,Th={};function $c(r,o){bd(r,o),bd(r+"Capture",o)}function bd(r,o){for(Th[r]=o,r=0;r<o.length;r++)FE.add(o[r])}var nl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),z_=Object.prototype.hasOwnProperty,R2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,o1={},a1={};function N2(r){return z_.call(a1,r)?!0:z_.call(o1,r)?!1:R2.test(r)?a1[r]=!0:(o1[r]=!0,!1)}function j2(r,o,s,c){if(s!==null&&s.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return c?!1:s!==null?!s.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function I2(r,o,s,c){if(o===null||typeof o>"u"||j2(r,o,s,c))return!0;if(c)return!1;if(s!==null)switch(s.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function ao(r,o,s,c,d,h,_){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=c,this.attributeNamespace=d,this.mustUseProperty=s,this.propertyName=r,this.type=o,this.sanitizeURL=h,this.removeEmptyString=_}var ji={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){ji[r]=new ao(r,0,!1,r,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var o=r[0];ji[o]=new ao(o,1,!1,r[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(r){ji[r]=new ao(r,2,!1,r.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){ji[r]=new ao(r,2,!1,r,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){ji[r]=new ao(r,3,!1,r.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(r){ji[r]=new ao(r,3,!0,r,null,!1,!1)});["capture","download"].forEach(function(r){ji[r]=new ao(r,4,!1,r,null,!1,!1)});["cols","rows","size","span"].forEach(function(r){ji[r]=new ao(r,6,!1,r,null,!1,!1)});["rowSpan","start"].forEach(function(r){ji[r]=new ao(r,5,!1,r.toLowerCase(),null,!1,!1)});var fx=/[\-:]([a-z])/g;function dx(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var o=r.replace(fx,dx);ji[o]=new ao(o,1,!1,r,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var o=r.replace(fx,dx);ji[o]=new ao(o,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(r){var o=r.replace(fx,dx);ji[o]=new ao(o,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(r){ji[r]=new ao(r,1,!1,r.toLowerCase(),null,!1,!1)});ji.xlinkHref=new ao("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(r){ji[r]=new ao(r,1,!1,r.toLowerCase(),null,!0,!0)});function px(r,o,s,c){var d=ji.hasOwnProperty(o)?ji[o]:null;(d!==null?d.type!==0:c||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(I2(o,s,d,c)&&(s=null),c||d===null?N2(o)&&(s===null?r.removeAttribute(o):r.setAttribute(o,""+s)):d.mustUseProperty?r[d.propertyName]=s===null?d.type===3?!1:"":s:(o=d.attributeName,c=d.attributeNamespace,s===null?r.removeAttribute(o):(d=d.type,s=d===3||d===4&&s===!0?"":""+s,c?r.setAttributeNS(c,o,s):r.setAttribute(o,s))))}var ul=D2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,tm=Symbol.for("react.element"),ed=Symbol.for("react.portal"),td=Symbol.for("react.fragment"),hx=Symbol.for("react.strict_mode"),W_=Symbol.for("react.profiler"),VE=Symbol.for("react.provider"),UE=Symbol.for("react.context"),vx=Symbol.for("react.forward_ref"),$_=Symbol.for("react.suspense"),K_=Symbol.for("react.suspense_list"),gx=Symbol.for("react.memo"),eu=Symbol.for("react.lazy"),BE=Symbol.for("react.offscreen"),s1=Symbol.iterator;function Kp(r){return r===null||typeof r!="object"?null:(r=s1&&r[s1]||r["@@iterator"],typeof r=="function"?r:null)}var Un=Object.assign,Qw;function oh(r){if(Qw===void 0)try{throw Error()}catch(s){var o=s.stack.trim().match(/\n( *(at )?)/);Qw=o&&o[1]||""}return`
`+Qw+r}var e_=!1;function t_(r,o){if(!r||e_)return"";e_=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(C){var c=C}Reflect.construct(r,[],o)}else{try{o.call()}catch(C){c=C}r.call(o.prototype)}else{try{throw Error()}catch(C){c=C}r()}}catch(C){if(C&&c&&typeof C.stack=="string"){for(var d=C.stack.split(`
`),h=c.stack.split(`
`),_=d.length-1,x=h.length-1;1<=_&&0<=x&&d[_]!==h[x];)x--;for(;1<=_&&0<=x;_--,x--)if(d[_]!==h[x]){if(_!==1||x!==1)do if(_--,x--,0>x||d[_]!==h[x]){var S=`
`+d[_].replace(" at new "," at ");return r.displayName&&S.includes("<anonymous>")&&(S=S.replace("<anonymous>",r.displayName)),S}while(1<=_&&0<=x);break}}}finally{e_=!1,Error.prepareStackTrace=s}return(r=r?r.displayName||r.name:"")?oh(r):""}function F2(r){switch(r.tag){case 5:return oh(r.type);case 16:return oh("Lazy");case 13:return oh("Suspense");case 19:return oh("SuspenseList");case 0:case 2:case 15:return r=t_(r.type,!1),r;case 11:return r=t_(r.type.render,!1),r;case 1:return r=t_(r.type,!0),r;default:return""}}function G_(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case td:return"Fragment";case ed:return"Portal";case W_:return"Profiler";case hx:return"StrictMode";case $_:return"Suspense";case K_:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case UE:return(r.displayName||"Context")+".Consumer";case VE:return(r._context.displayName||"Context")+".Provider";case vx:var o=r.render;return r=r.displayName,r||(r=o.displayName||o.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case gx:return o=r.displayName||null,o!==null?o:G_(r.type)||"Memo";case eu:o=r._payload,r=r._init;try{return G_(r(o))}catch{}}return null}function V2(r){var o=r.type;switch(r.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=o.render,r=r.displayName||r.name||"",o.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return G_(o);case 8:return o===hx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function mu(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function HE(r){var o=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function U2(r){var o=HE(r)?"checked":"value",s=Object.getOwnPropertyDescriptor(r.constructor.prototype,o),c=""+r[o];if(!r.hasOwnProperty(o)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var d=s.get,h=s.set;return Object.defineProperty(r,o,{configurable:!0,get:function(){return d.call(this)},set:function(_){c=""+_,h.call(this,_)}}),Object.defineProperty(r,o,{enumerable:s.enumerable}),{getValue:function(){return c},setValue:function(_){c=""+_},stopTracking:function(){r._valueTracker=null,delete r[o]}}}}function rm(r){r._valueTracker||(r._valueTracker=U2(r))}function zE(r){if(!r)return!1;var o=r._valueTracker;if(!o)return!0;var s=o.getValue(),c="";return r&&(c=HE(r)?r.checked?"true":"false":r.value),r=c,r!==s?(o.setValue(r),!0):!1}function Bm(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Z_(r,o){var s=o.checked;return Un({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??r._wrapperState.initialChecked})}function l1(r,o){var s=o.defaultValue==null?"":o.defaultValue,c=o.checked!=null?o.checked:o.defaultChecked;s=mu(o.value!=null?o.value:s),r._wrapperState={initialChecked:c,initialValue:s,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function WE(r,o){o=o.checked,o!=null&&px(r,"checked",o,!1)}function q_(r,o){WE(r,o);var s=mu(o.value),c=o.type;if(s!=null)c==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+s):r.value!==""+s&&(r.value=""+s);else if(c==="submit"||c==="reset"){r.removeAttribute("value");return}o.hasOwnProperty("value")?Y_(r,o.type,s):o.hasOwnProperty("defaultValue")&&Y_(r,o.type,mu(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(r.defaultChecked=!!o.defaultChecked)}function u1(r,o,s){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var c=o.type;if(!(c!=="submit"&&c!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+r._wrapperState.initialValue,s||o===r.value||(r.value=o),r.defaultValue=o}s=r.name,s!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,s!==""&&(r.name=s)}function Y_(r,o,s){(o!=="number"||Bm(r.ownerDocument)!==r)&&(s==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+s&&(r.defaultValue=""+s))}var ah=Array.isArray;function hd(r,o,s,c){if(r=r.options,o){o={};for(var d=0;d<s.length;d++)o["$"+s[d]]=!0;for(s=0;s<r.length;s++)d=o.hasOwnProperty("$"+r[s].value),r[s].selected!==d&&(r[s].selected=d),d&&c&&(r[s].defaultSelected=!0)}else{for(s=""+mu(s),o=null,d=0;d<r.length;d++){if(r[d].value===s){r[d].selected=!0,c&&(r[d].defaultSelected=!0);return}o!==null||r[d].disabled||(o=r[d])}o!==null&&(o.selected=!0)}}function X_(r,o){if(o.dangerouslySetInnerHTML!=null)throw Error(mt(91));return Un({},o,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function c1(r,o){var s=o.value;if(s==null){if(s=o.children,o=o.defaultValue,s!=null){if(o!=null)throw Error(mt(92));if(ah(s)){if(1<s.length)throw Error(mt(93));s=s[0]}o=s}o==null&&(o=""),s=o}r._wrapperState={initialValue:mu(s)}}function $E(r,o){var s=mu(o.value),c=mu(o.defaultValue);s!=null&&(s=""+s,s!==r.value&&(r.value=s),o.defaultValue==null&&r.defaultValue!==s&&(r.defaultValue=s)),c!=null&&(r.defaultValue=""+c)}function f1(r){var o=r.textContent;o===r._wrapperState.initialValue&&o!==""&&o!==null&&(r.value=o)}function KE(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function J_(r,o){return r==null||r==="http://www.w3.org/1999/xhtml"?KE(o):r==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var nm,GE=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,s,c,d){MSApp.execUnsafeLocalFunction(function(){return r(o,s,c,d)})}:r}(function(r,o){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=o;else{for(nm=nm||document.createElement("div"),nm.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=nm.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;o.firstChild;)r.appendChild(o.firstChild)}});function Ph(r,o){if(o){var s=r.firstChild;if(s&&s===r.lastChild&&s.nodeType===3){s.nodeValue=o;return}}r.textContent=o}var hh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},B2=["Webkit","ms","Moz","O"];Object.keys(hh).forEach(function(r){B2.forEach(function(o){o=o+r.charAt(0).toUpperCase()+r.substring(1),hh[o]=hh[r]})});function ZE(r,o,s){return o==null||typeof o=="boolean"||o===""?"":s||typeof o!="number"||o===0||hh.hasOwnProperty(r)&&hh[r]?(""+o).trim():o+"px"}function qE(r,o){r=r.style;for(var s in o)if(o.hasOwnProperty(s)){var c=s.indexOf("--")===0,d=ZE(s,o[s],c);s==="float"&&(s="cssFloat"),c?r.setProperty(s,d):r[s]=d}}var H2=Un({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Q_(r,o){if(o){if(H2[r]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(mt(137,r));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(mt(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(mt(61))}if(o.style!=null&&typeof o.style!="object")throw Error(mt(62))}}function eb(r,o){if(r.indexOf("-")===-1)return typeof o.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tb=null;function mx(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var rb=null,vd=null,gd=null;function d1(r){if(r=tv(r)){if(typeof rb!="function")throw Error(mt(280));var o=r.stateNode;o&&(o=Hy(o),rb(r.stateNode,r.type,o))}}function YE(r){vd?gd?gd.push(r):gd=[r]:vd=r}function XE(){if(vd){var r=vd,o=gd;if(gd=vd=null,d1(r),o)for(r=0;r<o.length;r++)d1(o[r])}}function JE(r,o){return r(o)}function QE(){}var r_=!1;function eT(r,o,s){if(r_)return r(o,s);r_=!0;try{return JE(r,o,s)}finally{r_=!1,(vd!==null||gd!==null)&&(QE(),XE())}}function kh(r,o){var s=r.stateNode;if(s===null)return null;var c=Hy(s);if(c===null)return null;s=c[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(s&&typeof s!="function")throw Error(mt(231,o,typeof s));return s}var nb=!1;if(nl)try{var Gp={};Object.defineProperty(Gp,"passive",{get:function(){nb=!0}}),window.addEventListener("test",Gp,Gp),window.removeEventListener("test",Gp,Gp)}catch{nb=!1}function z2(r,o,s,c,d,h,_,x,S){var C=Array.prototype.slice.call(arguments,3);try{o.apply(s,C)}catch(T){this.onError(T)}}var vh=!1,Hm=null,zm=!1,ib=null,W2={onError:function(r){vh=!0,Hm=r}};function $2(r,o,s,c,d,h,_,x,S){vh=!1,Hm=null,z2.apply(W2,arguments)}function K2(r,o,s,c,d,h,_,x,S){if($2.apply(this,arguments),vh){if(vh){var C=Hm;vh=!1,Hm=null}else throw Error(mt(198));zm||(zm=!0,ib=C)}}function Kc(r){var o=r,s=r;if(r.alternate)for(;o.return;)o=o.return;else{r=o;do o=r,o.flags&4098&&(s=o.return),r=o.return;while(r)}return o.tag===3?s:null}function tT(r){if(r.tag===13){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function p1(r){if(Kc(r)!==r)throw Error(mt(188))}function G2(r){var o=r.alternate;if(!o){if(o=Kc(r),o===null)throw Error(mt(188));return o!==r?null:r}for(var s=r,c=o;;){var d=s.return;if(d===null)break;var h=d.alternate;if(h===null){if(c=d.return,c!==null){s=c;continue}break}if(d.child===h.child){for(h=d.child;h;){if(h===s)return p1(d),r;if(h===c)return p1(d),o;h=h.sibling}throw Error(mt(188))}if(s.return!==c.return)s=d,c=h;else{for(var _=!1,x=d.child;x;){if(x===s){_=!0,s=d,c=h;break}if(x===c){_=!0,c=d,s=h;break}x=x.sibling}if(!_){for(x=h.child;x;){if(x===s){_=!0,s=h,c=d;break}if(x===c){_=!0,c=h,s=d;break}x=x.sibling}if(!_)throw Error(mt(189))}}if(s.alternate!==c)throw Error(mt(190))}if(s.tag!==3)throw Error(mt(188));return s.stateNode.current===s?r:o}function rT(r){return r=G2(r),r!==null?nT(r):null}function nT(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var o=nT(r);if(o!==null)return o;r=r.sibling}return null}var iT=Fo.unstable_scheduleCallback,h1=Fo.unstable_cancelCallback,Z2=Fo.unstable_shouldYield,q2=Fo.unstable_requestPaint,Qn=Fo.unstable_now,Y2=Fo.unstable_getCurrentPriorityLevel,yx=Fo.unstable_ImmediatePriority,oT=Fo.unstable_UserBlockingPriority,Wm=Fo.unstable_NormalPriority,X2=Fo.unstable_LowPriority,aT=Fo.unstable_IdlePriority,Fy=null,gs=null;function J2(r){if(gs&&typeof gs.onCommitFiberRoot=="function")try{gs.onCommitFiberRoot(Fy,r,void 0,(r.current.flags&128)===128)}catch{}}var Sa=Math.clz32?Math.clz32:tj,Q2=Math.log,ej=Math.LN2;function tj(r){return r>>>=0,r===0?32:31-(Q2(r)/ej|0)|0}var im=64,om=4194304;function sh(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function $m(r,o){var s=r.pendingLanes;if(s===0)return 0;var c=0,d=r.suspendedLanes,h=r.pingedLanes,_=s&268435455;if(_!==0){var x=_&~d;x!==0?c=sh(x):(h&=_,h!==0&&(c=sh(h)))}else _=s&~d,_!==0?c=sh(_):h!==0&&(c=sh(h));if(c===0)return 0;if(o!==0&&o!==c&&!(o&d)&&(d=c&-c,h=o&-o,d>=h||d===16&&(h&4194240)!==0))return o;if(c&4&&(c|=s&16),o=r.entangledLanes,o!==0)for(r=r.entanglements,o&=c;0<o;)s=31-Sa(o),d=1<<s,c|=r[s],o&=~d;return c}function rj(r,o){switch(r){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nj(r,o){for(var s=r.suspendedLanes,c=r.pingedLanes,d=r.expirationTimes,h=r.pendingLanes;0<h;){var _=31-Sa(h),x=1<<_,S=d[_];S===-1?(!(x&s)||x&c)&&(d[_]=rj(x,o)):S<=o&&(r.expiredLanes|=x),h&=~x}}function ob(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function sT(){var r=im;return im<<=1,!(im&4194240)&&(im=64),r}function n_(r){for(var o=[],s=0;31>s;s++)o.push(r);return o}function Qh(r,o,s){r.pendingLanes|=o,o!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,o=31-Sa(o),r[o]=s}function ij(r,o){var s=r.pendingLanes&~o;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=o,r.mutableReadLanes&=o,r.entangledLanes&=o,o=r.entanglements;var c=r.eventTimes;for(r=r.expirationTimes;0<s;){var d=31-Sa(s),h=1<<d;o[d]=0,c[d]=-1,r[d]=-1,s&=~h}}function wx(r,o){var s=r.entangledLanes|=o;for(r=r.entanglements;s;){var c=31-Sa(s),d=1<<c;d&o|r[c]&o&&(r[c]|=o),s&=~d}}var ln=0;function lT(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var uT,_x,cT,fT,dT,ab=!1,am=[],lu=null,uu=null,cu=null,Ah=new Map,Lh=new Map,ru=[],oj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function v1(r,o){switch(r){case"focusin":case"focusout":lu=null;break;case"dragenter":case"dragleave":uu=null;break;case"mouseover":case"mouseout":cu=null;break;case"pointerover":case"pointerout":Ah.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lh.delete(o.pointerId)}}function Zp(r,o,s,c,d,h){return r===null||r.nativeEvent!==h?(r={blockedOn:o,domEventName:s,eventSystemFlags:c,nativeEvent:h,targetContainers:[d]},o!==null&&(o=tv(o),o!==null&&_x(o)),r):(r.eventSystemFlags|=c,o=r.targetContainers,d!==null&&o.indexOf(d)===-1&&o.push(d),r)}function aj(r,o,s,c,d){switch(o){case"focusin":return lu=Zp(lu,r,o,s,c,d),!0;case"dragenter":return uu=Zp(uu,r,o,s,c,d),!0;case"mouseover":return cu=Zp(cu,r,o,s,c,d),!0;case"pointerover":var h=d.pointerId;return Ah.set(h,Zp(Ah.get(h)||null,r,o,s,c,d)),!0;case"gotpointercapture":return h=d.pointerId,Lh.set(h,Zp(Lh.get(h)||null,r,o,s,c,d)),!0}return!1}function pT(r){var o=Oc(r.target);if(o!==null){var s=Kc(o);if(s!==null){if(o=s.tag,o===13){if(o=tT(s),o!==null){r.blockedOn=o,dT(r.priority,function(){cT(s)});return}}else if(o===3&&s.stateNode.current.memoizedState.isDehydrated){r.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}r.blockedOn=null}function xm(r){if(r.blockedOn!==null)return!1;for(var o=r.targetContainers;0<o.length;){var s=sb(r.domEventName,r.eventSystemFlags,o[0],r.nativeEvent);if(s===null){s=r.nativeEvent;var c=new s.constructor(s.type,s);tb=c,s.target.dispatchEvent(c),tb=null}else return o=tv(s),o!==null&&_x(o),r.blockedOn=s,!1;o.shift()}return!0}function g1(r,o,s){xm(r)&&s.delete(o)}function sj(){ab=!1,lu!==null&&xm(lu)&&(lu=null),uu!==null&&xm(uu)&&(uu=null),cu!==null&&xm(cu)&&(cu=null),Ah.forEach(g1),Lh.forEach(g1)}function qp(r,o){r.blockedOn===o&&(r.blockedOn=null,ab||(ab=!0,Fo.unstable_scheduleCallback(Fo.unstable_NormalPriority,sj)))}function Mh(r){function o(d){return qp(d,r)}if(0<am.length){qp(am[0],r);for(var s=1;s<am.length;s++){var c=am[s];c.blockedOn===r&&(c.blockedOn=null)}}for(lu!==null&&qp(lu,r),uu!==null&&qp(uu,r),cu!==null&&qp(cu,r),Ah.forEach(o),Lh.forEach(o),s=0;s<ru.length;s++)c=ru[s],c.blockedOn===r&&(c.blockedOn=null);for(;0<ru.length&&(s=ru[0],s.blockedOn===null);)pT(s),s.blockedOn===null&&ru.shift()}var md=ul.ReactCurrentBatchConfig,Km=!0;function lj(r,o,s,c){var d=ln,h=md.transition;md.transition=null;try{ln=1,bx(r,o,s,c)}finally{ln=d,md.transition=h}}function uj(r,o,s,c){var d=ln,h=md.transition;md.transition=null;try{ln=4,bx(r,o,s,c)}finally{ln=d,md.transition=h}}function bx(r,o,s,c){if(Km){var d=sb(r,o,s,c);if(d===null)p_(r,o,c,Gm,s),v1(r,c);else if(aj(d,r,o,s,c))c.stopPropagation();else if(v1(r,c),o&4&&-1<oj.indexOf(r)){for(;d!==null;){var h=tv(d);if(h!==null&&uT(h),h=sb(r,o,s,c),h===null&&p_(r,o,c,Gm,s),h===d)break;d=h}d!==null&&c.stopPropagation()}else p_(r,o,c,null,s)}}var Gm=null;function sb(r,o,s,c){if(Gm=null,r=mx(c),r=Oc(r),r!==null)if(o=Kc(r),o===null)r=null;else if(s=o.tag,s===13){if(r=tT(o),r!==null)return r;r=null}else if(s===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;r=null}else o!==r&&(r=null);return Gm=r,null}function hT(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Y2()){case yx:return 1;case oT:return 4;case Wm:case X2:return 16;case aT:return 536870912;default:return 16}default:return 16}}var ou=null,xx=null,Sm=null;function vT(){if(Sm)return Sm;var r,o=xx,s=o.length,c,d="value"in ou?ou.value:ou.textContent,h=d.length;for(r=0;r<s&&o[r]===d[r];r++);var _=s-r;for(c=1;c<=_&&o[s-c]===d[h-c];c++);return Sm=d.slice(r,1<c?1-c:void 0)}function Cm(r){var o=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&o===13&&(r=13)):r=o,r===10&&(r=13),32<=r||r===13?r:0}function sm(){return!0}function m1(){return!1}function Uo(r){function o(s,c,d,h,_){this._reactName=s,this._targetInst=d,this.type=c,this.nativeEvent=h,this.target=_,this.currentTarget=null;for(var x in r)r.hasOwnProperty(x)&&(s=r[x],this[x]=s?s(h):h[x]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?sm:m1,this.isPropagationStopped=m1,this}return Un(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=sm)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=sm)},persist:function(){},isPersistent:sm}),o}var Fd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sx=Uo(Fd),ev=Un({},Fd,{view:0,detail:0}),cj=Uo(ev),i_,o_,Yp,Vy=Un({},ev,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cx,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Yp&&(Yp&&r.type==="mousemove"?(i_=r.screenX-Yp.screenX,o_=r.screenY-Yp.screenY):o_=i_=0,Yp=r),i_)},movementY:function(r){return"movementY"in r?r.movementY:o_}}),y1=Uo(Vy),fj=Un({},Vy,{dataTransfer:0}),dj=Uo(fj),pj=Un({},ev,{relatedTarget:0}),a_=Uo(pj),hj=Un({},Fd,{animationName:0,elapsedTime:0,pseudoElement:0}),vj=Uo(hj),gj=Un({},Fd,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),mj=Uo(gj),yj=Un({},Fd,{data:0}),w1=Uo(yj),wj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_j={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xj(r){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(r):(r=bj[r])?!!o[r]:!1}function Cx(){return xj}var Sj=Un({},ev,{key:function(r){if(r.key){var o=wj[r.key]||r.key;if(o!=="Unidentified")return o}return r.type==="keypress"?(r=Cm(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?_j[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cx,charCode:function(r){return r.type==="keypress"?Cm(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Cm(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Cj=Uo(Sj),Oj=Un({},Vy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_1=Uo(Oj),Ej=Un({},ev,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cx}),Tj=Uo(Ej),Pj=Un({},Fd,{propertyName:0,elapsedTime:0,pseudoElement:0}),kj=Uo(Pj),Aj=Un({},Vy,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Lj=Uo(Aj),Mj=[9,13,27,32],Ox=nl&&"CompositionEvent"in window,gh=null;nl&&"documentMode"in document&&(gh=document.documentMode);var Dj=nl&&"TextEvent"in window&&!gh,gT=nl&&(!Ox||gh&&8<gh&&11>=gh),b1=" ",x1=!1;function mT(r,o){switch(r){case"keyup":return Mj.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yT(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var rd=!1;function Rj(r,o){switch(r){case"compositionend":return yT(o);case"keypress":return o.which!==32?null:(x1=!0,b1);case"textInput":return r=o.data,r===b1&&x1?null:r;default:return null}}function Nj(r,o){if(rd)return r==="compositionend"||!Ox&&mT(r,o)?(r=vT(),Sm=xx=ou=null,rd=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return gT&&o.locale!=="ko"?null:o.data;default:return null}}var jj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function S1(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o==="input"?!!jj[r.type]:o==="textarea"}function wT(r,o,s,c){YE(c),o=Zm(o,"onChange"),0<o.length&&(s=new Sx("onChange","change",null,s,c),r.push({event:s,listeners:o}))}var mh=null,Dh=null;function Ij(r){AT(r,0)}function Uy(r){var o=od(r);if(zE(o))return r}function Fj(r,o){if(r==="change")return o}var _T=!1;if(nl){var s_;if(nl){var l_="oninput"in document;if(!l_){var C1=document.createElement("div");C1.setAttribute("oninput","return;"),l_=typeof C1.oninput=="function"}s_=l_}else s_=!1;_T=s_&&(!document.documentMode||9<document.documentMode)}function O1(){mh&&(mh.detachEvent("onpropertychange",bT),Dh=mh=null)}function bT(r){if(r.propertyName==="value"&&Uy(Dh)){var o=[];wT(o,Dh,r,mx(r)),eT(Ij,o)}}function Vj(r,o,s){r==="focusin"?(O1(),mh=o,Dh=s,mh.attachEvent("onpropertychange",bT)):r==="focusout"&&O1()}function Uj(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Uy(Dh)}function Bj(r,o){if(r==="click")return Uy(o)}function Hj(r,o){if(r==="input"||r==="change")return Uy(o)}function zj(r,o){return r===o&&(r!==0||1/r===1/o)||r!==r&&o!==o}var Ta=typeof Object.is=="function"?Object.is:zj;function Rh(r,o){if(Ta(r,o))return!0;if(typeof r!="object"||r===null||typeof o!="object"||o===null)return!1;var s=Object.keys(r),c=Object.keys(o);if(s.length!==c.length)return!1;for(c=0;c<s.length;c++){var d=s[c];if(!z_.call(o,d)||!Ta(r[d],o[d]))return!1}return!0}function E1(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function T1(r,o){var s=E1(r);r=0;for(var c;s;){if(s.nodeType===3){if(c=r+s.textContent.length,r<=o&&c>=o)return{node:s,offset:o-r};r=c}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=E1(s)}}function xT(r,o){return r&&o?r===o?!0:r&&r.nodeType===3?!1:o&&o.nodeType===3?xT(r,o.parentNode):"contains"in r?r.contains(o):r.compareDocumentPosition?!!(r.compareDocumentPosition(o)&16):!1:!1}function ST(){for(var r=window,o=Bm();o instanceof r.HTMLIFrameElement;){try{var s=typeof o.contentWindow.location.href=="string"}catch{s=!1}if(s)r=o.contentWindow;else break;o=Bm(r.document)}return o}function Ex(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o&&(o==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||o==="textarea"||r.contentEditable==="true")}function Wj(r){var o=ST(),s=r.focusedElem,c=r.selectionRange;if(o!==s&&s&&s.ownerDocument&&xT(s.ownerDocument.documentElement,s)){if(c!==null&&Ex(s)){if(o=c.start,r=c.end,r===void 0&&(r=o),"selectionStart"in s)s.selectionStart=o,s.selectionEnd=Math.min(r,s.value.length);else if(r=(o=s.ownerDocument||document)&&o.defaultView||window,r.getSelection){r=r.getSelection();var d=s.textContent.length,h=Math.min(c.start,d);c=c.end===void 0?h:Math.min(c.end,d),!r.extend&&h>c&&(d=c,c=h,h=d),d=T1(s,h);var _=T1(s,c);d&&_&&(r.rangeCount!==1||r.anchorNode!==d.node||r.anchorOffset!==d.offset||r.focusNode!==_.node||r.focusOffset!==_.offset)&&(o=o.createRange(),o.setStart(d.node,d.offset),r.removeAllRanges(),h>c?(r.addRange(o),r.extend(_.node,_.offset)):(o.setEnd(_.node,_.offset),r.addRange(o)))}}for(o=[],r=s;r=r.parentNode;)r.nodeType===1&&o.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<o.length;s++)r=o[s],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var $j=nl&&"documentMode"in document&&11>=document.documentMode,nd=null,lb=null,yh=null,ub=!1;function P1(r,o,s){var c=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;ub||nd==null||nd!==Bm(c)||(c=nd,"selectionStart"in c&&Ex(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),yh&&Rh(yh,c)||(yh=c,c=Zm(lb,"onSelect"),0<c.length&&(o=new Sx("onSelect","select",null,o,s),r.push({event:o,listeners:c}),o.target=nd)))}function lm(r,o){var s={};return s[r.toLowerCase()]=o.toLowerCase(),s["Webkit"+r]="webkit"+o,s["Moz"+r]="moz"+o,s}var id={animationend:lm("Animation","AnimationEnd"),animationiteration:lm("Animation","AnimationIteration"),animationstart:lm("Animation","AnimationStart"),transitionend:lm("Transition","TransitionEnd")},u_={},CT={};nl&&(CT=document.createElement("div").style,"AnimationEvent"in window||(delete id.animationend.animation,delete id.animationiteration.animation,delete id.animationstart.animation),"TransitionEvent"in window||delete id.transitionend.transition);function By(r){if(u_[r])return u_[r];if(!id[r])return r;var o=id[r],s;for(s in o)if(o.hasOwnProperty(s)&&s in CT)return u_[r]=o[s];return r}var OT=By("animationend"),ET=By("animationiteration"),TT=By("animationstart"),PT=By("transitionend"),kT=new Map,k1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _u(r,o){kT.set(r,o),$c(o,[r])}for(var c_=0;c_<k1.length;c_++){var f_=k1[c_],Kj=f_.toLowerCase(),Gj=f_[0].toUpperCase()+f_.slice(1);_u(Kj,"on"+Gj)}_u(OT,"onAnimationEnd");_u(ET,"onAnimationIteration");_u(TT,"onAnimationStart");_u("dblclick","onDoubleClick");_u("focusin","onFocus");_u("focusout","onBlur");_u(PT,"onTransitionEnd");bd("onMouseEnter",["mouseout","mouseover"]);bd("onMouseLeave",["mouseout","mouseover"]);bd("onPointerEnter",["pointerout","pointerover"]);bd("onPointerLeave",["pointerout","pointerover"]);$c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$c("onBeforeInput",["compositionend","keypress","textInput","paste"]);$c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zj=new Set("cancel close invalid load scroll toggle".split(" ").concat(lh));function A1(r,o,s){var c=r.type||"unknown-event";r.currentTarget=s,K2(c,o,void 0,r),r.currentTarget=null}function AT(r,o){o=(o&4)!==0;for(var s=0;s<r.length;s++){var c=r[s],d=c.event;c=c.listeners;e:{var h=void 0;if(o)for(var _=c.length-1;0<=_;_--){var x=c[_],S=x.instance,C=x.currentTarget;if(x=x.listener,S!==h&&d.isPropagationStopped())break e;A1(d,x,C),h=S}else for(_=0;_<c.length;_++){if(x=c[_],S=x.instance,C=x.currentTarget,x=x.listener,S!==h&&d.isPropagationStopped())break e;A1(d,x,C),h=S}}}if(zm)throw r=ib,zm=!1,ib=null,r}function Sn(r,o){var s=o[hb];s===void 0&&(s=o[hb]=new Set);var c=r+"__bubble";s.has(c)||(LT(o,r,2,!1),s.add(c))}function d_(r,o,s){var c=0;o&&(c|=4),LT(s,r,c,o)}var um="_reactListening"+Math.random().toString(36).slice(2);function Nh(r){if(!r[um]){r[um]=!0,FE.forEach(function(s){s!=="selectionchange"&&(Zj.has(s)||d_(s,!1,r),d_(s,!0,r))});var o=r.nodeType===9?r:r.ownerDocument;o===null||o[um]||(o[um]=!0,d_("selectionchange",!1,o))}}function LT(r,o,s,c){switch(hT(o)){case 1:var d=lj;break;case 4:d=uj;break;default:d=bx}s=d.bind(null,o,s,r),d=void 0,!nb||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(d=!0),c?d!==void 0?r.addEventListener(o,s,{capture:!0,passive:d}):r.addEventListener(o,s,!0):d!==void 0?r.addEventListener(o,s,{passive:d}):r.addEventListener(o,s,!1)}function p_(r,o,s,c,d){var h=c;if(!(o&1)&&!(o&2)&&c!==null)e:for(;;){if(c===null)return;var _=c.tag;if(_===3||_===4){var x=c.stateNode.containerInfo;if(x===d||x.nodeType===8&&x.parentNode===d)break;if(_===4)for(_=c.return;_!==null;){var S=_.tag;if((S===3||S===4)&&(S=_.stateNode.containerInfo,S===d||S.nodeType===8&&S.parentNode===d))return;_=_.return}for(;x!==null;){if(_=Oc(x),_===null)return;if(S=_.tag,S===5||S===6){c=h=_;continue e}x=x.parentNode}}c=c.return}eT(function(){var C=h,T=mx(s),P=[];e:{var L=kT.get(r);if(L!==void 0){var N=Sx,U=r;switch(r){case"keypress":if(Cm(s)===0)break e;case"keydown":case"keyup":N=Cj;break;case"focusin":U="focus",N=a_;break;case"focusout":U="blur",N=a_;break;case"beforeblur":case"afterblur":N=a_;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":N=y1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":N=dj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":N=Tj;break;case OT:case ET:case TT:N=vj;break;case PT:N=kj;break;case"scroll":N=cj;break;case"wheel":N=Lj;break;case"copy":case"cut":case"paste":N=mj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":N=_1}var K=(o&4)!==0,fe=!K&&r==="scroll",q=K?L!==null?L+"Capture":null:L;K=[];for(var z=C,$;z!==null;){$=z;var X=$.stateNode;if($.tag===5&&X!==null&&($=X,q!==null&&(X=kh(z,q),X!=null&&K.push(jh(z,X,$)))),fe)break;z=z.return}0<K.length&&(L=new N(L,U,null,s,T),P.push({event:L,listeners:K}))}}if(!(o&7)){e:{if(L=r==="mouseover"||r==="pointerover",N=r==="mouseout"||r==="pointerout",L&&s!==tb&&(U=s.relatedTarget||s.fromElement)&&(Oc(U)||U[il]))break e;if((N||L)&&(L=T.window===T?T:(L=T.ownerDocument)?L.defaultView||L.parentWindow:window,N?(U=s.relatedTarget||s.toElement,N=C,U=U?Oc(U):null,U!==null&&(fe=Kc(U),U!==fe||U.tag!==5&&U.tag!==6)&&(U=null)):(N=null,U=C),N!==U)){if(K=y1,X="onMouseLeave",q="onMouseEnter",z="mouse",(r==="pointerout"||r==="pointerover")&&(K=_1,X="onPointerLeave",q="onPointerEnter",z="pointer"),fe=N==null?L:od(N),$=U==null?L:od(U),L=new K(X,z+"leave",N,s,T),L.target=fe,L.relatedTarget=$,X=null,Oc(T)===C&&(K=new K(q,z+"enter",U,s,T),K.target=$,K.relatedTarget=fe,X=K),fe=X,N&&U)t:{for(K=N,q=U,z=0,$=K;$;$=qf($))z++;for($=0,X=q;X;X=qf(X))$++;for(;0<z-$;)K=qf(K),z--;for(;0<$-z;)q=qf(q),$--;for(;z--;){if(K===q||q!==null&&K===q.alternate)break t;K=qf(K),q=qf(q)}K=null}else K=null;N!==null&&L1(P,L,N,K,!1),U!==null&&fe!==null&&L1(P,fe,U,K,!0)}}e:{if(L=C?od(C):window,N=L.nodeName&&L.nodeName.toLowerCase(),N==="select"||N==="input"&&L.type==="file")var _e=Fj;else if(S1(L))if(_T)_e=Hj;else{_e=Uj;var ie=Vj}else(N=L.nodeName)&&N.toLowerCase()==="input"&&(L.type==="checkbox"||L.type==="radio")&&(_e=Bj);if(_e&&(_e=_e(r,C))){wT(P,_e,s,T);break e}ie&&ie(r,L,C),r==="focusout"&&(ie=L._wrapperState)&&ie.controlled&&L.type==="number"&&Y_(L,"number",L.value)}switch(ie=C?od(C):window,r){case"focusin":(S1(ie)||ie.contentEditable==="true")&&(nd=ie,lb=C,yh=null);break;case"focusout":yh=lb=nd=null;break;case"mousedown":ub=!0;break;case"contextmenu":case"mouseup":case"dragend":ub=!1,P1(P,s,T);break;case"selectionchange":if($j)break;case"keydown":case"keyup":P1(P,s,T)}var we;if(Ox)e:{switch(r){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else rd?mT(r,s)&&(Ae="onCompositionEnd"):r==="keydown"&&s.keyCode===229&&(Ae="onCompositionStart");Ae&&(gT&&s.locale!=="ko"&&(rd||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&rd&&(we=vT()):(ou=T,xx="value"in ou?ou.value:ou.textContent,rd=!0)),ie=Zm(C,Ae),0<ie.length&&(Ae=new w1(Ae,r,null,s,T),P.push({event:Ae,listeners:ie}),we?Ae.data=we:(we=yT(s),we!==null&&(Ae.data=we)))),(we=Dj?Rj(r,s):Nj(r,s))&&(C=Zm(C,"onBeforeInput"),0<C.length&&(T=new w1("onBeforeInput","beforeinput",null,s,T),P.push({event:T,listeners:C}),T.data=we))}AT(P,o)})}function jh(r,o,s){return{instance:r,listener:o,currentTarget:s}}function Zm(r,o){for(var s=o+"Capture",c=[];r!==null;){var d=r,h=d.stateNode;d.tag===5&&h!==null&&(d=h,h=kh(r,s),h!=null&&c.unshift(jh(r,h,d)),h=kh(r,o),h!=null&&c.push(jh(r,h,d))),r=r.return}return c}function qf(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function L1(r,o,s,c,d){for(var h=o._reactName,_=[];s!==null&&s!==c;){var x=s,S=x.alternate,C=x.stateNode;if(S!==null&&S===c)break;x.tag===5&&C!==null&&(x=C,d?(S=kh(s,h),S!=null&&_.unshift(jh(s,S,x))):d||(S=kh(s,h),S!=null&&_.push(jh(s,S,x)))),s=s.return}_.length!==0&&r.push({event:o,listeners:_})}var qj=/\r\n?/g,Yj=/\u0000|\uFFFD/g;function M1(r){return(typeof r=="string"?r:""+r).replace(qj,`
`).replace(Yj,"")}function cm(r,o,s){if(o=M1(o),M1(r)!==o&&s)throw Error(mt(425))}function qm(){}var cb=null,fb=null;function db(r,o){return r==="textarea"||r==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var pb=typeof setTimeout=="function"?setTimeout:void 0,Xj=typeof clearTimeout=="function"?clearTimeout:void 0,D1=typeof Promise=="function"?Promise:void 0,Jj=typeof queueMicrotask=="function"?queueMicrotask:typeof D1<"u"?function(r){return D1.resolve(null).then(r).catch(Qj)}:pb;function Qj(r){setTimeout(function(){throw r})}function h_(r,o){var s=o,c=0;do{var d=s.nextSibling;if(r.removeChild(s),d&&d.nodeType===8)if(s=d.data,s==="/$"){if(c===0){r.removeChild(d),Mh(o);return}c--}else s!=="$"&&s!=="$?"&&s!=="$!"||c++;s=d}while(s);Mh(o)}function fu(r){for(;r!=null;r=r.nextSibling){var o=r.nodeType;if(o===1||o===3)break;if(o===8){if(o=r.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return r}function R1(r){r=r.previousSibling;for(var o=0;r;){if(r.nodeType===8){var s=r.data;if(s==="$"||s==="$!"||s==="$?"){if(o===0)return r;o--}else s==="/$"&&o++}r=r.previousSibling}return null}var Vd=Math.random().toString(36).slice(2),hs="__reactFiber$"+Vd,Ih="__reactProps$"+Vd,il="__reactContainer$"+Vd,hb="__reactEvents$"+Vd,eI="__reactListeners$"+Vd,tI="__reactHandles$"+Vd;function Oc(r){var o=r[hs];if(o)return o;for(var s=r.parentNode;s;){if(o=s[il]||s[hs]){if(s=o.alternate,o.child!==null||s!==null&&s.child!==null)for(r=R1(r);r!==null;){if(s=r[hs])return s;r=R1(r)}return o}r=s,s=r.parentNode}return null}function tv(r){return r=r[hs]||r[il],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function od(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(mt(33))}function Hy(r){return r[Ih]||null}var vb=[],ad=-1;function bu(r){return{current:r}}function En(r){0>ad||(r.current=vb[ad],vb[ad]=null,ad--)}function yn(r,o){ad++,vb[ad]=r.current,r.current=o}var yu={},Wi=bu(yu),vo=bu(!1),Ic=yu;function xd(r,o){var s=r.type.contextTypes;if(!s)return yu;var c=r.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===o)return c.__reactInternalMemoizedMaskedChildContext;var d={},h;for(h in s)d[h]=o[h];return c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=o,r.__reactInternalMemoizedMaskedChildContext=d),d}function go(r){return r=r.childContextTypes,r!=null}function Ym(){En(vo),En(Wi)}function N1(r,o,s){if(Wi.current!==yu)throw Error(mt(168));yn(Wi,o),yn(vo,s)}function MT(r,o,s){var c=r.stateNode;if(o=o.childContextTypes,typeof c.getChildContext!="function")return s;c=c.getChildContext();for(var d in c)if(!(d in o))throw Error(mt(108,V2(r)||"Unknown",d));return Un({},s,c)}function Xm(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||yu,Ic=Wi.current,yn(Wi,r),yn(vo,vo.current),!0}function j1(r,o,s){var c=r.stateNode;if(!c)throw Error(mt(169));s?(r=MT(r,o,Ic),c.__reactInternalMemoizedMergedChildContext=r,En(vo),En(Wi),yn(Wi,r)):En(vo),yn(vo,s)}var Xs=null,zy=!1,v_=!1;function DT(r){Xs===null?Xs=[r]:Xs.push(r)}function rI(r){zy=!0,DT(r)}function xu(){if(!v_&&Xs!==null){v_=!0;var r=0,o=ln;try{var s=Xs;for(ln=1;r<s.length;r++){var c=s[r];do c=c(!0);while(c!==null)}Xs=null,zy=!1}catch(d){throw Xs!==null&&(Xs=Xs.slice(r+1)),iT(yx,xu),d}finally{ln=o,v_=!1}}return null}var sd=[],ld=0,Jm=null,Qm=0,qo=[],Yo=0,Fc=null,Js=1,Qs="";function bc(r,o){sd[ld++]=Qm,sd[ld++]=Jm,Jm=r,Qm=o}function RT(r,o,s){qo[Yo++]=Js,qo[Yo++]=Qs,qo[Yo++]=Fc,Fc=r;var c=Js;r=Qs;var d=32-Sa(c)-1;c&=~(1<<d),s+=1;var h=32-Sa(o)+d;if(30<h){var _=d-d%5;h=(c&(1<<_)-1).toString(32),c>>=_,d-=_,Js=1<<32-Sa(o)+d|s<<d|c,Qs=h+r}else Js=1<<h|s<<d|c,Qs=r}function Tx(r){r.return!==null&&(bc(r,1),RT(r,1,0))}function Px(r){for(;r===Jm;)Jm=sd[--ld],sd[ld]=null,Qm=sd[--ld],sd[ld]=null;for(;r===Fc;)Fc=qo[--Yo],qo[Yo]=null,Qs=qo[--Yo],qo[Yo]=null,Js=qo[--Yo],qo[Yo]=null}var Io=null,jo=null,Ln=!1,ba=null;function NT(r,o){var s=Xo(5,null,null,0);s.elementType="DELETED",s.stateNode=o,s.return=r,o=r.deletions,o===null?(r.deletions=[s],r.flags|=16):o.push(s)}function I1(r,o){switch(r.tag){case 5:var s=r.type;return o=o.nodeType!==1||s.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(r.stateNode=o,Io=r,jo=fu(o.firstChild),!0):!1;case 6:return o=r.pendingProps===""||o.nodeType!==3?null:o,o!==null?(r.stateNode=o,Io=r,jo=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(s=Fc!==null?{id:Js,overflow:Qs}:null,r.memoizedState={dehydrated:o,treeContext:s,retryLane:1073741824},s=Xo(18,null,null,0),s.stateNode=o,s.return=r,r.child=s,Io=r,jo=null,!0):!1;default:return!1}}function gb(r){return(r.mode&1)!==0&&(r.flags&128)===0}function mb(r){if(Ln){var o=jo;if(o){var s=o;if(!I1(r,o)){if(gb(r))throw Error(mt(418));o=fu(s.nextSibling);var c=Io;o&&I1(r,o)?NT(c,s):(r.flags=r.flags&-4097|2,Ln=!1,Io=r)}}else{if(gb(r))throw Error(mt(418));r.flags=r.flags&-4097|2,Ln=!1,Io=r}}}function F1(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Io=r}function fm(r){if(r!==Io)return!1;if(!Ln)return F1(r),Ln=!0,!1;var o;if((o=r.tag!==3)&&!(o=r.tag!==5)&&(o=r.type,o=o!=="head"&&o!=="body"&&!db(r.type,r.memoizedProps)),o&&(o=jo)){if(gb(r))throw jT(),Error(mt(418));for(;o;)NT(r,o),o=fu(o.nextSibling)}if(F1(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(mt(317));e:{for(r=r.nextSibling,o=0;r;){if(r.nodeType===8){var s=r.data;if(s==="/$"){if(o===0){jo=fu(r.nextSibling);break e}o--}else s!=="$"&&s!=="$!"&&s!=="$?"||o++}r=r.nextSibling}jo=null}}else jo=Io?fu(r.stateNode.nextSibling):null;return!0}function jT(){for(var r=jo;r;)r=fu(r.nextSibling)}function Sd(){jo=Io=null,Ln=!1}function kx(r){ba===null?ba=[r]:ba.push(r)}var nI=ul.ReactCurrentBatchConfig;function Xp(r,o,s){if(r=s.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(mt(309));var c=s.stateNode}if(!c)throw Error(mt(147,r));var d=c,h=""+r;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===h?o.ref:(o=function(_){var x=d.refs;_===null?delete x[h]:x[h]=_},o._stringRef=h,o)}if(typeof r!="string")throw Error(mt(284));if(!s._owner)throw Error(mt(290,r))}return r}function dm(r,o){throw r=Object.prototype.toString.call(o),Error(mt(31,r==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":r))}function V1(r){var o=r._init;return o(r._payload)}function IT(r){function o(q,z){if(r){var $=q.deletions;$===null?(q.deletions=[z],q.flags|=16):$.push(z)}}function s(q,z){if(!r)return null;for(;z!==null;)o(q,z),z=z.sibling;return null}function c(q,z){for(q=new Map;z!==null;)z.key!==null?q.set(z.key,z):q.set(z.index,z),z=z.sibling;return q}function d(q,z){return q=vu(q,z),q.index=0,q.sibling=null,q}function h(q,z,$){return q.index=$,r?($=q.alternate,$!==null?($=$.index,$<z?(q.flags|=2,z):$):(q.flags|=2,z)):(q.flags|=1048576,z)}function _(q){return r&&q.alternate===null&&(q.flags|=2),q}function x(q,z,$,X){return z===null||z.tag!==6?(z=x_($,q.mode,X),z.return=q,z):(z=d(z,$),z.return=q,z)}function S(q,z,$,X){var _e=$.type;return _e===td?T(q,z,$.props.children,X,$.key):z!==null&&(z.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===eu&&V1(_e)===z.type)?(X=d(z,$.props),X.ref=Xp(q,z,$),X.return=q,X):(X=Lm($.type,$.key,$.props,null,q.mode,X),X.ref=Xp(q,z,$),X.return=q,X)}function C(q,z,$,X){return z===null||z.tag!==4||z.stateNode.containerInfo!==$.containerInfo||z.stateNode.implementation!==$.implementation?(z=S_($,q.mode,X),z.return=q,z):(z=d(z,$.children||[]),z.return=q,z)}function T(q,z,$,X,_e){return z===null||z.tag!==7?(z=Dc($,q.mode,X,_e),z.return=q,z):(z=d(z,$),z.return=q,z)}function P(q,z,$){if(typeof z=="string"&&z!==""||typeof z=="number")return z=x_(""+z,q.mode,$),z.return=q,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case tm:return $=Lm(z.type,z.key,z.props,null,q.mode,$),$.ref=Xp(q,null,z),$.return=q,$;case ed:return z=S_(z,q.mode,$),z.return=q,z;case eu:var X=z._init;return P(q,X(z._payload),$)}if(ah(z)||Kp(z))return z=Dc(z,q.mode,$,null),z.return=q,z;dm(q,z)}return null}function L(q,z,$,X){var _e=z!==null?z.key:null;if(typeof $=="string"&&$!==""||typeof $=="number")return _e!==null?null:x(q,z,""+$,X);if(typeof $=="object"&&$!==null){switch($.$$typeof){case tm:return $.key===_e?S(q,z,$,X):null;case ed:return $.key===_e?C(q,z,$,X):null;case eu:return _e=$._init,L(q,z,_e($._payload),X)}if(ah($)||Kp($))return _e!==null?null:T(q,z,$,X,null);dm(q,$)}return null}function N(q,z,$,X,_e){if(typeof X=="string"&&X!==""||typeof X=="number")return q=q.get($)||null,x(z,q,""+X,_e);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case tm:return q=q.get(X.key===null?$:X.key)||null,S(z,q,X,_e);case ed:return q=q.get(X.key===null?$:X.key)||null,C(z,q,X,_e);case eu:var ie=X._init;return N(q,z,$,ie(X._payload),_e)}if(ah(X)||Kp(X))return q=q.get($)||null,T(z,q,X,_e,null);dm(z,X)}return null}function U(q,z,$,X){for(var _e=null,ie=null,we=z,Ae=z=0,se=null;we!==null&&Ae<$.length;Ae++){we.index>Ae?(se=we,we=null):se=we.sibling;var ve=L(q,we,$[Ae],X);if(ve===null){we===null&&(we=se);break}r&&we&&ve.alternate===null&&o(q,we),z=h(ve,z,Ae),ie===null?_e=ve:ie.sibling=ve,ie=ve,we=se}if(Ae===$.length)return s(q,we),Ln&&bc(q,Ae),_e;if(we===null){for(;Ae<$.length;Ae++)we=P(q,$[Ae],X),we!==null&&(z=h(we,z,Ae),ie===null?_e=we:ie.sibling=we,ie=we);return Ln&&bc(q,Ae),_e}for(we=c(q,we);Ae<$.length;Ae++)se=N(we,q,Ae,$[Ae],X),se!==null&&(r&&se.alternate!==null&&we.delete(se.key===null?Ae:se.key),z=h(se,z,Ae),ie===null?_e=se:ie.sibling=se,ie=se);return r&&we.forEach(function(te){return o(q,te)}),Ln&&bc(q,Ae),_e}function K(q,z,$,X){var _e=Kp($);if(typeof _e!="function")throw Error(mt(150));if($=_e.call($),$==null)throw Error(mt(151));for(var ie=_e=null,we=z,Ae=z=0,se=null,ve=$.next();we!==null&&!ve.done;Ae++,ve=$.next()){we.index>Ae?(se=we,we=null):se=we.sibling;var te=L(q,we,ve.value,X);if(te===null){we===null&&(we=se);break}r&&we&&te.alternate===null&&o(q,we),z=h(te,z,Ae),ie===null?_e=te:ie.sibling=te,ie=te,we=se}if(ve.done)return s(q,we),Ln&&bc(q,Ae),_e;if(we===null){for(;!ve.done;Ae++,ve=$.next())ve=P(q,ve.value,X),ve!==null&&(z=h(ve,z,Ae),ie===null?_e=ve:ie.sibling=ve,ie=ve);return Ln&&bc(q,Ae),_e}for(we=c(q,we);!ve.done;Ae++,ve=$.next())ve=N(we,q,Ae,ve.value,X),ve!==null&&(r&&ve.alternate!==null&&we.delete(ve.key===null?Ae:ve.key),z=h(ve,z,Ae),ie===null?_e=ve:ie.sibling=ve,ie=ve);return r&&we.forEach(function(re){return o(q,re)}),Ln&&bc(q,Ae),_e}function fe(q,z,$,X){if(typeof $=="object"&&$!==null&&$.type===td&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case tm:e:{for(var _e=$.key,ie=z;ie!==null;){if(ie.key===_e){if(_e=$.type,_e===td){if(ie.tag===7){s(q,ie.sibling),z=d(ie,$.props.children),z.return=q,q=z;break e}}else if(ie.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===eu&&V1(_e)===ie.type){s(q,ie.sibling),z=d(ie,$.props),z.ref=Xp(q,ie,$),z.return=q,q=z;break e}s(q,ie);break}else o(q,ie);ie=ie.sibling}$.type===td?(z=Dc($.props.children,q.mode,X,$.key),z.return=q,q=z):(X=Lm($.type,$.key,$.props,null,q.mode,X),X.ref=Xp(q,z,$),X.return=q,q=X)}return _(q);case ed:e:{for(ie=$.key;z!==null;){if(z.key===ie)if(z.tag===4&&z.stateNode.containerInfo===$.containerInfo&&z.stateNode.implementation===$.implementation){s(q,z.sibling),z=d(z,$.children||[]),z.return=q,q=z;break e}else{s(q,z);break}else o(q,z);z=z.sibling}z=S_($,q.mode,X),z.return=q,q=z}return _(q);case eu:return ie=$._init,fe(q,z,ie($._payload),X)}if(ah($))return U(q,z,$,X);if(Kp($))return K(q,z,$,X);dm(q,$)}return typeof $=="string"&&$!==""||typeof $=="number"?($=""+$,z!==null&&z.tag===6?(s(q,z.sibling),z=d(z,$),z.return=q,q=z):(s(q,z),z=x_($,q.mode,X),z.return=q,q=z),_(q)):s(q,z)}return fe}var Cd=IT(!0),FT=IT(!1),ey=bu(null),ty=null,ud=null,Ax=null;function Lx(){Ax=ud=ty=null}function Mx(r){var o=ey.current;En(ey),r._currentValue=o}function yb(r,o,s){for(;r!==null;){var c=r.alternate;if((r.childLanes&o)!==o?(r.childLanes|=o,c!==null&&(c.childLanes|=o)):c!==null&&(c.childLanes&o)!==o&&(c.childLanes|=o),r===s)break;r=r.return}}function yd(r,o){ty=r,Ax=ud=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&o&&(po=!0),r.firstContext=null)}function ta(r){var o=r._currentValue;if(Ax!==r)if(r={context:r,memoizedValue:o,next:null},ud===null){if(ty===null)throw Error(mt(308));ud=r,ty.dependencies={lanes:0,firstContext:r}}else ud=ud.next=r;return o}var Ec=null;function Dx(r){Ec===null?Ec=[r]:Ec.push(r)}function VT(r,o,s,c){var d=o.interleaved;return d===null?(s.next=s,Dx(o)):(s.next=d.next,d.next=s),o.interleaved=s,ol(r,c)}function ol(r,o){r.lanes|=o;var s=r.alternate;for(s!==null&&(s.lanes|=o),s=r,r=r.return;r!==null;)r.childLanes|=o,s=r.alternate,s!==null&&(s.childLanes|=o),s=r,r=r.return;return s.tag===3?s.stateNode:null}var tu=!1;function Rx(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function UT(r,o){r=r.updateQueue,o.updateQueue===r&&(o.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function tl(r,o){return{eventTime:r,lane:o,tag:0,payload:null,callback:null,next:null}}function du(r,o,s){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,Xr&2){var d=c.pending;return d===null?o.next=o:(o.next=d.next,d.next=o),c.pending=o,ol(r,s)}return d=c.interleaved,d===null?(o.next=o,Dx(c)):(o.next=d.next,d.next=o),c.interleaved=o,ol(r,s)}function Om(r,o,s){if(o=o.updateQueue,o!==null&&(o=o.shared,(s&4194240)!==0)){var c=o.lanes;c&=r.pendingLanes,s|=c,o.lanes=s,wx(r,s)}}function U1(r,o){var s=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,s===c)){var d=null,h=null;if(s=s.firstBaseUpdate,s!==null){do{var _={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};h===null?d=h=_:h=h.next=_,s=s.next}while(s!==null);h===null?d=h=o:h=h.next=o}else d=h=o;s={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:h,shared:c.shared,effects:c.effects},r.updateQueue=s;return}r=s.lastBaseUpdate,r===null?s.firstBaseUpdate=o:r.next=o,s.lastBaseUpdate=o}function ry(r,o,s,c){var d=r.updateQueue;tu=!1;var h=d.firstBaseUpdate,_=d.lastBaseUpdate,x=d.shared.pending;if(x!==null){d.shared.pending=null;var S=x,C=S.next;S.next=null,_===null?h=C:_.next=C,_=S;var T=r.alternate;T!==null&&(T=T.updateQueue,x=T.lastBaseUpdate,x!==_&&(x===null?T.firstBaseUpdate=C:x.next=C,T.lastBaseUpdate=S))}if(h!==null){var P=d.baseState;_=0,T=C=S=null,x=h;do{var L=x.lane,N=x.eventTime;if((c&L)===L){T!==null&&(T=T.next={eventTime:N,lane:0,tag:x.tag,payload:x.payload,callback:x.callback,next:null});e:{var U=r,K=x;switch(L=o,N=s,K.tag){case 1:if(U=K.payload,typeof U=="function"){P=U.call(N,P,L);break e}P=U;break e;case 3:U.flags=U.flags&-65537|128;case 0:if(U=K.payload,L=typeof U=="function"?U.call(N,P,L):U,L==null)break e;P=Un({},P,L);break e;case 2:tu=!0}}x.callback!==null&&x.lane!==0&&(r.flags|=64,L=d.effects,L===null?d.effects=[x]:L.push(x))}else N={eventTime:N,lane:L,tag:x.tag,payload:x.payload,callback:x.callback,next:null},T===null?(C=T=N,S=P):T=T.next=N,_|=L;if(x=x.next,x===null){if(x=d.shared.pending,x===null)break;L=x,x=L.next,L.next=null,d.lastBaseUpdate=L,d.shared.pending=null}}while(!0);if(T===null&&(S=P),d.baseState=S,d.firstBaseUpdate=C,d.lastBaseUpdate=T,o=d.shared.interleaved,o!==null){d=o;do _|=d.lane,d=d.next;while(d!==o)}else h===null&&(d.shared.lanes=0);Uc|=_,r.lanes=_,r.memoizedState=P}}function B1(r,o,s){if(r=o.effects,o.effects=null,r!==null)for(o=0;o<r.length;o++){var c=r[o],d=c.callback;if(d!==null){if(c.callback=null,c=s,typeof d!="function")throw Error(mt(191,d));d.call(c)}}}var rv={},ms=bu(rv),Fh=bu(rv),Vh=bu(rv);function Tc(r){if(r===rv)throw Error(mt(174));return r}function Nx(r,o){switch(yn(Vh,o),yn(Fh,r),yn(ms,rv),r=o.nodeType,r){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:J_(null,"");break;default:r=r===8?o.parentNode:o,o=r.namespaceURI||null,r=r.tagName,o=J_(o,r)}En(ms),yn(ms,o)}function Od(){En(ms),En(Fh),En(Vh)}function BT(r){Tc(Vh.current);var o=Tc(ms.current),s=J_(o,r.type);o!==s&&(yn(Fh,r),yn(ms,s))}function jx(r){Fh.current===r&&(En(ms),En(Fh))}var Fn=bu(0);function ny(r){for(var o=r;o!==null;){if(o.tag===13){var s=o.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var g_=[];function Ix(){for(var r=0;r<g_.length;r++)g_[r]._workInProgressVersionPrimary=null;g_.length=0}var Em=ul.ReactCurrentDispatcher,m_=ul.ReactCurrentBatchConfig,Vc=0,Vn=null,mi=null,Ei=null,iy=!1,wh=!1,Uh=0,iI=0;function Bi(){throw Error(mt(321))}function Fx(r,o){if(o===null)return!1;for(var s=0;s<o.length&&s<r.length;s++)if(!Ta(r[s],o[s]))return!1;return!0}function Vx(r,o,s,c,d,h){if(Vc=h,Vn=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Em.current=r===null||r.memoizedState===null?lI:uI,r=s(c,d),wh){h=0;do{if(wh=!1,Uh=0,25<=h)throw Error(mt(301));h+=1,Ei=mi=null,o.updateQueue=null,Em.current=cI,r=s(c,d)}while(wh)}if(Em.current=oy,o=mi!==null&&mi.next!==null,Vc=0,Ei=mi=Vn=null,iy=!1,o)throw Error(mt(300));return r}function Ux(){var r=Uh!==0;return Uh=0,r}function ds(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ei===null?Vn.memoizedState=Ei=r:Ei=Ei.next=r,Ei}function ra(){if(mi===null){var r=Vn.alternate;r=r!==null?r.memoizedState:null}else r=mi.next;var o=Ei===null?Vn.memoizedState:Ei.next;if(o!==null)Ei=o,mi=r;else{if(r===null)throw Error(mt(310));mi=r,r={memoizedState:mi.memoizedState,baseState:mi.baseState,baseQueue:mi.baseQueue,queue:mi.queue,next:null},Ei===null?Vn.memoizedState=Ei=r:Ei=Ei.next=r}return Ei}function Bh(r,o){return typeof o=="function"?o(r):o}function y_(r){var o=ra(),s=o.queue;if(s===null)throw Error(mt(311));s.lastRenderedReducer=r;var c=mi,d=c.baseQueue,h=s.pending;if(h!==null){if(d!==null){var _=d.next;d.next=h.next,h.next=_}c.baseQueue=d=h,s.pending=null}if(d!==null){h=d.next,c=c.baseState;var x=_=null,S=null,C=h;do{var T=C.lane;if((Vc&T)===T)S!==null&&(S=S.next={lane:0,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null}),c=C.hasEagerState?C.eagerState:r(c,C.action);else{var P={lane:T,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null};S===null?(x=S=P,_=c):S=S.next=P,Vn.lanes|=T,Uc|=T}C=C.next}while(C!==null&&C!==h);S===null?_=c:S.next=x,Ta(c,o.memoizedState)||(po=!0),o.memoizedState=c,o.baseState=_,o.baseQueue=S,s.lastRenderedState=c}if(r=s.interleaved,r!==null){d=r;do h=d.lane,Vn.lanes|=h,Uc|=h,d=d.next;while(d!==r)}else d===null&&(s.lanes=0);return[o.memoizedState,s.dispatch]}function w_(r){var o=ra(),s=o.queue;if(s===null)throw Error(mt(311));s.lastRenderedReducer=r;var c=s.dispatch,d=s.pending,h=o.memoizedState;if(d!==null){s.pending=null;var _=d=d.next;do h=r(h,_.action),_=_.next;while(_!==d);Ta(h,o.memoizedState)||(po=!0),o.memoizedState=h,o.baseQueue===null&&(o.baseState=h),s.lastRenderedState=h}return[h,c]}function HT(){}function zT(r,o){var s=Vn,c=ra(),d=o(),h=!Ta(c.memoizedState,d);if(h&&(c.memoizedState=d,po=!0),c=c.queue,Bx(KT.bind(null,s,c,r),[r]),c.getSnapshot!==o||h||Ei!==null&&Ei.memoizedState.tag&1){if(s.flags|=2048,Hh(9,$T.bind(null,s,c,d,o),void 0,null),Pi===null)throw Error(mt(349));Vc&30||WT(s,o,d)}return d}function WT(r,o,s){r.flags|=16384,r={getSnapshot:o,value:s},o=Vn.updateQueue,o===null?(o={lastEffect:null,stores:null},Vn.updateQueue=o,o.stores=[r]):(s=o.stores,s===null?o.stores=[r]:s.push(r))}function $T(r,o,s,c){o.value=s,o.getSnapshot=c,GT(o)&&ZT(r)}function KT(r,o,s){return s(function(){GT(o)&&ZT(r)})}function GT(r){var o=r.getSnapshot;r=r.value;try{var s=o();return!Ta(r,s)}catch{return!0}}function ZT(r){var o=ol(r,1);o!==null&&Ca(o,r,1,-1)}function H1(r){var o=ds();return typeof r=="function"&&(r=r()),o.memoizedState=o.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bh,lastRenderedState:r},o.queue=r,r=r.dispatch=sI.bind(null,Vn,r),[o.memoizedState,r]}function Hh(r,o,s,c){return r={tag:r,create:o,destroy:s,deps:c,next:null},o=Vn.updateQueue,o===null?(o={lastEffect:null,stores:null},Vn.updateQueue=o,o.lastEffect=r.next=r):(s=o.lastEffect,s===null?o.lastEffect=r.next=r:(c=s.next,s.next=r,r.next=c,o.lastEffect=r)),r}function qT(){return ra().memoizedState}function Tm(r,o,s,c){var d=ds();Vn.flags|=r,d.memoizedState=Hh(1|o,s,void 0,c===void 0?null:c)}function Wy(r,o,s,c){var d=ra();c=c===void 0?null:c;var h=void 0;if(mi!==null){var _=mi.memoizedState;if(h=_.destroy,c!==null&&Fx(c,_.deps)){d.memoizedState=Hh(o,s,h,c);return}}Vn.flags|=r,d.memoizedState=Hh(1|o,s,h,c)}function z1(r,o){return Tm(8390656,8,r,o)}function Bx(r,o){return Wy(2048,8,r,o)}function YT(r,o){return Wy(4,2,r,o)}function XT(r,o){return Wy(4,4,r,o)}function JT(r,o){if(typeof o=="function")return r=r(),o(r),function(){o(null)};if(o!=null)return r=r(),o.current=r,function(){o.current=null}}function QT(r,o,s){return s=s!=null?s.concat([r]):null,Wy(4,4,JT.bind(null,o,r),s)}function Hx(){}function eP(r,o){var s=ra();o=o===void 0?null:o;var c=s.memoizedState;return c!==null&&o!==null&&Fx(o,c[1])?c[0]:(s.memoizedState=[r,o],r)}function tP(r,o){var s=ra();o=o===void 0?null:o;var c=s.memoizedState;return c!==null&&o!==null&&Fx(o,c[1])?c[0]:(r=r(),s.memoizedState=[r,o],r)}function rP(r,o,s){return Vc&21?(Ta(s,o)||(s=sT(),Vn.lanes|=s,Uc|=s,r.baseState=!0),o):(r.baseState&&(r.baseState=!1,po=!0),r.memoizedState=s)}function oI(r,o){var s=ln;ln=s!==0&&4>s?s:4,r(!0);var c=m_.transition;m_.transition={};try{r(!1),o()}finally{ln=s,m_.transition=c}}function nP(){return ra().memoizedState}function aI(r,o,s){var c=hu(r);if(s={lane:c,action:s,hasEagerState:!1,eagerState:null,next:null},iP(r))oP(o,s);else if(s=VT(r,o,s,c),s!==null){var d=no();Ca(s,r,c,d),aP(s,o,c)}}function sI(r,o,s){var c=hu(r),d={lane:c,action:s,hasEagerState:!1,eagerState:null,next:null};if(iP(r))oP(o,d);else{var h=r.alternate;if(r.lanes===0&&(h===null||h.lanes===0)&&(h=o.lastRenderedReducer,h!==null))try{var _=o.lastRenderedState,x=h(_,s);if(d.hasEagerState=!0,d.eagerState=x,Ta(x,_)){var S=o.interleaved;S===null?(d.next=d,Dx(o)):(d.next=S.next,S.next=d),o.interleaved=d;return}}catch{}finally{}s=VT(r,o,d,c),s!==null&&(d=no(),Ca(s,r,c,d),aP(s,o,c))}}function iP(r){var o=r.alternate;return r===Vn||o!==null&&o===Vn}function oP(r,o){wh=iy=!0;var s=r.pending;s===null?o.next=o:(o.next=s.next,s.next=o),r.pending=o}function aP(r,o,s){if(s&4194240){var c=o.lanes;c&=r.pendingLanes,s|=c,o.lanes=s,wx(r,s)}}var oy={readContext:ta,useCallback:Bi,useContext:Bi,useEffect:Bi,useImperativeHandle:Bi,useInsertionEffect:Bi,useLayoutEffect:Bi,useMemo:Bi,useReducer:Bi,useRef:Bi,useState:Bi,useDebugValue:Bi,useDeferredValue:Bi,useTransition:Bi,useMutableSource:Bi,useSyncExternalStore:Bi,useId:Bi,unstable_isNewReconciler:!1},lI={readContext:ta,useCallback:function(r,o){return ds().memoizedState=[r,o===void 0?null:o],r},useContext:ta,useEffect:z1,useImperativeHandle:function(r,o,s){return s=s!=null?s.concat([r]):null,Tm(4194308,4,JT.bind(null,o,r),s)},useLayoutEffect:function(r,o){return Tm(4194308,4,r,o)},useInsertionEffect:function(r,o){return Tm(4,2,r,o)},useMemo:function(r,o){var s=ds();return o=o===void 0?null:o,r=r(),s.memoizedState=[r,o],r},useReducer:function(r,o,s){var c=ds();return o=s!==void 0?s(o):o,c.memoizedState=c.baseState=o,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:o},c.queue=r,r=r.dispatch=aI.bind(null,Vn,r),[c.memoizedState,r]},useRef:function(r){var o=ds();return r={current:r},o.memoizedState=r},useState:H1,useDebugValue:Hx,useDeferredValue:function(r){return ds().memoizedState=r},useTransition:function(){var r=H1(!1),o=r[0];return r=oI.bind(null,r[1]),ds().memoizedState=r,[o,r]},useMutableSource:function(){},useSyncExternalStore:function(r,o,s){var c=Vn,d=ds();if(Ln){if(s===void 0)throw Error(mt(407));s=s()}else{if(s=o(),Pi===null)throw Error(mt(349));Vc&30||WT(c,o,s)}d.memoizedState=s;var h={value:s,getSnapshot:o};return d.queue=h,z1(KT.bind(null,c,h,r),[r]),c.flags|=2048,Hh(9,$T.bind(null,c,h,s,o),void 0,null),s},useId:function(){var r=ds(),o=Pi.identifierPrefix;if(Ln){var s=Qs,c=Js;s=(c&~(1<<32-Sa(c)-1)).toString(32)+s,o=":"+o+"R"+s,s=Uh++,0<s&&(o+="H"+s.toString(32)),o+=":"}else s=iI++,o=":"+o+"r"+s.toString(32)+":";return r.memoizedState=o},unstable_isNewReconciler:!1},uI={readContext:ta,useCallback:eP,useContext:ta,useEffect:Bx,useImperativeHandle:QT,useInsertionEffect:YT,useLayoutEffect:XT,useMemo:tP,useReducer:y_,useRef:qT,useState:function(){return y_(Bh)},useDebugValue:Hx,useDeferredValue:function(r){var o=ra();return rP(o,mi.memoizedState,r)},useTransition:function(){var r=y_(Bh)[0],o=ra().memoizedState;return[r,o]},useMutableSource:HT,useSyncExternalStore:zT,useId:nP,unstable_isNewReconciler:!1},cI={readContext:ta,useCallback:eP,useContext:ta,useEffect:Bx,useImperativeHandle:QT,useInsertionEffect:YT,useLayoutEffect:XT,useMemo:tP,useReducer:w_,useRef:qT,useState:function(){return w_(Bh)},useDebugValue:Hx,useDeferredValue:function(r){var o=ra();return mi===null?o.memoizedState=r:rP(o,mi.memoizedState,r)},useTransition:function(){var r=w_(Bh)[0],o=ra().memoizedState;return[r,o]},useMutableSource:HT,useSyncExternalStore:zT,useId:nP,unstable_isNewReconciler:!1};function ya(r,o){if(r&&r.defaultProps){o=Un({},o),r=r.defaultProps;for(var s in r)o[s]===void 0&&(o[s]=r[s]);return o}return o}function wb(r,o,s,c){o=r.memoizedState,s=s(c,o),s=s==null?o:Un({},o,s),r.memoizedState=s,r.lanes===0&&(r.updateQueue.baseState=s)}var $y={isMounted:function(r){return(r=r._reactInternals)?Kc(r)===r:!1},enqueueSetState:function(r,o,s){r=r._reactInternals;var c=no(),d=hu(r),h=tl(c,d);h.payload=o,s!=null&&(h.callback=s),o=du(r,h,d),o!==null&&(Ca(o,r,d,c),Om(o,r,d))},enqueueReplaceState:function(r,o,s){r=r._reactInternals;var c=no(),d=hu(r),h=tl(c,d);h.tag=1,h.payload=o,s!=null&&(h.callback=s),o=du(r,h,d),o!==null&&(Ca(o,r,d,c),Om(o,r,d))},enqueueForceUpdate:function(r,o){r=r._reactInternals;var s=no(),c=hu(r),d=tl(s,c);d.tag=2,o!=null&&(d.callback=o),o=du(r,d,c),o!==null&&(Ca(o,r,c,s),Om(o,r,c))}};function W1(r,o,s,c,d,h,_){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,h,_):o.prototype&&o.prototype.isPureReactComponent?!Rh(s,c)||!Rh(d,h):!0}function sP(r,o,s){var c=!1,d=yu,h=o.contextType;return typeof h=="object"&&h!==null?h=ta(h):(d=go(o)?Ic:Wi.current,c=o.contextTypes,h=(c=c!=null)?xd(r,d):yu),o=new o(s,h),r.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=$y,r.stateNode=o,o._reactInternals=r,c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=d,r.__reactInternalMemoizedMaskedChildContext=h),o}function $1(r,o,s,c){r=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(s,c),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(s,c),o.state!==r&&$y.enqueueReplaceState(o,o.state,null)}function _b(r,o,s,c){var d=r.stateNode;d.props=s,d.state=r.memoizedState,d.refs={},Rx(r);var h=o.contextType;typeof h=="object"&&h!==null?d.context=ta(h):(h=go(o)?Ic:Wi.current,d.context=xd(r,h)),d.state=r.memoizedState,h=o.getDerivedStateFromProps,typeof h=="function"&&(wb(r,o,h,s),d.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(o=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),o!==d.state&&$y.enqueueReplaceState(d,d.state,null),ry(r,s,d,c),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308)}function Ed(r,o){try{var s="",c=o;do s+=F2(c),c=c.return;while(c);var d=s}catch(h){d=`
Error generating stack: `+h.message+`
`+h.stack}return{value:r,source:o,stack:d,digest:null}}function __(r,o,s){return{value:r,source:null,stack:s??null,digest:o??null}}function bb(r,o){try{console.error(o.value)}catch(s){setTimeout(function(){throw s})}}var fI=typeof WeakMap=="function"?WeakMap:Map;function lP(r,o,s){s=tl(-1,s),s.tag=3,s.payload={element:null};var c=o.value;return s.callback=function(){sy||(sy=!0,Lb=c),bb(r,o)},s}function uP(r,o,s){s=tl(-1,s),s.tag=3;var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var d=o.value;s.payload=function(){return c(d)},s.callback=function(){bb(r,o)}}var h=r.stateNode;return h!==null&&typeof h.componentDidCatch=="function"&&(s.callback=function(){bb(r,o),typeof c!="function"&&(pu===null?pu=new Set([this]):pu.add(this));var _=o.stack;this.componentDidCatch(o.value,{componentStack:_!==null?_:""})}),s}function K1(r,o,s){var c=r.pingCache;if(c===null){c=r.pingCache=new fI;var d=new Set;c.set(o,d)}else d=c.get(o),d===void 0&&(d=new Set,c.set(o,d));d.has(s)||(d.add(s),r=OI.bind(null,r,o,s),o.then(r,r))}function G1(r){do{var o;if((o=r.tag===13)&&(o=r.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return r;r=r.return}while(r!==null);return null}function Z1(r,o,s,c,d){return r.mode&1?(r.flags|=65536,r.lanes=d,r):(r===o?r.flags|=65536:(r.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(o=tl(-1,1),o.tag=2,du(s,o,1))),s.lanes|=1),r)}var dI=ul.ReactCurrentOwner,po=!1;function to(r,o,s,c){o.child=r===null?FT(o,null,s,c):Cd(o,r.child,s,c)}function q1(r,o,s,c,d){s=s.render;var h=o.ref;return yd(o,d),c=Vx(r,o,s,c,h,d),s=Ux(),r!==null&&!po?(o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~d,al(r,o,d)):(Ln&&s&&Tx(o),o.flags|=1,to(r,o,c,d),o.child)}function Y1(r,o,s,c,d){if(r===null){var h=s.type;return typeof h=="function"&&!Yx(h)&&h.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(o.tag=15,o.type=h,cP(r,o,h,c,d)):(r=Lm(s.type,null,c,o,o.mode,d),r.ref=o.ref,r.return=o,o.child=r)}if(h=r.child,!(r.lanes&d)){var _=h.memoizedProps;if(s=s.compare,s=s!==null?s:Rh,s(_,c)&&r.ref===o.ref)return al(r,o,d)}return o.flags|=1,r=vu(h,c),r.ref=o.ref,r.return=o,o.child=r}function cP(r,o,s,c,d){if(r!==null){var h=r.memoizedProps;if(Rh(h,c)&&r.ref===o.ref)if(po=!1,o.pendingProps=c=h,(r.lanes&d)!==0)r.flags&131072&&(po=!0);else return o.lanes=r.lanes,al(r,o,d)}return xb(r,o,s,c,d)}function fP(r,o,s){var c=o.pendingProps,d=c.children,h=r!==null?r.memoizedState:null;if(c.mode==="hidden")if(!(o.mode&1))o.memoizedState={baseLanes:0,cachePool:null,transitions:null},yn(fd,Ro),Ro|=s;else{if(!(s&1073741824))return r=h!==null?h.baseLanes|s:s,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:r,cachePool:null,transitions:null},o.updateQueue=null,yn(fd,Ro),Ro|=r,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=h!==null?h.baseLanes:s,yn(fd,Ro),Ro|=c}else h!==null?(c=h.baseLanes|s,o.memoizedState=null):c=s,yn(fd,Ro),Ro|=c;return to(r,o,d,s),o.child}function dP(r,o){var s=o.ref;(r===null&&s!==null||r!==null&&r.ref!==s)&&(o.flags|=512,o.flags|=2097152)}function xb(r,o,s,c,d){var h=go(s)?Ic:Wi.current;return h=xd(o,h),yd(o,d),s=Vx(r,o,s,c,h,d),c=Ux(),r!==null&&!po?(o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~d,al(r,o,d)):(Ln&&c&&Tx(o),o.flags|=1,to(r,o,s,d),o.child)}function X1(r,o,s,c,d){if(go(s)){var h=!0;Xm(o)}else h=!1;if(yd(o,d),o.stateNode===null)Pm(r,o),sP(o,s,c),_b(o,s,c,d),c=!0;else if(r===null){var _=o.stateNode,x=o.memoizedProps;_.props=x;var S=_.context,C=s.contextType;typeof C=="object"&&C!==null?C=ta(C):(C=go(s)?Ic:Wi.current,C=xd(o,C));var T=s.getDerivedStateFromProps,P=typeof T=="function"||typeof _.getSnapshotBeforeUpdate=="function";P||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(x!==c||S!==C)&&$1(o,_,c,C),tu=!1;var L=o.memoizedState;_.state=L,ry(o,c,_,d),S=o.memoizedState,x!==c||L!==S||vo.current||tu?(typeof T=="function"&&(wb(o,s,T,c),S=o.memoizedState),(x=tu||W1(o,s,x,c,L,S,C))?(P||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(o.flags|=4194308)):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=c,o.memoizedState=S),_.props=c,_.state=S,_.context=C,c=x):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),c=!1)}else{_=o.stateNode,UT(r,o),x=o.memoizedProps,C=o.type===o.elementType?x:ya(o.type,x),_.props=C,P=o.pendingProps,L=_.context,S=s.contextType,typeof S=="object"&&S!==null?S=ta(S):(S=go(s)?Ic:Wi.current,S=xd(o,S));var N=s.getDerivedStateFromProps;(T=typeof N=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(x!==P||L!==S)&&$1(o,_,c,S),tu=!1,L=o.memoizedState,_.state=L,ry(o,c,_,d);var U=o.memoizedState;x!==P||L!==U||vo.current||tu?(typeof N=="function"&&(wb(o,s,N,c),U=o.memoizedState),(C=tu||W1(o,s,C,c,L,U,S)||!1)?(T||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(c,U,S),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(c,U,S)),typeof _.componentDidUpdate=="function"&&(o.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof _.componentDidUpdate!="function"||x===r.memoizedProps&&L===r.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||x===r.memoizedProps&&L===r.memoizedState||(o.flags|=1024),o.memoizedProps=c,o.memoizedState=U),_.props=c,_.state=U,_.context=S,c=C):(typeof _.componentDidUpdate!="function"||x===r.memoizedProps&&L===r.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||x===r.memoizedProps&&L===r.memoizedState||(o.flags|=1024),c=!1)}return Sb(r,o,s,c,h,d)}function Sb(r,o,s,c,d,h){dP(r,o);var _=(o.flags&128)!==0;if(!c&&!_)return d&&j1(o,s,!1),al(r,o,h);c=o.stateNode,dI.current=o;var x=_&&typeof s.getDerivedStateFromError!="function"?null:c.render();return o.flags|=1,r!==null&&_?(o.child=Cd(o,r.child,null,h),o.child=Cd(o,null,x,h)):to(r,o,x,h),o.memoizedState=c.state,d&&j1(o,s,!0),o.child}function pP(r){var o=r.stateNode;o.pendingContext?N1(r,o.pendingContext,o.pendingContext!==o.context):o.context&&N1(r,o.context,!1),Nx(r,o.containerInfo)}function J1(r,o,s,c,d){return Sd(),kx(d),o.flags|=256,to(r,o,s,c),o.child}var Cb={dehydrated:null,treeContext:null,retryLane:0};function Ob(r){return{baseLanes:r,cachePool:null,transitions:null}}function hP(r,o,s){var c=o.pendingProps,d=Fn.current,h=!1,_=(o.flags&128)!==0,x;if((x=_)||(x=r!==null&&r.memoizedState===null?!1:(d&2)!==0),x?(h=!0,o.flags&=-129):(r===null||r.memoizedState!==null)&&(d|=1),yn(Fn,d&1),r===null)return mb(o),r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(o.mode&1?r.data==="$!"?o.lanes=8:o.lanes=1073741824:o.lanes=1,null):(_=c.children,r=c.fallback,h?(c=o.mode,h=o.child,_={mode:"hidden",children:_},!(c&1)&&h!==null?(h.childLanes=0,h.pendingProps=_):h=Zy(_,c,0,null),r=Dc(r,c,s,null),h.return=o,r.return=o,h.sibling=r,o.child=h,o.child.memoizedState=Ob(s),o.memoizedState=Cb,r):zx(o,_));if(d=r.memoizedState,d!==null&&(x=d.dehydrated,x!==null))return pI(r,o,_,c,x,d,s);if(h){h=c.fallback,_=o.mode,d=r.child,x=d.sibling;var S={mode:"hidden",children:c.children};return!(_&1)&&o.child!==d?(c=o.child,c.childLanes=0,c.pendingProps=S,o.deletions=null):(c=vu(d,S),c.subtreeFlags=d.subtreeFlags&14680064),x!==null?h=vu(x,h):(h=Dc(h,_,s,null),h.flags|=2),h.return=o,c.return=o,c.sibling=h,o.child=c,c=h,h=o.child,_=r.child.memoizedState,_=_===null?Ob(s):{baseLanes:_.baseLanes|s,cachePool:null,transitions:_.transitions},h.memoizedState=_,h.childLanes=r.childLanes&~s,o.memoizedState=Cb,c}return h=r.child,r=h.sibling,c=vu(h,{mode:"visible",children:c.children}),!(o.mode&1)&&(c.lanes=s),c.return=o,c.sibling=null,r!==null&&(s=o.deletions,s===null?(o.deletions=[r],o.flags|=16):s.push(r)),o.child=c,o.memoizedState=null,c}function zx(r,o){return o=Zy({mode:"visible",children:o},r.mode,0,null),o.return=r,r.child=o}function pm(r,o,s,c){return c!==null&&kx(c),Cd(o,r.child,null,s),r=zx(o,o.pendingProps.children),r.flags|=2,o.memoizedState=null,r}function pI(r,o,s,c,d,h,_){if(s)return o.flags&256?(o.flags&=-257,c=__(Error(mt(422))),pm(r,o,_,c)):o.memoizedState!==null?(o.child=r.child,o.flags|=128,null):(h=c.fallback,d=o.mode,c=Zy({mode:"visible",children:c.children},d,0,null),h=Dc(h,d,_,null),h.flags|=2,c.return=o,h.return=o,c.sibling=h,o.child=c,o.mode&1&&Cd(o,r.child,null,_),o.child.memoizedState=Ob(_),o.memoizedState=Cb,h);if(!(o.mode&1))return pm(r,o,_,null);if(d.data==="$!"){if(c=d.nextSibling&&d.nextSibling.dataset,c)var x=c.dgst;return c=x,h=Error(mt(419)),c=__(h,c,void 0),pm(r,o,_,c)}if(x=(_&r.childLanes)!==0,po||x){if(c=Pi,c!==null){switch(_&-_){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=d&(c.suspendedLanes|_)?0:d,d!==0&&d!==h.retryLane&&(h.retryLane=d,ol(r,d),Ca(c,r,d,-1))}return qx(),c=__(Error(mt(421))),pm(r,o,_,c)}return d.data==="$?"?(o.flags|=128,o.child=r.child,o=EI.bind(null,r),d._reactRetry=o,null):(r=h.treeContext,jo=fu(d.nextSibling),Io=o,Ln=!0,ba=null,r!==null&&(qo[Yo++]=Js,qo[Yo++]=Qs,qo[Yo++]=Fc,Js=r.id,Qs=r.overflow,Fc=o),o=zx(o,c.children),o.flags|=4096,o)}function Q1(r,o,s){r.lanes|=o;var c=r.alternate;c!==null&&(c.lanes|=o),yb(r.return,o,s)}function b_(r,o,s,c,d){var h=r.memoizedState;h===null?r.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:c,tail:s,tailMode:d}:(h.isBackwards=o,h.rendering=null,h.renderingStartTime=0,h.last=c,h.tail=s,h.tailMode=d)}function vP(r,o,s){var c=o.pendingProps,d=c.revealOrder,h=c.tail;if(to(r,o,c.children,s),c=Fn.current,c&2)c=c&1|2,o.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=o.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Q1(r,s,o);else if(r.tag===19)Q1(r,s,o);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===o)break e;for(;r.sibling===null;){if(r.return===null||r.return===o)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}if(yn(Fn,c),!(o.mode&1))o.memoizedState=null;else switch(d){case"forwards":for(s=o.child,d=null;s!==null;)r=s.alternate,r!==null&&ny(r)===null&&(d=s),s=s.sibling;s=d,s===null?(d=o.child,o.child=null):(d=s.sibling,s.sibling=null),b_(o,!1,d,s,h);break;case"backwards":for(s=null,d=o.child,o.child=null;d!==null;){if(r=d.alternate,r!==null&&ny(r)===null){o.child=d;break}r=d.sibling,d.sibling=s,s=d,d=r}b_(o,!0,s,null,h);break;case"together":b_(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Pm(r,o){!(o.mode&1)&&r!==null&&(r.alternate=null,o.alternate=null,o.flags|=2)}function al(r,o,s){if(r!==null&&(o.dependencies=r.dependencies),Uc|=o.lanes,!(s&o.childLanes))return null;if(r!==null&&o.child!==r.child)throw Error(mt(153));if(o.child!==null){for(r=o.child,s=vu(r,r.pendingProps),o.child=s,s.return=o;r.sibling!==null;)r=r.sibling,s=s.sibling=vu(r,r.pendingProps),s.return=o;s.sibling=null}return o.child}function hI(r,o,s){switch(o.tag){case 3:pP(o),Sd();break;case 5:BT(o);break;case 1:go(o.type)&&Xm(o);break;case 4:Nx(o,o.stateNode.containerInfo);break;case 10:var c=o.type._context,d=o.memoizedProps.value;yn(ey,c._currentValue),c._currentValue=d;break;case 13:if(c=o.memoizedState,c!==null)return c.dehydrated!==null?(yn(Fn,Fn.current&1),o.flags|=128,null):s&o.child.childLanes?hP(r,o,s):(yn(Fn,Fn.current&1),r=al(r,o,s),r!==null?r.sibling:null);yn(Fn,Fn.current&1);break;case 19:if(c=(s&o.childLanes)!==0,r.flags&128){if(c)return vP(r,o,s);o.flags|=128}if(d=o.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),yn(Fn,Fn.current),c)break;return null;case 22:case 23:return o.lanes=0,fP(r,o,s)}return al(r,o,s)}var gP,Eb,mP,yP;gP=function(r,o){for(var s=o.child;s!==null;){if(s.tag===5||s.tag===6)r.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break;for(;s.sibling===null;){if(s.return===null||s.return===o)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};Eb=function(){};mP=function(r,o,s,c){var d=r.memoizedProps;if(d!==c){r=o.stateNode,Tc(ms.current);var h=null;switch(s){case"input":d=Z_(r,d),c=Z_(r,c),h=[];break;case"select":d=Un({},d,{value:void 0}),c=Un({},c,{value:void 0}),h=[];break;case"textarea":d=X_(r,d),c=X_(r,c),h=[];break;default:typeof d.onClick!="function"&&typeof c.onClick=="function"&&(r.onclick=qm)}Q_(s,c);var _;s=null;for(C in d)if(!c.hasOwnProperty(C)&&d.hasOwnProperty(C)&&d[C]!=null)if(C==="style"){var x=d[C];for(_ in x)x.hasOwnProperty(_)&&(s||(s={}),s[_]="")}else C!=="dangerouslySetInnerHTML"&&C!=="children"&&C!=="suppressContentEditableWarning"&&C!=="suppressHydrationWarning"&&C!=="autoFocus"&&(Th.hasOwnProperty(C)?h||(h=[]):(h=h||[]).push(C,null));for(C in c){var S=c[C];if(x=d!=null?d[C]:void 0,c.hasOwnProperty(C)&&S!==x&&(S!=null||x!=null))if(C==="style")if(x){for(_ in x)!x.hasOwnProperty(_)||S&&S.hasOwnProperty(_)||(s||(s={}),s[_]="");for(_ in S)S.hasOwnProperty(_)&&x[_]!==S[_]&&(s||(s={}),s[_]=S[_])}else s||(h||(h=[]),h.push(C,s)),s=S;else C==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,x=x?x.__html:void 0,S!=null&&x!==S&&(h=h||[]).push(C,S)):C==="children"?typeof S!="string"&&typeof S!="number"||(h=h||[]).push(C,""+S):C!=="suppressContentEditableWarning"&&C!=="suppressHydrationWarning"&&(Th.hasOwnProperty(C)?(S!=null&&C==="onScroll"&&Sn("scroll",r),h||x===S||(h=[])):(h=h||[]).push(C,S))}s&&(h=h||[]).push("style",s);var C=h;(o.updateQueue=C)&&(o.flags|=4)}};yP=function(r,o,s,c){s!==c&&(o.flags|=4)};function Jp(r,o){if(!Ln)switch(r.tailMode){case"hidden":o=r.tail;for(var s=null;o!==null;)o.alternate!==null&&(s=o),o=o.sibling;s===null?r.tail=null:s.sibling=null;break;case"collapsed":s=r.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?o||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function Hi(r){var o=r.alternate!==null&&r.alternate.child===r.child,s=0,c=0;if(o)for(var d=r.child;d!==null;)s|=d.lanes|d.childLanes,c|=d.subtreeFlags&14680064,c|=d.flags&14680064,d.return=r,d=d.sibling;else for(d=r.child;d!==null;)s|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=r,d=d.sibling;return r.subtreeFlags|=c,r.childLanes=s,o}function vI(r,o,s){var c=o.pendingProps;switch(Px(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hi(o),null;case 1:return go(o.type)&&Ym(),Hi(o),null;case 3:return c=o.stateNode,Od(),En(vo),En(Wi),Ix(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&(fm(o)?o.flags|=4:r===null||r.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,ba!==null&&(Rb(ba),ba=null))),Eb(r,o),Hi(o),null;case 5:jx(o);var d=Tc(Vh.current);if(s=o.type,r!==null&&o.stateNode!=null)mP(r,o,s,c,d),r.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!c){if(o.stateNode===null)throw Error(mt(166));return Hi(o),null}if(r=Tc(ms.current),fm(o)){c=o.stateNode,s=o.type;var h=o.memoizedProps;switch(c[hs]=o,c[Ih]=h,r=(o.mode&1)!==0,s){case"dialog":Sn("cancel",c),Sn("close",c);break;case"iframe":case"object":case"embed":Sn("load",c);break;case"video":case"audio":for(d=0;d<lh.length;d++)Sn(lh[d],c);break;case"source":Sn("error",c);break;case"img":case"image":case"link":Sn("error",c),Sn("load",c);break;case"details":Sn("toggle",c);break;case"input":l1(c,h),Sn("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!h.multiple},Sn("invalid",c);break;case"textarea":c1(c,h),Sn("invalid",c)}Q_(s,h),d=null;for(var _ in h)if(h.hasOwnProperty(_)){var x=h[_];_==="children"?typeof x=="string"?c.textContent!==x&&(h.suppressHydrationWarning!==!0&&cm(c.textContent,x,r),d=["children",x]):typeof x=="number"&&c.textContent!==""+x&&(h.suppressHydrationWarning!==!0&&cm(c.textContent,x,r),d=["children",""+x]):Th.hasOwnProperty(_)&&x!=null&&_==="onScroll"&&Sn("scroll",c)}switch(s){case"input":rm(c),u1(c,h,!0);break;case"textarea":rm(c),f1(c);break;case"select":case"option":break;default:typeof h.onClick=="function"&&(c.onclick=qm)}c=d,o.updateQueue=c,c!==null&&(o.flags|=4)}else{_=d.nodeType===9?d:d.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=KE(s)),r==="http://www.w3.org/1999/xhtml"?s==="script"?(r=_.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof c.is=="string"?r=_.createElement(s,{is:c.is}):(r=_.createElement(s),s==="select"&&(_=r,c.multiple?_.multiple=!0:c.size&&(_.size=c.size))):r=_.createElementNS(r,s),r[hs]=o,r[Ih]=c,gP(r,o,!1,!1),o.stateNode=r;e:{switch(_=eb(s,c),s){case"dialog":Sn("cancel",r),Sn("close",r),d=c;break;case"iframe":case"object":case"embed":Sn("load",r),d=c;break;case"video":case"audio":for(d=0;d<lh.length;d++)Sn(lh[d],r);d=c;break;case"source":Sn("error",r),d=c;break;case"img":case"image":case"link":Sn("error",r),Sn("load",r),d=c;break;case"details":Sn("toggle",r),d=c;break;case"input":l1(r,c),d=Z_(r,c),Sn("invalid",r);break;case"option":d=c;break;case"select":r._wrapperState={wasMultiple:!!c.multiple},d=Un({},c,{value:void 0}),Sn("invalid",r);break;case"textarea":c1(r,c),d=X_(r,c),Sn("invalid",r);break;default:d=c}Q_(s,d),x=d;for(h in x)if(x.hasOwnProperty(h)){var S=x[h];h==="style"?qE(r,S):h==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,S!=null&&GE(r,S)):h==="children"?typeof S=="string"?(s!=="textarea"||S!=="")&&Ph(r,S):typeof S=="number"&&Ph(r,""+S):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Th.hasOwnProperty(h)?S!=null&&h==="onScroll"&&Sn("scroll",r):S!=null&&px(r,h,S,_))}switch(s){case"input":rm(r),u1(r,c,!1);break;case"textarea":rm(r),f1(r);break;case"option":c.value!=null&&r.setAttribute("value",""+mu(c.value));break;case"select":r.multiple=!!c.multiple,h=c.value,h!=null?hd(r,!!c.multiple,h,!1):c.defaultValue!=null&&hd(r,!!c.multiple,c.defaultValue,!0);break;default:typeof d.onClick=="function"&&(r.onclick=qm)}switch(s){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Hi(o),null;case 6:if(r&&o.stateNode!=null)yP(r,o,r.memoizedProps,c);else{if(typeof c!="string"&&o.stateNode===null)throw Error(mt(166));if(s=Tc(Vh.current),Tc(ms.current),fm(o)){if(c=o.stateNode,s=o.memoizedProps,c[hs]=o,(h=c.nodeValue!==s)&&(r=Io,r!==null))switch(r.tag){case 3:cm(c.nodeValue,s,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&cm(c.nodeValue,s,(r.mode&1)!==0)}h&&(o.flags|=4)}else c=(s.nodeType===9?s:s.ownerDocument).createTextNode(c),c[hs]=o,o.stateNode=c}return Hi(o),null;case 13:if(En(Fn),c=o.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Ln&&jo!==null&&o.mode&1&&!(o.flags&128))jT(),Sd(),o.flags|=98560,h=!1;else if(h=fm(o),c!==null&&c.dehydrated!==null){if(r===null){if(!h)throw Error(mt(318));if(h=o.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(mt(317));h[hs]=o}else Sd(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;Hi(o),h=!1}else ba!==null&&(Rb(ba),ba=null),h=!0;if(!h)return o.flags&65536?o:null}return o.flags&128?(o.lanes=s,o):(c=c!==null,c!==(r!==null&&r.memoizedState!==null)&&c&&(o.child.flags|=8192,o.mode&1&&(r===null||Fn.current&1?yi===0&&(yi=3):qx())),o.updateQueue!==null&&(o.flags|=4),Hi(o),null);case 4:return Od(),Eb(r,o),r===null&&Nh(o.stateNode.containerInfo),Hi(o),null;case 10:return Mx(o.type._context),Hi(o),null;case 17:return go(o.type)&&Ym(),Hi(o),null;case 19:if(En(Fn),h=o.memoizedState,h===null)return Hi(o),null;if(c=(o.flags&128)!==0,_=h.rendering,_===null)if(c)Jp(h,!1);else{if(yi!==0||r!==null&&r.flags&128)for(r=o.child;r!==null;){if(_=ny(r),_!==null){for(o.flags|=128,Jp(h,!1),c=_.updateQueue,c!==null&&(o.updateQueue=c,o.flags|=4),o.subtreeFlags=0,c=s,s=o.child;s!==null;)h=s,r=c,h.flags&=14680066,_=h.alternate,_===null?(h.childLanes=0,h.lanes=r,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=_.childLanes,h.lanes=_.lanes,h.child=_.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=_.memoizedProps,h.memoizedState=_.memoizedState,h.updateQueue=_.updateQueue,h.type=_.type,r=_.dependencies,h.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),s=s.sibling;return yn(Fn,Fn.current&1|2),o.child}r=r.sibling}h.tail!==null&&Qn()>Td&&(o.flags|=128,c=!0,Jp(h,!1),o.lanes=4194304)}else{if(!c)if(r=ny(_),r!==null){if(o.flags|=128,c=!0,s=r.updateQueue,s!==null&&(o.updateQueue=s,o.flags|=4),Jp(h,!0),h.tail===null&&h.tailMode==="hidden"&&!_.alternate&&!Ln)return Hi(o),null}else 2*Qn()-h.renderingStartTime>Td&&s!==1073741824&&(o.flags|=128,c=!0,Jp(h,!1),o.lanes=4194304);h.isBackwards?(_.sibling=o.child,o.child=_):(s=h.last,s!==null?s.sibling=_:o.child=_,h.last=_)}return h.tail!==null?(o=h.tail,h.rendering=o,h.tail=o.sibling,h.renderingStartTime=Qn(),o.sibling=null,s=Fn.current,yn(Fn,c?s&1|2:s&1),o):(Hi(o),null);case 22:case 23:return Zx(),c=o.memoizedState!==null,r!==null&&r.memoizedState!==null!==c&&(o.flags|=8192),c&&o.mode&1?Ro&1073741824&&(Hi(o),o.subtreeFlags&6&&(o.flags|=8192)):Hi(o),null;case 24:return null;case 25:return null}throw Error(mt(156,o.tag))}function gI(r,o){switch(Px(o),o.tag){case 1:return go(o.type)&&Ym(),r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 3:return Od(),En(vo),En(Wi),Ix(),r=o.flags,r&65536&&!(r&128)?(o.flags=r&-65537|128,o):null;case 5:return jx(o),null;case 13:if(En(Fn),r=o.memoizedState,r!==null&&r.dehydrated!==null){if(o.alternate===null)throw Error(mt(340));Sd()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 19:return En(Fn),null;case 4:return Od(),null;case 10:return Mx(o.type._context),null;case 22:case 23:return Zx(),null;case 24:return null;default:return null}}var hm=!1,zi=!1,mI=typeof WeakSet=="function"?WeakSet:Set,Wt=null;function cd(r,o){var s=r.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(c){zn(r,o,c)}else s.current=null}function Tb(r,o,s){try{s()}catch(c){zn(r,o,c)}}var eO=!1;function yI(r,o){if(cb=Km,r=ST(),Ex(r)){if("selectionStart"in r)var s={start:r.selectionStart,end:r.selectionEnd};else e:{s=(s=r.ownerDocument)&&s.defaultView||window;var c=s.getSelection&&s.getSelection();if(c&&c.rangeCount!==0){s=c.anchorNode;var d=c.anchorOffset,h=c.focusNode;c=c.focusOffset;try{s.nodeType,h.nodeType}catch{s=null;break e}var _=0,x=-1,S=-1,C=0,T=0,P=r,L=null;t:for(;;){for(var N;P!==s||d!==0&&P.nodeType!==3||(x=_+d),P!==h||c!==0&&P.nodeType!==3||(S=_+c),P.nodeType===3&&(_+=P.nodeValue.length),(N=P.firstChild)!==null;)L=P,P=N;for(;;){if(P===r)break t;if(L===s&&++C===d&&(x=_),L===h&&++T===c&&(S=_),(N=P.nextSibling)!==null)break;P=L,L=P.parentNode}P=N}s=x===-1||S===-1?null:{start:x,end:S}}else s=null}s=s||{start:0,end:0}}else s=null;for(fb={focusedElem:r,selectionRange:s},Km=!1,Wt=o;Wt!==null;)if(o=Wt,r=o.child,(o.subtreeFlags&1028)!==0&&r!==null)r.return=o,Wt=r;else for(;Wt!==null;){o=Wt;try{var U=o.alternate;if(o.flags&1024)switch(o.tag){case 0:case 11:case 15:break;case 1:if(U!==null){var K=U.memoizedProps,fe=U.memoizedState,q=o.stateNode,z=q.getSnapshotBeforeUpdate(o.elementType===o.type?K:ya(o.type,K),fe);q.__reactInternalSnapshotBeforeUpdate=z}break;case 3:var $=o.stateNode.containerInfo;$.nodeType===1?$.textContent="":$.nodeType===9&&$.documentElement&&$.removeChild($.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(mt(163))}}catch(X){zn(o,o.return,X)}if(r=o.sibling,r!==null){r.return=o.return,Wt=r;break}Wt=o.return}return U=eO,eO=!1,U}function _h(r,o,s){var c=o.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var d=c=c.next;do{if((d.tag&r)===r){var h=d.destroy;d.destroy=void 0,h!==void 0&&Tb(o,s,h)}d=d.next}while(d!==c)}}function Ky(r,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var s=o=o.next;do{if((s.tag&r)===r){var c=s.create;s.destroy=c()}s=s.next}while(s!==o)}}function Pb(r){var o=r.ref;if(o!==null){var s=r.stateNode;switch(r.tag){case 5:r=s;break;default:r=s}typeof o=="function"?o(r):o.current=r}}function wP(r){var o=r.alternate;o!==null&&(r.alternate=null,wP(o)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(o=r.stateNode,o!==null&&(delete o[hs],delete o[Ih],delete o[hb],delete o[eI],delete o[tI])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function _P(r){return r.tag===5||r.tag===3||r.tag===4}function tO(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||_P(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function kb(r,o,s){var c=r.tag;if(c===5||c===6)r=r.stateNode,o?s.nodeType===8?s.parentNode.insertBefore(r,o):s.insertBefore(r,o):(s.nodeType===8?(o=s.parentNode,o.insertBefore(r,s)):(o=s,o.appendChild(r)),s=s._reactRootContainer,s!=null||o.onclick!==null||(o.onclick=qm));else if(c!==4&&(r=r.child,r!==null))for(kb(r,o,s),r=r.sibling;r!==null;)kb(r,o,s),r=r.sibling}function Ab(r,o,s){var c=r.tag;if(c===5||c===6)r=r.stateNode,o?s.insertBefore(r,o):s.appendChild(r);else if(c!==4&&(r=r.child,r!==null))for(Ab(r,o,s),r=r.sibling;r!==null;)Ab(r,o,s),r=r.sibling}var Ri=null,wa=!1;function Yl(r,o,s){for(s=s.child;s!==null;)bP(r,o,s),s=s.sibling}function bP(r,o,s){if(gs&&typeof gs.onCommitFiberUnmount=="function")try{gs.onCommitFiberUnmount(Fy,s)}catch{}switch(s.tag){case 5:zi||cd(s,o);case 6:var c=Ri,d=wa;Ri=null,Yl(r,o,s),Ri=c,wa=d,Ri!==null&&(wa?(r=Ri,s=s.stateNode,r.nodeType===8?r.parentNode.removeChild(s):r.removeChild(s)):Ri.removeChild(s.stateNode));break;case 18:Ri!==null&&(wa?(r=Ri,s=s.stateNode,r.nodeType===8?h_(r.parentNode,s):r.nodeType===1&&h_(r,s),Mh(r)):h_(Ri,s.stateNode));break;case 4:c=Ri,d=wa,Ri=s.stateNode.containerInfo,wa=!0,Yl(r,o,s),Ri=c,wa=d;break;case 0:case 11:case 14:case 15:if(!zi&&(c=s.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){d=c=c.next;do{var h=d,_=h.destroy;h=h.tag,_!==void 0&&(h&2||h&4)&&Tb(s,o,_),d=d.next}while(d!==c)}Yl(r,o,s);break;case 1:if(!zi&&(cd(s,o),c=s.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=s.memoizedProps,c.state=s.memoizedState,c.componentWillUnmount()}catch(x){zn(s,o,x)}Yl(r,o,s);break;case 21:Yl(r,o,s);break;case 22:s.mode&1?(zi=(c=zi)||s.memoizedState!==null,Yl(r,o,s),zi=c):Yl(r,o,s);break;default:Yl(r,o,s)}}function rO(r){var o=r.updateQueue;if(o!==null){r.updateQueue=null;var s=r.stateNode;s===null&&(s=r.stateNode=new mI),o.forEach(function(c){var d=TI.bind(null,r,c);s.has(c)||(s.add(c),c.then(d,d))})}}function ga(r,o){var s=o.deletions;if(s!==null)for(var c=0;c<s.length;c++){var d=s[c];try{var h=r,_=o,x=_;e:for(;x!==null;){switch(x.tag){case 5:Ri=x.stateNode,wa=!1;break e;case 3:Ri=x.stateNode.containerInfo,wa=!0;break e;case 4:Ri=x.stateNode.containerInfo,wa=!0;break e}x=x.return}if(Ri===null)throw Error(mt(160));bP(h,_,d),Ri=null,wa=!1;var S=d.alternate;S!==null&&(S.return=null),d.return=null}catch(C){zn(d,o,C)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)xP(o,r),o=o.sibling}function xP(r,o){var s=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(ga(o,r),fs(r),c&4){try{_h(3,r,r.return),Ky(3,r)}catch(K){zn(r,r.return,K)}try{_h(5,r,r.return)}catch(K){zn(r,r.return,K)}}break;case 1:ga(o,r),fs(r),c&512&&s!==null&&cd(s,s.return);break;case 5:if(ga(o,r),fs(r),c&512&&s!==null&&cd(s,s.return),r.flags&32){var d=r.stateNode;try{Ph(d,"")}catch(K){zn(r,r.return,K)}}if(c&4&&(d=r.stateNode,d!=null)){var h=r.memoizedProps,_=s!==null?s.memoizedProps:h,x=r.type,S=r.updateQueue;if(r.updateQueue=null,S!==null)try{x==="input"&&h.type==="radio"&&h.name!=null&&WE(d,h),eb(x,_);var C=eb(x,h);for(_=0;_<S.length;_+=2){var T=S[_],P=S[_+1];T==="style"?qE(d,P):T==="dangerouslySetInnerHTML"?GE(d,P):T==="children"?Ph(d,P):px(d,T,P,C)}switch(x){case"input":q_(d,h);break;case"textarea":$E(d,h);break;case"select":var L=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!h.multiple;var N=h.value;N!=null?hd(d,!!h.multiple,N,!1):L!==!!h.multiple&&(h.defaultValue!=null?hd(d,!!h.multiple,h.defaultValue,!0):hd(d,!!h.multiple,h.multiple?[]:"",!1))}d[Ih]=h}catch(K){zn(r,r.return,K)}}break;case 6:if(ga(o,r),fs(r),c&4){if(r.stateNode===null)throw Error(mt(162));d=r.stateNode,h=r.memoizedProps;try{d.nodeValue=h}catch(K){zn(r,r.return,K)}}break;case 3:if(ga(o,r),fs(r),c&4&&s!==null&&s.memoizedState.isDehydrated)try{Mh(o.containerInfo)}catch(K){zn(r,r.return,K)}break;case 4:ga(o,r),fs(r);break;case 13:ga(o,r),fs(r),d=r.child,d.flags&8192&&(h=d.memoizedState!==null,d.stateNode.isHidden=h,!h||d.alternate!==null&&d.alternate.memoizedState!==null||(Kx=Qn())),c&4&&rO(r);break;case 22:if(T=s!==null&&s.memoizedState!==null,r.mode&1?(zi=(C=zi)||T,ga(o,r),zi=C):ga(o,r),fs(r),c&8192){if(C=r.memoizedState!==null,(r.stateNode.isHidden=C)&&!T&&r.mode&1)for(Wt=r,T=r.child;T!==null;){for(P=Wt=T;Wt!==null;){switch(L=Wt,N=L.child,L.tag){case 0:case 11:case 14:case 15:_h(4,L,L.return);break;case 1:cd(L,L.return);var U=L.stateNode;if(typeof U.componentWillUnmount=="function"){c=L,s=L.return;try{o=c,U.props=o.memoizedProps,U.state=o.memoizedState,U.componentWillUnmount()}catch(K){zn(c,s,K)}}break;case 5:cd(L,L.return);break;case 22:if(L.memoizedState!==null){iO(P);continue}}N!==null?(N.return=L,Wt=N):iO(P)}T=T.sibling}e:for(T=null,P=r;;){if(P.tag===5){if(T===null){T=P;try{d=P.stateNode,C?(h=d.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none"):(x=P.stateNode,S=P.memoizedProps.style,_=S!=null&&S.hasOwnProperty("display")?S.display:null,x.style.display=ZE("display",_))}catch(K){zn(r,r.return,K)}}}else if(P.tag===6){if(T===null)try{P.stateNode.nodeValue=C?"":P.memoizedProps}catch(K){zn(r,r.return,K)}}else if((P.tag!==22&&P.tag!==23||P.memoizedState===null||P===r)&&P.child!==null){P.child.return=P,P=P.child;continue}if(P===r)break e;for(;P.sibling===null;){if(P.return===null||P.return===r)break e;T===P&&(T=null),P=P.return}T===P&&(T=null),P.sibling.return=P.return,P=P.sibling}}break;case 19:ga(o,r),fs(r),c&4&&rO(r);break;case 21:break;default:ga(o,r),fs(r)}}function fs(r){var o=r.flags;if(o&2){try{e:{for(var s=r.return;s!==null;){if(_P(s)){var c=s;break e}s=s.return}throw Error(mt(160))}switch(c.tag){case 5:var d=c.stateNode;c.flags&32&&(Ph(d,""),c.flags&=-33);var h=tO(r);Ab(r,h,d);break;case 3:case 4:var _=c.stateNode.containerInfo,x=tO(r);kb(r,x,_);break;default:throw Error(mt(161))}}catch(S){zn(r,r.return,S)}r.flags&=-3}o&4096&&(r.flags&=-4097)}function wI(r,o,s){Wt=r,SP(r)}function SP(r,o,s){for(var c=(r.mode&1)!==0;Wt!==null;){var d=Wt,h=d.child;if(d.tag===22&&c){var _=d.memoizedState!==null||hm;if(!_){var x=d.alternate,S=x!==null&&x.memoizedState!==null||zi;x=hm;var C=zi;if(hm=_,(zi=S)&&!C)for(Wt=d;Wt!==null;)_=Wt,S=_.child,_.tag===22&&_.memoizedState!==null?oO(d):S!==null?(S.return=_,Wt=S):oO(d);for(;h!==null;)Wt=h,SP(h),h=h.sibling;Wt=d,hm=x,zi=C}nO(r)}else d.subtreeFlags&8772&&h!==null?(h.return=d,Wt=h):nO(r)}}function nO(r){for(;Wt!==null;){var o=Wt;if(o.flags&8772){var s=o.alternate;try{if(o.flags&8772)switch(o.tag){case 0:case 11:case 15:zi||Ky(5,o);break;case 1:var c=o.stateNode;if(o.flags&4&&!zi)if(s===null)c.componentDidMount();else{var d=o.elementType===o.type?s.memoizedProps:ya(o.type,s.memoizedProps);c.componentDidUpdate(d,s.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var h=o.updateQueue;h!==null&&B1(o,h,c);break;case 3:var _=o.updateQueue;if(_!==null){if(s=null,o.child!==null)switch(o.child.tag){case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}B1(o,_,s)}break;case 5:var x=o.stateNode;if(s===null&&o.flags&4){s=x;var S=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":S.autoFocus&&s.focus();break;case"img":S.src&&(s.src=S.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var C=o.alternate;if(C!==null){var T=C.memoizedState;if(T!==null){var P=T.dehydrated;P!==null&&Mh(P)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(mt(163))}zi||o.flags&512&&Pb(o)}catch(L){zn(o,o.return,L)}}if(o===r){Wt=null;break}if(s=o.sibling,s!==null){s.return=o.return,Wt=s;break}Wt=o.return}}function iO(r){for(;Wt!==null;){var o=Wt;if(o===r){Wt=null;break}var s=o.sibling;if(s!==null){s.return=o.return,Wt=s;break}Wt=o.return}}function oO(r){for(;Wt!==null;){var o=Wt;try{switch(o.tag){case 0:case 11:case 15:var s=o.return;try{Ky(4,o)}catch(S){zn(o,s,S)}break;case 1:var c=o.stateNode;if(typeof c.componentDidMount=="function"){var d=o.return;try{c.componentDidMount()}catch(S){zn(o,d,S)}}var h=o.return;try{Pb(o)}catch(S){zn(o,h,S)}break;case 5:var _=o.return;try{Pb(o)}catch(S){zn(o,_,S)}}}catch(S){zn(o,o.return,S)}if(o===r){Wt=null;break}var x=o.sibling;if(x!==null){x.return=o.return,Wt=x;break}Wt=o.return}}var _I=Math.ceil,ay=ul.ReactCurrentDispatcher,Wx=ul.ReactCurrentOwner,Jo=ul.ReactCurrentBatchConfig,Xr=0,Pi=null,li=null,Ni=0,Ro=0,fd=bu(0),yi=0,zh=null,Uc=0,Gy=0,$x=0,bh=null,fo=null,Kx=0,Td=1/0,qs=null,sy=!1,Lb=null,pu=null,vm=!1,au=null,ly=0,xh=0,Mb=null,km=-1,Am=0;function no(){return Xr&6?Qn():km!==-1?km:km=Qn()}function hu(r){return r.mode&1?Xr&2&&Ni!==0?Ni&-Ni:nI.transition!==null?(Am===0&&(Am=sT()),Am):(r=ln,r!==0||(r=window.event,r=r===void 0?16:hT(r.type)),r):1}function Ca(r,o,s,c){if(50<xh)throw xh=0,Mb=null,Error(mt(185));Qh(r,s,c),(!(Xr&2)||r!==Pi)&&(r===Pi&&(!(Xr&2)&&(Gy|=s),yi===4&&nu(r,Ni)),mo(r,c),s===1&&Xr===0&&!(o.mode&1)&&(Td=Qn()+500,zy&&xu()))}function mo(r,o){var s=r.callbackNode;nj(r,o);var c=$m(r,r===Pi?Ni:0);if(c===0)s!==null&&h1(s),r.callbackNode=null,r.callbackPriority=0;else if(o=c&-c,r.callbackPriority!==o){if(s!=null&&h1(s),o===1)r.tag===0?rI(aO.bind(null,r)):DT(aO.bind(null,r)),Jj(function(){!(Xr&6)&&xu()}),s=null;else{switch(lT(c)){case 1:s=yx;break;case 4:s=oT;break;case 16:s=Wm;break;case 536870912:s=aT;break;default:s=Wm}s=LP(s,CP.bind(null,r))}r.callbackPriority=o,r.callbackNode=s}}function CP(r,o){if(km=-1,Am=0,Xr&6)throw Error(mt(327));var s=r.callbackNode;if(wd()&&r.callbackNode!==s)return null;var c=$m(r,r===Pi?Ni:0);if(c===0)return null;if(c&30||c&r.expiredLanes||o)o=uy(r,c);else{o=c;var d=Xr;Xr|=2;var h=EP();(Pi!==r||Ni!==o)&&(qs=null,Td=Qn()+500,Mc(r,o));do try{SI();break}catch(x){OP(r,x)}while(!0);Lx(),ay.current=h,Xr=d,li!==null?o=0:(Pi=null,Ni=0,o=yi)}if(o!==0){if(o===2&&(d=ob(r),d!==0&&(c=d,o=Db(r,d))),o===1)throw s=zh,Mc(r,0),nu(r,c),mo(r,Qn()),s;if(o===6)nu(r,c);else{if(d=r.current.alternate,!(c&30)&&!bI(d)&&(o=uy(r,c),o===2&&(h=ob(r),h!==0&&(c=h,o=Db(r,h))),o===1))throw s=zh,Mc(r,0),nu(r,c),mo(r,Qn()),s;switch(r.finishedWork=d,r.finishedLanes=c,o){case 0:case 1:throw Error(mt(345));case 2:xc(r,fo,qs);break;case 3:if(nu(r,c),(c&130023424)===c&&(o=Kx+500-Qn(),10<o)){if($m(r,0)!==0)break;if(d=r.suspendedLanes,(d&c)!==c){no(),r.pingedLanes|=r.suspendedLanes&d;break}r.timeoutHandle=pb(xc.bind(null,r,fo,qs),o);break}xc(r,fo,qs);break;case 4:if(nu(r,c),(c&4194240)===c)break;for(o=r.eventTimes,d=-1;0<c;){var _=31-Sa(c);h=1<<_,_=o[_],_>d&&(d=_),c&=~h}if(c=d,c=Qn()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*_I(c/1960))-c,10<c){r.timeoutHandle=pb(xc.bind(null,r,fo,qs),c);break}xc(r,fo,qs);break;case 5:xc(r,fo,qs);break;default:throw Error(mt(329))}}}return mo(r,Qn()),r.callbackNode===s?CP.bind(null,r):null}function Db(r,o){var s=bh;return r.current.memoizedState.isDehydrated&&(Mc(r,o).flags|=256),r=uy(r,o),r!==2&&(o=fo,fo=s,o!==null&&Rb(o)),r}function Rb(r){fo===null?fo=r:fo.push.apply(fo,r)}function bI(r){for(var o=r;;){if(o.flags&16384){var s=o.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var c=0;c<s.length;c++){var d=s[c],h=d.getSnapshot;d=d.value;try{if(!Ta(h(),d))return!1}catch{return!1}}}if(s=o.child,o.subtreeFlags&16384&&s!==null)s.return=o,o=s;else{if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function nu(r,o){for(o&=~$x,o&=~Gy,r.suspendedLanes|=o,r.pingedLanes&=~o,r=r.expirationTimes;0<o;){var s=31-Sa(o),c=1<<s;r[s]=-1,o&=~c}}function aO(r){if(Xr&6)throw Error(mt(327));wd();var o=$m(r,0);if(!(o&1))return mo(r,Qn()),null;var s=uy(r,o);if(r.tag!==0&&s===2){var c=ob(r);c!==0&&(o=c,s=Db(r,c))}if(s===1)throw s=zh,Mc(r,0),nu(r,o),mo(r,Qn()),s;if(s===6)throw Error(mt(345));return r.finishedWork=r.current.alternate,r.finishedLanes=o,xc(r,fo,qs),mo(r,Qn()),null}function Gx(r,o){var s=Xr;Xr|=1;try{return r(o)}finally{Xr=s,Xr===0&&(Td=Qn()+500,zy&&xu())}}function Bc(r){au!==null&&au.tag===0&&!(Xr&6)&&wd();var o=Xr;Xr|=1;var s=Jo.transition,c=ln;try{if(Jo.transition=null,ln=1,r)return r()}finally{ln=c,Jo.transition=s,Xr=o,!(Xr&6)&&xu()}}function Zx(){Ro=fd.current,En(fd)}function Mc(r,o){r.finishedWork=null,r.finishedLanes=0;var s=r.timeoutHandle;if(s!==-1&&(r.timeoutHandle=-1,Xj(s)),li!==null)for(s=li.return;s!==null;){var c=s;switch(Px(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&Ym();break;case 3:Od(),En(vo),En(Wi),Ix();break;case 5:jx(c);break;case 4:Od();break;case 13:En(Fn);break;case 19:En(Fn);break;case 10:Mx(c.type._context);break;case 22:case 23:Zx()}s=s.return}if(Pi=r,li=r=vu(r.current,null),Ni=Ro=o,yi=0,zh=null,$x=Gy=Uc=0,fo=bh=null,Ec!==null){for(o=0;o<Ec.length;o++)if(s=Ec[o],c=s.interleaved,c!==null){s.interleaved=null;var d=c.next,h=s.pending;if(h!==null){var _=h.next;h.next=d,c.next=_}s.pending=c}Ec=null}return r}function OP(r,o){do{var s=li;try{if(Lx(),Em.current=oy,iy){for(var c=Vn.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}iy=!1}if(Vc=0,Ei=mi=Vn=null,wh=!1,Uh=0,Wx.current=null,s===null||s.return===null){yi=1,zh=o,li=null;break}e:{var h=r,_=s.return,x=s,S=o;if(o=Ni,x.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){var C=S,T=x,P=T.tag;if(!(T.mode&1)&&(P===0||P===11||P===15)){var L=T.alternate;L?(T.updateQueue=L.updateQueue,T.memoizedState=L.memoizedState,T.lanes=L.lanes):(T.updateQueue=null,T.memoizedState=null)}var N=G1(_);if(N!==null){N.flags&=-257,Z1(N,_,x,h,o),N.mode&1&&K1(h,C,o),o=N,S=C;var U=o.updateQueue;if(U===null){var K=new Set;K.add(S),o.updateQueue=K}else U.add(S);break e}else{if(!(o&1)){K1(h,C,o),qx();break e}S=Error(mt(426))}}else if(Ln&&x.mode&1){var fe=G1(_);if(fe!==null){!(fe.flags&65536)&&(fe.flags|=256),Z1(fe,_,x,h,o),kx(Ed(S,x));break e}}h=S=Ed(S,x),yi!==4&&(yi=2),bh===null?bh=[h]:bh.push(h),h=_;do{switch(h.tag){case 3:h.flags|=65536,o&=-o,h.lanes|=o;var q=lP(h,S,o);U1(h,q);break e;case 1:x=S;var z=h.type,$=h.stateNode;if(!(h.flags&128)&&(typeof z.getDerivedStateFromError=="function"||$!==null&&typeof $.componentDidCatch=="function"&&(pu===null||!pu.has($)))){h.flags|=65536,o&=-o,h.lanes|=o;var X=uP(h,x,o);U1(h,X);break e}}h=h.return}while(h!==null)}PP(s)}catch(_e){o=_e,li===s&&s!==null&&(li=s=s.return);continue}break}while(!0)}function EP(){var r=ay.current;return ay.current=oy,r===null?oy:r}function qx(){(yi===0||yi===3||yi===2)&&(yi=4),Pi===null||!(Uc&268435455)&&!(Gy&268435455)||nu(Pi,Ni)}function uy(r,o){var s=Xr;Xr|=2;var c=EP();(Pi!==r||Ni!==o)&&(qs=null,Mc(r,o));do try{xI();break}catch(d){OP(r,d)}while(!0);if(Lx(),Xr=s,ay.current=c,li!==null)throw Error(mt(261));return Pi=null,Ni=0,yi}function xI(){for(;li!==null;)TP(li)}function SI(){for(;li!==null&&!Z2();)TP(li)}function TP(r){var o=AP(r.alternate,r,Ro);r.memoizedProps=r.pendingProps,o===null?PP(r):li=o,Wx.current=null}function PP(r){var o=r;do{var s=o.alternate;if(r=o.return,o.flags&32768){if(s=gI(s,o),s!==null){s.flags&=32767,li=s;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{yi=6,li=null;return}}else if(s=vI(s,o,Ro),s!==null){li=s;return}if(o=o.sibling,o!==null){li=o;return}li=o=r}while(o!==null);yi===0&&(yi=5)}function xc(r,o,s){var c=ln,d=Jo.transition;try{Jo.transition=null,ln=1,CI(r,o,s,c)}finally{Jo.transition=d,ln=c}return null}function CI(r,o,s,c){do wd();while(au!==null);if(Xr&6)throw Error(mt(327));s=r.finishedWork;var d=r.finishedLanes;if(s===null)return null;if(r.finishedWork=null,r.finishedLanes=0,s===r.current)throw Error(mt(177));r.callbackNode=null,r.callbackPriority=0;var h=s.lanes|s.childLanes;if(ij(r,h),r===Pi&&(li=Pi=null,Ni=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||vm||(vm=!0,LP(Wm,function(){return wd(),null})),h=(s.flags&15990)!==0,s.subtreeFlags&15990||h){h=Jo.transition,Jo.transition=null;var _=ln;ln=1;var x=Xr;Xr|=4,Wx.current=null,yI(r,s),xP(s,r),Wj(fb),Km=!!cb,fb=cb=null,r.current=s,wI(s),q2(),Xr=x,ln=_,Jo.transition=h}else r.current=s;if(vm&&(vm=!1,au=r,ly=d),h=r.pendingLanes,h===0&&(pu=null),J2(s.stateNode),mo(r,Qn()),o!==null)for(c=r.onRecoverableError,s=0;s<o.length;s++)d=o[s],c(d.value,{componentStack:d.stack,digest:d.digest});if(sy)throw sy=!1,r=Lb,Lb=null,r;return ly&1&&r.tag!==0&&wd(),h=r.pendingLanes,h&1?r===Mb?xh++:(xh=0,Mb=r):xh=0,xu(),null}function wd(){if(au!==null){var r=lT(ly),o=Jo.transition,s=ln;try{if(Jo.transition=null,ln=16>r?16:r,au===null)var c=!1;else{if(r=au,au=null,ly=0,Xr&6)throw Error(mt(331));var d=Xr;for(Xr|=4,Wt=r.current;Wt!==null;){var h=Wt,_=h.child;if(Wt.flags&16){var x=h.deletions;if(x!==null){for(var S=0;S<x.length;S++){var C=x[S];for(Wt=C;Wt!==null;){var T=Wt;switch(T.tag){case 0:case 11:case 15:_h(8,T,h)}var P=T.child;if(P!==null)P.return=T,Wt=P;else for(;Wt!==null;){T=Wt;var L=T.sibling,N=T.return;if(wP(T),T===C){Wt=null;break}if(L!==null){L.return=N,Wt=L;break}Wt=N}}}var U=h.alternate;if(U!==null){var K=U.child;if(K!==null){U.child=null;do{var fe=K.sibling;K.sibling=null,K=fe}while(K!==null)}}Wt=h}}if(h.subtreeFlags&2064&&_!==null)_.return=h,Wt=_;else e:for(;Wt!==null;){if(h=Wt,h.flags&2048)switch(h.tag){case 0:case 11:case 15:_h(9,h,h.return)}var q=h.sibling;if(q!==null){q.return=h.return,Wt=q;break e}Wt=h.return}}var z=r.current;for(Wt=z;Wt!==null;){_=Wt;var $=_.child;if(_.subtreeFlags&2064&&$!==null)$.return=_,Wt=$;else e:for(_=z;Wt!==null;){if(x=Wt,x.flags&2048)try{switch(x.tag){case 0:case 11:case 15:Ky(9,x)}}catch(_e){zn(x,x.return,_e)}if(x===_){Wt=null;break e}var X=x.sibling;if(X!==null){X.return=x.return,Wt=X;break e}Wt=x.return}}if(Xr=d,xu(),gs&&typeof gs.onPostCommitFiberRoot=="function")try{gs.onPostCommitFiberRoot(Fy,r)}catch{}c=!0}return c}finally{ln=s,Jo.transition=o}}return!1}function sO(r,o,s){o=Ed(s,o),o=lP(r,o,1),r=du(r,o,1),o=no(),r!==null&&(Qh(r,1,o),mo(r,o))}function zn(r,o,s){if(r.tag===3)sO(r,r,s);else for(;o!==null;){if(o.tag===3){sO(o,r,s);break}else if(o.tag===1){var c=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(pu===null||!pu.has(c))){r=Ed(s,r),r=uP(o,r,1),o=du(o,r,1),r=no(),o!==null&&(Qh(o,1,r),mo(o,r));break}}o=o.return}}function OI(r,o,s){var c=r.pingCache;c!==null&&c.delete(o),o=no(),r.pingedLanes|=r.suspendedLanes&s,Pi===r&&(Ni&s)===s&&(yi===4||yi===3&&(Ni&130023424)===Ni&&500>Qn()-Kx?Mc(r,0):$x|=s),mo(r,o)}function kP(r,o){o===0&&(r.mode&1?(o=om,om<<=1,!(om&130023424)&&(om=4194304)):o=1);var s=no();r=ol(r,o),r!==null&&(Qh(r,o,s),mo(r,s))}function EI(r){var o=r.memoizedState,s=0;o!==null&&(s=o.retryLane),kP(r,s)}function TI(r,o){var s=0;switch(r.tag){case 13:var c=r.stateNode,d=r.memoizedState;d!==null&&(s=d.retryLane);break;case 19:c=r.stateNode;break;default:throw Error(mt(314))}c!==null&&c.delete(o),kP(r,s)}var AP;AP=function(r,o,s){if(r!==null)if(r.memoizedProps!==o.pendingProps||vo.current)po=!0;else{if(!(r.lanes&s)&&!(o.flags&128))return po=!1,hI(r,o,s);po=!!(r.flags&131072)}else po=!1,Ln&&o.flags&1048576&&RT(o,Qm,o.index);switch(o.lanes=0,o.tag){case 2:var c=o.type;Pm(r,o),r=o.pendingProps;var d=xd(o,Wi.current);yd(o,s),d=Vx(null,o,c,r,d,s);var h=Ux();return o.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,go(c)?(h=!0,Xm(o)):h=!1,o.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,Rx(o),d.updater=$y,o.stateNode=d,d._reactInternals=o,_b(o,c,r,s),o=Sb(null,o,c,!0,h,s)):(o.tag=0,Ln&&h&&Tx(o),to(null,o,d,s),o=o.child),o;case 16:c=o.elementType;e:{switch(Pm(r,o),r=o.pendingProps,d=c._init,c=d(c._payload),o.type=c,d=o.tag=kI(c),r=ya(c,r),d){case 0:o=xb(null,o,c,r,s);break e;case 1:o=X1(null,o,c,r,s);break e;case 11:o=q1(null,o,c,r,s);break e;case 14:o=Y1(null,o,c,ya(c.type,r),s);break e}throw Error(mt(306,c,""))}return o;case 0:return c=o.type,d=o.pendingProps,d=o.elementType===c?d:ya(c,d),xb(r,o,c,d,s);case 1:return c=o.type,d=o.pendingProps,d=o.elementType===c?d:ya(c,d),X1(r,o,c,d,s);case 3:e:{if(pP(o),r===null)throw Error(mt(387));c=o.pendingProps,h=o.memoizedState,d=h.element,UT(r,o),ry(o,c,null,s);var _=o.memoizedState;if(c=_.element,h.isDehydrated)if(h={element:c,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},o.updateQueue.baseState=h,o.memoizedState=h,o.flags&256){d=Ed(Error(mt(423)),o),o=J1(r,o,c,s,d);break e}else if(c!==d){d=Ed(Error(mt(424)),o),o=J1(r,o,c,s,d);break e}else for(jo=fu(o.stateNode.containerInfo.firstChild),Io=o,Ln=!0,ba=null,s=FT(o,null,c,s),o.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Sd(),c===d){o=al(r,o,s);break e}to(r,o,c,s)}o=o.child}return o;case 5:return BT(o),r===null&&mb(o),c=o.type,d=o.pendingProps,h=r!==null?r.memoizedProps:null,_=d.children,db(c,d)?_=null:h!==null&&db(c,h)&&(o.flags|=32),dP(r,o),to(r,o,_,s),o.child;case 6:return r===null&&mb(o),null;case 13:return hP(r,o,s);case 4:return Nx(o,o.stateNode.containerInfo),c=o.pendingProps,r===null?o.child=Cd(o,null,c,s):to(r,o,c,s),o.child;case 11:return c=o.type,d=o.pendingProps,d=o.elementType===c?d:ya(c,d),q1(r,o,c,d,s);case 7:return to(r,o,o.pendingProps,s),o.child;case 8:return to(r,o,o.pendingProps.children,s),o.child;case 12:return to(r,o,o.pendingProps.children,s),o.child;case 10:e:{if(c=o.type._context,d=o.pendingProps,h=o.memoizedProps,_=d.value,yn(ey,c._currentValue),c._currentValue=_,h!==null)if(Ta(h.value,_)){if(h.children===d.children&&!vo.current){o=al(r,o,s);break e}}else for(h=o.child,h!==null&&(h.return=o);h!==null;){var x=h.dependencies;if(x!==null){_=h.child;for(var S=x.firstContext;S!==null;){if(S.context===c){if(h.tag===1){S=tl(-1,s&-s),S.tag=2;var C=h.updateQueue;if(C!==null){C=C.shared;var T=C.pending;T===null?S.next=S:(S.next=T.next,T.next=S),C.pending=S}}h.lanes|=s,S=h.alternate,S!==null&&(S.lanes|=s),yb(h.return,s,o),x.lanes|=s;break}S=S.next}}else if(h.tag===10)_=h.type===o.type?null:h.child;else if(h.tag===18){if(_=h.return,_===null)throw Error(mt(341));_.lanes|=s,x=_.alternate,x!==null&&(x.lanes|=s),yb(_,s,o),_=h.sibling}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===o){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}to(r,o,d.children,s),o=o.child}return o;case 9:return d=o.type,c=o.pendingProps.children,yd(o,s),d=ta(d),c=c(d),o.flags|=1,to(r,o,c,s),o.child;case 14:return c=o.type,d=ya(c,o.pendingProps),d=ya(c.type,d),Y1(r,o,c,d,s);case 15:return cP(r,o,o.type,o.pendingProps,s);case 17:return c=o.type,d=o.pendingProps,d=o.elementType===c?d:ya(c,d),Pm(r,o),o.tag=1,go(c)?(r=!0,Xm(o)):r=!1,yd(o,s),sP(o,c,d),_b(o,c,d,s),Sb(null,o,c,!0,r,s);case 19:return vP(r,o,s);case 22:return fP(r,o,s)}throw Error(mt(156,o.tag))};function LP(r,o){return iT(r,o)}function PI(r,o,s,c){this.tag=r,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xo(r,o,s,c){return new PI(r,o,s,c)}function Yx(r){return r=r.prototype,!(!r||!r.isReactComponent)}function kI(r){if(typeof r=="function")return Yx(r)?1:0;if(r!=null){if(r=r.$$typeof,r===vx)return 11;if(r===gx)return 14}return 2}function vu(r,o){var s=r.alternate;return s===null?(s=Xo(r.tag,o,r.key,r.mode),s.elementType=r.elementType,s.type=r.type,s.stateNode=r.stateNode,s.alternate=r,r.alternate=s):(s.pendingProps=o,s.type=r.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=r.flags&14680064,s.childLanes=r.childLanes,s.lanes=r.lanes,s.child=r.child,s.memoizedProps=r.memoizedProps,s.memoizedState=r.memoizedState,s.updateQueue=r.updateQueue,o=r.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},s.sibling=r.sibling,s.index=r.index,s.ref=r.ref,s}function Lm(r,o,s,c,d,h){var _=2;if(c=r,typeof r=="function")Yx(r)&&(_=1);else if(typeof r=="string")_=5;else e:switch(r){case td:return Dc(s.children,d,h,o);case hx:_=8,d|=8;break;case W_:return r=Xo(12,s,o,d|2),r.elementType=W_,r.lanes=h,r;case $_:return r=Xo(13,s,o,d),r.elementType=$_,r.lanes=h,r;case K_:return r=Xo(19,s,o,d),r.elementType=K_,r.lanes=h,r;case BE:return Zy(s,d,h,o);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case VE:_=10;break e;case UE:_=9;break e;case vx:_=11;break e;case gx:_=14;break e;case eu:_=16,c=null;break e}throw Error(mt(130,r==null?r:typeof r,""))}return o=Xo(_,s,o,d),o.elementType=r,o.type=c,o.lanes=h,o}function Dc(r,o,s,c){return r=Xo(7,r,c,o),r.lanes=s,r}function Zy(r,o,s,c){return r=Xo(22,r,c,o),r.elementType=BE,r.lanes=s,r.stateNode={isHidden:!1},r}function x_(r,o,s){return r=Xo(6,r,null,o),r.lanes=s,r}function S_(r,o,s){return o=Xo(4,r.children!==null?r.children:[],r.key,o),o.lanes=s,o.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},o}function AI(r,o,s,c,d){this.tag=o,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=n_(0),this.expirationTimes=n_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=n_(0),this.identifierPrefix=c,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function Xx(r,o,s,c,d,h,_,x,S){return r=new AI(r,o,s,x,S),o===1?(o=1,h===!0&&(o|=8)):o=0,h=Xo(3,null,null,o),r.current=h,h.stateNode=r,h.memoizedState={element:c,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rx(h),r}function LI(r,o,s){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ed,key:c==null?null:""+c,children:r,containerInfo:o,implementation:s}}function MP(r){if(!r)return yu;r=r._reactInternals;e:{if(Kc(r)!==r||r.tag!==1)throw Error(mt(170));var o=r;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(go(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(mt(171))}if(r.tag===1){var s=r.type;if(go(s))return MT(r,s,o)}return o}function DP(r,o,s,c,d,h,_,x,S){return r=Xx(s,c,!0,r,d,h,_,x,S),r.context=MP(null),s=r.current,c=no(),d=hu(s),h=tl(c,d),h.callback=o??null,du(s,h,d),r.current.lanes=d,Qh(r,d,c),mo(r,c),r}function qy(r,o,s,c){var d=o.current,h=no(),_=hu(d);return s=MP(s),o.context===null?o.context=s:o.pendingContext=s,o=tl(h,_),o.payload={element:r},c=c===void 0?null:c,c!==null&&(o.callback=c),r=du(d,o,_),r!==null&&(Ca(r,d,_,h),Om(r,d,_)),_}function cy(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function lO(r,o){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var s=r.retryLane;r.retryLane=s!==0&&s<o?s:o}}function Jx(r,o){lO(r,o),(r=r.alternate)&&lO(r,o)}function MI(){return null}var RP=typeof reportError=="function"?reportError:function(r){console.error(r)};function Qx(r){this._internalRoot=r}Yy.prototype.render=Qx.prototype.render=function(r){var o=this._internalRoot;if(o===null)throw Error(mt(409));qy(r,o,null,null)};Yy.prototype.unmount=Qx.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var o=r.containerInfo;Bc(function(){qy(null,r,null,null)}),o[il]=null}};function Yy(r){this._internalRoot=r}Yy.prototype.unstable_scheduleHydration=function(r){if(r){var o=fT();r={blockedOn:null,target:r,priority:o};for(var s=0;s<ru.length&&o!==0&&o<ru[s].priority;s++);ru.splice(s,0,r),s===0&&pT(r)}};function eS(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Xy(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function uO(){}function DI(r,o,s,c,d){if(d){if(typeof c=="function"){var h=c;c=function(){var C=cy(_);h.call(C)}}var _=DP(o,c,r,0,null,!1,!1,"",uO);return r._reactRootContainer=_,r[il]=_.current,Nh(r.nodeType===8?r.parentNode:r),Bc(),_}for(;d=r.lastChild;)r.removeChild(d);if(typeof c=="function"){var x=c;c=function(){var C=cy(S);x.call(C)}}var S=Xx(r,0,!1,null,null,!1,!1,"",uO);return r._reactRootContainer=S,r[il]=S.current,Nh(r.nodeType===8?r.parentNode:r),Bc(function(){qy(o,S,s,c)}),S}function Jy(r,o,s,c,d){var h=s._reactRootContainer;if(h){var _=h;if(typeof d=="function"){var x=d;d=function(){var S=cy(_);x.call(S)}}qy(o,_,r,d)}else _=DI(s,o,r,d,c);return cy(_)}uT=function(r){switch(r.tag){case 3:var o=r.stateNode;if(o.current.memoizedState.isDehydrated){var s=sh(o.pendingLanes);s!==0&&(wx(o,s|1),mo(o,Qn()),!(Xr&6)&&(Td=Qn()+500,xu()))}break;case 13:Bc(function(){var c=ol(r,1);if(c!==null){var d=no();Ca(c,r,1,d)}}),Jx(r,1)}};_x=function(r){if(r.tag===13){var o=ol(r,134217728);if(o!==null){var s=no();Ca(o,r,134217728,s)}Jx(r,134217728)}};cT=function(r){if(r.tag===13){var o=hu(r),s=ol(r,o);if(s!==null){var c=no();Ca(s,r,o,c)}Jx(r,o)}};fT=function(){return ln};dT=function(r,o){var s=ln;try{return ln=r,o()}finally{ln=s}};rb=function(r,o,s){switch(o){case"input":if(q_(r,s),o=s.name,s.type==="radio"&&o!=null){for(s=r;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<s.length;o++){var c=s[o];if(c!==r&&c.form===r.form){var d=Hy(c);if(!d)throw Error(mt(90));zE(c),q_(c,d)}}}break;case"textarea":$E(r,s);break;case"select":o=s.value,o!=null&&hd(r,!!s.multiple,o,!1)}};JE=Gx;QE=Bc;var RI={usingClientEntryPoint:!1,Events:[tv,od,Hy,YE,XE,Gx]},Qp={findFiberByHostInstance:Oc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},NI={bundleType:Qp.bundleType,version:Qp.version,rendererPackageName:Qp.rendererPackageName,rendererConfig:Qp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ul.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=rT(r),r===null?null:r.stateNode},findFiberByHostInstance:Qp.findFiberByHostInstance||MI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gm.isDisabled&&gm.supportsFiber)try{Fy=gm.inject(NI),gs=gm}catch{}}Vo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RI;Vo.createPortal=function(r,o){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!eS(o))throw Error(mt(200));return LI(r,o,null,s)};Vo.createRoot=function(r,o){if(!eS(r))throw Error(mt(299));var s=!1,c="",d=RP;return o!=null&&(o.unstable_strictMode===!0&&(s=!0),o.identifierPrefix!==void 0&&(c=o.identifierPrefix),o.onRecoverableError!==void 0&&(d=o.onRecoverableError)),o=Xx(r,1,!1,null,null,s,!1,c,d),r[il]=o.current,Nh(r.nodeType===8?r.parentNode:r),new Qx(o)};Vo.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var o=r._reactInternals;if(o===void 0)throw typeof r.render=="function"?Error(mt(188)):(r=Object.keys(r).join(","),Error(mt(268,r)));return r=rT(o),r=r===null?null:r.stateNode,r};Vo.flushSync=function(r){return Bc(r)};Vo.hydrate=function(r,o,s){if(!Xy(o))throw Error(mt(200));return Jy(null,r,o,!0,s)};Vo.hydrateRoot=function(r,o,s){if(!eS(r))throw Error(mt(405));var c=s!=null&&s.hydratedSources||null,d=!1,h="",_=RP;if(s!=null&&(s.unstable_strictMode===!0&&(d=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(_=s.onRecoverableError)),o=DP(o,null,r,1,s??null,d,!1,h,_),r[il]=o.current,Nh(r),c)for(r=0;r<c.length;r++)s=c[r],d=s._getVersion,d=d(s._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[s,d]:o.mutableSourceEagerHydrationData.push(s,d);return new Yy(o)};Vo.render=function(r,o,s){if(!Xy(o))throw Error(mt(200));return Jy(null,r,o,!1,s)};Vo.unmountComponentAtNode=function(r){if(!Xy(r))throw Error(mt(40));return r._reactRootContainer?(Bc(function(){Jy(null,null,r,!1,function(){r._reactRootContainer=null,r[il]=null})}),!0):!1};Vo.unstable_batchedUpdates=Gx;Vo.unstable_renderSubtreeIntoContainer=function(r,o,s,c){if(!Xy(s))throw Error(mt(200));if(r==null||r._reactInternals===void 0)throw Error(mt(38));return Jy(r,o,s,!1,c)};Vo.version="18.3.1-next-f1338f8080-20240426";function NP(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(NP)}catch(r){console.error(r)}}NP(),NE.exports=Vo;var tS=NE.exports;const jI=jy(tS),II=xE({__proto__:null,default:jI},[tS]);var cO=tS;H_.createRoot=cO.createRoot,H_.hydrateRoot=cO.hydrateRoot;var nv=r=>r.type==="checkbox",dd=r=>r instanceof Date,ro=r=>r==null;const jP=r=>typeof r=="object";var wi=r=>!ro(r)&&!Array.isArray(r)&&jP(r)&&!dd(r),FI=r=>wi(r)&&r.target?nv(r.target)?r.target.checked:r.target.value:r,VI=r=>r.substring(0,r.search(/\.\d+(\.|$)/))||r,UI=(r,o)=>r.has(VI(o)),BI=r=>{const o=r.constructor&&r.constructor.prototype;return wi(o)&&o.hasOwnProperty("isPrototypeOf")},rS=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Zo(r){let o;const s=Array.isArray(r);if(r instanceof Date)o=new Date(r);else if(r instanceof Set)o=new Set(r);else if(!(rS&&(r instanceof Blob||r instanceof FileList))&&(s||wi(r)))if(o=s?[]:{},!s&&!BI(r))o=r;else for(const c in r)r.hasOwnProperty(c)&&(o[c]=Zo(r[c]));else return r;return o}var iv=r=>Array.isArray(r)?r.filter(Boolean):[],Jn=r=>r===void 0,Ht=(r,o,s)=>{if(!o||!wi(r))return s;const c=iv(o.split(/[,[\].]+?/)).reduce((d,h)=>ro(d)?d:d[h],r);return Jn(c)||c===r?Jn(r[o])?s:r[o]:c},iu=r=>typeof r=="boolean",nS=r=>/^\w*$/.test(r),IP=r=>iv(r.replace(/["|']|\]/g,"").split(/\.|\[/)),On=(r,o,s)=>{let c=-1;const d=nS(o)?[o]:IP(o),h=d.length,_=h-1;for(;++c<h;){const x=d[c];let S=s;if(c!==_){const C=r[x];S=wi(C)||Array.isArray(C)?C:isNaN(+d[c+1])?{}:[]}if(x==="__proto__")return;r[x]=S,r=r[x]}return r};const fO={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},xa={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Gs={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};gi.createContext(null);var HI=(r,o,s,c=!0)=>{const d={defaultValues:o._defaultValues};for(const h in r)Object.defineProperty(d,h,{get:()=>{const _=h;return o._proxyFormState[_]!==xa.all&&(o._proxyFormState[_]=!c||xa.all),r[_]}});return d},Do=r=>wi(r)&&!Object.keys(r).length,zI=(r,o,s,c)=>{s(r);const{name:d,...h}=r;return Do(h)||Object.keys(h).length>=Object.keys(o).length||Object.keys(h).find(_=>o[_]===xa.all)},C_=r=>Array.isArray(r)?r:[r];function WI(r){const o=gi.useRef(r);o.current=r,gi.useEffect(()=>{const s=!r.disabled&&o.current.subject&&o.current.subject.subscribe({next:o.current.next});return()=>{s&&s.unsubscribe()}},[r.disabled])}var vs=r=>typeof r=="string",$I=(r,o,s,c,d)=>vs(r)?(c&&o.watch.add(r),Ht(s,r,d)):Array.isArray(r)?r.map(h=>(c&&o.watch.add(h),Ht(s,h))):(c&&(o.watchAll=!0),s),FP=(r,o,s,c,d)=>o?{...s[r],types:{...s[r]&&s[r].types?s[r].types:{},[c]:d||!0}}:{},dO=r=>({isOnSubmit:!r||r===xa.onSubmit,isOnBlur:r===xa.onBlur,isOnChange:r===xa.onChange,isOnAll:r===xa.all,isOnTouch:r===xa.onTouched}),pO=(r,o,s)=>!s&&(o.watchAll||o.watch.has(r)||[...o.watch].some(c=>r.startsWith(c)&&/^\.\w+/.test(r.slice(c.length))));const Sh=(r,o,s,c)=>{for(const d of s||Object.keys(r)){const h=Ht(r,d);if(h){const{_f:_,...x}=h;if(_){if(_.refs&&_.refs[0]&&o(_.refs[0],d)&&!c)break;if(_.ref&&o(_.ref,_.name)&&!c)break;Sh(x,o)}else wi(x)&&Sh(x,o)}}};var KI=(r,o,s)=>{const c=iv(Ht(r,s));return On(c,"root",o[s]),On(r,s,c),r},iS=r=>r.type==="file",su=r=>typeof r=="function",fy=r=>{if(!rS)return!1;const o=r?r.ownerDocument:0;return r instanceof(o&&o.defaultView?o.defaultView.HTMLElement:HTMLElement)},Mm=r=>vs(r),oS=r=>r.type==="radio",dy=r=>r instanceof RegExp;const hO={value:!1,isValid:!1},vO={value:!0,isValid:!0};var VP=r=>{if(Array.isArray(r)){if(r.length>1){const o=r.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:o,isValid:!!o.length}}return r[0].checked&&!r[0].disabled?r[0].attributes&&!Jn(r[0].attributes.value)?Jn(r[0].value)||r[0].value===""?vO:{value:r[0].value,isValid:!0}:vO:hO}return hO};const gO={isValid:!1,value:null};var UP=r=>Array.isArray(r)?r.reduce((o,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:o,gO):gO;function mO(r,o,s="validate"){if(Mm(r)||Array.isArray(r)&&r.every(Mm)||iu(r)&&!r)return{type:s,message:Mm(r)?r:"",ref:o}}var Yf=r=>wi(r)&&!dy(r)?r:{value:r,message:""},yO=async(r,o,s,c,d)=>{const{ref:h,refs:_,required:x,maxLength:S,minLength:C,min:T,max:P,pattern:L,validate:N,name:U,valueAsNumber:K,mount:fe,disabled:q}=r._f,z=Ht(o,U);if(!fe||q)return{};const $=_?_[0]:h,X=re=>{c&&$.reportValidity&&($.setCustomValidity(iu(re)?"":re||""),$.reportValidity())},_e={},ie=oS(h),we=nv(h),Ae=ie||we,se=(K||iS(h))&&Jn(h.value)&&Jn(z)||fy(h)&&h.value===""||z===""||Array.isArray(z)&&!z.length,ve=FP.bind(null,U,s,_e),te=(re,ae,G,be=Gs.maxLength,W=Gs.minLength)=>{const Le=re?ae:G;_e[U]={type:re?be:W,message:Le,ref:h,...ve(re?be:W,Le)}};if(d?!Array.isArray(z)||!z.length:x&&(!Ae&&(se||ro(z))||iu(z)&&!z||we&&!VP(_).isValid||ie&&!UP(_).isValid)){const{value:re,message:ae}=Mm(x)?{value:!!x,message:x}:Yf(x);if(re&&(_e[U]={type:Gs.required,message:ae,ref:$,...ve(Gs.required,ae)},!s))return X(ae),_e}if(!se&&(!ro(T)||!ro(P))){let re,ae;const G=Yf(P),be=Yf(T);if(!ro(z)&&!isNaN(z)){const W=h.valueAsNumber||z&&+z;ro(G.value)||(re=W>G.value),ro(be.value)||(ae=W<be.value)}else{const W=h.valueAsDate||new Date(z),Le=$e=>new Date(new Date().toDateString()+" "+$e),ye=h.type=="time",Ue=h.type=="week";vs(G.value)&&z&&(re=ye?Le(z)>Le(G.value):Ue?z>G.value:W>new Date(G.value)),vs(be.value)&&z&&(ae=ye?Le(z)<Le(be.value):Ue?z<be.value:W<new Date(be.value))}if((re||ae)&&(te(!!re,G.message,be.message,Gs.max,Gs.min),!s))return X(_e[U].message),_e}if((S||C)&&!se&&(vs(z)||d&&Array.isArray(z))){const re=Yf(S),ae=Yf(C),G=!ro(re.value)&&z.length>+re.value,be=!ro(ae.value)&&z.length<+ae.value;if((G||be)&&(te(G,re.message,ae.message),!s))return X(_e[U].message),_e}if(L&&!se&&vs(z)){const{value:re,message:ae}=Yf(L);if(dy(re)&&!z.match(re)&&(_e[U]={type:Gs.pattern,message:ae,ref:h,...ve(Gs.pattern,ae)},!s))return X(ae),_e}if(N){if(su(N)){const re=await N(z,o),ae=mO(re,$);if(ae&&(_e[U]={...ae,...ve(Gs.validate,ae.message)},!s))return X(ae.message),_e}else if(wi(N)){let re={};for(const ae in N){if(!Do(re)&&!s)break;const G=mO(await N[ae](z,o),$,ae);G&&(re={...G,...ve(ae,G.message)},X(G.message),s&&(_e[U]=re))}if(!Do(re)&&(_e[U]={ref:$,...re},!s))return _e}}return X(!0),_e};function GI(r,o){const s=o.slice(0,-1).length;let c=0;for(;c<s;)r=Jn(r)?c++:r[o[c++]];return r}function ZI(r){for(const o in r)if(r.hasOwnProperty(o)&&!Jn(r[o]))return!1;return!0}function vi(r,o){const s=Array.isArray(o)?o:nS(o)?[o]:IP(o),c=s.length===1?r:GI(r,s),d=s.length-1,h=s[d];return c&&delete c[h],d!==0&&(wi(c)&&Do(c)||Array.isArray(c)&&ZI(c))&&vi(r,s.slice(0,-1)),r}var O_=()=>{let r=[];return{get observers(){return r},next:d=>{for(const h of r)h.next&&h.next(d)},subscribe:d=>(r.push(d),{unsubscribe:()=>{r=r.filter(h=>h!==d)}}),unsubscribe:()=>{r=[]}}},py=r=>ro(r)||!jP(r);function Pc(r,o){if(py(r)||py(o))return r===o;if(dd(r)&&dd(o))return r.getTime()===o.getTime();const s=Object.keys(r),c=Object.keys(o);if(s.length!==c.length)return!1;for(const d of s){const h=r[d];if(!c.includes(d))return!1;if(d!=="ref"){const _=o[d];if(dd(h)&&dd(_)||wi(h)&&wi(_)||Array.isArray(h)&&Array.isArray(_)?!Pc(h,_):h!==_)return!1}}return!0}var BP=r=>r.type==="select-multiple",qI=r=>oS(r)||nv(r),E_=r=>fy(r)&&r.isConnected,HP=r=>{for(const o in r)if(su(r[o]))return!0;return!1};function hy(r,o={}){const s=Array.isArray(r);if(wi(r)||s)for(const c in r)Array.isArray(r[c])||wi(r[c])&&!HP(r[c])?(o[c]=Array.isArray(r[c])?[]:{},hy(r[c],o[c])):ro(r[c])||(o[c]=!0);return o}function zP(r,o,s){const c=Array.isArray(r);if(wi(r)||c)for(const d in r)Array.isArray(r[d])||wi(r[d])&&!HP(r[d])?Jn(o)||py(s[d])?s[d]=Array.isArray(r[d])?hy(r[d],[]):{...hy(r[d])}:zP(r[d],ro(o)?{}:o[d],s[d]):s[d]=!Pc(r[d],o[d]);return s}var mm=(r,o)=>zP(r,o,hy(o)),WP=(r,{valueAsNumber:o,valueAsDate:s,setValueAs:c})=>Jn(r)?r:o?r===""?NaN:r&&+r:s&&vs(r)?new Date(r):c?c(r):r;function T_(r){const o=r.ref;if(!(r.refs?r.refs.every(s=>s.disabled):o.disabled))return iS(o)?o.files:oS(o)?UP(r.refs).value:BP(o)?[...o.selectedOptions].map(({value:s})=>s):nv(o)?VP(r.refs).value:WP(Jn(o.value)?r.ref.value:o.value,r)}var YI=(r,o,s,c)=>{const d={};for(const h of r){const _=Ht(o,h);_&&On(d,h,_._f)}return{criteriaMode:s,names:[...r],fields:d,shouldUseNativeValidation:c}},eh=r=>Jn(r)?r:dy(r)?r.source:wi(r)?dy(r.value)?r.value.source:r.value:r,XI=r=>r.mount&&(r.required||r.min||r.max||r.maxLength||r.minLength||r.pattern||r.validate);function wO(r,o,s){const c=Ht(r,s);if(c||nS(s))return{error:c,name:s};const d=s.split(".");for(;d.length;){const h=d.join("."),_=Ht(o,h),x=Ht(r,h);if(_&&!Array.isArray(_)&&s!==h)return{name:s};if(x&&x.type)return{name:h,error:x};d.pop()}return{name:s}}var JI=(r,o,s,c,d)=>d.isOnAll?!1:!s&&d.isOnTouch?!(o||r):(s?c.isOnBlur:d.isOnBlur)?!r:(s?c.isOnChange:d.isOnChange)?r:!0,QI=(r,o)=>!iv(Ht(r,o)).length&&vi(r,o);const eF={mode:xa.onSubmit,reValidateMode:xa.onChange,shouldFocusError:!0};function tF(r={}){let o={...eF,...r},s={submitCount:0,isDirty:!1,isLoading:su(o.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:o.errors||{},disabled:o.disabled||!1},c={},d=wi(o.defaultValues)||wi(o.values)?Zo(o.defaultValues||o.values)||{}:{},h=o.shouldUnregister?{}:Zo(d),_={action:!1,mount:!1,watch:!1},x={mount:new Set,unMount:new Set,array:new Set,watch:new Set},S,C=0;const T={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},P={values:O_(),array:O_(),state:O_()},L=dO(o.mode),N=dO(o.reValidateMode),U=o.criteriaMode===xa.all,K=M=>F=>{clearTimeout(C),C=setTimeout(M,F)},fe=async M=>{if(T.isValid||M){const F=o.resolver?Do((await Ae()).errors):await ve(c,!0);F!==s.isValid&&P.state.next({isValid:F})}},q=(M,F)=>{(T.isValidating||T.validatingFields)&&((M||Array.from(x.mount)).forEach(Z=>{Z&&(F?On(s.validatingFields,Z,F):vi(s.validatingFields,Z))}),P.state.next({validatingFields:s.validatingFields,isValidating:!Do(s.validatingFields)}))},z=(M,F=[],Z,pe,Se=!0,J=!0)=>{if(pe&&Z){if(_.action=!0,J&&Array.isArray(Ht(c,M))){const xe=Z(Ht(c,M),pe.argA,pe.argB);Se&&On(c,M,xe)}if(J&&Array.isArray(Ht(s.errors,M))){const xe=Z(Ht(s.errors,M),pe.argA,pe.argB);Se&&On(s.errors,M,xe),QI(s.errors,M)}if(T.touchedFields&&J&&Array.isArray(Ht(s.touchedFields,M))){const xe=Z(Ht(s.touchedFields,M),pe.argA,pe.argB);Se&&On(s.touchedFields,M,xe)}T.dirtyFields&&(s.dirtyFields=mm(d,h)),P.state.next({name:M,isDirty:re(M,F),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else On(h,M,F)},$=(M,F)=>{On(s.errors,M,F),P.state.next({errors:s.errors})},X=M=>{s.errors=M,P.state.next({errors:s.errors,isValid:!1})},_e=(M,F,Z,pe)=>{const Se=Ht(c,M);if(Se){const J=Ht(h,M,Jn(Z)?Ht(d,M):Z);Jn(J)||pe&&pe.defaultChecked||F?On(h,M,F?J:T_(Se._f)):be(M,J),_.mount&&fe()}},ie=(M,F,Z,pe,Se)=>{let J=!1,xe=!1;const Oe={name:M},yt=!!(Ht(c,M)&&Ht(c,M)._f&&Ht(c,M)._f.disabled);if(!Z||pe){T.isDirty&&(xe=s.isDirty,s.isDirty=Oe.isDirty=re(),J=xe!==Oe.isDirty);const qt=yt||Pc(Ht(d,M),F);xe=!!(!yt&&Ht(s.dirtyFields,M)),qt||yt?vi(s.dirtyFields,M):On(s.dirtyFields,M,!0),Oe.dirtyFields=s.dirtyFields,J=J||T.dirtyFields&&xe!==!qt}if(Z){const qt=Ht(s.touchedFields,M);qt||(On(s.touchedFields,M,Z),Oe.touchedFields=s.touchedFields,J=J||T.touchedFields&&qt!==Z)}return J&&Se&&P.state.next(Oe),J?Oe:{}},we=(M,F,Z,pe)=>{const Se=Ht(s.errors,M),J=T.isValid&&iu(F)&&s.isValid!==F;if(r.delayError&&Z?(S=K(()=>$(M,Z)),S(r.delayError)):(clearTimeout(C),S=null,Z?On(s.errors,M,Z):vi(s.errors,M)),(Z?!Pc(Se,Z):Se)||!Do(pe)||J){const xe={...pe,...J&&iu(F)?{isValid:F}:{},errors:s.errors,name:M};s={...s,...xe},P.state.next(xe)}},Ae=async M=>{q(M,!0);const F=await o.resolver(h,o.context,YI(M||x.mount,c,o.criteriaMode,o.shouldUseNativeValidation));return q(M),F},se=async M=>{const{errors:F}=await Ae(M);if(M)for(const Z of M){const pe=Ht(F,Z);pe?On(s.errors,Z,pe):vi(s.errors,Z)}else s.errors=F;return F},ve=async(M,F,Z={valid:!0})=>{for(const pe in M){const Se=M[pe];if(Se){const{_f:J,...xe}=Se;if(J){const Oe=x.array.has(J.name);q([pe],!0);const yt=await yO(Se,h,U,o.shouldUseNativeValidation&&!F,Oe);if(q([pe]),yt[J.name]&&(Z.valid=!1,F))break;!F&&(Ht(yt,J.name)?Oe?KI(s.errors,yt,J.name):On(s.errors,J.name,yt[J.name]):vi(s.errors,J.name))}xe&&await ve(xe,F,Z)}}return Z.valid},te=()=>{for(const M of x.unMount){const F=Ht(c,M);F&&(F._f.refs?F._f.refs.every(Z=>!E_(Z)):!E_(F._f.ref))&&Te(M)}x.unMount=new Set},re=(M,F)=>(M&&F&&On(h,M,F),!Pc(ge(),d)),ae=(M,F,Z)=>$I(M,x,{..._.mount?h:Jn(F)?d:vs(M)?{[M]:F}:F},Z,F),G=M=>iv(Ht(_.mount?h:d,M,r.shouldUnregister?Ht(d,M,[]):[])),be=(M,F,Z={})=>{const pe=Ht(c,M);let Se=F;if(pe){const J=pe._f;J&&(!J.disabled&&On(h,M,WP(F,J)),Se=fy(J.ref)&&ro(F)?"":F,BP(J.ref)?[...J.ref.options].forEach(xe=>xe.selected=Se.includes(xe.value)):J.refs?nv(J.ref)?J.refs.length>1?J.refs.forEach(xe=>(!xe.defaultChecked||!xe.disabled)&&(xe.checked=Array.isArray(Se)?!!Se.find(Oe=>Oe===xe.value):Se===xe.value)):J.refs[0]&&(J.refs[0].checked=!!Se):J.refs.forEach(xe=>xe.checked=xe.value===Se):iS(J.ref)?J.ref.value="":(J.ref.value=Se,J.ref.type||P.values.next({name:M,values:{...h}})))}(Z.shouldDirty||Z.shouldTouch)&&ie(M,Se,Z.shouldTouch,Z.shouldDirty,!0),Z.shouldValidate&&$e(M)},W=(M,F,Z)=>{for(const pe in F){const Se=F[pe],J=`${M}.${pe}`,xe=Ht(c,J);(x.array.has(M)||!py(Se)||xe&&!xe._f)&&!dd(Se)?W(J,Se,Z):be(J,Se,Z)}},Le=(M,F,Z={})=>{const pe=Ht(c,M),Se=x.array.has(M),J=Zo(F);On(h,M,J),Se?(P.array.next({name:M,values:{...h}}),(T.isDirty||T.dirtyFields)&&Z.shouldDirty&&P.state.next({name:M,dirtyFields:mm(d,h),isDirty:re(M,J)})):pe&&!pe._f&&!ro(J)?W(M,J,Z):be(M,J,Z),pO(M,x)&&P.state.next({...s}),P.values.next({name:_.mount?M:void 0,values:{...h}})},ye=async M=>{_.mount=!0;const F=M.target;let Z=F.name,pe=!0;const Se=Ht(c,Z),J=()=>F.type?T_(Se._f):FI(M),xe=Oe=>{pe=Number.isNaN(Oe)||Oe===Ht(h,Z,Oe)};if(Se){let Oe,yt;const qt=J(),Vt=M.type===fO.BLUR||M.type===fO.FOCUS_OUT,rr=!XI(Se._f)&&!o.resolver&&!Ht(s.errors,Z)&&!Se._f.deps||JI(Vt,Ht(s.touchedFields,Z),s.isSubmitted,N,L),Er=pO(Z,x,Vt);On(h,Z,qt),Vt?(Se._f.onBlur&&Se._f.onBlur(M),S&&S(0)):Se._f.onChange&&Se._f.onChange(M);const Tt=ie(Z,qt,Vt,!1),Sr=!Do(Tt)||Er;if(!Vt&&P.values.next({name:Z,type:M.type,values:{...h}}),rr)return T.isValid&&fe(),Sr&&P.state.next({name:Z,...Er?{}:Tt});if(!Vt&&Er&&P.state.next({...s}),o.resolver){const{errors:zt}=await Ae([Z]);if(xe(qt),pe){const dr=wO(s.errors,c,Z),nn=wO(zt,c,dr.name||Z);Oe=nn.error,Z=nn.name,yt=Do(zt)}}else q([Z],!0),Oe=(await yO(Se,h,U,o.shouldUseNativeValidation))[Z],q([Z]),xe(qt),pe&&(Oe?yt=!1:T.isValid&&(yt=await ve(c,!0)));pe&&(Se._f.deps&&$e(Se._f.deps),we(Z,yt,Oe,Tt))}},Ue=(M,F)=>{if(Ht(s.errors,F)&&M.focus)return M.focus(),1},$e=async(M,F={})=>{let Z,pe;const Se=C_(M);if(o.resolver){const J=await se(Jn(M)?M:Se);Z=Do(J),pe=M?!Se.some(xe=>Ht(J,xe)):Z}else M?(pe=(await Promise.all(Se.map(async J=>{const xe=Ht(c,J);return await ve(xe&&xe._f?{[J]:xe}:xe)}))).every(Boolean),!(!pe&&!s.isValid)&&fe()):pe=Z=await ve(c);return P.state.next({...!vs(M)||T.isValid&&Z!==s.isValid?{}:{name:M},...o.resolver||!M?{isValid:Z}:{},errors:s.errors}),F.shouldFocus&&!pe&&Sh(c,Ue,M?Se:x.mount),pe},ge=M=>{const F={..._.mount?h:d};return Jn(M)?F:vs(M)?Ht(F,M):M.map(Z=>Ht(F,Z))},Ve=(M,F)=>({invalid:!!Ht((F||s).errors,M),isDirty:!!Ht((F||s).dirtyFields,M),error:Ht((F||s).errors,M),isValidating:!!Ht(s.validatingFields,M),isTouched:!!Ht((F||s).touchedFields,M)}),Ye=M=>{M&&C_(M).forEach(F=>vi(s.errors,F)),P.state.next({errors:M?s.errors:{}})},We=(M,F,Z)=>{const pe=(Ht(c,M,{_f:{}})._f||{}).ref,Se=Ht(s.errors,M)||{},{ref:J,message:xe,type:Oe,...yt}=Se;On(s.errors,M,{...yt,...F,ref:pe}),P.state.next({name:M,errors:s.errors,isValid:!1}),Z&&Z.shouldFocus&&pe&&pe.focus&&pe.focus()},dt=(M,F)=>su(M)?P.values.subscribe({next:Z=>M(ae(void 0,F),Z)}):ae(M,F,!0),Te=(M,F={})=>{for(const Z of M?C_(M):x.mount)x.mount.delete(Z),x.array.delete(Z),F.keepValue||(vi(c,Z),vi(h,Z)),!F.keepError&&vi(s.errors,Z),!F.keepDirty&&vi(s.dirtyFields,Z),!F.keepTouched&&vi(s.touchedFields,Z),!F.keepIsValidating&&vi(s.validatingFields,Z),!o.shouldUnregister&&!F.keepDefaultValue&&vi(d,Z);P.values.next({values:{...h}}),P.state.next({...s,...F.keepDirty?{isDirty:re()}:{}}),!F.keepIsValid&&fe()},ze=({disabled:M,name:F,field:Z,fields:pe,value:Se})=>{if(iu(M)&&_.mount||M){const J=M?void 0:Jn(Se)?T_(Z?Z._f:Ht(pe,F)._f):Se;On(h,F,J),ie(F,J,!1,!1,!0)}},qe=(M,F={})=>{let Z=Ht(c,M);const pe=iu(F.disabled);return On(c,M,{...Z||{},_f:{...Z&&Z._f?Z._f:{ref:{name:M}},name:M,mount:!0,...F}}),x.mount.add(M),Z?ze({field:Z,disabled:F.disabled,name:M,value:F.value}):_e(M,!0,F.value),{...pe?{disabled:F.disabled}:{},...o.progressive?{required:!!F.required,min:eh(F.min),max:eh(F.max),minLength:eh(F.minLength),maxLength:eh(F.maxLength),pattern:eh(F.pattern)}:{},name:M,onChange:ye,onBlur:ye,ref:Se=>{if(Se){qe(M,F),Z=Ht(c,M);const J=Jn(Se.value)&&Se.querySelectorAll&&Se.querySelectorAll("input,select,textarea")[0]||Se,xe=qI(J),Oe=Z._f.refs||[];if(xe?Oe.find(yt=>yt===J):J===Z._f.ref)return;On(c,M,{_f:{...Z._f,...xe?{refs:[...Oe.filter(E_),J,...Array.isArray(Ht(d,M))?[{}]:[]],ref:{type:J.type,name:M}}:{ref:J}}}),_e(M,!1,void 0,J)}else Z=Ht(c,M,{}),Z._f&&(Z._f.mount=!1),(o.shouldUnregister||F.shouldUnregister)&&!(UI(x.array,M)&&_.action)&&x.unMount.add(M)}}},ut=()=>o.shouldFocusError&&Sh(c,Ue,x.mount),vt=M=>{iu(M)&&(P.state.next({disabled:M}),Sh(c,(F,Z)=>{const pe=Ht(c,Z);pe&&(F.disabled=pe._f.disabled||M,Array.isArray(pe._f.refs)&&pe._f.refs.forEach(Se=>{Se.disabled=pe._f.disabled||M}))},0,!1))},rt=(M,F)=>async Z=>{let pe;Z&&(Z.preventDefault&&Z.preventDefault(),Z.persist&&Z.persist());let Se=Zo(h);if(P.state.next({isSubmitting:!0}),o.resolver){const{errors:J,values:xe}=await Ae();s.errors=J,Se=xe}else await ve(c);if(vi(s.errors,"root"),Do(s.errors)){P.state.next({errors:{}});try{await M(Se,Z)}catch(J){pe=J}}else F&&await F({...s.errors},Z),ut(),setTimeout(ut);if(P.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Do(s.errors)&&!pe,submitCount:s.submitCount+1,errors:s.errors}),pe)throw pe},lt=(M,F={})=>{Ht(c,M)&&(Jn(F.defaultValue)?Le(M,Zo(Ht(d,M))):(Le(M,F.defaultValue),On(d,M,Zo(F.defaultValue))),F.keepTouched||vi(s.touchedFields,M),F.keepDirty||(vi(s.dirtyFields,M),s.isDirty=F.defaultValue?re(M,Zo(Ht(d,M))):re()),F.keepError||(vi(s.errors,M),T.isValid&&fe()),P.state.next({...s}))},ar=(M,F={})=>{const Z=M?Zo(M):d,pe=Zo(Z),Se=Do(M),J=Se?d:pe;if(F.keepDefaultValues||(d=Z),!F.keepValues){if(F.keepDirtyValues)for(const xe of x.mount)Ht(s.dirtyFields,xe)?On(J,xe,Ht(h,xe)):Le(xe,Ht(J,xe));else{if(rS&&Jn(M))for(const xe of x.mount){const Oe=Ht(c,xe);if(Oe&&Oe._f){const yt=Array.isArray(Oe._f.refs)?Oe._f.refs[0]:Oe._f.ref;if(fy(yt)){const qt=yt.closest("form");if(qt){qt.reset();break}}}}c={}}h=r.shouldUnregister?F.keepDefaultValues?Zo(d):{}:Zo(J),P.array.next({values:{...J}}),P.values.next({values:{...J}})}x={mount:F.keepDirtyValues?x.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},_.mount=!T.isValid||!!F.keepIsValid||!!F.keepDirtyValues,_.watch=!!r.shouldUnregister,P.state.next({submitCount:F.keepSubmitCount?s.submitCount:0,isDirty:Se?!1:F.keepDirty?s.isDirty:!!(F.keepDefaultValues&&!Pc(M,d)),isSubmitted:F.keepIsSubmitted?s.isSubmitted:!1,dirtyFields:Se?[]:F.keepDirtyValues?F.keepDefaultValues&&h?mm(d,h):s.dirtyFields:F.keepDefaultValues&&M?mm(d,M):F.keepDirty?s.dirtyFields:{},touchedFields:F.keepTouched?s.touchedFields:{},errors:F.keepErrors?s.errors:{},isSubmitSuccessful:F.keepIsSubmitSuccessful?s.isSubmitSuccessful:!1,isSubmitting:!1})},zr=(M,F)=>ar(su(M)?M(h):M,F);return{control:{register:qe,unregister:Te,getFieldState:Ve,handleSubmit:rt,setError:We,_executeSchema:Ae,_getWatch:ae,_getDirty:re,_updateValid:fe,_removeUnmounted:te,_updateFieldArray:z,_updateDisabledField:ze,_getFieldArray:G,_reset:ar,_resetDefaultValues:()=>su(o.defaultValues)&&o.defaultValues().then(M=>{zr(M,o.resetOptions),P.state.next({isLoading:!1})}),_updateFormState:M=>{s={...s,...M}},_disableForm:vt,_subjects:P,_proxyFormState:T,_setErrors:X,get _fields(){return c},get _formValues(){return h},get _state(){return _},set _state(M){_=M},get _defaultValues(){return d},get _names(){return x},set _names(M){x=M},get _formState(){return s},set _formState(M){s=M},get _options(){return o},set _options(M){o={...o,...M}}},trigger:$e,register:qe,handleSubmit:rt,watch:dt,setValue:Le,getValues:ge,reset:zr,resetField:lt,clearErrors:Ye,unregister:Te,setError:We,setFocus:(M,F={})=>{const Z=Ht(c,M),pe=Z&&Z._f;if(pe){const Se=pe.refs?pe.refs[0]:pe.ref;Se.focus&&(Se.focus(),F.shouldSelect&&Se.select())}},getFieldState:Ve}}function rF(r={}){const o=gi.useRef(),s=gi.useRef(),[c,d]=gi.useState({isDirty:!1,isValidating:!1,isLoading:su(r.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1,defaultValues:su(r.defaultValues)?void 0:r.defaultValues});o.current||(o.current={...tF(r),formState:c});const h=o.current.control;return h._options=r,WI({subject:h._subjects.state,next:_=>{zI(_,h._proxyFormState,h._updateFormState)&&d({...h._formState})}}),gi.useEffect(()=>h._disableForm(r.disabled),[h,r.disabled]),gi.useEffect(()=>{if(h._proxyFormState.isDirty){const _=h._getDirty();_!==c.isDirty&&h._subjects.state.next({isDirty:_})}},[h,c.isDirty]),gi.useEffect(()=>{r.values&&!Pc(r.values,s.current)?(h._reset(r.values,h._options.resetOptions),s.current=r.values,d(_=>({..._}))):h._resetDefaultValues()},[r.values,h]),gi.useEffect(()=>{r.errors&&h._setErrors(r.errors)},[r.errors,h]),gi.useEffect(()=>{h._state.mount||(h._updateValid(),h._state.mount=!0),h._state.watch&&(h._state.watch=!1,h._subjects.state.next({...h._formState})),h._removeUnmounted()}),gi.useEffect(()=>{r.shouldUnregister&&h._subjects.values.next({values:h._getWatch()})},[r.shouldUnregister,h]),o.current.formState=HI(c,h),o.current}var _O=function(r,o,s){if(r&&"reportValidity"in r){var c=Ht(s,o);r.setCustomValidity(c&&c.message||""),r.reportValidity()}},$P=function(r,o){var s=function(d){var h=o.fields[d];h&&h.ref&&"reportValidity"in h.ref?_O(h.ref,d,r):h.refs&&h.refs.forEach(function(_){return _O(_,d,r)})};for(var c in o.fields)s(c)},nF=function(r){return r instanceof Date},iF=function(r){return r==null},oF=function(r){return typeof r=="object"},aF=function(r){return!iF(r)&&!Array.isArray(r)&&oF(r)&&!nF(r)},sF=function(r){return/^\w*$/.test(r)},P_=function(r,o,s){for(var c=-1,d=sF(o)?[o]:function(T){return P=T.replace(/["|']|\]/g,"").split(/\.|\[/),Array.isArray(P)?P.filter(Boolean):[];var P}(o),h=d.length,_=h-1;++c<h;){var x=d[c],S=s;if(c!==_){var C=r[x];S=aF(C)||Array.isArray(C)?C:isNaN(+d[c+1])?{}:[]}r[x]=S,r=r[x]}return r},lF=function(r,o){o.shouldUseNativeValidation&&$P(r,o);var s={};for(var c in r){var d=Ht(o.fields,c),h=Object.assign(r[c]||{},{ref:d&&d.ref});if(uF(o.names||Object.keys(r),c)){var _=Object.assign({},Ht(s,c));P_(_,"root",h),P_(s,c,_)}else P_(s,c,h)}return s},uF=function(r,o){return r.some(function(s){return s.startsWith(o+".")})},cF=function(r,o){for(var s={};r.length;){var c=r[0],d=c.code,h=c.message,_=c.path.join(".");if(!s[_])if("unionErrors"in c){var x=c.unionErrors[0].errors[0];s[_]={message:x.message,type:x.code}}else s[_]={message:h,type:d};if("unionErrors"in c&&c.unionErrors.forEach(function(T){return T.errors.forEach(function(P){return r.push(P)})}),o){var S=s[_].types,C=S&&S[c.code];s[_]=FP(_,o,s,d,C?[].concat(C,c.message):c.message)}r.shift()}return s},fF=function(r,o,s){return s===void 0&&(s={}),function(c,d,h){try{return Promise.resolve(function(_,x){try{var S=Promise.resolve(r[s.mode==="sync"?"parse":"parseAsync"](c,o)).then(function(C){return h.shouldUseNativeValidation&&$P({},h),{errors:{},values:s.raw?c:C}})}catch(C){return x(C)}return S&&S.then?S.then(void 0,x):S}(0,function(_){if(function(x){return x.errors!=null}(_))return{values:{},errors:lF(cF(_.errors,!h.shouldUseNativeValidation&&h.criteriaMode==="all"),h)};throw _}))}catch(_){return Promise.reject(_)}}},Yr;(function(r){r.assertEqual=d=>d;function o(d){}r.assertIs=o;function s(d){throw new Error}r.assertNever=s,r.arrayToEnum=d=>{const h={};for(const _ of d)h[_]=_;return h},r.getValidEnumValues=d=>{const h=r.objectKeys(d).filter(x=>typeof d[d[x]]!="number"),_={};for(const x of h)_[x]=d[x];return r.objectValues(_)},r.objectValues=d=>r.objectKeys(d).map(function(h){return d[h]}),r.objectKeys=typeof Object.keys=="function"?d=>Object.keys(d):d=>{const h=[];for(const _ in d)Object.prototype.hasOwnProperty.call(d,_)&&h.push(_);return h},r.find=(d,h)=>{for(const _ of d)if(h(_))return _},r.isInteger=typeof Number.isInteger=="function"?d=>Number.isInteger(d):d=>typeof d=="number"&&isFinite(d)&&Math.floor(d)===d;function c(d,h=" | "){return d.map(_=>typeof _=="string"?`'${_}'`:_).join(h)}r.joinValues=c,r.jsonStringifyReplacer=(d,h)=>typeof h=="bigint"?h.toString():h})(Yr||(Yr={}));var bO;(function(r){r.mergeShapes=(o,s)=>({...o,...s})})(bO||(bO={}));const Ut=Yr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Sc=r=>{switch(typeof r){case"undefined":return Ut.undefined;case"string":return Ut.string;case"number":return isNaN(r)?Ut.nan:Ut.number;case"boolean":return Ut.boolean;case"function":return Ut.function;case"bigint":return Ut.bigint;case"symbol":return Ut.symbol;case"object":return Array.isArray(r)?Ut.array:r===null?Ut.null:r.then&&typeof r.then=="function"&&r.catch&&typeof r.catch=="function"?Ut.promise:typeof Map<"u"&&r instanceof Map?Ut.map:typeof Set<"u"&&r instanceof Set?Ut.set:typeof Date<"u"&&r instanceof Date?Ut.date:Ut.object;default:return Ut.unknown}},wt=Yr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Qo extends Error{constructor(o){super(),this.issues=[],this.addIssue=c=>{this.issues=[...this.issues,c]},this.addIssues=(c=[])=>{this.issues=[...this.issues,...c]};const s=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,s):this.__proto__=s,this.name="ZodError",this.issues=o}get errors(){return this.issues}format(o){const s=o||function(h){return h.message},c={_errors:[]},d=h=>{for(const _ of h.issues)if(_.code==="invalid_union")_.unionErrors.map(d);else if(_.code==="invalid_return_type")d(_.returnTypeError);else if(_.code==="invalid_arguments")d(_.argumentsError);else if(_.path.length===0)c._errors.push(s(_));else{let x=c,S=0;for(;S<_.path.length;){const C=_.path[S];S===_.path.length-1?(x[C]=x[C]||{_errors:[]},x[C]._errors.push(s(_))):x[C]=x[C]||{_errors:[]},x=x[C],S++}}};return d(this),c}static assert(o){if(!(o instanceof Qo))throw new Error(`Not a ZodError: ${o}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Yr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(o=s=>s.message){const s={},c=[];for(const d of this.issues)d.path.length>0?(s[d.path[0]]=s[d.path[0]]||[],s[d.path[0]].push(o(d))):c.push(o(d));return{formErrors:c,fieldErrors:s}}get formErrors(){return this.flatten()}}Qo.create=r=>new Qo(r);const Wh=(r,o)=>{let s;switch(r.code){case wt.invalid_type:r.received===Ut.undefined?s="Required":s=`Expected ${r.expected}, received ${r.received}`;break;case wt.invalid_literal:s=`Invalid literal value, expected ${JSON.stringify(r.expected,Yr.jsonStringifyReplacer)}`;break;case wt.unrecognized_keys:s=`Unrecognized key(s) in object: ${Yr.joinValues(r.keys,", ")}`;break;case wt.invalid_union:s="Invalid input";break;case wt.invalid_union_discriminator:s=`Invalid discriminator value. Expected ${Yr.joinValues(r.options)}`;break;case wt.invalid_enum_value:s=`Invalid enum value. Expected ${Yr.joinValues(r.options)}, received '${r.received}'`;break;case wt.invalid_arguments:s="Invalid function arguments";break;case wt.invalid_return_type:s="Invalid function return type";break;case wt.invalid_date:s="Invalid date";break;case wt.invalid_string:typeof r.validation=="object"?"includes"in r.validation?(s=`Invalid input: must include "${r.validation.includes}"`,typeof r.validation.position=="number"&&(s=`${s} at one or more positions greater than or equal to ${r.validation.position}`)):"startsWith"in r.validation?s=`Invalid input: must start with "${r.validation.startsWith}"`:"endsWith"in r.validation?s=`Invalid input: must end with "${r.validation.endsWith}"`:Yr.assertNever(r.validation):r.validation!=="regex"?s=`Invalid ${r.validation}`:s="Invalid";break;case wt.too_small:r.type==="array"?s=`Array must contain ${r.exact?"exactly":r.inclusive?"at least":"more than"} ${r.minimum} element(s)`:r.type==="string"?s=`String must contain ${r.exact?"exactly":r.inclusive?"at least":"over"} ${r.minimum} character(s)`:r.type==="number"?s=`Number must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${r.minimum}`:r.type==="date"?s=`Date must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(r.minimum))}`:s="Invalid input";break;case wt.too_big:r.type==="array"?s=`Array must contain ${r.exact?"exactly":r.inclusive?"at most":"less than"} ${r.maximum} element(s)`:r.type==="string"?s=`String must contain ${r.exact?"exactly":r.inclusive?"at most":"under"} ${r.maximum} character(s)`:r.type==="number"?s=`Number must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="bigint"?s=`BigInt must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="date"?s=`Date must be ${r.exact?"exactly":r.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(r.maximum))}`:s="Invalid input";break;case wt.custom:s="Invalid input";break;case wt.invalid_intersection_types:s="Intersection results could not be merged";break;case wt.not_multiple_of:s=`Number must be a multiple of ${r.multipleOf}`;break;case wt.not_finite:s="Number must be finite";break;default:s=o.defaultError,Yr.assertNever(r)}return{message:s}};let dF=Wh;function Nb(){return dF}const jb=r=>{const{data:o,path:s,errorMaps:c,issueData:d}=r,h=[...s,...d.path||[]],_={...d,path:h};if(d.message!==void 0)return{...d,path:h,message:d.message};let x="";const S=c.filter(C=>!!C).slice().reverse();for(const C of S)x=C(_,{data:o,defaultError:x}).message;return{...d,path:h,message:x}};function Nt(r,o){const s=Nb(),c=jb({issueData:o,data:r.data,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,s,s===Wh?void 0:Wh].filter(d=>!!d)});r.common.issues.push(c)}class io{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(o,s){const c=[];for(const d of s){if(d.status==="aborted")return yr;d.status==="dirty"&&o.dirty(),c.push(d.value)}return{status:o.value,value:c}}static async mergeObjectAsync(o,s){const c=[];for(const d of s){const h=await d.key,_=await d.value;c.push({key:h,value:_})}return io.mergeObjectSync(o,c)}static mergeObjectSync(o,s){const c={};for(const d of s){const{key:h,value:_}=d;if(h.status==="aborted"||_.status==="aborted")return yr;h.status==="dirty"&&o.dirty(),_.status==="dirty"&&o.dirty(),h.value!=="__proto__"&&(typeof _.value<"u"||d.alwaysSet)&&(c[h.value]=_.value)}return{status:o.value,value:c}}}const yr=Object.freeze({status:"aborted"}),uh=r=>({status:"dirty",value:r}),wo=r=>({status:"valid",value:r}),xO=r=>r.status==="aborted",SO=r=>r.status==="dirty",vy=r=>r.status==="valid",gy=r=>typeof Promise<"u"&&r instanceof Promise;function my(r,o,s,c){if(typeof o=="function"?r!==o||!c:!o.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return o.get(r)}function KP(r,o,s,c,d){if(typeof o=="function"?r!==o||!d:!o.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o.set(r,s),s}var tr;(function(r){r.errToObj=o=>typeof o=="string"?{message:o}:o||{},r.toString=o=>typeof o=="string"?o:o==null?void 0:o.message})(tr||(tr={}));var ch,fh;class ws{constructor(o,s,c,d){this._cachedPath=[],this.parent=o,this.data=s,this._path=c,this._key=d}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const CO=(r,o)=>{if(vy(o))return{success:!0,data:o.value};if(!r.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const s=new Qo(r.common.issues);return this._error=s,this._error}}};function kr(r){if(!r)return{};const{errorMap:o,invalid_type_error:s,required_error:c,description:d}=r;if(o&&(s||c))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return o?{errorMap:o,description:d}:{errorMap:(_,x)=>{var S,C;const{message:T}=r;return _.code==="invalid_enum_value"?{message:T??x.defaultError}:typeof x.data>"u"?{message:(S=T??c)!==null&&S!==void 0?S:x.defaultError}:_.code!=="invalid_type"?{message:x.defaultError}:{message:(C=T??s)!==null&&C!==void 0?C:x.defaultError}},description:d}}class Br{constructor(o){this.spa=this.safeParseAsync,this._def=o,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(o){return Sc(o.data)}_getOrReturnCtx(o,s){return s||{common:o.parent.common,data:o.data,parsedType:Sc(o.data),schemaErrorMap:this._def.errorMap,path:o.path,parent:o.parent}}_processInputParams(o){return{status:new io,ctx:{common:o.parent.common,data:o.data,parsedType:Sc(o.data),schemaErrorMap:this._def.errorMap,path:o.path,parent:o.parent}}}_parseSync(o){const s=this._parse(o);if(gy(s))throw new Error("Synchronous parse encountered promise.");return s}_parseAsync(o){const s=this._parse(o);return Promise.resolve(s)}parse(o,s){const c=this.safeParse(o,s);if(c.success)return c.data;throw c.error}safeParse(o,s){var c;const d={common:{issues:[],async:(c=s==null?void 0:s.async)!==null&&c!==void 0?c:!1,contextualErrorMap:s==null?void 0:s.errorMap},path:(s==null?void 0:s.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:o,parsedType:Sc(o)},h=this._parseSync({data:o,path:d.path,parent:d});return CO(d,h)}async parseAsync(o,s){const c=await this.safeParseAsync(o,s);if(c.success)return c.data;throw c.error}async safeParseAsync(o,s){const c={common:{issues:[],contextualErrorMap:s==null?void 0:s.errorMap,async:!0},path:(s==null?void 0:s.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:o,parsedType:Sc(o)},d=this._parse({data:o,path:c.path,parent:c}),h=await(gy(d)?d:Promise.resolve(d));return CO(c,h)}refine(o,s){const c=d=>typeof s=="string"||typeof s>"u"?{message:s}:typeof s=="function"?s(d):s;return this._refinement((d,h)=>{const _=o(d),x=()=>h.addIssue({code:wt.custom,...c(d)});return typeof Promise<"u"&&_ instanceof Promise?_.then(S=>S?!0:(x(),!1)):_?!0:(x(),!1)})}refinement(o,s){return this._refinement((c,d)=>o(c)?!0:(d.addIssue(typeof s=="function"?s(c,d):s),!1))}_refinement(o){return new ll({schema:this,typeName:vr.ZodEffects,effect:{type:"refinement",refinement:o}})}superRefine(o){return this._refinement(o)}optional(){return rl.create(this,this._def)}nullable(){return zc.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ys.create(this,this._def)}promise(){return Kh.create(this,this._def)}or(o){return _y.create([this,o],this._def)}and(o){return by.create(this,o,this._def)}transform(o){return new ll({...kr(this._def),schema:this,typeName:vr.ZodEffects,effect:{type:"transform",transform:o}})}default(o){const s=typeof o=="function"?o:()=>o;return new Ey({...kr(this._def),innerType:this,defaultValue:s,typeName:vr.ZodDefault})}brand(){return new YP({typeName:vr.ZodBranded,type:this,...kr(this._def)})}catch(o){const s=typeof o=="function"?o:()=>o;return new Ty({...kr(this._def),innerType:this,catchValue:s,typeName:vr.ZodCatch})}describe(o){const s=this.constructor;return new s({...this._def,description:o})}pipe(o){return Qy.create(this,o)}readonly(){return Py.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const pF=/^c[^\s-]{8,}$/i,hF=/^[0-9a-z]+$/,vF=/^[0-9A-HJKMNP-TV-Z]{26}$/,gF=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,mF=/^[a-z0-9_-]{21}$/i,yF=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,wF=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,_F="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let k_;const bF=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,xF=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,SF=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,GP="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",CF=new RegExp(`^${GP}$`);function ZP(r){let o="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return r.precision?o=`${o}\\.\\d{${r.precision}}`:r.precision==null&&(o=`${o}(\\.\\d+)?`),o}function OF(r){return new RegExp(`^${ZP(r)}$`)}function EF(r){let o=`${GP}T${ZP(r)}`;const s=[];return s.push(r.local?"Z?":"Z"),r.offset&&s.push("([+-]\\d{2}:?\\d{2})"),o=`${o}(${s.join("|")})`,new RegExp(`^${o}$`)}function TF(r,o){return!!((o==="v4"||!o)&&bF.test(r)||(o==="v6"||!o)&&xF.test(r))}class el extends Br{_parse(o){if(this._def.coerce&&(o.data=String(o.data)),this._getType(o)!==Ut.string){const h=this._getOrReturnCtx(o);return Nt(h,{code:wt.invalid_type,expected:Ut.string,received:h.parsedType}),yr}const c=new io;let d;for(const h of this._def.checks)if(h.kind==="min")o.data.length<h.value&&(d=this._getOrReturnCtx(o,d),Nt(d,{code:wt.too_small,minimum:h.value,type:"string",inclusive:!0,exact:!1,message:h.message}),c.dirty());else if(h.kind==="max")o.data.length>h.value&&(d=this._getOrReturnCtx(o,d),Nt(d,{code:wt.too_big,maximum:h.value,type:"string",inclusive:!0,exact:!1,message:h.message}),c.dirty());else if(h.kind==="length"){const _=o.data.length>h.value,x=o.data.length<h.value;(_||x)&&(d=this._getOrReturnCtx(o,d),_?Nt(d,{code:wt.too_big,maximum:h.value,type:"string",inclusive:!0,exact:!0,message:h.message}):x&&Nt(d,{code:wt.too_small,minimum:h.value,type:"string",inclusive:!0,exact:!0,message:h.message}),c.dirty())}else if(h.kind==="email")wF.test(o.data)||(d=this._getOrReturnCtx(o,d),Nt(d,{validation:"email",code:wt.invalid_string,message:h.message}),c.dirty());else if(h.kind==="emoji")k_||(k_=new RegExp(_F,"u")),k_.test(o.data)||(d=this._getOrReturnCtx(o,d),Nt(d,{validation:"emoji",code:wt.invalid_string,message:h.message}),c.dirty());else if(h.kind==="uuid")gF.test(o.data)||(d=this._getOrReturnCtx(o,d),Nt(d,{validation:"uuid",code:wt.invalid_string,message:h.message}),c.dirty());else if(h.kind==="nanoid")mF.test(o.data)||(d=this._getOrReturnCtx(o,d),Nt(d,{validation:"nanoid",code:wt.invalid_string,message:h.message}),c.dirty());else if(h.kind==="cuid")pF.test(o.data)||(d=this._getOrReturnCtx(o,d),Nt(d,{validation:"cuid",code:wt.invalid_string,message:h.message}),c.dirty());else if(h.kind==="cuid2")hF.test(o.data)||(d=this._getOrReturnCtx(o,d),Nt(d,{validation:"cuid2",code:wt.invalid_string,message:h.message}),c.dirty());else if(h.kind==="ulid")vF.test(o.data)||(d=this._getOrReturnCtx(o,d),Nt(d,{validation:"ulid",code:wt.invalid_string,message:h.message}),c.dirty());else if(h.kind==="url")try{new URL(o.data)}catch{d=this._getOrReturnCtx(o,d),Nt(d,{validation:"url",code:wt.invalid_string,message:h.message}),c.dirty()}else h.kind==="regex"?(h.regex.lastIndex=0,h.regex.test(o.data)||(d=this._getOrReturnCtx(o,d),Nt(d,{validation:"regex",code:wt.invalid_string,message:h.message}),c.dirty())):h.kind==="trim"?o.data=o.data.trim():h.kind==="includes"?o.data.includes(h.value,h.position)||(d=this._getOrReturnCtx(o,d),Nt(d,{code:wt.invalid_string,validation:{includes:h.value,position:h.position},message:h.message}),c.dirty()):h.kind==="toLowerCase"?o.data=o.data.toLowerCase():h.kind==="toUpperCase"?o.data=o.data.toUpperCase():h.kind==="startsWith"?o.data.startsWith(h.value)||(d=this._getOrReturnCtx(o,d),Nt(d,{code:wt.invalid_string,validation:{startsWith:h.value},message:h.message}),c.dirty()):h.kind==="endsWith"?o.data.endsWith(h.value)||(d=this._getOrReturnCtx(o,d),Nt(d,{code:wt.invalid_string,validation:{endsWith:h.value},message:h.message}),c.dirty()):h.kind==="datetime"?EF(h).test(o.data)||(d=this._getOrReturnCtx(o,d),Nt(d,{code:wt.invalid_string,validation:"datetime",message:h.message}),c.dirty()):h.kind==="date"?CF.test(o.data)||(d=this._getOrReturnCtx(o,d),Nt(d,{code:wt.invalid_string,validation:"date",message:h.message}),c.dirty()):h.kind==="time"?OF(h).test(o.data)||(d=this._getOrReturnCtx(o,d),Nt(d,{code:wt.invalid_string,validation:"time",message:h.message}),c.dirty()):h.kind==="duration"?yF.test(o.data)||(d=this._getOrReturnCtx(o,d),Nt(d,{validation:"duration",code:wt.invalid_string,message:h.message}),c.dirty()):h.kind==="ip"?TF(o.data,h.version)||(d=this._getOrReturnCtx(o,d),Nt(d,{validation:"ip",code:wt.invalid_string,message:h.message}),c.dirty()):h.kind==="base64"?SF.test(o.data)||(d=this._getOrReturnCtx(o,d),Nt(d,{validation:"base64",code:wt.invalid_string,message:h.message}),c.dirty()):Yr.assertNever(h);return{status:c.value,value:o.data}}_regex(o,s,c){return this.refinement(d=>o.test(d),{validation:s,code:wt.invalid_string,...tr.errToObj(c)})}_addCheck(o){return new el({...this._def,checks:[...this._def.checks,o]})}email(o){return this._addCheck({kind:"email",...tr.errToObj(o)})}url(o){return this._addCheck({kind:"url",...tr.errToObj(o)})}emoji(o){return this._addCheck({kind:"emoji",...tr.errToObj(o)})}uuid(o){return this._addCheck({kind:"uuid",...tr.errToObj(o)})}nanoid(o){return this._addCheck({kind:"nanoid",...tr.errToObj(o)})}cuid(o){return this._addCheck({kind:"cuid",...tr.errToObj(o)})}cuid2(o){return this._addCheck({kind:"cuid2",...tr.errToObj(o)})}ulid(o){return this._addCheck({kind:"ulid",...tr.errToObj(o)})}base64(o){return this._addCheck({kind:"base64",...tr.errToObj(o)})}ip(o){return this._addCheck({kind:"ip",...tr.errToObj(o)})}datetime(o){var s,c;return typeof o=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:o}):this._addCheck({kind:"datetime",precision:typeof(o==null?void 0:o.precision)>"u"?null:o==null?void 0:o.precision,offset:(s=o==null?void 0:o.offset)!==null&&s!==void 0?s:!1,local:(c=o==null?void 0:o.local)!==null&&c!==void 0?c:!1,...tr.errToObj(o==null?void 0:o.message)})}date(o){return this._addCheck({kind:"date",message:o})}time(o){return typeof o=="string"?this._addCheck({kind:"time",precision:null,message:o}):this._addCheck({kind:"time",precision:typeof(o==null?void 0:o.precision)>"u"?null:o==null?void 0:o.precision,...tr.errToObj(o==null?void 0:o.message)})}duration(o){return this._addCheck({kind:"duration",...tr.errToObj(o)})}regex(o,s){return this._addCheck({kind:"regex",regex:o,...tr.errToObj(s)})}includes(o,s){return this._addCheck({kind:"includes",value:o,position:s==null?void 0:s.position,...tr.errToObj(s==null?void 0:s.message)})}startsWith(o,s){return this._addCheck({kind:"startsWith",value:o,...tr.errToObj(s)})}endsWith(o,s){return this._addCheck({kind:"endsWith",value:o,...tr.errToObj(s)})}min(o,s){return this._addCheck({kind:"min",value:o,...tr.errToObj(s)})}max(o,s){return this._addCheck({kind:"max",value:o,...tr.errToObj(s)})}length(o,s){return this._addCheck({kind:"length",value:o,...tr.errToObj(s)})}nonempty(o){return this.min(1,tr.errToObj(o))}trim(){return new el({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new el({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new el({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(o=>o.kind==="datetime")}get isDate(){return!!this._def.checks.find(o=>o.kind==="date")}get isTime(){return!!this._def.checks.find(o=>o.kind==="time")}get isDuration(){return!!this._def.checks.find(o=>o.kind==="duration")}get isEmail(){return!!this._def.checks.find(o=>o.kind==="email")}get isURL(){return!!this._def.checks.find(o=>o.kind==="url")}get isEmoji(){return!!this._def.checks.find(o=>o.kind==="emoji")}get isUUID(){return!!this._def.checks.find(o=>o.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(o=>o.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(o=>o.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(o=>o.kind==="cuid2")}get isULID(){return!!this._def.checks.find(o=>o.kind==="ulid")}get isIP(){return!!this._def.checks.find(o=>o.kind==="ip")}get isBase64(){return!!this._def.checks.find(o=>o.kind==="base64")}get minLength(){let o=null;for(const s of this._def.checks)s.kind==="min"&&(o===null||s.value>o)&&(o=s.value);return o}get maxLength(){let o=null;for(const s of this._def.checks)s.kind==="max"&&(o===null||s.value<o)&&(o=s.value);return o}}el.create=r=>{var o;return new el({checks:[],typeName:vr.ZodString,coerce:(o=r==null?void 0:r.coerce)!==null&&o!==void 0?o:!1,...kr(r)})};function PF(r,o){const s=(r.toString().split(".")[1]||"").length,c=(o.toString().split(".")[1]||"").length,d=s>c?s:c,h=parseInt(r.toFixed(d).replace(".","")),_=parseInt(o.toFixed(d).replace(".",""));return h%_/Math.pow(10,d)}class Pd extends Br{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(o){if(this._def.coerce&&(o.data=Number(o.data)),this._getType(o)!==Ut.number){const h=this._getOrReturnCtx(o);return Nt(h,{code:wt.invalid_type,expected:Ut.number,received:h.parsedType}),yr}let c;const d=new io;for(const h of this._def.checks)h.kind==="int"?Yr.isInteger(o.data)||(c=this._getOrReturnCtx(o,c),Nt(c,{code:wt.invalid_type,expected:"integer",received:"float",message:h.message}),d.dirty()):h.kind==="min"?(h.inclusive?o.data<h.value:o.data<=h.value)&&(c=this._getOrReturnCtx(o,c),Nt(c,{code:wt.too_small,minimum:h.value,type:"number",inclusive:h.inclusive,exact:!1,message:h.message}),d.dirty()):h.kind==="max"?(h.inclusive?o.data>h.value:o.data>=h.value)&&(c=this._getOrReturnCtx(o,c),Nt(c,{code:wt.too_big,maximum:h.value,type:"number",inclusive:h.inclusive,exact:!1,message:h.message}),d.dirty()):h.kind==="multipleOf"?PF(o.data,h.value)!==0&&(c=this._getOrReturnCtx(o,c),Nt(c,{code:wt.not_multiple_of,multipleOf:h.value,message:h.message}),d.dirty()):h.kind==="finite"?Number.isFinite(o.data)||(c=this._getOrReturnCtx(o,c),Nt(c,{code:wt.not_finite,message:h.message}),d.dirty()):Yr.assertNever(h);return{status:d.value,value:o.data}}gte(o,s){return this.setLimit("min",o,!0,tr.toString(s))}gt(o,s){return this.setLimit("min",o,!1,tr.toString(s))}lte(o,s){return this.setLimit("max",o,!0,tr.toString(s))}lt(o,s){return this.setLimit("max",o,!1,tr.toString(s))}setLimit(o,s,c,d){return new Pd({...this._def,checks:[...this._def.checks,{kind:o,value:s,inclusive:c,message:tr.toString(d)}]})}_addCheck(o){return new Pd({...this._def,checks:[...this._def.checks,o]})}int(o){return this._addCheck({kind:"int",message:tr.toString(o)})}positive(o){return this._addCheck({kind:"min",value:0,inclusive:!1,message:tr.toString(o)})}negative(o){return this._addCheck({kind:"max",value:0,inclusive:!1,message:tr.toString(o)})}nonpositive(o){return this._addCheck({kind:"max",value:0,inclusive:!0,message:tr.toString(o)})}nonnegative(o){return this._addCheck({kind:"min",value:0,inclusive:!0,message:tr.toString(o)})}multipleOf(o,s){return this._addCheck({kind:"multipleOf",value:o,message:tr.toString(s)})}finite(o){return this._addCheck({kind:"finite",message:tr.toString(o)})}safe(o){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:tr.toString(o)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:tr.toString(o)})}get minValue(){let o=null;for(const s of this._def.checks)s.kind==="min"&&(o===null||s.value>o)&&(o=s.value);return o}get maxValue(){let o=null;for(const s of this._def.checks)s.kind==="max"&&(o===null||s.value<o)&&(o=s.value);return o}get isInt(){return!!this._def.checks.find(o=>o.kind==="int"||o.kind==="multipleOf"&&Yr.isInteger(o.value))}get isFinite(){let o=null,s=null;for(const c of this._def.checks){if(c.kind==="finite"||c.kind==="int"||c.kind==="multipleOf")return!0;c.kind==="min"?(s===null||c.value>s)&&(s=c.value):c.kind==="max"&&(o===null||c.value<o)&&(o=c.value)}return Number.isFinite(s)&&Number.isFinite(o)}}Pd.create=r=>new Pd({checks:[],typeName:vr.ZodNumber,coerce:(r==null?void 0:r.coerce)||!1,...kr(r)});class kd extends Br{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(o){if(this._def.coerce&&(o.data=BigInt(o.data)),this._getType(o)!==Ut.bigint){const h=this._getOrReturnCtx(o);return Nt(h,{code:wt.invalid_type,expected:Ut.bigint,received:h.parsedType}),yr}let c;const d=new io;for(const h of this._def.checks)h.kind==="min"?(h.inclusive?o.data<h.value:o.data<=h.value)&&(c=this._getOrReturnCtx(o,c),Nt(c,{code:wt.too_small,type:"bigint",minimum:h.value,inclusive:h.inclusive,message:h.message}),d.dirty()):h.kind==="max"?(h.inclusive?o.data>h.value:o.data>=h.value)&&(c=this._getOrReturnCtx(o,c),Nt(c,{code:wt.too_big,type:"bigint",maximum:h.value,inclusive:h.inclusive,message:h.message}),d.dirty()):h.kind==="multipleOf"?o.data%h.value!==BigInt(0)&&(c=this._getOrReturnCtx(o,c),Nt(c,{code:wt.not_multiple_of,multipleOf:h.value,message:h.message}),d.dirty()):Yr.assertNever(h);return{status:d.value,value:o.data}}gte(o,s){return this.setLimit("min",o,!0,tr.toString(s))}gt(o,s){return this.setLimit("min",o,!1,tr.toString(s))}lte(o,s){return this.setLimit("max",o,!0,tr.toString(s))}lt(o,s){return this.setLimit("max",o,!1,tr.toString(s))}setLimit(o,s,c,d){return new kd({...this._def,checks:[...this._def.checks,{kind:o,value:s,inclusive:c,message:tr.toString(d)}]})}_addCheck(o){return new kd({...this._def,checks:[...this._def.checks,o]})}positive(o){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:tr.toString(o)})}negative(o){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:tr.toString(o)})}nonpositive(o){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:tr.toString(o)})}nonnegative(o){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:tr.toString(o)})}multipleOf(o,s){return this._addCheck({kind:"multipleOf",value:o,message:tr.toString(s)})}get minValue(){let o=null;for(const s of this._def.checks)s.kind==="min"&&(o===null||s.value>o)&&(o=s.value);return o}get maxValue(){let o=null;for(const s of this._def.checks)s.kind==="max"&&(o===null||s.value<o)&&(o=s.value);return o}}kd.create=r=>{var o;return new kd({checks:[],typeName:vr.ZodBigInt,coerce:(o=r==null?void 0:r.coerce)!==null&&o!==void 0?o:!1,...kr(r)})};class Ib extends Br{_parse(o){if(this._def.coerce&&(o.data=!!o.data),this._getType(o)!==Ut.boolean){const c=this._getOrReturnCtx(o);return Nt(c,{code:wt.invalid_type,expected:Ut.boolean,received:c.parsedType}),yr}return wo(o.data)}}Ib.create=r=>new Ib({typeName:vr.ZodBoolean,coerce:(r==null?void 0:r.coerce)||!1,...kr(r)});class $h extends Br{_parse(o){if(this._def.coerce&&(o.data=new Date(o.data)),this._getType(o)!==Ut.date){const h=this._getOrReturnCtx(o);return Nt(h,{code:wt.invalid_type,expected:Ut.date,received:h.parsedType}),yr}if(isNaN(o.data.getTime())){const h=this._getOrReturnCtx(o);return Nt(h,{code:wt.invalid_date}),yr}const c=new io;let d;for(const h of this._def.checks)h.kind==="min"?o.data.getTime()<h.value&&(d=this._getOrReturnCtx(o,d),Nt(d,{code:wt.too_small,message:h.message,inclusive:!0,exact:!1,minimum:h.value,type:"date"}),c.dirty()):h.kind==="max"?o.data.getTime()>h.value&&(d=this._getOrReturnCtx(o,d),Nt(d,{code:wt.too_big,message:h.message,inclusive:!0,exact:!1,maximum:h.value,type:"date"}),c.dirty()):Yr.assertNever(h);return{status:c.value,value:new Date(o.data.getTime())}}_addCheck(o){return new $h({...this._def,checks:[...this._def.checks,o]})}min(o,s){return this._addCheck({kind:"min",value:o.getTime(),message:tr.toString(s)})}max(o,s){return this._addCheck({kind:"max",value:o.getTime(),message:tr.toString(s)})}get minDate(){let o=null;for(const s of this._def.checks)s.kind==="min"&&(o===null||s.value>o)&&(o=s.value);return o!=null?new Date(o):null}get maxDate(){let o=null;for(const s of this._def.checks)s.kind==="max"&&(o===null||s.value<o)&&(o=s.value);return o!=null?new Date(o):null}}$h.create=r=>new $h({checks:[],coerce:(r==null?void 0:r.coerce)||!1,typeName:vr.ZodDate,...kr(r)});class Fb extends Br{_parse(o){if(this._getType(o)!==Ut.symbol){const c=this._getOrReturnCtx(o);return Nt(c,{code:wt.invalid_type,expected:Ut.symbol,received:c.parsedType}),yr}return wo(o.data)}}Fb.create=r=>new Fb({typeName:vr.ZodSymbol,...kr(r)});class yy extends Br{_parse(o){if(this._getType(o)!==Ut.undefined){const c=this._getOrReturnCtx(o);return Nt(c,{code:wt.invalid_type,expected:Ut.undefined,received:c.parsedType}),yr}return wo(o.data)}}yy.create=r=>new yy({typeName:vr.ZodUndefined,...kr(r)});class wy extends Br{_parse(o){if(this._getType(o)!==Ut.null){const c=this._getOrReturnCtx(o);return Nt(c,{code:wt.invalid_type,expected:Ut.null,received:c.parsedType}),yr}return wo(o.data)}}wy.create=r=>new wy({typeName:vr.ZodNull,...kr(r)});class Vb extends Br{constructor(){super(...arguments),this._any=!0}_parse(o){return wo(o.data)}}Vb.create=r=>new Vb({typeName:vr.ZodAny,...kr(r)});class _d extends Br{constructor(){super(...arguments),this._unknown=!0}_parse(o){return wo(o.data)}}_d.create=r=>new _d({typeName:vr.ZodUnknown,...kr(r)});class wu extends Br{_parse(o){const s=this._getOrReturnCtx(o);return Nt(s,{code:wt.invalid_type,expected:Ut.never,received:s.parsedType}),yr}}wu.create=r=>new wu({typeName:vr.ZodNever,...kr(r)});class Ub extends Br{_parse(o){if(this._getType(o)!==Ut.undefined){const c=this._getOrReturnCtx(o);return Nt(c,{code:wt.invalid_type,expected:Ut.void,received:c.parsedType}),yr}return wo(o.data)}}Ub.create=r=>new Ub({typeName:vr.ZodVoid,...kr(r)});class ys extends Br{_parse(o){const{ctx:s,status:c}=this._processInputParams(o),d=this._def;if(s.parsedType!==Ut.array)return Nt(s,{code:wt.invalid_type,expected:Ut.array,received:s.parsedType}),yr;if(d.exactLength!==null){const _=s.data.length>d.exactLength.value,x=s.data.length<d.exactLength.value;(_||x)&&(Nt(s,{code:_?wt.too_big:wt.too_small,minimum:x?d.exactLength.value:void 0,maximum:_?d.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:d.exactLength.message}),c.dirty())}if(d.minLength!==null&&s.data.length<d.minLength.value&&(Nt(s,{code:wt.too_small,minimum:d.minLength.value,type:"array",inclusive:!0,exact:!1,message:d.minLength.message}),c.dirty()),d.maxLength!==null&&s.data.length>d.maxLength.value&&(Nt(s,{code:wt.too_big,maximum:d.maxLength.value,type:"array",inclusive:!0,exact:!1,message:d.maxLength.message}),c.dirty()),s.common.async)return Promise.all([...s.data].map((_,x)=>d.type._parseAsync(new ws(s,_,s.path,x)))).then(_=>io.mergeArray(c,_));const h=[...s.data].map((_,x)=>d.type._parseSync(new ws(s,_,s.path,x)));return io.mergeArray(c,h)}get element(){return this._def.type}min(o,s){return new ys({...this._def,minLength:{value:o,message:tr.toString(s)}})}max(o,s){return new ys({...this._def,maxLength:{value:o,message:tr.toString(s)}})}length(o,s){return new ys({...this._def,exactLength:{value:o,message:tr.toString(s)}})}nonempty(o){return this.min(1,o)}}ys.create=(r,o)=>new ys({type:r,minLength:null,maxLength:null,exactLength:null,typeName:vr.ZodArray,...kr(o)});function Qf(r){if(r instanceof Hn){const o={};for(const s in r.shape){const c=r.shape[s];o[s]=rl.create(Qf(c))}return new Hn({...r._def,shape:()=>o})}else return r instanceof ys?new ys({...r._def,type:Qf(r.element)}):r instanceof rl?rl.create(Qf(r.unwrap())):r instanceof zc?zc.create(Qf(r.unwrap())):r instanceof sl?sl.create(r.items.map(o=>Qf(o))):r}class Hn extends Br{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const o=this._def.shape(),s=Yr.objectKeys(o);return this._cached={shape:o,keys:s}}_parse(o){if(this._getType(o)!==Ut.object){const C=this._getOrReturnCtx(o);return Nt(C,{code:wt.invalid_type,expected:Ut.object,received:C.parsedType}),yr}const{status:c,ctx:d}=this._processInputParams(o),{shape:h,keys:_}=this._getCached(),x=[];if(!(this._def.catchall instanceof wu&&this._def.unknownKeys==="strip"))for(const C in d.data)_.includes(C)||x.push(C);const S=[];for(const C of _){const T=h[C],P=d.data[C];S.push({key:{status:"valid",value:C},value:T._parse(new ws(d,P,d.path,C)),alwaysSet:C in d.data})}if(this._def.catchall instanceof wu){const C=this._def.unknownKeys;if(C==="passthrough")for(const T of x)S.push({key:{status:"valid",value:T},value:{status:"valid",value:d.data[T]}});else if(C==="strict")x.length>0&&(Nt(d,{code:wt.unrecognized_keys,keys:x}),c.dirty());else if(C!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const C=this._def.catchall;for(const T of x){const P=d.data[T];S.push({key:{status:"valid",value:T},value:C._parse(new ws(d,P,d.path,T)),alwaysSet:T in d.data})}}return d.common.async?Promise.resolve().then(async()=>{const C=[];for(const T of S){const P=await T.key,L=await T.value;C.push({key:P,value:L,alwaysSet:T.alwaysSet})}return C}).then(C=>io.mergeObjectSync(c,C)):io.mergeObjectSync(c,S)}get shape(){return this._def.shape()}strict(o){return tr.errToObj,new Hn({...this._def,unknownKeys:"strict",...o!==void 0?{errorMap:(s,c)=>{var d,h,_,x;const S=(_=(h=(d=this._def).errorMap)===null||h===void 0?void 0:h.call(d,s,c).message)!==null&&_!==void 0?_:c.defaultError;return s.code==="unrecognized_keys"?{message:(x=tr.errToObj(o).message)!==null&&x!==void 0?x:S}:{message:S}}}:{}})}strip(){return new Hn({...this._def,unknownKeys:"strip"})}passthrough(){return new Hn({...this._def,unknownKeys:"passthrough"})}extend(o){return new Hn({...this._def,shape:()=>({...this._def.shape(),...o})})}merge(o){return new Hn({unknownKeys:o._def.unknownKeys,catchall:o._def.catchall,shape:()=>({...this._def.shape(),...o._def.shape()}),typeName:vr.ZodObject})}setKey(o,s){return this.augment({[o]:s})}catchall(o){return new Hn({...this._def,catchall:o})}pick(o){const s={};return Yr.objectKeys(o).forEach(c=>{o[c]&&this.shape[c]&&(s[c]=this.shape[c])}),new Hn({...this._def,shape:()=>s})}omit(o){const s={};return Yr.objectKeys(this.shape).forEach(c=>{o[c]||(s[c]=this.shape[c])}),new Hn({...this._def,shape:()=>s})}deepPartial(){return Qf(this)}partial(o){const s={};return Yr.objectKeys(this.shape).forEach(c=>{const d=this.shape[c];o&&!o[c]?s[c]=d:s[c]=d.optional()}),new Hn({...this._def,shape:()=>s})}required(o){const s={};return Yr.objectKeys(this.shape).forEach(c=>{if(o&&!o[c])s[c]=this.shape[c];else{let h=this.shape[c];for(;h instanceof rl;)h=h._def.innerType;s[c]=h}}),new Hn({...this._def,shape:()=>s})}keyof(){return qP(Yr.objectKeys(this.shape))}}Hn.create=(r,o)=>new Hn({shape:()=>r,unknownKeys:"strip",catchall:wu.create(),typeName:vr.ZodObject,...kr(o)});Hn.strictCreate=(r,o)=>new Hn({shape:()=>r,unknownKeys:"strict",catchall:wu.create(),typeName:vr.ZodObject,...kr(o)});Hn.lazycreate=(r,o)=>new Hn({shape:r,unknownKeys:"strip",catchall:wu.create(),typeName:vr.ZodObject,...kr(o)});class _y extends Br{_parse(o){const{ctx:s}=this._processInputParams(o),c=this._def.options;function d(h){for(const x of h)if(x.result.status==="valid")return x.result;for(const x of h)if(x.result.status==="dirty")return s.common.issues.push(...x.ctx.common.issues),x.result;const _=h.map(x=>new Qo(x.ctx.common.issues));return Nt(s,{code:wt.invalid_union,unionErrors:_}),yr}if(s.common.async)return Promise.all(c.map(async h=>{const _={...s,common:{...s.common,issues:[]},parent:null};return{result:await h._parseAsync({data:s.data,path:s.path,parent:_}),ctx:_}})).then(d);{let h;const _=[];for(const S of c){const C={...s,common:{...s.common,issues:[]},parent:null},T=S._parseSync({data:s.data,path:s.path,parent:C});if(T.status==="valid")return T;T.status==="dirty"&&!h&&(h={result:T,ctx:C}),C.common.issues.length&&_.push(C.common.issues)}if(h)return s.common.issues.push(...h.ctx.common.issues),h.result;const x=_.map(S=>new Qo(S));return Nt(s,{code:wt.invalid_union,unionErrors:x}),yr}}get options(){return this._def.options}}_y.create=(r,o)=>new _y({options:r,typeName:vr.ZodUnion,...kr(o)});const Zs=r=>r instanceof Sy?Zs(r.schema):r instanceof ll?Zs(r.innerType()):r instanceof Cy?[r.value]:r instanceof Hc?r.options:r instanceof Oy?Yr.objectValues(r.enum):r instanceof Ey?Zs(r._def.innerType):r instanceof yy?[void 0]:r instanceof wy?[null]:r instanceof rl?[void 0,...Zs(r.unwrap())]:r instanceof zc?[null,...Zs(r.unwrap())]:r instanceof YP||r instanceof Py?Zs(r.unwrap()):r instanceof Ty?Zs(r._def.innerType):[];class aS extends Br{_parse(o){const{ctx:s}=this._processInputParams(o);if(s.parsedType!==Ut.object)return Nt(s,{code:wt.invalid_type,expected:Ut.object,received:s.parsedType}),yr;const c=this.discriminator,d=s.data[c],h=this.optionsMap.get(d);return h?s.common.async?h._parseAsync({data:s.data,path:s.path,parent:s}):h._parseSync({data:s.data,path:s.path,parent:s}):(Nt(s,{code:wt.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[c]}),yr)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(o,s,c){const d=new Map;for(const h of s){const _=Zs(h.shape[o]);if(!_.length)throw new Error(`A discriminator value for key \`${o}\` could not be extracted from all schema options`);for(const x of _){if(d.has(x))throw new Error(`Discriminator property ${String(o)} has duplicate value ${String(x)}`);d.set(x,h)}}return new aS({typeName:vr.ZodDiscriminatedUnion,discriminator:o,options:s,optionsMap:d,...kr(c)})}}function Bb(r,o){const s=Sc(r),c=Sc(o);if(r===o)return{valid:!0,data:r};if(s===Ut.object&&c===Ut.object){const d=Yr.objectKeys(o),h=Yr.objectKeys(r).filter(x=>d.indexOf(x)!==-1),_={...r,...o};for(const x of h){const S=Bb(r[x],o[x]);if(!S.valid)return{valid:!1};_[x]=S.data}return{valid:!0,data:_}}else if(s===Ut.array&&c===Ut.array){if(r.length!==o.length)return{valid:!1};const d=[];for(let h=0;h<r.length;h++){const _=r[h],x=o[h],S=Bb(_,x);if(!S.valid)return{valid:!1};d.push(S.data)}return{valid:!0,data:d}}else return s===Ut.date&&c===Ut.date&&+r==+o?{valid:!0,data:r}:{valid:!1}}class by extends Br{_parse(o){const{status:s,ctx:c}=this._processInputParams(o),d=(h,_)=>{if(xO(h)||xO(_))return yr;const x=Bb(h.value,_.value);return x.valid?((SO(h)||SO(_))&&s.dirty(),{status:s.value,value:x.data}):(Nt(c,{code:wt.invalid_intersection_types}),yr)};return c.common.async?Promise.all([this._def.left._parseAsync({data:c.data,path:c.path,parent:c}),this._def.right._parseAsync({data:c.data,path:c.path,parent:c})]).then(([h,_])=>d(h,_)):d(this._def.left._parseSync({data:c.data,path:c.path,parent:c}),this._def.right._parseSync({data:c.data,path:c.path,parent:c}))}}by.create=(r,o,s)=>new by({left:r,right:o,typeName:vr.ZodIntersection,...kr(s)});class sl extends Br{_parse(o){const{status:s,ctx:c}=this._processInputParams(o);if(c.parsedType!==Ut.array)return Nt(c,{code:wt.invalid_type,expected:Ut.array,received:c.parsedType}),yr;if(c.data.length<this._def.items.length)return Nt(c,{code:wt.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),yr;!this._def.rest&&c.data.length>this._def.items.length&&(Nt(c,{code:wt.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),s.dirty());const h=[...c.data].map((_,x)=>{const S=this._def.items[x]||this._def.rest;return S?S._parse(new ws(c,_,c.path,x)):null}).filter(_=>!!_);return c.common.async?Promise.all(h).then(_=>io.mergeArray(s,_)):io.mergeArray(s,h)}get items(){return this._def.items}rest(o){return new sl({...this._def,rest:o})}}sl.create=(r,o)=>{if(!Array.isArray(r))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new sl({items:r,typeName:vr.ZodTuple,rest:null,...kr(o)})};class xy extends Br{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(o){const{status:s,ctx:c}=this._processInputParams(o);if(c.parsedType!==Ut.object)return Nt(c,{code:wt.invalid_type,expected:Ut.object,received:c.parsedType}),yr;const d=[],h=this._def.keyType,_=this._def.valueType;for(const x in c.data)d.push({key:h._parse(new ws(c,x,c.path,x)),value:_._parse(new ws(c,c.data[x],c.path,x)),alwaysSet:x in c.data});return c.common.async?io.mergeObjectAsync(s,d):io.mergeObjectSync(s,d)}get element(){return this._def.valueType}static create(o,s,c){return s instanceof Br?new xy({keyType:o,valueType:s,typeName:vr.ZodRecord,...kr(c)}):new xy({keyType:el.create(),valueType:o,typeName:vr.ZodRecord,...kr(s)})}}class Hb extends Br{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(o){const{status:s,ctx:c}=this._processInputParams(o);if(c.parsedType!==Ut.map)return Nt(c,{code:wt.invalid_type,expected:Ut.map,received:c.parsedType}),yr;const d=this._def.keyType,h=this._def.valueType,_=[...c.data.entries()].map(([x,S],C)=>({key:d._parse(new ws(c,x,c.path,[C,"key"])),value:h._parse(new ws(c,S,c.path,[C,"value"]))}));if(c.common.async){const x=new Map;return Promise.resolve().then(async()=>{for(const S of _){const C=await S.key,T=await S.value;if(C.status==="aborted"||T.status==="aborted")return yr;(C.status==="dirty"||T.status==="dirty")&&s.dirty(),x.set(C.value,T.value)}return{status:s.value,value:x}})}else{const x=new Map;for(const S of _){const C=S.key,T=S.value;if(C.status==="aborted"||T.status==="aborted")return yr;(C.status==="dirty"||T.status==="dirty")&&s.dirty(),x.set(C.value,T.value)}return{status:s.value,value:x}}}}Hb.create=(r,o,s)=>new Hb({valueType:o,keyType:r,typeName:vr.ZodMap,...kr(s)});class Ad extends Br{_parse(o){const{status:s,ctx:c}=this._processInputParams(o);if(c.parsedType!==Ut.set)return Nt(c,{code:wt.invalid_type,expected:Ut.set,received:c.parsedType}),yr;const d=this._def;d.minSize!==null&&c.data.size<d.minSize.value&&(Nt(c,{code:wt.too_small,minimum:d.minSize.value,type:"set",inclusive:!0,exact:!1,message:d.minSize.message}),s.dirty()),d.maxSize!==null&&c.data.size>d.maxSize.value&&(Nt(c,{code:wt.too_big,maximum:d.maxSize.value,type:"set",inclusive:!0,exact:!1,message:d.maxSize.message}),s.dirty());const h=this._def.valueType;function _(S){const C=new Set;for(const T of S){if(T.status==="aborted")return yr;T.status==="dirty"&&s.dirty(),C.add(T.value)}return{status:s.value,value:C}}const x=[...c.data.values()].map((S,C)=>h._parse(new ws(c,S,c.path,C)));return c.common.async?Promise.all(x).then(S=>_(S)):_(x)}min(o,s){return new Ad({...this._def,minSize:{value:o,message:tr.toString(s)}})}max(o,s){return new Ad({...this._def,maxSize:{value:o,message:tr.toString(s)}})}size(o,s){return this.min(o,s).max(o,s)}nonempty(o){return this.min(1,o)}}Ad.create=(r,o)=>new Ad({valueType:r,minSize:null,maxSize:null,typeName:vr.ZodSet,...kr(o)});class Ch extends Br{constructor(){super(...arguments),this.validate=this.implement}_parse(o){const{ctx:s}=this._processInputParams(o);if(s.parsedType!==Ut.function)return Nt(s,{code:wt.invalid_type,expected:Ut.function,received:s.parsedType}),yr;function c(x,S){return jb({data:x,path:s.path,errorMaps:[s.common.contextualErrorMap,s.schemaErrorMap,Nb(),Wh].filter(C=>!!C),issueData:{code:wt.invalid_arguments,argumentsError:S}})}function d(x,S){return jb({data:x,path:s.path,errorMaps:[s.common.contextualErrorMap,s.schemaErrorMap,Nb(),Wh].filter(C=>!!C),issueData:{code:wt.invalid_return_type,returnTypeError:S}})}const h={errorMap:s.common.contextualErrorMap},_=s.data;if(this._def.returns instanceof Kh){const x=this;return wo(async function(...S){const C=new Qo([]),T=await x._def.args.parseAsync(S,h).catch(N=>{throw C.addIssue(c(S,N)),C}),P=await Reflect.apply(_,this,T);return await x._def.returns._def.type.parseAsync(P,h).catch(N=>{throw C.addIssue(d(P,N)),C})})}else{const x=this;return wo(function(...S){const C=x._def.args.safeParse(S,h);if(!C.success)throw new Qo([c(S,C.error)]);const T=Reflect.apply(_,this,C.data),P=x._def.returns.safeParse(T,h);if(!P.success)throw new Qo([d(T,P.error)]);return P.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...o){return new Ch({...this._def,args:sl.create(o).rest(_d.create())})}returns(o){return new Ch({...this._def,returns:o})}implement(o){return this.parse(o)}strictImplement(o){return this.parse(o)}static create(o,s,c){return new Ch({args:o||sl.create([]).rest(_d.create()),returns:s||_d.create(),typeName:vr.ZodFunction,...kr(c)})}}class Sy extends Br{get schema(){return this._def.getter()}_parse(o){const{ctx:s}=this._processInputParams(o);return this._def.getter()._parse({data:s.data,path:s.path,parent:s})}}Sy.create=(r,o)=>new Sy({getter:r,typeName:vr.ZodLazy,...kr(o)});class Cy extends Br{_parse(o){if(o.data!==this._def.value){const s=this._getOrReturnCtx(o);return Nt(s,{received:s.data,code:wt.invalid_literal,expected:this._def.value}),yr}return{status:"valid",value:o.data}}get value(){return this._def.value}}Cy.create=(r,o)=>new Cy({value:r,typeName:vr.ZodLiteral,...kr(o)});function qP(r,o){return new Hc({values:r,typeName:vr.ZodEnum,...kr(o)})}class Hc extends Br{constructor(){super(...arguments),ch.set(this,void 0)}_parse(o){if(typeof o.data!="string"){const s=this._getOrReturnCtx(o),c=this._def.values;return Nt(s,{expected:Yr.joinValues(c),received:s.parsedType,code:wt.invalid_type}),yr}if(my(this,ch)||KP(this,ch,new Set(this._def.values)),!my(this,ch).has(o.data)){const s=this._getOrReturnCtx(o),c=this._def.values;return Nt(s,{received:s.data,code:wt.invalid_enum_value,options:c}),yr}return wo(o.data)}get options(){return this._def.values}get enum(){const o={};for(const s of this._def.values)o[s]=s;return o}get Values(){const o={};for(const s of this._def.values)o[s]=s;return o}get Enum(){const o={};for(const s of this._def.values)o[s]=s;return o}extract(o,s=this._def){return Hc.create(o,{...this._def,...s})}exclude(o,s=this._def){return Hc.create(this.options.filter(c=>!o.includes(c)),{...this._def,...s})}}ch=new WeakMap;Hc.create=qP;class Oy extends Br{constructor(){super(...arguments),fh.set(this,void 0)}_parse(o){const s=Yr.getValidEnumValues(this._def.values),c=this._getOrReturnCtx(o);if(c.parsedType!==Ut.string&&c.parsedType!==Ut.number){const d=Yr.objectValues(s);return Nt(c,{expected:Yr.joinValues(d),received:c.parsedType,code:wt.invalid_type}),yr}if(my(this,fh)||KP(this,fh,new Set(Yr.getValidEnumValues(this._def.values))),!my(this,fh).has(o.data)){const d=Yr.objectValues(s);return Nt(c,{received:c.data,code:wt.invalid_enum_value,options:d}),yr}return wo(o.data)}get enum(){return this._def.values}}fh=new WeakMap;Oy.create=(r,o)=>new Oy({values:r,typeName:vr.ZodNativeEnum,...kr(o)});class Kh extends Br{unwrap(){return this._def.type}_parse(o){const{ctx:s}=this._processInputParams(o);if(s.parsedType!==Ut.promise&&s.common.async===!1)return Nt(s,{code:wt.invalid_type,expected:Ut.promise,received:s.parsedType}),yr;const c=s.parsedType===Ut.promise?s.data:Promise.resolve(s.data);return wo(c.then(d=>this._def.type.parseAsync(d,{path:s.path,errorMap:s.common.contextualErrorMap})))}}Kh.create=(r,o)=>new Kh({type:r,typeName:vr.ZodPromise,...kr(o)});class ll extends Br{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===vr.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(o){const{status:s,ctx:c}=this._processInputParams(o),d=this._def.effect||null,h={addIssue:_=>{Nt(c,_),_.fatal?s.abort():s.dirty()},get path(){return c.path}};if(h.addIssue=h.addIssue.bind(h),d.type==="preprocess"){const _=d.transform(c.data,h);if(c.common.async)return Promise.resolve(_).then(async x=>{if(s.value==="aborted")return yr;const S=await this._def.schema._parseAsync({data:x,path:c.path,parent:c});return S.status==="aborted"?yr:S.status==="dirty"||s.value==="dirty"?uh(S.value):S});{if(s.value==="aborted")return yr;const x=this._def.schema._parseSync({data:_,path:c.path,parent:c});return x.status==="aborted"?yr:x.status==="dirty"||s.value==="dirty"?uh(x.value):x}}if(d.type==="refinement"){const _=x=>{const S=d.refinement(x,h);if(c.common.async)return Promise.resolve(S);if(S instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return x};if(c.common.async===!1){const x=this._def.schema._parseSync({data:c.data,path:c.path,parent:c});return x.status==="aborted"?yr:(x.status==="dirty"&&s.dirty(),_(x.value),{status:s.value,value:x.value})}else return this._def.schema._parseAsync({data:c.data,path:c.path,parent:c}).then(x=>x.status==="aborted"?yr:(x.status==="dirty"&&s.dirty(),_(x.value).then(()=>({status:s.value,value:x.value}))))}if(d.type==="transform")if(c.common.async===!1){const _=this._def.schema._parseSync({data:c.data,path:c.path,parent:c});if(!vy(_))return _;const x=d.transform(_.value,h);if(x instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:s.value,value:x}}else return this._def.schema._parseAsync({data:c.data,path:c.path,parent:c}).then(_=>vy(_)?Promise.resolve(d.transform(_.value,h)).then(x=>({status:s.value,value:x})):_);Yr.assertNever(d)}}ll.create=(r,o,s)=>new ll({schema:r,typeName:vr.ZodEffects,effect:o,...kr(s)});ll.createWithPreprocess=(r,o,s)=>new ll({schema:o,effect:{type:"preprocess",transform:r},typeName:vr.ZodEffects,...kr(s)});class rl extends Br{_parse(o){return this._getType(o)===Ut.undefined?wo(void 0):this._def.innerType._parse(o)}unwrap(){return this._def.innerType}}rl.create=(r,o)=>new rl({innerType:r,typeName:vr.ZodOptional,...kr(o)});class zc extends Br{_parse(o){return this._getType(o)===Ut.null?wo(null):this._def.innerType._parse(o)}unwrap(){return this._def.innerType}}zc.create=(r,o)=>new zc({innerType:r,typeName:vr.ZodNullable,...kr(o)});class Ey extends Br{_parse(o){const{ctx:s}=this._processInputParams(o);let c=s.data;return s.parsedType===Ut.undefined&&(c=this._def.defaultValue()),this._def.innerType._parse({data:c,path:s.path,parent:s})}removeDefault(){return this._def.innerType}}Ey.create=(r,o)=>new Ey({innerType:r,typeName:vr.ZodDefault,defaultValue:typeof o.default=="function"?o.default:()=>o.default,...kr(o)});class Ty extends Br{_parse(o){const{ctx:s}=this._processInputParams(o),c={...s,common:{...s.common,issues:[]}},d=this._def.innerType._parse({data:c.data,path:c.path,parent:{...c}});return gy(d)?d.then(h=>({status:"valid",value:h.status==="valid"?h.value:this._def.catchValue({get error(){return new Qo(c.common.issues)},input:c.data})})):{status:"valid",value:d.status==="valid"?d.value:this._def.catchValue({get error(){return new Qo(c.common.issues)},input:c.data})}}removeCatch(){return this._def.innerType}}Ty.create=(r,o)=>new Ty({innerType:r,typeName:vr.ZodCatch,catchValue:typeof o.catch=="function"?o.catch:()=>o.catch,...kr(o)});class zb extends Br{_parse(o){if(this._getType(o)!==Ut.nan){const c=this._getOrReturnCtx(o);return Nt(c,{code:wt.invalid_type,expected:Ut.nan,received:c.parsedType}),yr}return{status:"valid",value:o.data}}}zb.create=r=>new zb({typeName:vr.ZodNaN,...kr(r)});class YP extends Br{_parse(o){const{ctx:s}=this._processInputParams(o),c=s.data;return this._def.type._parse({data:c,path:s.path,parent:s})}unwrap(){return this._def.type}}class Qy extends Br{_parse(o){const{status:s,ctx:c}=this._processInputParams(o);if(c.common.async)return(async()=>{const h=await this._def.in._parseAsync({data:c.data,path:c.path,parent:c});return h.status==="aborted"?yr:h.status==="dirty"?(s.dirty(),uh(h.value)):this._def.out._parseAsync({data:h.value,path:c.path,parent:c})})();{const d=this._def.in._parseSync({data:c.data,path:c.path,parent:c});return d.status==="aborted"?yr:d.status==="dirty"?(s.dirty(),{status:"dirty",value:d.value}):this._def.out._parseSync({data:d.value,path:c.path,parent:c})}}static create(o,s){return new Qy({in:o,out:s,typeName:vr.ZodPipeline})}}class Py extends Br{_parse(o){const s=this._def.innerType._parse(o),c=d=>(vy(d)&&(d.value=Object.freeze(d.value)),d);return gy(s)?s.then(d=>c(d)):c(s)}unwrap(){return this._def.innerType}}Py.create=(r,o)=>new Py({innerType:r,typeName:vr.ZodReadonly,...kr(o)});Hn.lazycreate;var vr;(function(r){r.ZodString="ZodString",r.ZodNumber="ZodNumber",r.ZodNaN="ZodNaN",r.ZodBigInt="ZodBigInt",r.ZodBoolean="ZodBoolean",r.ZodDate="ZodDate",r.ZodSymbol="ZodSymbol",r.ZodUndefined="ZodUndefined",r.ZodNull="ZodNull",r.ZodAny="ZodAny",r.ZodUnknown="ZodUnknown",r.ZodNever="ZodNever",r.ZodVoid="ZodVoid",r.ZodArray="ZodArray",r.ZodObject="ZodObject",r.ZodUnion="ZodUnion",r.ZodDiscriminatedUnion="ZodDiscriminatedUnion",r.ZodIntersection="ZodIntersection",r.ZodTuple="ZodTuple",r.ZodRecord="ZodRecord",r.ZodMap="ZodMap",r.ZodSet="ZodSet",r.ZodFunction="ZodFunction",r.ZodLazy="ZodLazy",r.ZodLiteral="ZodLiteral",r.ZodEnum="ZodEnum",r.ZodEffects="ZodEffects",r.ZodNativeEnum="ZodNativeEnum",r.ZodOptional="ZodOptional",r.ZodNullable="ZodNullable",r.ZodDefault="ZodDefault",r.ZodCatch="ZodCatch",r.ZodPromise="ZodPromise",r.ZodBranded="ZodBranded",r.ZodPipeline="ZodPipeline",r.ZodReadonly="ZodReadonly"})(vr||(vr={}));const OO=el.create;Pd.create;zb.create;kd.create;Ib.create;$h.create;Fb.create;yy.create;wy.create;Vb.create;_d.create;wu.create;Ub.create;ys.create;const kF=Hn.create;Hn.strictCreate;_y.create;aS.create;by.create;sl.create;xy.create;Hb.create;Ad.create;Ch.create;Sy.create;Cy.create;Hc.create;Oy.create;Kh.create;ll.create;rl.create;zc.create;ll.createWithPreprocess;Qy.create;function XP(r,o){return function(){return r.apply(o,arguments)}}const{toString:AF}=Object.prototype,{getPrototypeOf:sS}=Object,e0=(r=>o=>{const s=AF.call(o);return r[s]||(r[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),Pa=r=>(r=r.toLowerCase(),o=>e0(o)===r),t0=r=>o=>typeof o===r,{isArray:Ud}=Array,Gh=t0("undefined");function LF(r){return r!==null&&!Gh(r)&&r.constructor!==null&&!Gh(r.constructor)&&ea(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const JP=Pa("ArrayBuffer");function MF(r){let o;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?o=ArrayBuffer.isView(r):o=r&&r.buffer&&JP(r.buffer),o}const DF=t0("string"),ea=t0("function"),QP=t0("number"),r0=r=>r!==null&&typeof r=="object",RF=r=>r===!0||r===!1,Dm=r=>{if(e0(r)!=="object")return!1;const o=sS(r);return(o===null||o===Object.prototype||Object.getPrototypeOf(o)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},NF=Pa("Date"),jF=Pa("File"),IF=Pa("Blob"),FF=Pa("FileList"),VF=r=>r0(r)&&ea(r.pipe),UF=r=>{let o;return r&&(typeof FormData=="function"&&r instanceof FormData||ea(r.append)&&((o=e0(r))==="formdata"||o==="object"&&ea(r.toString)&&r.toString()==="[object FormData]"))},BF=Pa("URLSearchParams"),[HF,zF,WF,$F]=["ReadableStream","Request","Response","Headers"].map(Pa),KF=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ov(r,o,{allOwnKeys:s=!1}={}){if(r===null||typeof r>"u")return;let c,d;if(typeof r!="object"&&(r=[r]),Ud(r))for(c=0,d=r.length;c<d;c++)o.call(null,r[c],c,r);else{const h=s?Object.getOwnPropertyNames(r):Object.keys(r),_=h.length;let x;for(c=0;c<_;c++)x=h[c],o.call(null,r[x],x,r)}}function ek(r,o){o=o.toLowerCase();const s=Object.keys(r);let c=s.length,d;for(;c-- >0;)if(d=s[c],o===d.toLowerCase())return d;return null}const tk=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,rk=r=>!Gh(r)&&r!==tk;function Wb(){const{caseless:r}=rk(this)&&this||{},o={},s=(c,d)=>{const h=r&&ek(o,d)||d;Dm(o[h])&&Dm(c)?o[h]=Wb(o[h],c):Dm(c)?o[h]=Wb({},c):Ud(c)?o[h]=c.slice():o[h]=c};for(let c=0,d=arguments.length;c<d;c++)arguments[c]&&ov(arguments[c],s);return o}const GF=(r,o,s,{allOwnKeys:c}={})=>(ov(o,(d,h)=>{s&&ea(d)?r[h]=XP(d,s):r[h]=d},{allOwnKeys:c}),r),ZF=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),qF=(r,o,s,c)=>{r.prototype=Object.create(o.prototype,c),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:o.prototype}),s&&Object.assign(r.prototype,s)},YF=(r,o,s,c)=>{let d,h,_;const x={};if(o=o||{},r==null)return o;do{for(d=Object.getOwnPropertyNames(r),h=d.length;h-- >0;)_=d[h],(!c||c(_,r,o))&&!x[_]&&(o[_]=r[_],x[_]=!0);r=s!==!1&&sS(r)}while(r&&(!s||s(r,o))&&r!==Object.prototype);return o},XF=(r,o,s)=>{r=String(r),(s===void 0||s>r.length)&&(s=r.length),s-=o.length;const c=r.indexOf(o,s);return c!==-1&&c===s},JF=r=>{if(!r)return null;if(Ud(r))return r;let o=r.length;if(!QP(o))return null;const s=new Array(o);for(;o-- >0;)s[o]=r[o];return s},QF=(r=>o=>r&&o instanceof r)(typeof Uint8Array<"u"&&sS(Uint8Array)),eV=(r,o)=>{const c=(r&&r[Symbol.iterator]).call(r);let d;for(;(d=c.next())&&!d.done;){const h=d.value;o.call(r,h[0],h[1])}},tV=(r,o)=>{let s;const c=[];for(;(s=r.exec(o))!==null;)c.push(s);return c},rV=Pa("HTMLFormElement"),nV=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,c,d){return c.toUpperCase()+d}),EO=(({hasOwnProperty:r})=>(o,s)=>r.call(o,s))(Object.prototype),iV=Pa("RegExp"),nk=(r,o)=>{const s=Object.getOwnPropertyDescriptors(r),c={};ov(s,(d,h)=>{let _;(_=o(d,h,r))!==!1&&(c[h]=_||d)}),Object.defineProperties(r,c)},oV=r=>{nk(r,(o,s)=>{if(ea(r)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const c=r[s];if(ea(c)){if(o.enumerable=!1,"writable"in o){o.writable=!1;return}o.set||(o.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},aV=(r,o)=>{const s={},c=d=>{d.forEach(h=>{s[h]=!0})};return Ud(r)?c(r):c(String(r).split(o)),s},sV=()=>{},lV=(r,o)=>r!=null&&Number.isFinite(r=+r)?r:o,A_="abcdefghijklmnopqrstuvwxyz",TO="0123456789",ik={DIGIT:TO,ALPHA:A_,ALPHA_DIGIT:A_+A_.toUpperCase()+TO},uV=(r=16,o=ik.ALPHA_DIGIT)=>{let s="";const{length:c}=o;for(;r--;)s+=o[Math.random()*c|0];return s};function cV(r){return!!(r&&ea(r.append)&&r[Symbol.toStringTag]==="FormData"&&r[Symbol.iterator])}const fV=r=>{const o=new Array(10),s=(c,d)=>{if(r0(c)){if(o.indexOf(c)>=0)return;if(!("toJSON"in c)){o[d]=c;const h=Ud(c)?[]:{};return ov(c,(_,x)=>{const S=s(_,d+1);!Gh(S)&&(h[x]=S)}),o[d]=void 0,h}}return c};return s(r,0)},dV=Pa("AsyncFunction"),pV=r=>r&&(r0(r)||ea(r))&&ea(r.then)&&ea(r.catch),et={isArray:Ud,isArrayBuffer:JP,isBuffer:LF,isFormData:UF,isArrayBufferView:MF,isString:DF,isNumber:QP,isBoolean:RF,isObject:r0,isPlainObject:Dm,isReadableStream:HF,isRequest:zF,isResponse:WF,isHeaders:$F,isUndefined:Gh,isDate:NF,isFile:jF,isBlob:IF,isRegExp:iV,isFunction:ea,isStream:VF,isURLSearchParams:BF,isTypedArray:QF,isFileList:FF,forEach:ov,merge:Wb,extend:GF,trim:KF,stripBOM:ZF,inherits:qF,toFlatObject:YF,kindOf:e0,kindOfTest:Pa,endsWith:XF,toArray:JF,forEachEntry:eV,matchAll:tV,isHTMLForm:rV,hasOwnProperty:EO,hasOwnProp:EO,reduceDescriptors:nk,freezeMethods:oV,toObjectSet:aV,toCamelCase:nV,noop:sV,toFiniteNumber:lV,findKey:ek,global:tk,isContextDefined:rk,ALPHABET:ik,generateString:uV,isSpecCompliantForm:cV,toJSONObject:fV,isAsyncFn:dV,isThenable:pV};function Pr(r,o,s,c,d){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",o&&(this.code=o),s&&(this.config=s),c&&(this.request=c),d&&(this.response=d)}et.inherits(Pr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:et.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const ok=Pr.prototype,ak={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{ak[r]={value:r}});Object.defineProperties(Pr,ak);Object.defineProperty(ok,"isAxiosError",{value:!0});Pr.from=(r,o,s,c,d,h)=>{const _=Object.create(ok);return et.toFlatObject(r,_,function(S){return S!==Error.prototype},x=>x!=="isAxiosError"),Pr.call(_,r.message,o,s,c,d),_.cause=r,_.name=r.name,h&&Object.assign(_,h),_};const hV=null;function $b(r){return et.isPlainObject(r)||et.isArray(r)}function sk(r){return et.endsWith(r,"[]")?r.slice(0,-2):r}function PO(r,o,s){return r?r.concat(o).map(function(d,h){return d=sk(d),!s&&h?"["+d+"]":d}).join(s?".":""):o}function vV(r){return et.isArray(r)&&!r.some($b)}const gV=et.toFlatObject(et,{},null,function(o){return/^is[A-Z]/.test(o)});function n0(r,o,s){if(!et.isObject(r))throw new TypeError("target must be an object");o=o||new FormData,s=et.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(K,fe){return!et.isUndefined(fe[K])});const c=s.metaTokens,d=s.visitor||T,h=s.dots,_=s.indexes,S=(s.Blob||typeof Blob<"u"&&Blob)&&et.isSpecCompliantForm(o);if(!et.isFunction(d))throw new TypeError("visitor must be a function");function C(U){if(U===null)return"";if(et.isDate(U))return U.toISOString();if(!S&&et.isBlob(U))throw new Pr("Blob is not supported. Use a Buffer instead.");return et.isArrayBuffer(U)||et.isTypedArray(U)?S&&typeof Blob=="function"?new Blob([U]):Buffer.from(U):U}function T(U,K,fe){let q=U;if(U&&!fe&&typeof U=="object"){if(et.endsWith(K,"{}"))K=c?K:K.slice(0,-2),U=JSON.stringify(U);else if(et.isArray(U)&&vV(U)||(et.isFileList(U)||et.endsWith(K,"[]"))&&(q=et.toArray(U)))return K=sk(K),q.forEach(function($,X){!(et.isUndefined($)||$===null)&&o.append(_===!0?PO([K],X,h):_===null?K:K+"[]",C($))}),!1}return $b(U)?!0:(o.append(PO(fe,K,h),C(U)),!1)}const P=[],L=Object.assign(gV,{defaultVisitor:T,convertValue:C,isVisitable:$b});function N(U,K){if(!et.isUndefined(U)){if(P.indexOf(U)!==-1)throw Error("Circular reference detected in "+K.join("."));P.push(U),et.forEach(U,function(q,z){(!(et.isUndefined(q)||q===null)&&d.call(o,q,et.isString(z)?z.trim():z,K,L))===!0&&N(q,K?K.concat(z):[z])}),P.pop()}}if(!et.isObject(r))throw new TypeError("data must be an object");return N(r),o}function kO(r){const o={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(c){return o[c]})}function lS(r,o){this._pairs=[],r&&n0(r,this,o)}const lk=lS.prototype;lk.append=function(o,s){this._pairs.push([o,s])};lk.toString=function(o){const s=o?function(c){return o.call(this,c,kO)}:kO;return this._pairs.map(function(d){return s(d[0])+"="+s(d[1])},"").join("&")};function mV(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function uk(r,o,s){if(!o)return r;const c=s&&s.encode||mV,d=s&&s.serialize;let h;if(d?h=d(o,s):h=et.isURLSearchParams(o)?o.toString():new lS(o,s).toString(c),h){const _=r.indexOf("#");_!==-1&&(r=r.slice(0,_)),r+=(r.indexOf("?")===-1?"?":"&")+h}return r}class AO{constructor(){this.handlers=[]}use(o,s,c){return this.handlers.push({fulfilled:o,rejected:s,synchronous:c?c.synchronous:!1,runWhen:c?c.runWhen:null}),this.handlers.length-1}eject(o){this.handlers[o]&&(this.handlers[o]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(o){et.forEach(this.handlers,function(c){c!==null&&o(c)})}}const ck={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},yV=typeof URLSearchParams<"u"?URLSearchParams:lS,wV=typeof FormData<"u"?FormData:null,_V=typeof Blob<"u"?Blob:null,bV={isBrowser:!0,classes:{URLSearchParams:yV,FormData:wV,Blob:_V},protocols:["http","https","file","blob","url","data"]},uS=typeof window<"u"&&typeof document<"u",xV=(r=>uS&&["ReactNative","NativeScript","NS"].indexOf(r)<0)(typeof navigator<"u"&&navigator.product),SV=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",CV=uS&&window.location.href||"http://localhost",OV=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:uS,hasStandardBrowserEnv:xV,hasStandardBrowserWebWorkerEnv:SV,origin:CV},Symbol.toStringTag,{value:"Module"})),Oa={...OV,...bV};function EV(r,o){return n0(r,new Oa.classes.URLSearchParams,Object.assign({visitor:function(s,c,d,h){return Oa.isNode&&et.isBuffer(s)?(this.append(c,s.toString("base64")),!1):h.defaultVisitor.apply(this,arguments)}},o))}function TV(r){return et.matchAll(/\w+|\[(\w*)]/g,r).map(o=>o[0]==="[]"?"":o[1]||o[0])}function PV(r){const o={},s=Object.keys(r);let c;const d=s.length;let h;for(c=0;c<d;c++)h=s[c],o[h]=r[h];return o}function fk(r){function o(s,c,d,h){let _=s[h++];if(_==="__proto__")return!0;const x=Number.isFinite(+_),S=h>=s.length;return _=!_&&et.isArray(d)?d.length:_,S?(et.hasOwnProp(d,_)?d[_]=[d[_],c]:d[_]=c,!x):((!d[_]||!et.isObject(d[_]))&&(d[_]=[]),o(s,c,d[_],h)&&et.isArray(d[_])&&(d[_]=PV(d[_])),!x)}if(et.isFormData(r)&&et.isFunction(r.entries)){const s={};return et.forEachEntry(r,(c,d)=>{o(TV(c),d,s,0)}),s}return null}function kV(r,o,s){if(et.isString(r))try{return(o||JSON.parse)(r),et.trim(r)}catch(c){if(c.name!=="SyntaxError")throw c}return(s||JSON.stringify)(r)}const av={transitional:ck,adapter:["xhr","http","fetch"],transformRequest:[function(o,s){const c=s.getContentType()||"",d=c.indexOf("application/json")>-1,h=et.isObject(o);if(h&&et.isHTMLForm(o)&&(o=new FormData(o)),et.isFormData(o))return d?JSON.stringify(fk(o)):o;if(et.isArrayBuffer(o)||et.isBuffer(o)||et.isStream(o)||et.isFile(o)||et.isBlob(o)||et.isReadableStream(o))return o;if(et.isArrayBufferView(o))return o.buffer;if(et.isURLSearchParams(o))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),o.toString();let x;if(h){if(c.indexOf("application/x-www-form-urlencoded")>-1)return EV(o,this.formSerializer).toString();if((x=et.isFileList(o))||c.indexOf("multipart/form-data")>-1){const S=this.env&&this.env.FormData;return n0(x?{"files[]":o}:o,S&&new S,this.formSerializer)}}return h||d?(s.setContentType("application/json",!1),kV(o)):o}],transformResponse:[function(o){const s=this.transitional||av.transitional,c=s&&s.forcedJSONParsing,d=this.responseType==="json";if(et.isResponse(o)||et.isReadableStream(o))return o;if(o&&et.isString(o)&&(c&&!this.responseType||d)){const _=!(s&&s.silentJSONParsing)&&d;try{return JSON.parse(o)}catch(x){if(_)throw x.name==="SyntaxError"?Pr.from(x,Pr.ERR_BAD_RESPONSE,this,null,this.response):x}}return o}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Oa.classes.FormData,Blob:Oa.classes.Blob},validateStatus:function(o){return o>=200&&o<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};et.forEach(["delete","get","head","post","put","patch"],r=>{av.headers[r]={}});const AV=et.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),LV=r=>{const o={};let s,c,d;return r&&r.split(`
`).forEach(function(_){d=_.indexOf(":"),s=_.substring(0,d).trim().toLowerCase(),c=_.substring(d+1).trim(),!(!s||o[s]&&AV[s])&&(s==="set-cookie"?o[s]?o[s].push(c):o[s]=[c]:o[s]=o[s]?o[s]+", "+c:c)}),o},LO=Symbol("internals");function th(r){return r&&String(r).trim().toLowerCase()}function Rm(r){return r===!1||r==null?r:et.isArray(r)?r.map(Rm):String(r)}function MV(r){const o=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let c;for(;c=s.exec(r);)o[c[1]]=c[2];return o}const DV=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function L_(r,o,s,c,d){if(et.isFunction(c))return c.call(this,o,s);if(d&&(o=s),!!et.isString(o)){if(et.isString(c))return o.indexOf(c)!==-1;if(et.isRegExp(c))return c.test(o)}}function RV(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(o,s,c)=>s.toUpperCase()+c)}function NV(r,o){const s=et.toCamelCase(" "+o);["get","set","has"].forEach(c=>{Object.defineProperty(r,c+s,{value:function(d,h,_){return this[c].call(this,o,d,h,_)},configurable:!0})})}class yo{constructor(o){o&&this.set(o)}set(o,s,c){const d=this;function h(x,S,C){const T=th(S);if(!T)throw new Error("header name must be a non-empty string");const P=et.findKey(d,T);(!P||d[P]===void 0||C===!0||C===void 0&&d[P]!==!1)&&(d[P||S]=Rm(x))}const _=(x,S)=>et.forEach(x,(C,T)=>h(C,T,S));if(et.isPlainObject(o)||o instanceof this.constructor)_(o,s);else if(et.isString(o)&&(o=o.trim())&&!DV(o))_(LV(o),s);else if(et.isHeaders(o))for(const[x,S]of o.entries())h(S,x,c);else o!=null&&h(s,o,c);return this}get(o,s){if(o=th(o),o){const c=et.findKey(this,o);if(c){const d=this[c];if(!s)return d;if(s===!0)return MV(d);if(et.isFunction(s))return s.call(this,d,c);if(et.isRegExp(s))return s.exec(d);throw new TypeError("parser must be boolean|regexp|function")}}}has(o,s){if(o=th(o),o){const c=et.findKey(this,o);return!!(c&&this[c]!==void 0&&(!s||L_(this,this[c],c,s)))}return!1}delete(o,s){const c=this;let d=!1;function h(_){if(_=th(_),_){const x=et.findKey(c,_);x&&(!s||L_(c,c[x],x,s))&&(delete c[x],d=!0)}}return et.isArray(o)?o.forEach(h):h(o),d}clear(o){const s=Object.keys(this);let c=s.length,d=!1;for(;c--;){const h=s[c];(!o||L_(this,this[h],h,o,!0))&&(delete this[h],d=!0)}return d}normalize(o){const s=this,c={};return et.forEach(this,(d,h)=>{const _=et.findKey(c,h);if(_){s[_]=Rm(d),delete s[h];return}const x=o?RV(h):String(h).trim();x!==h&&delete s[h],s[x]=Rm(d),c[x]=!0}),this}concat(...o){return this.constructor.concat(this,...o)}toJSON(o){const s=Object.create(null);return et.forEach(this,(c,d)=>{c!=null&&c!==!1&&(s[d]=o&&et.isArray(c)?c.join(", "):c)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([o,s])=>o+": "+s).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(o){return o instanceof this?o:new this(o)}static concat(o,...s){const c=new this(o);return s.forEach(d=>c.set(d)),c}static accessor(o){const c=(this[LO]=this[LO]={accessors:{}}).accessors,d=this.prototype;function h(_){const x=th(_);c[x]||(NV(d,_),c[x]=!0)}return et.isArray(o)?o.forEach(h):h(o),this}}yo.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);et.reduceDescriptors(yo.prototype,({value:r},o)=>{let s=o[0].toUpperCase()+o.slice(1);return{get:()=>r,set(c){this[s]=c}}});et.freezeMethods(yo);function M_(r,o){const s=this||av,c=o||s,d=yo.from(c.headers);let h=c.data;return et.forEach(r,function(x){h=x.call(s,h,d.normalize(),o?o.status:void 0)}),d.normalize(),h}function dk(r){return!!(r&&r.__CANCEL__)}function Bd(r,o,s){Pr.call(this,r??"canceled",Pr.ERR_CANCELED,o,s),this.name="CanceledError"}et.inherits(Bd,Pr,{__CANCEL__:!0});function pk(r,o,s){const c=s.config.validateStatus;!s.status||!c||c(s.status)?r(s):o(new Pr("Request failed with status code "+s.status,[Pr.ERR_BAD_REQUEST,Pr.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function jV(r){const o=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return o&&o[1]||""}function IV(r,o){r=r||10;const s=new Array(r),c=new Array(r);let d=0,h=0,_;return o=o!==void 0?o:1e3,function(S){const C=Date.now(),T=c[h];_||(_=C),s[d]=S,c[d]=C;let P=h,L=0;for(;P!==d;)L+=s[P++],P=P%r;if(d=(d+1)%r,d===h&&(h=(h+1)%r),C-_<o)return;const N=T&&C-T;return N?Math.round(L*1e3/N):void 0}}function FV(r,o){let s=0;const c=1e3/o;let d=null;return function(){const _=this===!0,x=Date.now();if(_||x-s>c)return d&&(clearTimeout(d),d=null),s=x,r.apply(null,arguments);d||(d=setTimeout(()=>(d=null,s=Date.now(),r.apply(null,arguments)),c-(x-s)))}}const ky=(r,o,s=3)=>{let c=0;const d=IV(50,250);return FV(h=>{const _=h.loaded,x=h.lengthComputable?h.total:void 0,S=_-c,C=d(S),T=_<=x;c=_;const P={loaded:_,total:x,progress:x?_/x:void 0,bytes:S,rate:C||void 0,estimated:C&&x&&T?(x-_)/C:void 0,event:h,lengthComputable:x!=null};P[o?"download":"upload"]=!0,r(P)},s)},VV=Oa.hasStandardBrowserEnv?function(){const o=/(msie|trident)/i.test(navigator.userAgent),s=document.createElement("a");let c;function d(h){let _=h;return o&&(s.setAttribute("href",_),_=s.href),s.setAttribute("href",_),{href:s.href,protocol:s.protocol?s.protocol.replace(/:$/,""):"",host:s.host,search:s.search?s.search.replace(/^\?/,""):"",hash:s.hash?s.hash.replace(/^#/,""):"",hostname:s.hostname,port:s.port,pathname:s.pathname.charAt(0)==="/"?s.pathname:"/"+s.pathname}}return c=d(window.location.href),function(_){const x=et.isString(_)?d(_):_;return x.protocol===c.protocol&&x.host===c.host}}():function(){return function(){return!0}}(),UV=Oa.hasStandardBrowserEnv?{write(r,o,s,c,d,h){const _=[r+"="+encodeURIComponent(o)];et.isNumber(s)&&_.push("expires="+new Date(s).toGMTString()),et.isString(c)&&_.push("path="+c),et.isString(d)&&_.push("domain="+d),h===!0&&_.push("secure"),document.cookie=_.join("; ")},read(r){const o=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return o?decodeURIComponent(o[3]):null},remove(r){this.write(r,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function BV(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function HV(r,o){return o?r.replace(/\/?\/$/,"")+"/"+o.replace(/^\/+/,""):r}function hk(r,o){return r&&!BV(o)?HV(r,o):o}const MO=r=>r instanceof yo?{...r}:r;function Wc(r,o){o=o||{};const s={};function c(C,T,P){return et.isPlainObject(C)&&et.isPlainObject(T)?et.merge.call({caseless:P},C,T):et.isPlainObject(T)?et.merge({},T):et.isArray(T)?T.slice():T}function d(C,T,P){if(et.isUndefined(T)){if(!et.isUndefined(C))return c(void 0,C,P)}else return c(C,T,P)}function h(C,T){if(!et.isUndefined(T))return c(void 0,T)}function _(C,T){if(et.isUndefined(T)){if(!et.isUndefined(C))return c(void 0,C)}else return c(void 0,T)}function x(C,T,P){if(P in o)return c(C,T);if(P in r)return c(void 0,C)}const S={url:h,method:h,data:h,baseURL:_,transformRequest:_,transformResponse:_,paramsSerializer:_,timeout:_,timeoutMessage:_,withCredentials:_,withXSRFToken:_,adapter:_,responseType:_,xsrfCookieName:_,xsrfHeaderName:_,onUploadProgress:_,onDownloadProgress:_,decompress:_,maxContentLength:_,maxBodyLength:_,beforeRedirect:_,transport:_,httpAgent:_,httpsAgent:_,cancelToken:_,socketPath:_,responseEncoding:_,validateStatus:x,headers:(C,T)=>d(MO(C),MO(T),!0)};return et.forEach(Object.keys(Object.assign({},r,o)),function(T){const P=S[T]||d,L=P(r[T],o[T],T);et.isUndefined(L)&&P!==x||(s[T]=L)}),s}const vk=r=>{const o=Wc({},r);let{data:s,withXSRFToken:c,xsrfHeaderName:d,xsrfCookieName:h,headers:_,auth:x}=o;o.headers=_=yo.from(_),o.url=uk(hk(o.baseURL,o.url),r.params,r.paramsSerializer),x&&_.set("Authorization","Basic "+btoa((x.username||"")+":"+(x.password?unescape(encodeURIComponent(x.password)):"")));let S;if(et.isFormData(s)){if(Oa.hasStandardBrowserEnv||Oa.hasStandardBrowserWebWorkerEnv)_.setContentType(void 0);else if((S=_.getContentType())!==!1){const[C,...T]=S?S.split(";").map(P=>P.trim()).filter(Boolean):[];_.setContentType([C||"multipart/form-data",...T].join("; "))}}if(Oa.hasStandardBrowserEnv&&(c&&et.isFunction(c)&&(c=c(o)),c||c!==!1&&VV(o.url))){const C=d&&h&&UV.read(h);C&&_.set(d,C)}return o},zV=typeof XMLHttpRequest<"u",WV=zV&&function(r){return new Promise(function(s,c){const d=vk(r);let h=d.data;const _=yo.from(d.headers).normalize();let{responseType:x}=d,S;function C(){d.cancelToken&&d.cancelToken.unsubscribe(S),d.signal&&d.signal.removeEventListener("abort",S)}let T=new XMLHttpRequest;T.open(d.method.toUpperCase(),d.url,!0),T.timeout=d.timeout;function P(){if(!T)return;const N=yo.from("getAllResponseHeaders"in T&&T.getAllResponseHeaders()),K={data:!x||x==="text"||x==="json"?T.responseText:T.response,status:T.status,statusText:T.statusText,headers:N,config:r,request:T};pk(function(q){s(q),C()},function(q){c(q),C()},K),T=null}"onloadend"in T?T.onloadend=P:T.onreadystatechange=function(){!T||T.readyState!==4||T.status===0&&!(T.responseURL&&T.responseURL.indexOf("file:")===0)||setTimeout(P)},T.onabort=function(){T&&(c(new Pr("Request aborted",Pr.ECONNABORTED,d,T)),T=null)},T.onerror=function(){c(new Pr("Network Error",Pr.ERR_NETWORK,d,T)),T=null},T.ontimeout=function(){let U=d.timeout?"timeout of "+d.timeout+"ms exceeded":"timeout exceeded";const K=d.transitional||ck;d.timeoutErrorMessage&&(U=d.timeoutErrorMessage),c(new Pr(U,K.clarifyTimeoutError?Pr.ETIMEDOUT:Pr.ECONNABORTED,d,T)),T=null},h===void 0&&_.setContentType(null),"setRequestHeader"in T&&et.forEach(_.toJSON(),function(U,K){T.setRequestHeader(K,U)}),et.isUndefined(d.withCredentials)||(T.withCredentials=!!d.withCredentials),x&&x!=="json"&&(T.responseType=d.responseType),typeof d.onDownloadProgress=="function"&&T.addEventListener("progress",ky(d.onDownloadProgress,!0)),typeof d.onUploadProgress=="function"&&T.upload&&T.upload.addEventListener("progress",ky(d.onUploadProgress)),(d.cancelToken||d.signal)&&(S=N=>{T&&(c(!N||N.type?new Bd(null,r,T):N),T.abort(),T=null)},d.cancelToken&&d.cancelToken.subscribe(S),d.signal&&(d.signal.aborted?S():d.signal.addEventListener("abort",S)));const L=jV(d.url);if(L&&Oa.protocols.indexOf(L)===-1){c(new Pr("Unsupported protocol "+L+":",Pr.ERR_BAD_REQUEST,r));return}T.send(h||null)})},$V=(r,o)=>{let s=new AbortController,c;const d=function(S){if(!c){c=!0,_();const C=S instanceof Error?S:this.reason;s.abort(C instanceof Pr?C:new Bd(C instanceof Error?C.message:C))}};let h=o&&setTimeout(()=>{d(new Pr(`timeout ${o} of ms exceeded`,Pr.ETIMEDOUT))},o);const _=()=>{r&&(h&&clearTimeout(h),h=null,r.forEach(S=>{S&&(S.removeEventListener?S.removeEventListener("abort",d):S.unsubscribe(d))}),r=null)};r.forEach(S=>S&&S.addEventListener&&S.addEventListener("abort",d));const{signal:x}=s;return x.unsubscribe=_,[x,()=>{h&&clearTimeout(h),h=null}]},KV=function*(r,o){let s=r.byteLength;if(!o||s<o){yield r;return}let c=0,d;for(;c<s;)d=c+o,yield r.slice(c,d),c=d},GV=async function*(r,o,s){for await(const c of r)yield*KV(ArrayBuffer.isView(c)?c:await s(String(c)),o)},DO=(r,o,s,c,d)=>{const h=GV(r,o,d);let _=0;return new ReadableStream({type:"bytes",async pull(x){const{done:S,value:C}=await h.next();if(S){x.close(),c();return}let T=C.byteLength;s&&s(_+=T),x.enqueue(new Uint8Array(C))},cancel(x){return c(x),h.return()}},{highWaterMark:2})},RO=(r,o)=>{const s=r!=null;return c=>setTimeout(()=>o({lengthComputable:s,total:r,loaded:c}))},i0=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",gk=i0&&typeof ReadableStream=="function",Kb=i0&&(typeof TextEncoder=="function"?(r=>o=>r.encode(o))(new TextEncoder):async r=>new Uint8Array(await new Response(r).arrayBuffer())),ZV=gk&&(()=>{let r=!1;const o=new Request(Oa.origin,{body:new ReadableStream,method:"POST",get duplex(){return r=!0,"half"}}).headers.has("Content-Type");return r&&!o})(),NO=64*1024,Gb=gk&&!!(()=>{try{return et.isReadableStream(new Response("").body)}catch{}})(),Ay={stream:Gb&&(r=>r.body)};i0&&(r=>{["text","arrayBuffer","blob","formData","stream"].forEach(o=>{!Ay[o]&&(Ay[o]=et.isFunction(r[o])?s=>s[o]():(s,c)=>{throw new Pr(`Response type '${o}' is not supported`,Pr.ERR_NOT_SUPPORT,c)})})})(new Response);const qV=async r=>{if(r==null)return 0;if(et.isBlob(r))return r.size;if(et.isSpecCompliantForm(r))return(await new Request(r).arrayBuffer()).byteLength;if(et.isArrayBufferView(r))return r.byteLength;if(et.isURLSearchParams(r)&&(r=r+""),et.isString(r))return(await Kb(r)).byteLength},YV=async(r,o)=>{const s=et.toFiniteNumber(r.getContentLength());return s??qV(o)},XV=i0&&(async r=>{let{url:o,method:s,data:c,signal:d,cancelToken:h,timeout:_,onDownloadProgress:x,onUploadProgress:S,responseType:C,headers:T,withCredentials:P="same-origin",fetchOptions:L}=vk(r);C=C?(C+"").toLowerCase():"text";let[N,U]=d||h||_?$V([d,h],_):[],K,fe;const q=()=>{!K&&setTimeout(()=>{N&&N.unsubscribe()}),K=!0};let z;try{if(S&&ZV&&s!=="get"&&s!=="head"&&(z=await YV(T,c))!==0){let ie=new Request(o,{method:"POST",body:c,duplex:"half"}),we;et.isFormData(c)&&(we=ie.headers.get("content-type"))&&T.setContentType(we),ie.body&&(c=DO(ie.body,NO,RO(z,ky(S)),null,Kb))}et.isString(P)||(P=P?"cors":"omit"),fe=new Request(o,{...L,signal:N,method:s.toUpperCase(),headers:T.normalize().toJSON(),body:c,duplex:"half",withCredentials:P});let $=await fetch(fe);const X=Gb&&(C==="stream"||C==="response");if(Gb&&(x||X)){const ie={};["status","statusText","headers"].forEach(Ae=>{ie[Ae]=$[Ae]});const we=et.toFiniteNumber($.headers.get("content-length"));$=new Response(DO($.body,NO,x&&RO(we,ky(x,!0)),X&&q,Kb),ie)}C=C||"text";let _e=await Ay[et.findKey(Ay,C)||"text"]($,r);return!X&&q(),U&&U(),await new Promise((ie,we)=>{pk(ie,we,{data:_e,headers:yo.from($.headers),status:$.status,statusText:$.statusText,config:r,request:fe})})}catch($){throw q(),$&&$.name==="TypeError"&&/fetch/i.test($.message)?Object.assign(new Pr("Network Error",Pr.ERR_NETWORK,r,fe),{cause:$.cause||$}):Pr.from($,$&&$.code,r,fe)}}),Zb={http:hV,xhr:WV,fetch:XV};et.forEach(Zb,(r,o)=>{if(r){try{Object.defineProperty(r,"name",{value:o})}catch{}Object.defineProperty(r,"adapterName",{value:o})}});const jO=r=>`- ${r}`,JV=r=>et.isFunction(r)||r===null||r===!1,mk={getAdapter:r=>{r=et.isArray(r)?r:[r];const{length:o}=r;let s,c;const d={};for(let h=0;h<o;h++){s=r[h];let _;if(c=s,!JV(s)&&(c=Zb[(_=String(s)).toLowerCase()],c===void 0))throw new Pr(`Unknown adapter '${_}'`);if(c)break;d[_||"#"+h]=c}if(!c){const h=Object.entries(d).map(([x,S])=>`adapter ${x} `+(S===!1?"is not supported by the environment":"is not available in the build"));let _=o?h.length>1?`since :
`+h.map(jO).join(`
`):" "+jO(h[0]):"as no adapter specified";throw new Pr("There is no suitable adapter to dispatch the request "+_,"ERR_NOT_SUPPORT")}return c},adapters:Zb};function D_(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new Bd(null,r)}function IO(r){return D_(r),r.headers=yo.from(r.headers),r.data=M_.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),mk.getAdapter(r.adapter||av.adapter)(r).then(function(c){return D_(r),c.data=M_.call(r,r.transformResponse,c),c.headers=yo.from(c.headers),c},function(c){return dk(c)||(D_(r),c&&c.response&&(c.response.data=M_.call(r,r.transformResponse,c.response),c.response.headers=yo.from(c.response.headers))),Promise.reject(c)})}const yk="1.7.2",cS={};["object","boolean","number","function","string","symbol"].forEach((r,o)=>{cS[r]=function(c){return typeof c===r||"a"+(o<1?"n ":" ")+r}});const FO={};cS.transitional=function(o,s,c){function d(h,_){return"[Axios v"+yk+"] Transitional option '"+h+"'"+_+(c?". "+c:"")}return(h,_,x)=>{if(o===!1)throw new Pr(d(_," has been removed"+(s?" in "+s:"")),Pr.ERR_DEPRECATED);return s&&!FO[_]&&(FO[_]=!0,console.warn(d(_," has been deprecated since v"+s+" and will be removed in the near future"))),o?o(h,_,x):!0}};function QV(r,o,s){if(typeof r!="object")throw new Pr("options must be an object",Pr.ERR_BAD_OPTION_VALUE);const c=Object.keys(r);let d=c.length;for(;d-- >0;){const h=c[d],_=o[h];if(_){const x=r[h],S=x===void 0||_(x,h,r);if(S!==!0)throw new Pr("option "+h+" must be "+S,Pr.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new Pr("Unknown option "+h,Pr.ERR_BAD_OPTION)}}const qb={assertOptions:QV,validators:cS},Xl=qb.validators;class Rc{constructor(o){this.defaults=o,this.interceptors={request:new AO,response:new AO}}async request(o,s){try{return await this._request(o,s)}catch(c){if(c instanceof Error){let d;Error.captureStackTrace?Error.captureStackTrace(d={}):d=new Error;const h=d.stack?d.stack.replace(/^.+\n/,""):"";try{c.stack?h&&!String(c.stack).endsWith(h.replace(/^.+\n.+\n/,""))&&(c.stack+=`
`+h):c.stack=h}catch{}}throw c}}_request(o,s){typeof o=="string"?(s=s||{},s.url=o):s=o||{},s=Wc(this.defaults,s);const{transitional:c,paramsSerializer:d,headers:h}=s;c!==void 0&&qb.assertOptions(c,{silentJSONParsing:Xl.transitional(Xl.boolean),forcedJSONParsing:Xl.transitional(Xl.boolean),clarifyTimeoutError:Xl.transitional(Xl.boolean)},!1),d!=null&&(et.isFunction(d)?s.paramsSerializer={serialize:d}:qb.assertOptions(d,{encode:Xl.function,serialize:Xl.function},!0)),s.method=(s.method||this.defaults.method||"get").toLowerCase();let _=h&&et.merge(h.common,h[s.method]);h&&et.forEach(["delete","get","head","post","put","patch","common"],U=>{delete h[U]}),s.headers=yo.concat(_,h);const x=[];let S=!0;this.interceptors.request.forEach(function(K){typeof K.runWhen=="function"&&K.runWhen(s)===!1||(S=S&&K.synchronous,x.unshift(K.fulfilled,K.rejected))});const C=[];this.interceptors.response.forEach(function(K){C.push(K.fulfilled,K.rejected)});let T,P=0,L;if(!S){const U=[IO.bind(this),void 0];for(U.unshift.apply(U,x),U.push.apply(U,C),L=U.length,T=Promise.resolve(s);P<L;)T=T.then(U[P++],U[P++]);return T}L=x.length;let N=s;for(P=0;P<L;){const U=x[P++],K=x[P++];try{N=U(N)}catch(fe){K.call(this,fe);break}}try{T=IO.call(this,N)}catch(U){return Promise.reject(U)}for(P=0,L=C.length;P<L;)T=T.then(C[P++],C[P++]);return T}getUri(o){o=Wc(this.defaults,o);const s=hk(o.baseURL,o.url);return uk(s,o.params,o.paramsSerializer)}}et.forEach(["delete","get","head","options"],function(o){Rc.prototype[o]=function(s,c){return this.request(Wc(c||{},{method:o,url:s,data:(c||{}).data}))}});et.forEach(["post","put","patch"],function(o){function s(c){return function(h,_,x){return this.request(Wc(x||{},{method:o,headers:c?{"Content-Type":"multipart/form-data"}:{},url:h,data:_}))}}Rc.prototype[o]=s(),Rc.prototype[o+"Form"]=s(!0)});class fS{constructor(o){if(typeof o!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(h){s=h});const c=this;this.promise.then(d=>{if(!c._listeners)return;let h=c._listeners.length;for(;h-- >0;)c._listeners[h](d);c._listeners=null}),this.promise.then=d=>{let h;const _=new Promise(x=>{c.subscribe(x),h=x}).then(d);return _.cancel=function(){c.unsubscribe(h)},_},o(function(h,_,x){c.reason||(c.reason=new Bd(h,_,x),s(c.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(o){if(this.reason){o(this.reason);return}this._listeners?this._listeners.push(o):this._listeners=[o]}unsubscribe(o){if(!this._listeners)return;const s=this._listeners.indexOf(o);s!==-1&&this._listeners.splice(s,1)}static source(){let o;return{token:new fS(function(d){o=d}),cancel:o}}}function e3(r){return function(s){return r.apply(null,s)}}function t3(r){return et.isObject(r)&&r.isAxiosError===!0}const Yb={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Yb).forEach(([r,o])=>{Yb[o]=r});function wk(r){const o=new Rc(r),s=XP(Rc.prototype.request,o);return et.extend(s,Rc.prototype,o,{allOwnKeys:!0}),et.extend(s,o,null,{allOwnKeys:!0}),s.create=function(d){return wk(Wc(r,d))},s}const ui=wk(av);ui.Axios=Rc;ui.CanceledError=Bd;ui.CancelToken=fS;ui.isCancel=dk;ui.VERSION=yk;ui.toFormData=n0;ui.AxiosError=Pr;ui.Cancel=ui.CanceledError;ui.all=function(o){return Promise.all(o)};ui.spread=e3;ui.isAxiosError=t3;ui.mergeConfig=Wc;ui.AxiosHeaders=yo;ui.formToJSON=r=>fk(et.isHTMLForm(r)?new FormData(r):r);ui.getAdapter=mk.getAdapter;ui.HttpStatusCode=Yb;ui.default=ui;const r3=ui.create({baseURL:"https://fire-arms.net/api/"});/**
 * @remix-run/router v1.17.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function In(){return In=Object.assign?Object.assign.bind():function(r){for(var o=1;o<arguments.length;o++){var s=arguments[o];for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(r[c]=s[c])}return r},In.apply(this,arguments)}var ai;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(ai||(ai={}));const VO="popstate";function n3(r){r===void 0&&(r={});function o(c,d){let{pathname:h,search:_,hash:x}=c.location;return Zh("",{pathname:h,search:_,hash:x},d.state&&d.state.usr||null,d.state&&d.state.key||"default")}function s(c,d){return typeof d=="string"?d:sv(d)}return o3(o,s,null,r)}function Ur(r,o){if(r===!1||r===null||typeof r>"u")throw new Error(o)}function Ld(r,o){if(!r){typeof console<"u"&&console.warn(o);try{throw new Error(o)}catch{}}}function i3(){return Math.random().toString(36).substr(2,8)}function UO(r,o){return{usr:r.state,key:r.key,idx:o}}function Zh(r,o,s,c){return s===void 0&&(s=null),In({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof o=="string"?Su(o):o,{state:s,key:o&&o.key||c||i3()})}function sv(r){let{pathname:o="/",search:s="",hash:c=""}=r;return s&&s!=="?"&&(o+=s.charAt(0)==="?"?s:"?"+s),c&&c!=="#"&&(o+=c.charAt(0)==="#"?c:"#"+c),o}function Su(r){let o={};if(r){let s=r.indexOf("#");s>=0&&(o.hash=r.substr(s),r=r.substr(0,s));let c=r.indexOf("?");c>=0&&(o.search=r.substr(c),r=r.substr(0,c)),r&&(o.pathname=r)}return o}function o3(r,o,s,c){c===void 0&&(c={});let{window:d=document.defaultView,v5Compat:h=!1}=c,_=d.history,x=ai.Pop,S=null,C=T();C==null&&(C=0,_.replaceState(In({},_.state,{idx:C}),""));function T(){return(_.state||{idx:null}).idx}function P(){x=ai.Pop;let fe=T(),q=fe==null?null:fe-C;C=fe,S&&S({action:x,location:K.location,delta:q})}function L(fe,q){x=ai.Push;let z=Zh(K.location,fe,q);C=T()+1;let $=UO(z,C),X=K.createHref(z);try{_.pushState($,"",X)}catch(_e){if(_e instanceof DOMException&&_e.name==="DataCloneError")throw _e;d.location.assign(X)}h&&S&&S({action:x,location:K.location,delta:1})}function N(fe,q){x=ai.Replace;let z=Zh(K.location,fe,q);C=T();let $=UO(z,C),X=K.createHref(z);_.replaceState($,"",X),h&&S&&S({action:x,location:K.location,delta:0})}function U(fe){let q=d.location.origin!=="null"?d.location.origin:d.location.href,z=typeof fe=="string"?fe:sv(fe);return z=z.replace(/ $/,"%20"),Ur(q,"No window.location.(origin|href) available to create URL for href: "+z),new URL(z,q)}let K={get action(){return x},get location(){return r(d,_)},listen(fe){if(S)throw new Error("A history only accepts one active listener");return d.addEventListener(VO,P),S=fe,()=>{d.removeEventListener(VO,P),S=null}},createHref(fe){return o(d,fe)},createURL:U,encodeLocation(fe){let q=U(fe);return{pathname:q.pathname,search:q.search,hash:q.hash}},push:L,replace:N,go(fe){return _.go(fe)}};return K}var mn;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(mn||(mn={}));const a3=new Set(["lazy","caseSensitive","path","id","index","children"]);function s3(r){return r.index===!0}function qh(r,o,s,c){return s===void 0&&(s=[]),c===void 0&&(c={}),r.map((d,h)=>{let _=[...s,String(h)],x=typeof d.id=="string"?d.id:_.join("-");if(Ur(d.index!==!0||!d.children,"Cannot specify children on an index route"),Ur(!c[x],'Found a route id collision on id "'+x+`".  Route id's must be globally unique within Data Router usages`),s3(d)){let S=In({},d,o(d),{id:x});return c[x]=S,S}else{let S=In({},d,o(d),{id:x,children:void 0});return c[x]=S,d.children&&(S.children=qh(d.children,o,_,c)),S}})}function Cc(r,o,s){return s===void 0&&(s="/"),Nm(r,o,s,!1)}function Nm(r,o,s,c){let d=typeof o=="string"?Su(o):o,h=lv(d.pathname||"/",s);if(h==null)return null;let _=_k(r);u3(_);let x=null;for(let S=0;x==null&&S<_.length;++S){let C=_3(h);x=y3(_[S],C,c)}return x}function l3(r,o){let{route:s,pathname:c,params:d}=r;return{id:s.id,pathname:c,params:d,data:o[s.id],handle:s.handle}}function _k(r,o,s,c){o===void 0&&(o=[]),s===void 0&&(s=[]),c===void 0&&(c="");let d=(h,_,x)=>{let S={relativePath:x===void 0?h.path||"":x,caseSensitive:h.caseSensitive===!0,childrenIndex:_,route:h};S.relativePath.startsWith("/")&&(Ur(S.relativePath.startsWith(c),'Absolute route path "'+S.relativePath+'" nested under path '+('"'+c+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),S.relativePath=S.relativePath.slice(c.length));let C=gu([c,S.relativePath]),T=s.concat(S);h.children&&h.children.length>0&&(Ur(h.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+C+'".')),_k(h.children,o,T,C)),!(h.path==null&&!h.index)&&o.push({path:C,score:g3(C,h.index),routesMeta:T})};return r.forEach((h,_)=>{var x;if(h.path===""||!((x=h.path)!=null&&x.includes("?")))d(h,_);else for(let S of bk(h.path))d(h,_,S)}),o}function bk(r){let o=r.split("/");if(o.length===0)return[];let[s,...c]=o,d=s.endsWith("?"),h=s.replace(/\?$/,"");if(c.length===0)return d?[h,""]:[h];let _=bk(c.join("/")),x=[];return x.push(..._.map(S=>S===""?h:[h,S].join("/"))),d&&x.push(..._),x.map(S=>r.startsWith("/")&&S===""?"/":S)}function u3(r){r.sort((o,s)=>o.score!==s.score?s.score-o.score:m3(o.routesMeta.map(c=>c.childrenIndex),s.routesMeta.map(c=>c.childrenIndex)))}const c3=/^:[\w-]+$/,f3=3,d3=2,p3=1,h3=10,v3=-2,BO=r=>r==="*";function g3(r,o){let s=r.split("/"),c=s.length;return s.some(BO)&&(c+=v3),o&&(c+=d3),s.filter(d=>!BO(d)).reduce((d,h)=>d+(c3.test(h)?f3:h===""?p3:h3),c)}function m3(r,o){return r.length===o.length&&r.slice(0,-1).every((c,d)=>c===o[d])?r[r.length-1]-o[o.length-1]:0}function y3(r,o,s){s===void 0&&(s=!1);let{routesMeta:c}=r,d={},h="/",_=[];for(let x=0;x<c.length;++x){let S=c[x],C=x===c.length-1,T=h==="/"?o:o.slice(h.length)||"/",P=HO({path:S.relativePath,caseSensitive:S.caseSensitive,end:C},T),L=S.route;if(!P&&C&&s&&!c[c.length-1].route.index&&(P=HO({path:S.relativePath,caseSensitive:S.caseSensitive,end:!1},T)),!P)return null;Object.assign(d,P.params),_.push({params:d,pathname:gu([h,P.pathname]),pathnameBase:S3(gu([h,P.pathnameBase])),route:L}),P.pathnameBase!=="/"&&(h=gu([h,P.pathnameBase]))}return _}function HO(r,o){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[s,c]=w3(r.path,r.caseSensitive,r.end),d=o.match(s);if(!d)return null;let h=d[0],_=h.replace(/(.)\/+$/,"$1"),x=d.slice(1);return{params:c.reduce((C,T,P)=>{let{paramName:L,isOptional:N}=T;if(L==="*"){let K=x[P]||"";_=h.slice(0,h.length-K.length).replace(/(.)\/+$/,"$1")}const U=x[P];return N&&!U?C[L]=void 0:C[L]=(U||"").replace(/%2F/g,"/"),C},{}),pathname:h,pathnameBase:_,pattern:r}}function w3(r,o,s){o===void 0&&(o=!1),s===void 0&&(s=!0),Ld(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let c=[],d="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(_,x,S)=>(c.push({paramName:x,isOptional:S!=null}),S?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(c.push({paramName:"*"}),d+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?d+="\\/*$":r!==""&&r!=="/"&&(d+="(?:(?=\\/|$))"),[new RegExp(d,o?void 0:"i"),c]}function _3(r){try{return r.split("/").map(o=>decodeURIComponent(o).replace(/\//g,"%2F")).join("/")}catch(o){return Ld(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+o+").")),r}}function lv(r,o){if(o==="/")return r;if(!r.toLowerCase().startsWith(o.toLowerCase()))return null;let s=o.endsWith("/")?o.length-1:o.length,c=r.charAt(s);return c&&c!=="/"?null:r.slice(s)||"/"}function b3(r,o){o===void 0&&(o="/");let{pathname:s,search:c="",hash:d=""}=typeof r=="string"?Su(r):r;return{pathname:s?s.startsWith("/")?s:x3(s,o):o,search:C3(c),hash:O3(d)}}function x3(r,o){let s=o.replace(/\/+$/,"").split("/");return r.split("/").forEach(d=>{d===".."?s.length>1&&s.pop():d!=="."&&s.push(d)}),s.length>1?s.join("/"):"/"}function R_(r,o,s,c){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+o+"` field ["+JSON.stringify(c)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function xk(r){return r.filter((o,s)=>s===0||o.route.path&&o.route.path.length>0)}function Sk(r,o){let s=xk(r);return o?s.map((c,d)=>d===s.length-1?c.pathname:c.pathnameBase):s.map(c=>c.pathnameBase)}function Ck(r,o,s,c){c===void 0&&(c=!1);let d;typeof r=="string"?d=Su(r):(d=In({},r),Ur(!d.pathname||!d.pathname.includes("?"),R_("?","pathname","search",d)),Ur(!d.pathname||!d.pathname.includes("#"),R_("#","pathname","hash",d)),Ur(!d.search||!d.search.includes("#"),R_("#","search","hash",d)));let h=r===""||d.pathname==="",_=h?"/":d.pathname,x;if(_==null)x=s;else{let P=o.length-1;if(!c&&_.startsWith("..")){let L=_.split("/");for(;L[0]==="..";)L.shift(),P-=1;d.pathname=L.join("/")}x=P>=0?o[P]:"/"}let S=b3(d,x),C=_&&_!=="/"&&_.endsWith("/"),T=(h||_===".")&&s.endsWith("/");return!S.pathname.endsWith("/")&&(C||T)&&(S.pathname+="/"),S}const gu=r=>r.join("/").replace(/\/\/+/g,"/"),S3=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),C3=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,O3=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;class dS{constructor(o,s,c,d){d===void 0&&(d=!1),this.status=o,this.statusText=s||"",this.internal=d,c instanceof Error?(this.data=c.toString(),this.error=c):this.data=c}}function o0(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const Ok=["post","put","patch","delete"],E3=new Set(Ok),T3=["get",...Ok],P3=new Set(T3),k3=new Set([301,302,303,307,308]),A3=new Set([307,308]),N_={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},L3={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},rh={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},pS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,M3=r=>({hasErrorBoundary:!!r.hasErrorBoundary}),Ek="remix-router-transitions";function D3(r){const o=r.window?r.window:typeof window<"u"?window:void 0,s=typeof o<"u"&&typeof o.document<"u"&&typeof o.document.createElement<"u",c=!s;Ur(r.routes.length>0,"You must provide a non-empty routes array to createRouter");let d;if(r.mapRouteProperties)d=r.mapRouteProperties;else if(r.detectErrorBoundary){let Pe=r.detectErrorBoundary;d=Me=>({hasErrorBoundary:Pe(Me)})}else d=M3;let h={},_=qh(r.routes,d,void 0,h),x,S=r.basename||"/",C=r.unstable_dataStrategy||F3,T=r.unstable_patchRoutesOnMiss,P=In({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,unstable_skipActionErrorRevalidation:!1},r.future),L=null,N=new Set,U=null,K=null,fe=null,q=r.hydrationData!=null,z=Cc(_,r.history.location,S),$=null;if(z==null&&!T){let Pe=eo(404,{pathname:r.history.location.pathname}),{matches:Me,route:Ke}=JO(_);z=Me,$={[Ke.id]:Pe}}z&&T&&_t(z,_,r.history.location.pathname).active&&(z=null);let X;if(!z)X=!1,z=[];else if(z.some(Pe=>Pe.route.lazy))X=!1;else if(!z.some(Pe=>Pe.route.loader))X=!0;else if(P.v7_partialHydration){let Pe=r.hydrationData?r.hydrationData.loaderData:null,Me=r.hydrationData?r.hydrationData.errors:null,Ke=Xe=>Xe.route.loader?typeof Xe.route.loader=="function"&&Xe.route.loader.hydrate===!0?!1:Pe&&Pe[Xe.route.id]!==void 0||Me&&Me[Xe.route.id]!==void 0:!0;if(Me){let Xe=z.findIndex(xt=>Me[xt.route.id]!==void 0);X=z.slice(0,Xe+1).every(Ke)}else X=z.every(Ke)}else X=r.hydrationData!=null;let _e,ie={historyAction:r.history.action,location:r.history.location,matches:z,initialized:X,navigation:N_,restoreScrollPosition:r.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:r.hydrationData&&r.hydrationData.loaderData||{},actionData:r.hydrationData&&r.hydrationData.actionData||null,errors:r.hydrationData&&r.hydrationData.errors||$,fetchers:new Map,blockers:new Map},we=ai.Pop,Ae=!1,se,ve=!1,te=new Map,re=null,ae=!1,G=!1,be=[],W=[],Le=new Map,ye=0,Ue=-1,$e=new Map,ge=new Set,Ve=new Map,Ye=new Map,We=new Set,dt=new Map,Te=new Map,ze=new Map,qe=!1;function ut(){if(L=r.history.listen(Pe=>{let{action:Me,location:Ke,delta:Xe}=Pe;if(qe){qe=!1;return}Ld(Te.size===0||Xe!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let xt=Wr({currentLocation:ie.location,nextLocation:Ke,historyAction:Me});if(xt&&Xe!=null){qe=!0,r.history.go(Xe*-1),Nr(xt,{state:"blocked",location:Ke,proceed(){Nr(xt,{state:"proceeding",proceed:void 0,reset:void 0,location:Ke}),r.history.go(Xe)},reset(){let It=new Map(ie.blockers);It.set(xt,rh),lt({blockers:It})}});return}return Ar(Me,Ke)}),s){X3(o,te);let Pe=()=>J3(o,te);o.addEventListener("pagehide",Pe),re=()=>o.removeEventListener("pagehide",Pe)}return ie.initialized||Ar(ai.Pop,ie.location,{initialHydration:!0}),_e}function vt(){L&&L(),re&&re(),N.clear(),se&&se.abort(),ie.fetchers.forEach((Pe,Me)=>Tt(Me)),ie.blockers.forEach((Pe,Me)=>Qt(Me))}function rt(Pe){return N.add(Pe),()=>N.delete(Pe)}function lt(Pe,Me){Me===void 0&&(Me={}),ie=In({},ie,Pe);let Ke=[],Xe=[];P.v7_fetcherPersist&&ie.fetchers.forEach((xt,It)=>{xt.state==="idle"&&(We.has(It)?Xe.push(It):Ke.push(It))}),[...N].forEach(xt=>xt(ie,{deletedFetchers:Xe,unstable_viewTransitionOpts:Me.viewTransitionOpts,unstable_flushSync:Me.flushSync===!0})),P.v7_fetcherPersist&&(Ke.forEach(xt=>ie.fetchers.delete(xt)),Xe.forEach(xt=>Tt(xt)))}function ar(Pe,Me,Ke){var Xe,xt;let{flushSync:It}=Ke===void 0?{}:Ke,Dt=ie.actionData!=null&&ie.navigation.formMethod!=null&&_a(ie.navigation.formMethod)&&ie.navigation.state==="loading"&&((Xe=Pe.state)==null?void 0:Xe._isRedirect)!==!0,at;Me.actionData?Object.keys(Me.actionData).length>0?at=Me.actionData:at=null:Dt?at=ie.actionData:at=null;let $t=Me.loaderData?YO(ie.loaderData,Me.loaderData,Me.matches||[],Me.errors):ie.loaderData,jt=ie.blockers;jt.size>0&&(jt=new Map(jt),jt.forEach((gr,pr)=>jt.set(pr,rh)));let Bt=Ae===!0||ie.navigation.formMethod!=null&&_a(ie.navigation.formMethod)&&((xt=Pe.state)==null?void 0:xt._isRedirect)!==!0;x&&(_=x,x=void 0),ae||we===ai.Pop||(we===ai.Push?r.history.push(Pe,Pe.state):we===ai.Replace&&r.history.replace(Pe,Pe.state));let jr;if(we===ai.Pop){let gr=te.get(ie.location.pathname);gr&&gr.has(Pe.pathname)?jr={currentLocation:ie.location,nextLocation:Pe}:te.has(Pe.pathname)&&(jr={currentLocation:Pe,nextLocation:ie.location})}else if(ve){let gr=te.get(ie.location.pathname);gr?gr.add(Pe.pathname):(gr=new Set([Pe.pathname]),te.set(ie.location.pathname,gr)),jr={currentLocation:ie.location,nextLocation:Pe}}lt(In({},Me,{actionData:at,loaderData:$t,historyAction:we,location:Pe,initialized:!0,navigation:N_,revalidation:"idle",restoreScrollPosition:Qe(Pe,Me.matches||ie.matches),preventScrollReset:Bt,blockers:jt}),{viewTransitionOpts:jr,flushSync:It===!0}),we=ai.Pop,Ae=!1,ve=!1,ae=!1,G=!1,be=[],W=[]}async function zr(Pe,Me){if(typeof Pe=="number"){r.history.go(Pe);return}let Ke=Xb(ie.location,ie.matches,S,P.v7_prependBasename,Pe,P.v7_relativeSplatPath,Me==null?void 0:Me.fromRouteId,Me==null?void 0:Me.relative),{path:Xe,submission:xt,error:It}=zO(P.v7_normalizeFormMethod,!1,Ke,Me),Dt=ie.location,at=Zh(ie.location,Xe,Me&&Me.state);at=In({},at,r.history.encodeLocation(at));let $t=Me&&Me.replace!=null?Me.replace:void 0,jt=ai.Push;$t===!0?jt=ai.Replace:$t===!1||xt!=null&&_a(xt.formMethod)&&xt.formAction===ie.location.pathname+ie.location.search&&(jt=ai.Replace);let Bt=Me&&"preventScrollReset"in Me?Me.preventScrollReset===!0:void 0,jr=(Me&&Me.unstable_flushSync)===!0,gr=Wr({currentLocation:Dt,nextLocation:at,historyAction:jt});if(gr){Nr(gr,{state:"blocked",location:at,proceed(){Nr(gr,{state:"proceeding",proceed:void 0,reset:void 0,location:at}),zr(Pe,Me)},reset(){let pr=new Map(ie.blockers);pr.set(gr,rh),lt({blockers:pr})}});return}return await Ar(jt,at,{submission:xt,pendingError:It,preventScrollReset:Bt,replace:Me&&Me.replace,enableViewTransition:Me&&Me.unstable_viewTransition,flushSync:jr})}function un(){if(qt(),lt({revalidation:"loading"}),ie.navigation.state!=="submitting"){if(ie.navigation.state==="idle"){Ar(ie.historyAction,ie.location,{startUninterruptedRevalidation:!0});return}Ar(we||ie.historyAction,ie.navigation.location,{overrideNavigation:ie.navigation})}}async function Ar(Pe,Me,Ke){se&&se.abort(),se=null,we=Pe,ae=(Ke&&Ke.startUninterruptedRevalidation)===!0,Re(ie.location,ie.matches),Ae=(Ke&&Ke.preventScrollReset)===!0,ve=(Ke&&Ke.enableViewTransition)===!0;let Xe=x||_,xt=Ke&&Ke.overrideNavigation,It=Cc(Xe,Me,S),Dt=(Ke&&Ke.flushSync)===!0,at=_t(It,Xe,Me.pathname);if(at.active&&at.matches&&(It=at.matches),!It){let{error:sr,notFoundMatches:Jr,route:Fr}=$r(Me.pathname);ar(Me,{matches:Jr,loaderData:{},errors:{[Fr.id]:sr}},{flushSync:Dt});return}if(ie.initialized&&!G&&W3(ie.location,Me)&&!(Ke&&Ke.submission&&_a(Ke.submission.formMethod))){ar(Me,{matches:It},{flushSync:Dt});return}se=new AbortController;let $t=Xf(r.history,Me,se.signal,Ke&&Ke.submission),jt;if(Ke&&Ke.pendingError)jt=[Oh(It).route.id,{type:mn.error,error:Ke.pendingError}];else if(Ke&&Ke.submission&&_a(Ke.submission.formMethod)){let sr=await Ct($t,Me,Ke.submission,It,at.active,{replace:Ke.replace,flushSync:Dt});if(sr.shortCircuited)return;if(sr.pendingActionResult){let[Jr,Fr]=sr.pendingActionResult;if(No(Fr)&&o0(Fr.error)&&Fr.error.status===404){se=null,ar(Me,{matches:sr.matches,loaderData:{},errors:{[Jr]:Fr.error}});return}}It=sr.matches||It,jt=sr.pendingActionResult,xt=j_(Me,Ke.submission),Dt=!1,at.active=!1,$t=Xf(r.history,$t.url,$t.signal)}let{shortCircuited:Bt,matches:jr,loaderData:gr,errors:pr}=await M($t,Me,It,at.active,xt,Ke&&Ke.submission,Ke&&Ke.fetcherSubmission,Ke&&Ke.replace,Ke&&Ke.initialHydration===!0,Dt,jt);Bt||(se=null,ar(Me,In({matches:jr||It},XO(jt),{loaderData:gr,errors:pr})))}async function Ct(Pe,Me,Ke,Xe,xt,It){It===void 0&&(It={}),qt();let Dt=q3(Me,Ke);if(lt({navigation:Dt},{flushSync:It.flushSync===!0}),xt){let jt=await Yt(Xe,Me.pathname,Pe.signal);if(jt.type==="aborted")return{shortCircuited:!0};if(jt.type==="error"){let{error:Bt,notFoundMatches:jr,route:gr}=nt(Me.pathname,jt);return{matches:jr,pendingActionResult:[gr.id,{type:mn.error,error:Bt}]}}else if(jt.matches)Xe=jt.matches;else{let{notFoundMatches:Bt,error:jr,route:gr}=$r(Me.pathname);return{matches:Bt,pendingActionResult:[gr.id,{type:mn.error,error:jr}]}}}let at,$t=dh(Xe,Me);if(!$t.route.action&&!$t.route.lazy)at={type:mn.error,error:eo(405,{method:Pe.method,pathname:Me.pathname,routeId:$t.route.id})};else if(at=(await Oe("action",Pe,[$t],Xe))[0],Pe.signal.aborted)return{shortCircuited:!0};if(Ac(at)){let jt;return It&&It.replace!=null?jt=It.replace:jt=GO(at.response.headers.get("Location"),new URL(Pe.url),S)===ie.location.pathname+ie.location.search,await xe(Pe,at,{submission:Ke,replace:jt}),{shortCircuited:!0}}if(kc(at))throw eo(400,{type:"defer-action"});if(No(at)){let jt=Oh(Xe,$t.route.id);return(It&&It.replace)!==!0&&(we=ai.Push),{matches:Xe,pendingActionResult:[jt.route.id,at]}}return{matches:Xe,pendingActionResult:[$t.route.id,at]}}async function M(Pe,Me,Ke,Xe,xt,It,Dt,at,$t,jt,Bt){let jr=xt||j_(Me,It),gr=It||Dt||tE(jr),pr=!ae&&(!P.v7_partialHydration||!$t);if(Xe){if(pr){let Lr=F(Bt);lt(In({navigation:jr},Lr!==void 0?{actionData:Lr}:{}),{flushSync:jt})}let Kt=await Yt(Ke,Me.pathname,Pe.signal);if(Kt.type==="aborted")return{shortCircuited:!0};if(Kt.type==="error"){let{error:Lr,notFoundMatches:I,route:ne}=nt(Me.pathname,Kt);return{matches:I,loaderData:{},errors:{[ne.id]:Lr}}}else if(Kt.matches)Ke=Kt.matches;else{let{error:Lr,notFoundMatches:I,route:ne}=$r(Me.pathname);return{matches:I,loaderData:{},errors:{[ne.id]:Lr}}}}let sr=x||_,[Jr,Fr]=WO(r.history,ie,Ke,gr,Me,P.v7_partialHydration&&$t===!0,P.unstable_skipActionErrorRevalidation,G,be,W,We,Ve,ge,sr,S,Bt);if(_i(Kt=>!(Ke&&Ke.some(Lr=>Lr.route.id===Kt))||Jr&&Jr.some(Lr=>Lr.route.id===Kt)),Ue=++ye,Jr.length===0&&Fr.length===0){let Kt=nn();return ar(Me,In({matches:Ke,loaderData:{},errors:Bt&&No(Bt[1])?{[Bt[0]]:Bt[1].error}:null},XO(Bt),Kt?{fetchers:new Map(ie.fetchers)}:{}),{flushSync:jt}),{shortCircuited:!0}}if(pr){let Kt={};if(!Xe){Kt.navigation=jr;let Lr=F(Bt);Lr!==void 0&&(Kt.actionData=Lr)}Fr.length>0&&(Kt.fetchers=Z(Fr)),lt(Kt,{flushSync:jt})}Fr.forEach(Kt=>{Le.has(Kt.key)&&zt(Kt.key),Kt.controller&&Le.set(Kt.key,Kt.controller)});let Mn=()=>Fr.forEach(Kt=>zt(Kt.key));se&&se.signal.addEventListener("abort",Mn);let{loaderResults:Zr,fetcherResults:Tr}=await yt(ie.matches,Ke,Jr,Fr,Pe);if(Pe.signal.aborted)return{shortCircuited:!0};se&&se.signal.removeEventListener("abort",Mn),Fr.forEach(Kt=>Le.delete(Kt.key));let kt=QO([...Zr,...Tr]);if(kt){if(kt.idx>=Jr.length){let Kt=Fr[kt.idx-Jr.length].key;ge.add(Kt)}return await xe(Pe,kt.result,{replace:at}),{shortCircuited:!0}}let{loaderData:hn,errors:Mr}=qO(ie,Ke,Jr,Zr,Bt,Fr,Tr,dt);dt.forEach((Kt,Lr)=>{Kt.subscribe(I=>{(I||Kt.done)&&dt.delete(Lr)})}),P.v7_partialHydration&&$t&&ie.errors&&Object.entries(ie.errors).filter(Kt=>{let[Lr]=Kt;return!Jr.some(I=>I.route.id===Lr)}).forEach(Kt=>{let[Lr,I]=Kt;Mr=Object.assign(Mr||{},{[Lr]:I})});let cn=nn(),hr=Mt(Ue),wn=cn||hr||Fr.length>0;return In({matches:Ke,loaderData:hn,errors:Mr},wn?{fetchers:new Map(ie.fetchers)}:{})}function F(Pe){if(Pe&&!No(Pe[1]))return{[Pe[0]]:Pe[1].data};if(ie.actionData)return Object.keys(ie.actionData).length===0?null:ie.actionData}function Z(Pe){return Pe.forEach(Me=>{let Ke=ie.fetchers.get(Me.key),Xe=nh(void 0,Ke?Ke.data:void 0);ie.fetchers.set(Me.key,Xe)}),new Map(ie.fetchers)}function pe(Pe,Me,Ke,Xe){if(c)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Le.has(Pe)&&zt(Pe);let xt=(Xe&&Xe.unstable_flushSync)===!0,It=x||_,Dt=Xb(ie.location,ie.matches,S,P.v7_prependBasename,Ke,P.v7_relativeSplatPath,Me,Xe==null?void 0:Xe.relative),at=Cc(It,Dt,S),$t=_t(at,It,Dt);if($t.active&&$t.matches&&(at=$t.matches),!at){rr(Pe,Me,eo(404,{pathname:Dt}),{flushSync:xt});return}let{path:jt,submission:Bt,error:jr}=zO(P.v7_normalizeFormMethod,!0,Dt,Xe);if(jr){rr(Pe,Me,jr,{flushSync:xt});return}let gr=dh(at,jt);if(Ae=(Xe&&Xe.preventScrollReset)===!0,Bt&&_a(Bt.formMethod)){Se(Pe,Me,jt,gr,at,$t.active,xt,Bt);return}Ve.set(Pe,{routeId:Me,path:jt}),J(Pe,Me,jt,gr,at,$t.active,xt,Bt)}async function Se(Pe,Me,Ke,Xe,xt,It,Dt,at){qt(),Ve.delete(Pe);function $t(ne){if(!ne.route.action&&!ne.route.lazy){let Ze=eo(405,{method:at.formMethod,pathname:Ke,routeId:Me});return rr(Pe,Me,Ze,{flushSync:Dt}),!0}return!1}if(!It&&$t(Xe))return;let jt=ie.fetchers.get(Pe);Vt(Pe,Y3(at,jt),{flushSync:Dt});let Bt=new AbortController,jr=Xf(r.history,Ke,Bt.signal,at);if(It){let ne=await Yt(xt,Ke,jr.signal);if(ne.type==="aborted")return;if(ne.type==="error"){let{error:Ze}=nt(Ke,ne);rr(Pe,Me,Ze,{flushSync:Dt});return}else if(ne.matches){if(xt=ne.matches,Xe=dh(xt,Ke),$t(Xe))return}else{rr(Pe,Me,eo(404,{pathname:Ke}),{flushSync:Dt});return}}Le.set(Pe,Bt);let gr=ye,sr=(await Oe("action",jr,[Xe],xt))[0];if(jr.signal.aborted){Le.get(Pe)===Bt&&Le.delete(Pe);return}if(P.v7_fetcherPersist&&We.has(Pe)){if(Ac(sr)||No(sr)){Vt(Pe,Jl(void 0));return}}else{if(Ac(sr))if(Le.delete(Pe),Ue>gr){Vt(Pe,Jl(void 0));return}else return ge.add(Pe),Vt(Pe,nh(at)),xe(jr,sr,{fetcherSubmission:at});if(No(sr)){rr(Pe,Me,sr.error);return}}if(kc(sr))throw eo(400,{type:"defer-action"});let Jr=ie.navigation.location||ie.location,Fr=Xf(r.history,Jr,Bt.signal),Mn=x||_,Zr=ie.navigation.state!=="idle"?Cc(Mn,ie.navigation.location,S):ie.matches;Ur(Zr,"Didn't find any matches after fetcher action");let Tr=++ye;$e.set(Pe,Tr);let kt=nh(at,sr.data);ie.fetchers.set(Pe,kt);let[hn,Mr]=WO(r.history,ie,Zr,at,Jr,!1,P.unstable_skipActionErrorRevalidation,G,be,W,We,Ve,ge,Mn,S,[Xe.route.id,sr]);Mr.filter(ne=>ne.key!==Pe).forEach(ne=>{let Ze=ne.key,it=ie.fetchers.get(Ze),nr=nh(void 0,it?it.data:void 0);ie.fetchers.set(Ze,nr),Le.has(Ze)&&zt(Ze),ne.controller&&Le.set(Ze,ne.controller)}),lt({fetchers:new Map(ie.fetchers)});let cn=()=>Mr.forEach(ne=>zt(ne.key));Bt.signal.addEventListener("abort",cn);let{loaderResults:hr,fetcherResults:wn}=await yt(ie.matches,Zr,hn,Mr,Fr);if(Bt.signal.aborted)return;Bt.signal.removeEventListener("abort",cn),$e.delete(Pe),Le.delete(Pe),Mr.forEach(ne=>Le.delete(ne.key));let Kt=QO([...hr,...wn]);if(Kt){if(Kt.idx>=hn.length){let ne=Mr[Kt.idx-hn.length].key;ge.add(ne)}return xe(Fr,Kt.result)}let{loaderData:Lr,errors:I}=qO(ie,ie.matches,hn,hr,void 0,Mr,wn,dt);if(ie.fetchers.has(Pe)){let ne=Jl(sr.data);ie.fetchers.set(Pe,ne)}Mt(Tr),ie.navigation.state==="loading"&&Tr>Ue?(Ur(we,"Expected pending action"),se&&se.abort(),ar(ie.navigation.location,{matches:Zr,loaderData:Lr,errors:I,fetchers:new Map(ie.fetchers)})):(lt({errors:I,loaderData:YO(ie.loaderData,Lr,Zr,I),fetchers:new Map(ie.fetchers)}),G=!1)}async function J(Pe,Me,Ke,Xe,xt,It,Dt,at){let $t=ie.fetchers.get(Pe);Vt(Pe,nh(at,$t?$t.data:void 0),{flushSync:Dt});let jt=new AbortController,Bt=Xf(r.history,Ke,jt.signal);if(It){let sr=await Yt(xt,Ke,Bt.signal);if(sr.type==="aborted")return;if(sr.type==="error"){let{error:Jr}=nt(Ke,sr);rr(Pe,Me,Jr,{flushSync:Dt});return}else if(sr.matches)xt=sr.matches,Xe=dh(xt,Ke);else{rr(Pe,Me,eo(404,{pathname:Ke}),{flushSync:Dt});return}}Le.set(Pe,jt);let jr=ye,pr=(await Oe("loader",Bt,[Xe],xt))[0];if(kc(pr)&&(pr=await Lk(pr,Bt.signal,!0)||pr),Le.get(Pe)===jt&&Le.delete(Pe),!Bt.signal.aborted){if(We.has(Pe)){Vt(Pe,Jl(void 0));return}if(Ac(pr))if(Ue>jr){Vt(Pe,Jl(void 0));return}else{ge.add(Pe),await xe(Bt,pr);return}if(No(pr)){rr(Pe,Me,pr.error);return}Ur(!kc(pr),"Unhandled fetcher deferred data"),Vt(Pe,Jl(pr.data))}}async function xe(Pe,Me,Ke){let{submission:Xe,fetcherSubmission:xt,replace:It}=Ke===void 0?{}:Ke;Me.response.headers.has("X-Remix-Revalidate")&&(G=!0);let Dt=Me.response.headers.get("Location");Ur(Dt,"Expected a Location header on the redirect Response"),Dt=GO(Dt,new URL(Pe.url),S);let at=Zh(ie.location,Dt,{_isRedirect:!0});if(s){let pr=!1;if(Me.response.headers.has("X-Remix-Reload-Document"))pr=!0;else if(pS.test(Dt)){const sr=r.history.createURL(Dt);pr=sr.origin!==o.location.origin||lv(sr.pathname,S)==null}if(pr){It?o.location.replace(Dt):o.location.assign(Dt);return}}se=null;let $t=It===!0?ai.Replace:ai.Push,{formMethod:jt,formAction:Bt,formEncType:jr}=ie.navigation;!Xe&&!xt&&jt&&Bt&&jr&&(Xe=tE(ie.navigation));let gr=Xe||xt;if(A3.has(Me.response.status)&&gr&&_a(gr.formMethod))await Ar($t,at,{submission:In({},gr,{formAction:Dt}),preventScrollReset:Ae});else{let pr=j_(at,Xe);await Ar($t,at,{overrideNavigation:pr,fetcherSubmission:xt,preventScrollReset:Ae})}}async function Oe(Pe,Me,Ke,Xe){try{let xt=await V3(C,Pe,Me,Ke,Xe,h,d);return await Promise.all(xt.map((It,Dt)=>{if(K3(It)){let at=It.result;return{type:mn.redirect,response:H3(at,Me,Ke[Dt].route.id,Xe,S,P.v7_relativeSplatPath)}}return B3(It)}))}catch(xt){return Ke.map(()=>({type:mn.error,error:xt}))}}async function yt(Pe,Me,Ke,Xe,xt){let[It,...Dt]=await Promise.all([Ke.length?Oe("loader",xt,Ke,Me):[],...Xe.map(at=>{if(at.matches&&at.match&&at.controller){let $t=Xf(r.history,at.path,at.controller.signal);return Oe("loader",$t,[at.match],at.matches).then(jt=>jt[0])}else return Promise.resolve({type:mn.error,error:eo(404,{pathname:at.path})})})]);return await Promise.all([eE(Pe,Ke,It,It.map(()=>xt.signal),!1,ie.loaderData),eE(Pe,Xe.map(at=>at.match),Dt,Xe.map(at=>at.controller?at.controller.signal:null),!0)]),{loaderResults:It,fetcherResults:Dt}}function qt(){G=!0,be.push(..._i()),Ve.forEach((Pe,Me)=>{Le.has(Me)&&(W.push(Me),zt(Me))})}function Vt(Pe,Me,Ke){Ke===void 0&&(Ke={}),ie.fetchers.set(Pe,Me),lt({fetchers:new Map(ie.fetchers)},{flushSync:(Ke&&Ke.flushSync)===!0})}function rr(Pe,Me,Ke,Xe){Xe===void 0&&(Xe={});let xt=Oh(ie.matches,Me);Tt(Pe),lt({errors:{[xt.route.id]:Ke},fetchers:new Map(ie.fetchers)},{flushSync:(Xe&&Xe.flushSync)===!0})}function Er(Pe){return P.v7_fetcherPersist&&(Ye.set(Pe,(Ye.get(Pe)||0)+1),We.has(Pe)&&We.delete(Pe)),ie.fetchers.get(Pe)||L3}function Tt(Pe){let Me=ie.fetchers.get(Pe);Le.has(Pe)&&!(Me&&Me.state==="loading"&&$e.has(Pe))&&zt(Pe),Ve.delete(Pe),$e.delete(Pe),ge.delete(Pe),We.delete(Pe),ie.fetchers.delete(Pe)}function Sr(Pe){if(P.v7_fetcherPersist){let Me=(Ye.get(Pe)||0)-1;Me<=0?(Ye.delete(Pe),We.add(Pe)):Ye.set(Pe,Me)}else Tt(Pe);lt({fetchers:new Map(ie.fetchers)})}function zt(Pe){let Me=Le.get(Pe);Ur(Me,"Expected fetch controller: "+Pe),Me.abort(),Le.delete(Pe)}function dr(Pe){for(let Me of Pe){let Ke=Er(Me),Xe=Jl(Ke.data);ie.fetchers.set(Me,Xe)}}function nn(){let Pe=[],Me=!1;for(let Ke of ge){let Xe=ie.fetchers.get(Ke);Ur(Xe,"Expected fetcher: "+Ke),Xe.state==="loading"&&(ge.delete(Ke),Pe.push(Ke),Me=!0)}return dr(Pe),Me}function Mt(Pe){let Me=[];for(let[Ke,Xe]of $e)if(Xe<Pe){let xt=ie.fetchers.get(Ke);Ur(xt,"Expected fetcher: "+Ke),xt.state==="loading"&&(zt(Ke),$e.delete(Ke),Me.push(Ke))}return dr(Me),Me.length>0}function fn(Pe,Me){let Ke=ie.blockers.get(Pe)||rh;return Te.get(Pe)!==Me&&Te.set(Pe,Me),Ke}function Qt(Pe){ie.blockers.delete(Pe),Te.delete(Pe)}function Nr(Pe,Me){let Ke=ie.blockers.get(Pe)||rh;Ur(Ke.state==="unblocked"&&Me.state==="blocked"||Ke.state==="blocked"&&Me.state==="blocked"||Ke.state==="blocked"&&Me.state==="proceeding"||Ke.state==="blocked"&&Me.state==="unblocked"||Ke.state==="proceeding"&&Me.state==="unblocked","Invalid blocker state transition: "+Ke.state+" -> "+Me.state);let Xe=new Map(ie.blockers);Xe.set(Pe,Me),lt({blockers:Xe})}function Wr(Pe){let{currentLocation:Me,nextLocation:Ke,historyAction:Xe}=Pe;if(Te.size===0)return;Te.size>1&&Ld(!1,"A router only supports one blocker at a time");let xt=Array.from(Te.entries()),[It,Dt]=xt[xt.length-1],at=ie.blockers.get(It);if(!(at&&at.state==="proceeding")&&Dt({currentLocation:Me,nextLocation:Ke,historyAction:Xe}))return It}function $r(Pe){let Me=eo(404,{pathname:Pe}),Ke=x||_,{matches:Xe,route:xt}=JO(Ke);return _i(),{notFoundMatches:Xe,route:xt,error:Me}}function nt(Pe,Me){let Ke=Me.partialMatches,Xe=Ke[Ke.length-1].route,xt=eo(400,{type:"route-discovery",routeId:Xe.id,pathname:Pe,message:Me.error!=null&&"message"in Me.error?Me.error:String(Me.error)});return{notFoundMatches:Ke,route:Xe,error:xt}}function _i(Pe){let Me=[];return dt.forEach((Ke,Xe)=>{(!Pe||Pe(Xe))&&(Ke.cancel(),Me.push(Xe),dt.delete(Xe))}),Me}function ee(Pe,Me,Ke){if(U=Pe,fe=Me,K=Ke||null,!q&&ie.navigation===N_){q=!0;let Xe=Qe(ie.location,ie.matches);Xe!=null&&lt({restoreScrollPosition:Xe})}return()=>{U=null,fe=null,K=null}}function Ee(Pe,Me){return K&&K(Pe,Me.map(Xe=>l3(Xe,ie.loaderData)))||Pe.key}function Re(Pe,Me){if(U&&fe){let Ke=Ee(Pe,Me);U[Ke]=fe()}}function Qe(Pe,Me){if(U){let Ke=Ee(Pe,Me),Xe=U[Ke];if(typeof Xe=="number")return Xe}return null}function _t(Pe,Me,Ke){if(T)if(Pe){let Xe=Pe[Pe.length-1].route;if(Xe.path&&(Xe.path==="*"||Xe.path.endsWith("/*")))return{active:!0,matches:Nm(Me,Ke,S,!0)}}else return{active:!0,matches:Nm(Me,Ke,S,!0)||[]};return{active:!1,matches:null}}async function Yt(Pe,Me,Ke){let Xe=Pe,xt=Xe.length>0?Xe[Xe.length-1].route:null;for(;;){let It=x==null,Dt=x||_;try{await I3(T,Me,Xe,Dt,h,d,ze,Ke)}catch(Bt){return{type:"error",error:Bt,partialMatches:Xe}}finally{It&&(_=[..._])}if(Ke.aborted)return{type:"aborted"};let at=Cc(Dt,Me,S),$t=!1;if(at){let Bt=at[at.length-1].route;if(Bt.index)return{type:"success",matches:at};if(Bt.path&&Bt.path.length>0)if(Bt.path==="*")$t=!0;else return{type:"success",matches:at}}let jt=Nm(Dt,Me,S,!0);if(!jt||Xe.map(Bt=>Bt.route.id).join("-")===jt.map(Bt=>Bt.route.id).join("-"))return{type:"success",matches:$t?at:null};if(Xe=jt,xt=Xe[Xe.length-1].route,xt.path==="*")return{type:"success",matches:Xe}}}function wr(Pe){h={},x=qh(Pe,d,void 0,h)}function Wn(Pe,Me){let Ke=x==null;Pk(Pe,Me,x||_,h,d),Ke&&(_=[..._],lt({}))}return _e={get basename(){return S},get future(){return P},get state(){return ie},get routes(){return _},get window(){return o},initialize:ut,subscribe:rt,enableScrollRestoration:ee,navigate:zr,fetch:pe,revalidate:un,createHref:Pe=>r.history.createHref(Pe),encodeLocation:Pe=>r.history.encodeLocation(Pe),getFetcher:Er,deleteFetcher:Sr,dispose:vt,getBlocker:fn,deleteBlocker:Qt,patchRoutes:Wn,_internalFetchControllers:Le,_internalActiveDeferreds:dt,_internalSetRoutes:wr},_e}function R3(r){return r!=null&&("formData"in r&&r.formData!=null||"body"in r&&r.body!==void 0)}function Xb(r,o,s,c,d,h,_,x){let S,C;if(_){S=[];for(let P of o)if(S.push(P),P.route.id===_){C=P;break}}else S=o,C=o[o.length-1];let T=Ck(d||".",Sk(S,h),lv(r.pathname,s)||r.pathname,x==="path");return d==null&&(T.search=r.search,T.hash=r.hash),(d==null||d===""||d===".")&&C&&C.route.index&&!hS(T.search)&&(T.search=T.search?T.search.replace(/^\?/,"?index&"):"?index"),c&&s!=="/"&&(T.pathname=T.pathname==="/"?s:gu([s,T.pathname])),sv(T)}function zO(r,o,s,c){if(!c||!R3(c))return{path:s};if(c.formMethod&&!Z3(c.formMethod))return{path:s,error:eo(405,{method:c.formMethod})};let d=()=>({path:s,error:eo(400,{type:"invalid-body"})}),h=c.formMethod||"get",_=r?h.toUpperCase():h.toLowerCase(),x=kk(s);if(c.body!==void 0){if(c.formEncType==="text/plain"){if(!_a(_))return d();let L=typeof c.body=="string"?c.body:c.body instanceof FormData||c.body instanceof URLSearchParams?Array.from(c.body.entries()).reduce((N,U)=>{let[K,fe]=U;return""+N+K+"="+fe+`
`},""):String(c.body);return{path:s,submission:{formMethod:_,formAction:x,formEncType:c.formEncType,formData:void 0,json:void 0,text:L}}}else if(c.formEncType==="application/json"){if(!_a(_))return d();try{let L=typeof c.body=="string"?JSON.parse(c.body):c.body;return{path:s,submission:{formMethod:_,formAction:x,formEncType:c.formEncType,formData:void 0,json:L,text:void 0}}}catch{return d()}}}Ur(typeof FormData=="function","FormData is not available in this environment");let S,C;if(c.formData)S=Jb(c.formData),C=c.formData;else if(c.body instanceof FormData)S=Jb(c.body),C=c.body;else if(c.body instanceof URLSearchParams)S=c.body,C=ZO(S);else if(c.body==null)S=new URLSearchParams,C=new FormData;else try{S=new URLSearchParams(c.body),C=ZO(S)}catch{return d()}let T={formMethod:_,formAction:x,formEncType:c&&c.formEncType||"application/x-www-form-urlencoded",formData:C,json:void 0,text:void 0};if(_a(T.formMethod))return{path:s,submission:T};let P=Su(s);return o&&P.search&&hS(P.search)&&S.append("index",""),P.search="?"+S,{path:sv(P),submission:T}}function N3(r,o){let s=r;if(o){let c=r.findIndex(d=>d.route.id===o);c>=0&&(s=r.slice(0,c))}return s}function WO(r,o,s,c,d,h,_,x,S,C,T,P,L,N,U,K){let fe=K?No(K[1])?K[1].error:K[1].data:void 0,q=r.createURL(o.location),z=r.createURL(d),$=K&&No(K[1])?K[0]:void 0,X=$?N3(s,$):s,_e=K?K[1].statusCode:void 0,ie=_&&_e&&_e>=400,we=X.filter((se,ve)=>{let{route:te}=se;if(te.lazy)return!0;if(te.loader==null)return!1;if(h)return typeof te.loader!="function"||te.loader.hydrate?!0:o.loaderData[te.id]===void 0&&(!o.errors||o.errors[te.id]===void 0);if(j3(o.loaderData,o.matches[ve],se)||S.some(G=>G===se.route.id))return!0;let re=o.matches[ve],ae=se;return $O(se,In({currentUrl:q,currentParams:re.params,nextUrl:z,nextParams:ae.params},c,{actionResult:fe,unstable_actionStatus:_e,defaultShouldRevalidate:ie?!1:x||q.pathname+q.search===z.pathname+z.search||q.search!==z.search||Tk(re,ae)}))}),Ae=[];return P.forEach((se,ve)=>{if(h||!s.some(be=>be.route.id===se.routeId)||T.has(ve))return;let te=Cc(N,se.path,U);if(!te){Ae.push({key:ve,routeId:se.routeId,path:se.path,matches:null,match:null,controller:null});return}let re=o.fetchers.get(ve),ae=dh(te,se.path),G=!1;L.has(ve)?G=!1:C.includes(ve)?G=!0:re&&re.state!=="idle"&&re.data===void 0?G=x:G=$O(ae,In({currentUrl:q,currentParams:o.matches[o.matches.length-1].params,nextUrl:z,nextParams:s[s.length-1].params},c,{actionResult:fe,unstable_actionStatus:_e,defaultShouldRevalidate:ie?!1:x})),G&&Ae.push({key:ve,routeId:se.routeId,path:se.path,matches:te,match:ae,controller:new AbortController})}),[we,Ae]}function j3(r,o,s){let c=!o||s.route.id!==o.route.id,d=r[s.route.id]===void 0;return c||d}function Tk(r,o){let s=r.route.path;return r.pathname!==o.pathname||s!=null&&s.endsWith("*")&&r.params["*"]!==o.params["*"]}function $O(r,o){if(r.route.shouldRevalidate){let s=r.route.shouldRevalidate(o);if(typeof s=="boolean")return s}return o.defaultShouldRevalidate}async function I3(r,o,s,c,d,h,_,x){let S=[o,...s.map(C=>C.route.id)].join("-");try{let C=_.get(S);C||(C=r({path:o,matches:s,patch:(T,P)=>{x.aborted||Pk(T,P,c,d,h)}}),_.set(S,C)),C&&$3(C)&&await C}finally{_.delete(S)}}function Pk(r,o,s,c,d){if(r){var h;let _=c[r];Ur(_,"No route found to patch children into: routeId = "+r);let x=qh(o,d,[r,"patch",String(((h=_.children)==null?void 0:h.length)||"0")],c);_.children?_.children.push(...x):_.children=x}else{let _=qh(o,d,["patch",String(s.length||"0")],c);s.push(..._)}}async function KO(r,o,s){if(!r.lazy)return;let c=await r.lazy();if(!r.lazy)return;let d=s[r.id];Ur(d,"No route found in manifest");let h={};for(let _ in c){let S=d[_]!==void 0&&_!=="hasErrorBoundary";Ld(!S,'Route "'+d.id+'" has a static property "'+_+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+_+'" will be ignored.')),!S&&!a3.has(_)&&(h[_]=c[_])}Object.assign(d,h),Object.assign(d,In({},o(d),{lazy:void 0}))}function F3(r){return Promise.all(r.matches.map(o=>o.resolve()))}async function V3(r,o,s,c,d,h,_,x){let S=c.reduce((P,L)=>P.add(L.route.id),new Set),C=new Set,T=await r({matches:d.map(P=>{let L=S.has(P.route.id);return In({},P,{shouldLoad:L,resolve:U=>(C.add(P.route.id),L?U3(o,s,P,h,_,U,x):Promise.resolve({type:mn.data,result:void 0}))})}),request:s,params:d[0].params,context:x});return d.forEach(P=>Ur(C.has(P.route.id),'`match.resolve()` was not called for route id "'+P.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.')),T.filter((P,L)=>S.has(d[L].route.id))}async function U3(r,o,s,c,d,h,_){let x,S,C=T=>{let P,L=new Promise((K,fe)=>P=fe);S=()=>P(),o.signal.addEventListener("abort",S);let N=K=>typeof T!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+r+'" [routeId: '+s.route.id+"]"))):T({request:o,params:s.params,context:_},...K!==void 0?[K]:[]),U;return h?U=h(K=>N(K)):U=(async()=>{try{return{type:"data",result:await N()}}catch(K){return{type:"error",result:K}}})(),Promise.race([U,L])};try{let T=s.route[r];if(s.route.lazy)if(T){let P,[L]=await Promise.all([C(T).catch(N=>{P=N}),KO(s.route,d,c)]);if(P!==void 0)throw P;x=L}else if(await KO(s.route,d,c),T=s.route[r],T)x=await C(T);else if(r==="action"){let P=new URL(o.url),L=P.pathname+P.search;throw eo(405,{method:o.method,pathname:L,routeId:s.route.id})}else return{type:mn.data,result:void 0};else if(T)x=await C(T);else{let P=new URL(o.url),L=P.pathname+P.search;throw eo(404,{pathname:L})}Ur(x.result!==void 0,"You defined "+(r==="action"?"an action":"a loader")+" for route "+('"'+s.route.id+"\" but didn't return anything from your `"+r+"` ")+"function. Please return a value or `null`.")}catch(T){return{type:mn.error,result:T}}finally{S&&o.signal.removeEventListener("abort",S)}return x}async function B3(r){let{result:o,type:s,status:c}=r;if(Ak(o)){let _;try{let x=o.headers.get("Content-Type");x&&/\bapplication\/json\b/.test(x)?o.body==null?_=null:_=await o.json():_=await o.text()}catch(x){return{type:mn.error,error:x}}return s===mn.error?{type:mn.error,error:new dS(o.status,o.statusText,_),statusCode:o.status,headers:o.headers}:{type:mn.data,data:_,statusCode:o.status,headers:o.headers}}if(s===mn.error)return{type:mn.error,error:o,statusCode:o0(o)?o.status:c};if(G3(o)){var d,h;return{type:mn.deferred,deferredData:o,statusCode:(d=o.init)==null?void 0:d.status,headers:((h=o.init)==null?void 0:h.headers)&&new Headers(o.init.headers)}}return{type:mn.data,data:o,statusCode:c}}function H3(r,o,s,c,d,h){let _=r.headers.get("Location");if(Ur(_,"Redirects returned/thrown from loaders/actions must have a Location header"),!pS.test(_)){let x=c.slice(0,c.findIndex(S=>S.route.id===s)+1);_=Xb(new URL(o.url),x,d,!0,_,h),r.headers.set("Location",_)}return r}function GO(r,o,s){if(pS.test(r)){let c=r,d=c.startsWith("//")?new URL(o.protocol+c):new URL(c),h=lv(d.pathname,s)!=null;if(d.origin===o.origin&&h)return d.pathname+d.search+d.hash}return r}function Xf(r,o,s,c){let d=r.createURL(kk(o)).toString(),h={signal:s};if(c&&_a(c.formMethod)){let{formMethod:_,formEncType:x}=c;h.method=_.toUpperCase(),x==="application/json"?(h.headers=new Headers({"Content-Type":x}),h.body=JSON.stringify(c.json)):x==="text/plain"?h.body=c.text:x==="application/x-www-form-urlencoded"&&c.formData?h.body=Jb(c.formData):h.body=c.formData}return new Request(d,h)}function Jb(r){let o=new URLSearchParams;for(let[s,c]of r.entries())o.append(s,typeof c=="string"?c:c.name);return o}function ZO(r){let o=new FormData;for(let[s,c]of r.entries())o.append(s,c);return o}function z3(r,o,s,c,d,h){let _={},x=null,S,C=!1,T={},P=c&&No(c[1])?c[1].error:void 0;return s.forEach((L,N)=>{let U=o[N].route.id;if(Ur(!Ac(L),"Cannot handle redirect results in processLoaderData"),No(L)){let K=L.error;P!==void 0&&(K=P,P=void 0),x=x||{};{let fe=Oh(r,U);x[fe.route.id]==null&&(x[fe.route.id]=K)}_[U]=void 0,C||(C=!0,S=o0(L.error)?L.error.status:500),L.headers&&(T[U]=L.headers)}else kc(L)?(d.set(U,L.deferredData),_[U]=L.deferredData.data,L.statusCode!=null&&L.statusCode!==200&&!C&&(S=L.statusCode),L.headers&&(T[U]=L.headers)):(_[U]=L.data,L.statusCode&&L.statusCode!==200&&!C&&(S=L.statusCode),L.headers&&(T[U]=L.headers))}),P!==void 0&&c&&(x={[c[0]]:P},_[c[0]]=void 0),{loaderData:_,errors:x,statusCode:S||200,loaderHeaders:T}}function qO(r,o,s,c,d,h,_,x){let{loaderData:S,errors:C}=z3(o,s,c,d,x);for(let T=0;T<h.length;T++){let{key:P,match:L,controller:N}=h[T];Ur(_!==void 0&&_[T]!==void 0,"Did not find corresponding fetcher result");let U=_[T];if(!(N&&N.signal.aborted))if(No(U)){let K=Oh(r.matches,L==null?void 0:L.route.id);C&&C[K.route.id]||(C=In({},C,{[K.route.id]:U.error})),r.fetchers.delete(P)}else if(Ac(U))Ur(!1,"Unhandled fetcher revalidation redirect");else if(kc(U))Ur(!1,"Unhandled fetcher deferred data");else{let K=Jl(U.data);r.fetchers.set(P,K)}}return{loaderData:S,errors:C}}function YO(r,o,s,c){let d=In({},o);for(let h of s){let _=h.route.id;if(o.hasOwnProperty(_)?o[_]!==void 0&&(d[_]=o[_]):r[_]!==void 0&&h.route.loader&&(d[_]=r[_]),c&&c.hasOwnProperty(_))break}return d}function XO(r){return r?No(r[1])?{actionData:{}}:{actionData:{[r[0]]:r[1].data}}:{}}function Oh(r,o){return(o?r.slice(0,r.findIndex(c=>c.route.id===o)+1):[...r]).reverse().find(c=>c.route.hasErrorBoundary===!0)||r[0]}function JO(r){let o=r.length===1?r[0]:r.find(s=>s.index||!s.path||s.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:o}],route:o}}function eo(r,o){let{pathname:s,routeId:c,method:d,type:h,message:_}=o===void 0?{}:o,x="Unknown Server Error",S="Unknown @remix-run/router error";return r===400?(x="Bad Request",h==="route-discovery"?S='Unable to match URL "'+s+'" - the `children()` function for '+("route `"+c+"` threw the following error:\n"+_):d&&s&&c?S="You made a "+d+' request to "'+s+'" but '+('did not provide a `loader` for route "'+c+'", ')+"so there is no way to handle the request.":h==="defer-action"?S="defer() is not supported in actions":h==="invalid-body"&&(S="Unable to encode submission body")):r===403?(x="Forbidden",S='Route "'+c+'" does not match URL "'+s+'"'):r===404?(x="Not Found",S='No route matches URL "'+s+'"'):r===405&&(x="Method Not Allowed",d&&s&&c?S="You made a "+d.toUpperCase()+' request to "'+s+'" but '+('did not provide an `action` for route "'+c+'", ')+"so there is no way to handle the request.":d&&(S='Invalid request method "'+d.toUpperCase()+'"')),new dS(r||500,x,new Error(S),!0)}function QO(r){for(let o=r.length-1;o>=0;o--){let s=r[o];if(Ac(s))return{result:s,idx:o}}}function kk(r){let o=typeof r=="string"?Su(r):r;return sv(In({},o,{hash:""}))}function W3(r,o){return r.pathname!==o.pathname||r.search!==o.search?!1:r.hash===""?o.hash!=="":r.hash===o.hash?!0:o.hash!==""}function $3(r){return typeof r=="object"&&r!=null&&"then"in r}function K3(r){return Ak(r.result)&&k3.has(r.result.status)}function kc(r){return r.type===mn.deferred}function No(r){return r.type===mn.error}function Ac(r){return(r&&r.type)===mn.redirect}function G3(r){let o=r;return o&&typeof o=="object"&&typeof o.data=="object"&&typeof o.subscribe=="function"&&typeof o.cancel=="function"&&typeof o.resolveData=="function"}function Ak(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.headers=="object"&&typeof r.body<"u"}function Z3(r){return P3.has(r.toLowerCase())}function _a(r){return E3.has(r.toLowerCase())}async function eE(r,o,s,c,d,h){for(let _=0;_<s.length;_++){let x=s[_],S=o[_];if(!S)continue;let C=r.find(P=>P.route.id===S.route.id),T=C!=null&&!Tk(C,S)&&(h&&h[S.route.id])!==void 0;if(kc(x)&&(d||T)){let P=c[_];Ur(P,"Expected an AbortSignal for revalidating fetcher deferred result"),await Lk(x,P,d).then(L=>{L&&(s[_]=L||s[_])})}}}async function Lk(r,o,s){if(s===void 0&&(s=!1),!await r.deferredData.resolveData(o)){if(s)try{return{type:mn.data,data:r.deferredData.unwrappedData}}catch(d){return{type:mn.error,error:d}}return{type:mn.data,data:r.deferredData.data}}}function hS(r){return new URLSearchParams(r).getAll("index").some(o=>o==="")}function dh(r,o){let s=typeof o=="string"?Su(o).search:o.search;if(r[r.length-1].route.index&&hS(s||""))return r[r.length-1];let c=xk(r);return c[c.length-1]}function tE(r){let{formMethod:o,formAction:s,formEncType:c,text:d,formData:h,json:_}=r;if(!(!o||!s||!c)){if(d!=null)return{formMethod:o,formAction:s,formEncType:c,formData:void 0,json:void 0,text:d};if(h!=null)return{formMethod:o,formAction:s,formEncType:c,formData:h,json:void 0,text:void 0};if(_!==void 0)return{formMethod:o,formAction:s,formEncType:c,formData:void 0,json:_,text:void 0}}}function j_(r,o){return o?{state:"loading",location:r,formMethod:o.formMethod,formAction:o.formAction,formEncType:o.formEncType,formData:o.formData,json:o.json,text:o.text}:{state:"loading",location:r,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function q3(r,o){return{state:"submitting",location:r,formMethod:o.formMethod,formAction:o.formAction,formEncType:o.formEncType,formData:o.formData,json:o.json,text:o.text}}function nh(r,o){return r?{state:"loading",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:o}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:o}}function Y3(r,o){return{state:"submitting",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:o?o.data:void 0}}function Jl(r){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:r}}function X3(r,o){try{let s=r.sessionStorage.getItem(Ek);if(s){let c=JSON.parse(s);for(let[d,h]of Object.entries(c||{}))h&&Array.isArray(h)&&o.set(d,new Set(h||[]))}}catch{}}function J3(r,o){if(o.size>0){let s={};for(let[c,d]of o)s[c]=[...d];try{r.sessionStorage.setItem(Ek,JSON.stringify(s))}catch(c){Ld(!1,"Failed to save applied view transitions in sessionStorage ("+c+").")}}}/**
 * React Router v6.24.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ly(){return Ly=Object.assign?Object.assign.bind():function(r){for(var o=1;o<arguments.length;o++){var s=arguments[o];for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(r[c]=s[c])}return r},Ly.apply(this,arguments)}const a0=pt.createContext(null),Mk=pt.createContext(null),s0=pt.createContext(null),vS=pt.createContext(null),Gc=pt.createContext({outlet:null,matches:[],isDataRoute:!1}),Dk=pt.createContext(null);function l0(){return pt.useContext(vS)!=null}function Rk(){return l0()||Ur(!1),pt.useContext(vS).location}function Nk(r){pt.useContext(s0).static||pt.useLayoutEffect(r)}function jk(){let{isDataRoute:r}=pt.useContext(Gc);return r?c5():Q3()}function Q3(){l0()||Ur(!1);let r=pt.useContext(a0),{basename:o,future:s,navigator:c}=pt.useContext(s0),{matches:d}=pt.useContext(Gc),{pathname:h}=Rk(),_=JSON.stringify(Sk(d,s.v7_relativeSplatPath)),x=pt.useRef(!1);return Nk(()=>{x.current=!0}),pt.useCallback(function(C,T){if(T===void 0&&(T={}),!x.current)return;if(typeof C=="number"){c.go(C);return}let P=Ck(C,JSON.parse(_),h,T.relative==="path");r==null&&o!=="/"&&(P.pathname=P.pathname==="/"?o:gu([o,P.pathname])),(T.replace?c.replace:c.push)(P,T.state,T)},[o,c,_,h,r])}function Ik(){let{matches:r}=pt.useContext(Gc),o=r[r.length-1];return o?o.params:{}}function e5(r,o,s,c){l0()||Ur(!1);let{navigator:d}=pt.useContext(s0),{matches:h}=pt.useContext(Gc),_=h[h.length-1],x=_?_.params:{};_&&_.pathname;let S=_?_.pathnameBase:"/";_&&_.route;let C=Rk(),T;T=C;let P=T.pathname||"/",L=P;if(S!=="/"){let K=S.replace(/^\//,"").split("/");L="/"+P.replace(/^\//,"").split("/").slice(K.length).join("/")}let N=Cc(r,{pathname:L});return o5(N&&N.map(K=>Object.assign({},K,{params:Object.assign({},x,K.params),pathname:gu([S,d.encodeLocation?d.encodeLocation(K.pathname).pathname:K.pathname]),pathnameBase:K.pathnameBase==="/"?S:gu([S,d.encodeLocation?d.encodeLocation(K.pathnameBase).pathname:K.pathnameBase])})),h,s,c)}function t5(){let r=u5(),o=o0(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),s=r instanceof Error?r.stack:null,d={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return pt.createElement(pt.Fragment,null,pt.createElement("h2",null,"Unexpected Application Error!"),pt.createElement("h3",{style:{fontStyle:"italic"}},o),s?pt.createElement("pre",{style:d},s):null,null)}const r5=pt.createElement(t5,null);class n5 extends pt.Component{constructor(o){super(o),this.state={location:o.location,revalidation:o.revalidation,error:o.error}}static getDerivedStateFromError(o){return{error:o}}static getDerivedStateFromProps(o,s){return s.location!==o.location||s.revalidation!=="idle"&&o.revalidation==="idle"?{error:o.error,location:o.location,revalidation:o.revalidation}:{error:o.error!==void 0?o.error:s.error,location:s.location,revalidation:o.revalidation||s.revalidation}}componentDidCatch(o,s){console.error("React Router caught the following error during render",o,s)}render(){return this.state.error!==void 0?pt.createElement(Gc.Provider,{value:this.props.routeContext},pt.createElement(Dk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function i5(r){let{routeContext:o,match:s,children:c}=r,d=pt.useContext(a0);return d&&d.static&&d.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(d.staticContext._deepestRenderedBoundaryId=s.route.id),pt.createElement(Gc.Provider,{value:o},c)}function o5(r,o,s,c){var d;if(o===void 0&&(o=[]),s===void 0&&(s=null),c===void 0&&(c=null),r==null){var h;if((h=s)!=null&&h.errors)r=s.matches;else return null}let _=r,x=(d=s)==null?void 0:d.errors;if(x!=null){let T=_.findIndex(P=>P.route.id&&(x==null?void 0:x[P.route.id])!==void 0);T>=0||Ur(!1),_=_.slice(0,Math.min(_.length,T+1))}let S=!1,C=-1;if(s&&c&&c.v7_partialHydration)for(let T=0;T<_.length;T++){let P=_[T];if((P.route.HydrateFallback||P.route.hydrateFallbackElement)&&(C=T),P.route.id){let{loaderData:L,errors:N}=s,U=P.route.loader&&L[P.route.id]===void 0&&(!N||N[P.route.id]===void 0);if(P.route.lazy||U){S=!0,C>=0?_=_.slice(0,C+1):_=[_[0]];break}}}return _.reduceRight((T,P,L)=>{let N,U=!1,K=null,fe=null;s&&(N=x&&P.route.id?x[P.route.id]:void 0,K=P.route.errorElement||r5,S&&(C<0&&L===0?(f5("route-fallback"),U=!0,fe=null):C===L&&(U=!0,fe=P.route.hydrateFallbackElement||null)));let q=o.concat(_.slice(0,L+1)),z=()=>{let $;return N?$=K:U?$=fe:P.route.Component?$=pt.createElement(P.route.Component,null):P.route.element?$=P.route.element:$=T,pt.createElement(i5,{match:P,routeContext:{outlet:T,matches:q,isDataRoute:s!=null},children:$})};return s&&(P.route.ErrorBoundary||P.route.errorElement||L===0)?pt.createElement(n5,{location:s.location,revalidation:s.revalidation,component:K,error:N,children:z(),routeContext:{outlet:null,matches:q,isDataRoute:!0}}):z()},null)}var Fk=function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r}(Fk||{}),My=function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r}(My||{});function a5(r){let o=pt.useContext(a0);return o||Ur(!1),o}function s5(r){let o=pt.useContext(Mk);return o||Ur(!1),o}function l5(r){let o=pt.useContext(Gc);return o||Ur(!1),o}function Vk(r){let o=l5(),s=o.matches[o.matches.length-1];return s.route.id||Ur(!1),s.route.id}function u5(){var r;let o=pt.useContext(Dk),s=s5(My.UseRouteError),c=Vk(My.UseRouteError);return o!==void 0?o:(r=s.errors)==null?void 0:r[c]}function c5(){let{router:r}=a5(Fk.UseNavigateStable),o=Vk(My.UseNavigateStable),s=pt.useRef(!1);return Nk(()=>{s.current=!0}),pt.useCallback(function(d,h){h===void 0&&(h={}),s.current&&(typeof d=="number"?r.navigate(d):r.navigate(d,Ly({fromRouteId:o},h)))},[r,o])}const rE={};function f5(r,o,s){rE[r]||(rE[r]=!0)}function d5(r){let{basename:o="/",children:s=null,location:c,navigationType:d=ai.Pop,navigator:h,static:_=!1,future:x}=r;l0()&&Ur(!1);let S=o.replace(/^\/*/,"/"),C=pt.useMemo(()=>({basename:S,navigator:h,static:_,future:Ly({v7_relativeSplatPath:!1},x)}),[S,x,h,_]);typeof c=="string"&&(c=Su(c));let{pathname:T="/",search:P="",hash:L="",state:N=null,key:U="default"}=c,K=pt.useMemo(()=>{let fe=lv(T,S);return fe==null?null:{location:{pathname:fe,search:P,hash:L,state:N,key:U},navigationType:d}},[S,T,P,L,N,U,d]);return K==null?null:pt.createElement(s0.Provider,{value:C},pt.createElement(vS.Provider,{children:s,value:K}))}new Promise(()=>{});function p5(r){let o={hasErrorBoundary:r.ErrorBoundary!=null||r.errorElement!=null};return r.Component&&Object.assign(o,{element:pt.createElement(r.Component),Component:void 0}),r.HydrateFallback&&Object.assign(o,{hydrateFallbackElement:pt.createElement(r.HydrateFallback),HydrateFallback:void 0}),r.ErrorBoundary&&Object.assign(o,{errorElement:pt.createElement(r.ErrorBoundary),ErrorBoundary:void 0}),o}/**
 * React Router DOM v6.24.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dy(){return Dy=Object.assign?Object.assign.bind():function(r){for(var o=1;o<arguments.length;o++){var s=arguments[o];for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(r[c]=s[c])}return r},Dy.apply(this,arguments)}const h5="6";try{window.__reactRouterVersion=h5}catch{}function v5(r,o){return D3({basename:void 0,future:Dy({},void 0,{v7_prependBasename:!0}),history:n3({window:void 0}),hydrationData:g5(),routes:r,mapRouteProperties:p5,unstable_dataStrategy:void 0,unstable_patchRoutesOnMiss:void 0,window:void 0}).initialize()}function g5(){var r;let o=(r=window)==null?void 0:r.__staticRouterHydrationData;return o&&o.errors&&(o=Dy({},o,{errors:m5(o.errors)})),o}function m5(r){if(!r)return null;let o=Object.entries(r),s={};for(let[c,d]of o)if(d&&d.__type==="RouteErrorResponse")s[c]=new dS(d.status,d.statusText,d.data,d.internal===!0);else if(d&&d.__type==="Error"){if(d.__subType){let h=window[d.__subType];if(typeof h=="function")try{let _=new h(d.message);_.stack="",s[c]=_}catch{}}if(s[c]==null){let h=new Error(d.message);h.stack="",s[c]=h}}else s[c]=d;return s}const y5=pt.createContext({isTransitioning:!1}),w5=pt.createContext(new Map),_5="startTransition",nE=O2[_5],b5="flushSync",iE=II[b5];function x5(r){nE?nE(r):r()}function ih(r){iE?iE(r):r()}class S5{constructor(){this.status="pending",this.promise=new Promise((o,s)=>{this.resolve=c=>{this.status==="pending"&&(this.status="resolved",o(c))},this.reject=c=>{this.status==="pending"&&(this.status="rejected",s(c))}})}}function C5(r){let{fallbackElement:o,router:s,future:c}=r,[d,h]=pt.useState(s.state),[_,x]=pt.useState(),[S,C]=pt.useState({isTransitioning:!1}),[T,P]=pt.useState(),[L,N]=pt.useState(),[U,K]=pt.useState(),fe=pt.useRef(new Map),{v7_startTransition:q}=c||{},z=pt.useCallback(we=>{q?x5(we):we()},[q]),$=pt.useCallback((we,Ae)=>{let{deletedFetchers:se,unstable_flushSync:ve,unstable_viewTransitionOpts:te}=Ae;se.forEach(ae=>fe.current.delete(ae)),we.fetchers.forEach((ae,G)=>{ae.data!==void 0&&fe.current.set(G,ae.data)});let re=s.window==null||s.window.document==null||typeof s.window.document.startViewTransition!="function";if(!te||re){ve?ih(()=>h(we)):z(()=>h(we));return}if(ve){ih(()=>{L&&(T&&T.resolve(),L.skipTransition()),C({isTransitioning:!0,flushSync:!0,currentLocation:te.currentLocation,nextLocation:te.nextLocation})});let ae=s.window.document.startViewTransition(()=>{ih(()=>h(we))});ae.finished.finally(()=>{ih(()=>{P(void 0),N(void 0),x(void 0),C({isTransitioning:!1})})}),ih(()=>N(ae));return}L?(T&&T.resolve(),L.skipTransition(),K({state:we,currentLocation:te.currentLocation,nextLocation:te.nextLocation})):(x(we),C({isTransitioning:!0,flushSync:!1,currentLocation:te.currentLocation,nextLocation:te.nextLocation}))},[s.window,L,T,fe,z]);pt.useLayoutEffect(()=>s.subscribe($),[s,$]),pt.useEffect(()=>{S.isTransitioning&&!S.flushSync&&P(new S5)},[S]),pt.useEffect(()=>{if(T&&_&&s.window){let we=_,Ae=T.promise,se=s.window.document.startViewTransition(async()=>{z(()=>h(we)),await Ae});se.finished.finally(()=>{P(void 0),N(void 0),x(void 0),C({isTransitioning:!1})}),N(se)}},[z,_,T,s.window]),pt.useEffect(()=>{T&&_&&d.location.key===_.location.key&&T.resolve()},[T,L,d.location,_]),pt.useEffect(()=>{!S.isTransitioning&&U&&(x(U.state),C({isTransitioning:!0,flushSync:!1,currentLocation:U.currentLocation,nextLocation:U.nextLocation}),K(void 0))},[S.isTransitioning,U]),pt.useEffect(()=>{},[]);let X=pt.useMemo(()=>({createHref:s.createHref,encodeLocation:s.encodeLocation,go:we=>s.navigate(we),push:(we,Ae,se)=>s.navigate(we,{state:Ae,preventScrollReset:se==null?void 0:se.preventScrollReset}),replace:(we,Ae,se)=>s.navigate(we,{replace:!0,state:Ae,preventScrollReset:se==null?void 0:se.preventScrollReset})}),[s]),_e=s.basename||"/",ie=pt.useMemo(()=>({router:s,navigator:X,static:!1,basename:_e}),[s,X,_e]);return pt.createElement(pt.Fragment,null,pt.createElement(a0.Provider,{value:ie},pt.createElement(Mk.Provider,{value:d},pt.createElement(w5.Provider,{value:fe.current},pt.createElement(y5.Provider,{value:S},pt.createElement(d5,{basename:_e,location:d.location,navigationType:d.historyAction,navigator:X,future:{v7_relativeSplatPath:s.future.v7_relativeSplatPath}},d.initialized||s.future.v7_partialHydration?pt.createElement(O5,{routes:s.routes,future:s.future,state:d}):o))))),null)}function O5(r){let{routes:o,future:s,state:c}=r;return e5(o,void 0,c,s)}var oE;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(oE||(oE={}));var aE;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(aE||(aE={}));var ho=function(){return ho=Object.assign||function(o){for(var s,c=1,d=arguments.length;c<d;c++){s=arguments[c];for(var h in s)Object.prototype.hasOwnProperty.call(s,h)&&(o[h]=s[h])}return o},ho.apply(this,arguments)};function Yh(r,o,s){if(s||arguments.length===2)for(var c=0,d=o.length,h;c<d;c++)(h||!(c in o))&&(h||(h=Array.prototype.slice.call(o,0,c)),h[c]=o[c]);return r.concat(h||Array.prototype.slice.call(o))}var Cn="-ms-",Eh="-moz-",an="-webkit-",Uk="comm",u0="rule",gS="decl",E5="@import",Bk="@keyframes",T5="@layer",Hk=Math.abs,mS=String.fromCharCode,Qb=Object.assign;function P5(r,o){return Ti(r,0)^45?(((o<<2^Ti(r,0))<<2^Ti(r,1))<<2^Ti(r,2))<<2^Ti(r,3):0}function zk(r){return r.trim()}function Ys(r,o){return(r=o.exec(r))?r[0]:r}function Rr(r,o,s){return r.replace(o,s)}function jm(r,o,s){return r.indexOf(o,s)}function Ti(r,o){return r.charCodeAt(o)|0}function Md(r,o,s){return r.slice(o,s)}function ps(r){return r.length}function Wk(r){return r.length}function ph(r,o){return o.push(r),r}function k5(r,o){return r.map(o).join("")}function sE(r,o){return r.filter(function(s){return!Ys(s,o)})}var c0=1,Dd=1,$k=0,na=0,si=0,Hd="";function f0(r,o,s,c,d,h,_,x){return{value:r,root:o,parent:s,type:c,props:d,children:h,line:c0,column:Dd,length:_,return:"",siblings:x}}function Ql(r,o){return Qb(f0("",null,null,"",null,null,0,r.siblings),r,{length:-r.length},o)}function Jf(r){for(;r.root;)r=Ql(r.root,{children:[r]});ph(r,r.siblings)}function A5(){return si}function L5(){return si=na>0?Ti(Hd,--na):0,Dd--,si===10&&(Dd=1,c0--),si}function Ea(){return si=na<$k?Ti(Hd,na++):0,Dd++,si===10&&(Dd=1,c0++),si}function Nc(){return Ti(Hd,na)}function Im(){return na}function d0(r,o){return Md(Hd,r,o)}function ex(r){switch(r){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function M5(r){return c0=Dd=1,$k=ps(Hd=r),na=0,[]}function D5(r){return Hd="",r}function I_(r){return zk(d0(na-1,tx(r===91?r+2:r===40?r+1:r)))}function R5(r){for(;(si=Nc())&&si<33;)Ea();return ex(r)>2||ex(si)>3?"":" "}function N5(r,o){for(;--o&&Ea()&&!(si<48||si>102||si>57&&si<65||si>70&&si<97););return d0(r,Im()+(o<6&&Nc()==32&&Ea()==32))}function tx(r){for(;Ea();)switch(si){case r:return na;case 34:case 39:r!==34&&r!==39&&tx(si);break;case 40:r===41&&tx(r);break;case 92:Ea();break}return na}function j5(r,o){for(;Ea()&&r+si!==57;)if(r+si===84&&Nc()===47)break;return"/*"+d0(o,na-1)+"*"+mS(r===47?r:Ea())}function I5(r){for(;!ex(Nc());)Ea();return d0(r,na)}function F5(r){return D5(Fm("",null,null,null,[""],r=M5(r),0,[0],r))}function Fm(r,o,s,c,d,h,_,x,S){for(var C=0,T=0,P=_,L=0,N=0,U=0,K=1,fe=1,q=1,z=0,$="",X=d,_e=h,ie=c,we=$;fe;)switch(U=z,z=Ea()){case 40:if(U!=108&&Ti(we,P-1)==58){jm(we+=Rr(I_(z),"&","&\f"),"&\f",Hk(C?x[C-1]:0))!=-1&&(q=-1);break}case 34:case 39:case 91:we+=I_(z);break;case 9:case 10:case 13:case 32:we+=R5(U);break;case 92:we+=N5(Im()-1,7);continue;case 47:switch(Nc()){case 42:case 47:ph(V5(j5(Ea(),Im()),o,s,S),S);break;default:we+="/"}break;case 123*K:x[C++]=ps(we)*q;case 125*K:case 59:case 0:switch(z){case 0:case 125:fe=0;case 59+T:q==-1&&(we=Rr(we,/\f/g,"")),N>0&&ps(we)-P&&ph(N>32?uE(we+";",c,s,P-1,S):uE(Rr(we," ","")+";",c,s,P-2,S),S);break;case 59:we+=";";default:if(ph(ie=lE(we,o,s,C,T,d,x,$,X=[],_e=[],P,h),h),z===123)if(T===0)Fm(we,o,ie,ie,X,h,P,x,_e);else switch(L===99&&Ti(we,3)===110?100:L){case 100:case 108:case 109:case 115:Fm(r,ie,ie,c&&ph(lE(r,ie,ie,0,0,d,x,$,d,X=[],P,_e),_e),d,_e,P,x,c?X:_e);break;default:Fm(we,ie,ie,ie,[""],_e,0,x,_e)}}C=T=N=0,K=q=1,$=we="",P=_;break;case 58:P=1+ps(we),N=U;default:if(K<1){if(z==123)--K;else if(z==125&&K++==0&&L5()==125)continue}switch(we+=mS(z),z*K){case 38:q=T>0?1:(we+="\f",-1);break;case 44:x[C++]=(ps(we)-1)*q,q=1;break;case 64:Nc()===45&&(we+=I_(Ea())),L=Nc(),T=P=ps($=we+=I5(Im())),z++;break;case 45:U===45&&ps(we)==2&&(K=0)}}return h}function lE(r,o,s,c,d,h,_,x,S,C,T,P){for(var L=d-1,N=d===0?h:[""],U=Wk(N),K=0,fe=0,q=0;K<c;++K)for(var z=0,$=Md(r,L+1,L=Hk(fe=_[K])),X=r;z<U;++z)(X=zk(fe>0?N[z]+" "+$:Rr($,/&\f/g,N[z])))&&(S[q++]=X);return f0(r,o,s,d===0?u0:x,S,C,T,P)}function V5(r,o,s,c){return f0(r,o,s,Uk,mS(A5()),Md(r,2,-2),0,c)}function uE(r,o,s,c,d){return f0(r,o,s,gS,Md(r,0,c),Md(r,c+1,-1),c,d)}function Kk(r,o,s){switch(P5(r,o)){case 5103:return an+"print-"+r+r;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return an+r+r;case 4789:return Eh+r+r;case 5349:case 4246:case 4810:case 6968:case 2756:return an+r+Eh+r+Cn+r+r;case 5936:switch(Ti(r,o+11)){case 114:return an+r+Cn+Rr(r,/[svh]\w+-[tblr]{2}/,"tb")+r;case 108:return an+r+Cn+Rr(r,/[svh]\w+-[tblr]{2}/,"tb-rl")+r;case 45:return an+r+Cn+Rr(r,/[svh]\w+-[tblr]{2}/,"lr")+r}case 6828:case 4268:case 2903:return an+r+Cn+r+r;case 6165:return an+r+Cn+"flex-"+r+r;case 5187:return an+r+Rr(r,/(\w+).+(:[^]+)/,an+"box-$1$2"+Cn+"flex-$1$2")+r;case 5443:return an+r+Cn+"flex-item-"+Rr(r,/flex-|-self/g,"")+(Ys(r,/flex-|baseline/)?"":Cn+"grid-row-"+Rr(r,/flex-|-self/g,""))+r;case 4675:return an+r+Cn+"flex-line-pack"+Rr(r,/align-content|flex-|-self/g,"")+r;case 5548:return an+r+Cn+Rr(r,"shrink","negative")+r;case 5292:return an+r+Cn+Rr(r,"basis","preferred-size")+r;case 6060:return an+"box-"+Rr(r,"-grow","")+an+r+Cn+Rr(r,"grow","positive")+r;case 4554:return an+Rr(r,/([^-])(transform)/g,"$1"+an+"$2")+r;case 6187:return Rr(Rr(Rr(r,/(zoom-|grab)/,an+"$1"),/(image-set)/,an+"$1"),r,"")+r;case 5495:case 3959:return Rr(r,/(image-set\([^]*)/,an+"$1$`$1");case 4968:return Rr(Rr(r,/(.+:)(flex-)?(.*)/,an+"box-pack:$3"+Cn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+an+r+r;case 4200:if(!Ys(r,/flex-|baseline/))return Cn+"grid-column-align"+Md(r,o)+r;break;case 2592:case 3360:return Cn+Rr(r,"template-","")+r;case 4384:case 3616:return s&&s.some(function(c,d){return o=d,Ys(c.props,/grid-\w+-end/)})?~jm(r+(s=s[o].value),"span",0)?r:Cn+Rr(r,"-start","")+r+Cn+"grid-row-span:"+(~jm(s,"span",0)?Ys(s,/\d+/):+Ys(s,/\d+/)-+Ys(r,/\d+/))+";":Cn+Rr(r,"-start","")+r;case 4896:case 4128:return s&&s.some(function(c){return Ys(c.props,/grid-\w+-start/)})?r:Cn+Rr(Rr(r,"-end","-span"),"span ","")+r;case 4095:case 3583:case 4068:case 2532:return Rr(r,/(.+)-inline(.+)/,an+"$1$2")+r;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ps(r)-1-o>6)switch(Ti(r,o+1)){case 109:if(Ti(r,o+4)!==45)break;case 102:return Rr(r,/(.+:)(.+)-([^]+)/,"$1"+an+"$2-$3$1"+Eh+(Ti(r,o+3)==108?"$3":"$2-$3"))+r;case 115:return~jm(r,"stretch",0)?Kk(Rr(r,"stretch","fill-available"),o,s)+r:r}break;case 5152:case 5920:return Rr(r,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(c,d,h,_,x,S,C){return Cn+d+":"+h+C+(_?Cn+d+"-span:"+(x?S:+S-+h)+C:"")+r});case 4949:if(Ti(r,o+6)===121)return Rr(r,":",":"+an)+r;break;case 6444:switch(Ti(r,Ti(r,14)===45?18:11)){case 120:return Rr(r,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+an+(Ti(r,14)===45?"inline-":"")+"box$3$1"+an+"$2$3$1"+Cn+"$2box$3")+r;case 100:return Rr(r,":",":"+Cn)+r}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Rr(r,"scroll-","scroll-snap-")+r}return r}function Ry(r,o){for(var s="",c=0;c<r.length;c++)s+=o(r[c],c,r,o)||"";return s}function U5(r,o,s,c){switch(r.type){case T5:if(r.children.length)break;case E5:case gS:return r.return=r.return||r.value;case Uk:return"";case Bk:return r.return=r.value+"{"+Ry(r.children,c)+"}";case u0:if(!ps(r.value=r.props.join(",")))return""}return ps(s=Ry(r.children,c))?r.return=r.value+"{"+s+"}":""}function B5(r){var o=Wk(r);return function(s,c,d,h){for(var _="",x=0;x<o;x++)_+=r[x](s,c,d,h)||"";return _}}function H5(r){return function(o){o.root||(o=o.return)&&r(o)}}function z5(r,o,s,c){if(r.length>-1&&!r.return)switch(r.type){case gS:r.return=Kk(r.value,r.length,s);return;case Bk:return Ry([Ql(r,{value:Rr(r.value,"@","@"+an)})],c);case u0:if(r.length)return k5(s=r.props,function(d){switch(Ys(d,c=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Jf(Ql(r,{props:[Rr(d,/:(read-\w+)/,":"+Eh+"$1")]})),Jf(Ql(r,{props:[d]})),Qb(r,{props:sE(s,c)});break;case"::placeholder":Jf(Ql(r,{props:[Rr(d,/:(plac\w+)/,":"+an+"input-$1")]})),Jf(Ql(r,{props:[Rr(d,/:(plac\w+)/,":"+Eh+"$1")]})),Jf(Ql(r,{props:[Rr(d,/:(plac\w+)/,Cn+"input-$1")]})),Jf(Ql(r,{props:[d]})),Qb(r,{props:sE(s,c)});break}return""})}}var W5={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Mo={},Rd=typeof process<"u"&&Mo!==void 0&&(Mo.REACT_APP_SC_ATTR||Mo.SC_ATTR)||"data-styled",Gk="active",Zk="data-styled-version",p0="6.1.11",yS=`/*!sc*/
`,wS=typeof window<"u"&&"HTMLElement"in window,$5=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Mo!==void 0&&Mo.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Mo.REACT_APP_SC_DISABLE_SPEEDY!==""?Mo.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Mo.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Mo!==void 0&&Mo.SC_DISABLE_SPEEDY!==void 0&&Mo.SC_DISABLE_SPEEDY!==""&&Mo.SC_DISABLE_SPEEDY!=="false"&&Mo.SC_DISABLE_SPEEDY),h0=Object.freeze([]),Nd=Object.freeze({});function K5(r,o,s){return s===void 0&&(s=Nd),r.theme!==s.theme&&r.theme||o||s.theme}var qk=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),G5=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Z5=/(^-|-$)/g;function cE(r){return r.replace(G5,"-").replace(Z5,"")}var q5=/(a)(d)/gi,ym=52,fE=function(r){return String.fromCharCode(r+(r>25?39:97))};function rx(r){var o,s="";for(o=Math.abs(r);o>ym;o=o/ym|0)s=fE(o%ym)+s;return(fE(o%ym)+s).replace(q5,"$1-$2")}var F_,Yk=5381,pd=function(r,o){for(var s=o.length;s;)r=33*r^o.charCodeAt(--s);return r},Xk=function(r){return pd(Yk,r)};function Jk(r){return rx(Xk(r)>>>0)}function Y5(r){return r.displayName||r.name||"Component"}function V_(r){return typeof r=="string"&&!0}var Qk=typeof Symbol=="function"&&Symbol.for,eA=Qk?Symbol.for("react.memo"):60115,X5=Qk?Symbol.for("react.forward_ref"):60112,J5={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Q5={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},tA={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},e4=((F_={})[X5]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},F_[eA]=tA,F_);function dE(r){return("type"in(o=r)&&o.type.$$typeof)===eA?tA:"$$typeof"in r?e4[r.$$typeof]:J5;var o}var t4=Object.defineProperty,r4=Object.getOwnPropertyNames,pE=Object.getOwnPropertySymbols,n4=Object.getOwnPropertyDescriptor,i4=Object.getPrototypeOf,hE=Object.prototype;function rA(r,o,s){if(typeof o!="string"){if(hE){var c=i4(o);c&&c!==hE&&rA(r,c,s)}var d=r4(o);pE&&(d=d.concat(pE(o)));for(var h=dE(r),_=dE(o),x=0;x<d.length;++x){var S=d[x];if(!(S in Q5||s&&s[S]||_&&S in _||h&&S in h)){var C=n4(o,S);try{t4(r,S,C)}catch{}}}}return r}function jd(r){return typeof r=="function"}function _S(r){return typeof r=="object"&&"styledComponentId"in r}function Lc(r,o){return r&&o?"".concat(r," ").concat(o):r||o||""}function nx(r,o){if(r.length===0)return"";for(var s=r[0],c=1;c<r.length;c++)s+=r[c];return s}function Xh(r){return r!==null&&typeof r=="object"&&r.constructor.name===Object.name&&!("props"in r&&r.$$typeof)}function ix(r,o,s){if(s===void 0&&(s=!1),!s&&!Xh(r)&&!Array.isArray(r))return o;if(Array.isArray(o))for(var c=0;c<o.length;c++)r[c]=ix(r[c],o[c]);else if(Xh(o))for(var c in o)r[c]=ix(r[c],o[c]);return r}function bS(r,o){Object.defineProperty(r,"toString",{value:o})}function uv(r){for(var o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(r," for more information.").concat(o.length>0?" Args: ".concat(o.join(", ")):""))}var o4=function(){function r(o){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=o}return r.prototype.indexOfGroup=function(o){for(var s=0,c=0;c<o;c++)s+=this.groupSizes[c];return s},r.prototype.insertRules=function(o,s){if(o>=this.groupSizes.length){for(var c=this.groupSizes,d=c.length,h=d;o>=h;)if((h<<=1)<0)throw uv(16,"".concat(o));this.groupSizes=new Uint32Array(h),this.groupSizes.set(c),this.length=h;for(var _=d;_<h;_++)this.groupSizes[_]=0}for(var x=this.indexOfGroup(o+1),S=(_=0,s.length);_<S;_++)this.tag.insertRule(x,s[_])&&(this.groupSizes[o]++,x++)},r.prototype.clearGroup=function(o){if(o<this.length){var s=this.groupSizes[o],c=this.indexOfGroup(o),d=c+s;this.groupSizes[o]=0;for(var h=c;h<d;h++)this.tag.deleteRule(c)}},r.prototype.getGroup=function(o){var s="";if(o>=this.length||this.groupSizes[o]===0)return s;for(var c=this.groupSizes[o],d=this.indexOfGroup(o),h=d+c,_=d;_<h;_++)s+="".concat(this.tag.getRule(_)).concat(yS);return s},r}(),Vm=new Map,Ny=new Map,Um=1,wm=function(r){if(Vm.has(r))return Vm.get(r);for(;Ny.has(Um);)Um++;var o=Um++;return Vm.set(r,o),Ny.set(o,r),o},a4=function(r,o){Um=o+1,Vm.set(r,o),Ny.set(o,r)},s4="style[".concat(Rd,"][").concat(Zk,'="').concat(p0,'"]'),l4=new RegExp("^".concat(Rd,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),u4=function(r,o,s){for(var c,d=s.split(","),h=0,_=d.length;h<_;h++)(c=d[h])&&r.registerName(o,c)},c4=function(r,o){for(var s,c=((s=o.textContent)!==null&&s!==void 0?s:"").split(yS),d=[],h=0,_=c.length;h<_;h++){var x=c[h].trim();if(x){var S=x.match(l4);if(S){var C=0|parseInt(S[1],10),T=S[2];C!==0&&(a4(T,C),u4(r,T,S[3]),r.getTag().insertRules(C,d)),d.length=0}else d.push(x)}}};function f4(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var nA=function(r){var o=document.head,s=r||o,c=document.createElement("style"),d=function(x){var S=Array.from(x.querySelectorAll("style[".concat(Rd,"]")));return S[S.length-1]}(s),h=d!==void 0?d.nextSibling:null;c.setAttribute(Rd,Gk),c.setAttribute(Zk,p0);var _=f4();return _&&c.setAttribute("nonce",_),s.insertBefore(c,h),c},d4=function(){function r(o){this.element=nA(o),this.element.appendChild(document.createTextNode("")),this.sheet=function(s){if(s.sheet)return s.sheet;for(var c=document.styleSheets,d=0,h=c.length;d<h;d++){var _=c[d];if(_.ownerNode===s)return _}throw uv(17)}(this.element),this.length=0}return r.prototype.insertRule=function(o,s){try{return this.sheet.insertRule(s,o),this.length++,!0}catch{return!1}},r.prototype.deleteRule=function(o){this.sheet.deleteRule(o),this.length--},r.prototype.getRule=function(o){var s=this.sheet.cssRules[o];return s&&s.cssText?s.cssText:""},r}(),p4=function(){function r(o){this.element=nA(o),this.nodes=this.element.childNodes,this.length=0}return r.prototype.insertRule=function(o,s){if(o<=this.length&&o>=0){var c=document.createTextNode(s);return this.element.insertBefore(c,this.nodes[o]||null),this.length++,!0}return!1},r.prototype.deleteRule=function(o){this.element.removeChild(this.nodes[o]),this.length--},r.prototype.getRule=function(o){return o<this.length?this.nodes[o].textContent:""},r}(),h4=function(){function r(o){this.rules=[],this.length=0}return r.prototype.insertRule=function(o,s){return o<=this.length&&(this.rules.splice(o,0,s),this.length++,!0)},r.prototype.deleteRule=function(o){this.rules.splice(o,1),this.length--},r.prototype.getRule=function(o){return o<this.length?this.rules[o]:""},r}(),vE=wS,v4={isServer:!wS,useCSSOMInjection:!$5},iA=function(){function r(o,s,c){o===void 0&&(o=Nd),s===void 0&&(s={});var d=this;this.options=ho(ho({},v4),o),this.gs=s,this.names=new Map(c),this.server=!!o.isServer,!this.server&&wS&&vE&&(vE=!1,function(h){for(var _=document.querySelectorAll(s4),x=0,S=_.length;x<S;x++){var C=_[x];C&&C.getAttribute(Rd)!==Gk&&(c4(h,C),C.parentNode&&C.parentNode.removeChild(C))}}(this)),bS(this,function(){return function(h){for(var _=h.getTag(),x=_.length,S="",C=function(P){var L=function(q){return Ny.get(q)}(P);if(L===void 0)return"continue";var N=h.names.get(L),U=_.getGroup(P);if(N===void 0||U.length===0)return"continue";var K="".concat(Rd,".g").concat(P,'[id="').concat(L,'"]'),fe="";N!==void 0&&N.forEach(function(q){q.length>0&&(fe+="".concat(q,","))}),S+="".concat(U).concat(K,'{content:"').concat(fe,'"}').concat(yS)},T=0;T<x;T++)C(T);return S}(d)})}return r.registerId=function(o){return wm(o)},r.prototype.reconstructWithOptions=function(o,s){return s===void 0&&(s=!0),new r(ho(ho({},this.options),o),this.gs,s&&this.names||void 0)},r.prototype.allocateGSInstance=function(o){return this.gs[o]=(this.gs[o]||0)+1},r.prototype.getTag=function(){return this.tag||(this.tag=(o=function(s){var c=s.useCSSOMInjection,d=s.target;return s.isServer?new h4(d):c?new d4(d):new p4(d)}(this.options),new o4(o)));var o},r.prototype.hasNameForId=function(o,s){return this.names.has(o)&&this.names.get(o).has(s)},r.prototype.registerName=function(o,s){if(wm(o),this.names.has(o))this.names.get(o).add(s);else{var c=new Set;c.add(s),this.names.set(o,c)}},r.prototype.insertRules=function(o,s,c){this.registerName(o,s),this.getTag().insertRules(wm(o),c)},r.prototype.clearNames=function(o){this.names.has(o)&&this.names.get(o).clear()},r.prototype.clearRules=function(o){this.getTag().clearGroup(wm(o)),this.clearNames(o)},r.prototype.clearTag=function(){this.tag=void 0},r}(),g4=/&/g,m4=/^\s*\/\/.*$/gm;function oA(r,o){return r.map(function(s){return s.type==="rule"&&(s.value="".concat(o," ").concat(s.value),s.value=s.value.replaceAll(",",",".concat(o," ")),s.props=s.props.map(function(c){return"".concat(o," ").concat(c)})),Array.isArray(s.children)&&s.type!=="@keyframes"&&(s.children=oA(s.children,o)),s})}function y4(r){var o,s,c,d=Nd,h=d.options,_=h===void 0?Nd:h,x=d.plugins,S=x===void 0?h0:x,C=function(L,N,U){return U.startsWith(s)&&U.endsWith(s)&&U.replaceAll(s,"").length>0?".".concat(o):L},T=S.slice();T.push(function(L){L.type===u0&&L.value.includes("&")&&(L.props[0]=L.props[0].replace(g4,s).replace(c,C))}),_.prefix&&T.push(z5),T.push(U5);var P=function(L,N,U,K){N===void 0&&(N=""),U===void 0&&(U=""),K===void 0&&(K="&"),o=K,s=N,c=new RegExp("\\".concat(s,"\\b"),"g");var fe=L.replace(m4,""),q=F5(U||N?"".concat(U," ").concat(N," { ").concat(fe," }"):fe);_.namespace&&(q=oA(q,_.namespace));var z=[];return Ry(q,B5(T.concat(H5(function($){return z.push($)})))),z};return P.hash=S.length?S.reduce(function(L,N){return N.name||uv(15),pd(L,N.name)},Yk).toString():"",P}var w4=new iA,ox=y4(),aA=gi.createContext({shouldForwardProp:void 0,styleSheet:w4,stylis:ox});aA.Consumer;gi.createContext(void 0);function gE(){return pt.useContext(aA)}var sA=function(){function r(o,s){var c=this;this.inject=function(d,h){h===void 0&&(h=ox);var _=c.name+h.hash;d.hasNameForId(c.id,_)||d.insertRules(c.id,_,h(c.rules,_,"@keyframes"))},this.name=o,this.id="sc-keyframes-".concat(o),this.rules=s,bS(this,function(){throw uv(12,String(c.name))})}return r.prototype.getName=function(o){return o===void 0&&(o=ox),this.name+o.hash},r}(),_4=function(r){return r>="A"&&r<="Z"};function mE(r){for(var o="",s=0;s<r.length;s++){var c=r[s];if(s===1&&c==="-"&&r[0]==="-")return r;_4(c)?o+="-"+c.toLowerCase():o+=c}return o.startsWith("ms-")?"-"+o:o}var lA=function(r){return r==null||r===!1||r===""},uA=function(r){var o,s,c=[];for(var d in r){var h=r[d];r.hasOwnProperty(d)&&!lA(h)&&(Array.isArray(h)&&h.isCss||jd(h)?c.push("".concat(mE(d),":"),h,";"):Xh(h)?c.push.apply(c,Yh(Yh(["".concat(d," {")],uA(h),!1),["}"],!1)):c.push("".concat(mE(d),": ").concat((o=d,(s=h)==null||typeof s=="boolean"||s===""?"":typeof s!="number"||s===0||o in W5||o.startsWith("--")?String(s).trim():"".concat(s,"px")),";")))}return c};function jc(r,o,s,c){if(lA(r))return[];if(_S(r))return[".".concat(r.styledComponentId)];if(jd(r)){if(!jd(h=r)||h.prototype&&h.prototype.isReactComponent||!o)return[r];var d=r(o);return jc(d,o,s,c)}var h;return r instanceof sA?s?(r.inject(s,c),[r.getName(c)]):[r]:Xh(r)?uA(r):Array.isArray(r)?Array.prototype.concat.apply(h0,r.map(function(_){return jc(_,o,s,c)})):[r.toString()]}function b4(r){for(var o=0;o<r.length;o+=1){var s=r[o];if(jd(s)&&!_S(s))return!1}return!0}var x4=Xk(p0),S4=function(){function r(o,s,c){this.rules=o,this.staticRulesId="",this.isStatic=(c===void 0||c.isStatic)&&b4(o),this.componentId=s,this.baseHash=pd(x4,s),this.baseStyle=c,iA.registerId(s)}return r.prototype.generateAndInjectStyles=function(o,s,c){var d=this.baseStyle?this.baseStyle.generateAndInjectStyles(o,s,c):"";if(this.isStatic&&!c.hash)if(this.staticRulesId&&s.hasNameForId(this.componentId,this.staticRulesId))d=Lc(d,this.staticRulesId);else{var h=nx(jc(this.rules,o,s,c)),_=rx(pd(this.baseHash,h)>>>0);if(!s.hasNameForId(this.componentId,_)){var x=c(h,".".concat(_),void 0,this.componentId);s.insertRules(this.componentId,_,x)}d=Lc(d,_),this.staticRulesId=_}else{for(var S=pd(this.baseHash,c.hash),C="",T=0;T<this.rules.length;T++){var P=this.rules[T];if(typeof P=="string")C+=P;else if(P){var L=nx(jc(P,o,s,c));S=pd(S,L+T),C+=L}}if(C){var N=rx(S>>>0);s.hasNameForId(this.componentId,N)||s.insertRules(this.componentId,N,c(C,".".concat(N),void 0,this.componentId)),d=Lc(d,N)}}return d},r}(),cA=gi.createContext(void 0);cA.Consumer;var U_={};function C4(r,o,s){var c=_S(r),d=r,h=!V_(r),_=o.attrs,x=_===void 0?h0:_,S=o.componentId,C=S===void 0?function(X,_e){var ie=typeof X!="string"?"sc":cE(X);U_[ie]=(U_[ie]||0)+1;var we="".concat(ie,"-").concat(Jk(p0+ie+U_[ie]));return _e?"".concat(_e,"-").concat(we):we}(o.displayName,o.parentComponentId):S,T=o.displayName,P=T===void 0?function(X){return V_(X)?"styled.".concat(X):"Styled(".concat(Y5(X),")")}(r):T,L=o.displayName&&o.componentId?"".concat(cE(o.displayName),"-").concat(o.componentId):o.componentId||C,N=c&&d.attrs?d.attrs.concat(x).filter(Boolean):x,U=o.shouldForwardProp;if(c&&d.shouldForwardProp){var K=d.shouldForwardProp;if(o.shouldForwardProp){var fe=o.shouldForwardProp;U=function(X,_e){return K(X,_e)&&fe(X,_e)}}else U=K}var q=new S4(s,L,c?d.componentStyle:void 0);function z(X,_e){return function(ie,we,Ae){var se=ie.attrs,ve=ie.componentStyle,te=ie.defaultProps,re=ie.foldedComponentIds,ae=ie.styledComponentId,G=ie.target,be=gi.useContext(cA),W=gE(),Le=ie.shouldForwardProp||W.shouldForwardProp,ye=K5(we,be,te)||Nd,Ue=function(dt,Te,ze){for(var qe,ut=ho(ho({},Te),{className:void 0,theme:ze}),vt=0;vt<dt.length;vt+=1){var rt=jd(qe=dt[vt])?qe(ut):qe;for(var lt in rt)ut[lt]=lt==="className"?Lc(ut[lt],rt[lt]):lt==="style"?ho(ho({},ut[lt]),rt[lt]):rt[lt]}return Te.className&&(ut.className=Lc(ut.className,Te.className)),ut}(se,we,ye),$e=Ue.as||G,ge={};for(var Ve in Ue)Ue[Ve]===void 0||Ve[0]==="$"||Ve==="as"||Ve==="theme"&&Ue.theme===ye||(Ve==="forwardedAs"?ge.as=Ue.forwardedAs:Le&&!Le(Ve,$e)||(ge[Ve]=Ue[Ve]));var Ye=function(dt,Te){var ze=gE(),qe=dt.generateAndInjectStyles(Te,ze.styleSheet,ze.stylis);return qe}(ve,Ue),We=Lc(re,ae);return Ye&&(We+=" "+Ye),Ue.className&&(We+=" "+Ue.className),ge[V_($e)&&!qk.has($e)?"class":"className"]=We,ge.ref=Ae,pt.createElement($e,ge)}($,X,_e)}z.displayName=P;var $=gi.forwardRef(z);return $.attrs=N,$.componentStyle=q,$.displayName=P,$.shouldForwardProp=U,$.foldedComponentIds=c?Lc(d.foldedComponentIds,d.styledComponentId):"",$.styledComponentId=L,$.target=c?d.target:r,Object.defineProperty($,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(X){this._foldedDefaultProps=c?function(_e){for(var ie=[],we=1;we<arguments.length;we++)ie[we-1]=arguments[we];for(var Ae=0,se=ie;Ae<se.length;Ae++)ix(_e,se[Ae],!0);return _e}({},d.defaultProps,X):X}}),bS($,function(){return".".concat($.styledComponentId)}),h&&rA($,r,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),$}function yE(r,o){for(var s=[r[0]],c=0,d=o.length;c<d;c+=1)s.push(o[c],r[c+1]);return s}var wE=function(r){return Object.assign(r,{isCss:!0})};function fA(r){for(var o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];if(jd(r)||Xh(r))return wE(jc(yE(h0,Yh([r],o,!0))));var c=r;return o.length===0&&c.length===1&&typeof c[0]=="string"?jc(c):wE(jc(yE(c,o)))}function ax(r,o,s){if(s===void 0&&(s=Nd),!o)throw uv(1,o);var c=function(d){for(var h=[],_=1;_<arguments.length;_++)h[_-1]=arguments[_];return r(o,s,fA.apply(void 0,Yh([d],h,!1)))};return c.attrs=function(d){return ax(r,o,ho(ho({},s),{attrs:Array.prototype.concat(s.attrs,d).filter(Boolean)}))},c.withConfig=function(d){return ax(r,o,ho(ho({},s),d))},c}var dA=function(r){return ax(C4,r)},Zc=dA;qk.forEach(function(r){Zc[r]=dA(r)});function xS(r){for(var o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];var c=nx(fA.apply(void 0,Yh([r],o,!1))),d=Jk(c);return new sA(d,c)}const _E="#4fa94d",O4={"aria-busy":!0,role:"progressbar"},E4=Zc.div`
  display: ${r=>r.$visible?"flex":"none"};
`,ma=242.776657104492,T4=1.6,P4=xS`
12.5% {
  stroke-dasharray: ${ma*.14}px, ${ma}px;
  stroke-dashoffset: -${ma*.11}px;
}
43.75% {
  stroke-dasharray: ${ma*.35}px, ${ma}px;
  stroke-dashoffset: -${ma*.35}px;
}
100% {
  stroke-dasharray: ${ma*.01}px, ${ma}px;
  stroke-dashoffset: -${ma*.99}px;
}
`;Zc.path`
  stroke-dasharray: ${ma*.01}px, ${ma};
  stroke-dashoffset: 0;
  animation: ${P4} ${T4}s linear infinite;
`;const B_=20,k4=r=>["M"+r+" 0c0-9.94-8.06",r,r,r].join("-"),A4=(r,o,s)=>{const c=Math.max(r,o),d=-s-c/2+1,h=s*2+c;return[d,d,h,h].join(" ")},L4=({height:r=80,width:o=80,color:s=_E,secondaryColor:c=_E,ariaLabel:d="oval-loading",wrapperStyle:h,wrapperClass:_,visible:x=!0,strokeWidth:S=2,strokeWidthSecondary:C})=>Rt.jsx(E4,{style:h,$visible:x,className:_,"data-testid":"oval-loading","aria-label":d,...O4,children:Rt.jsx("svg",{width:o,height:r,viewBox:A4(Number(S),Number(C||S),B_),xmlns:"http://www.w3.org/2000/svg",stroke:s,"data-testid":"oval-svg",children:Rt.jsx("g",{fill:"none",fillRule:"evenodd",children:Rt.jsxs("g",{transform:"translate(1 1)",strokeWidth:Number(C||S),"data-testid":"oval-secondary-group",children:[Rt.jsx("circle",{strokeOpacity:".5",cx:"0",cy:"0",r:B_,stroke:c,strokeWidth:S}),Rt.jsx("path",{d:k4(B_),children:Rt.jsx("animateTransform",{attributeName:"transform",type:"rotate",from:"0 0 0",to:"360 0 0",dur:"1s",repeatCount:"indefinite"})})]})})})}),M4=xS`
to {
   transform: rotate(360deg);
 }
`;Zc.svg`
  animation: ${M4} 0.75s steps(12, end) infinite;
  animation-duration: 0.75s;
`;Zc.polyline`
  stroke-width: ${r=>r.width}px;
  stroke-linecap: round;

  &:nth-child(12n + 0) {
    stroke-opacity: 0.08;
  }

  &:nth-child(12n + 1) {
    stroke-opacity: 0.17;
  }

  &:nth-child(12n + 2) {
    stroke-opacity: 0.25;
  }

  &:nth-child(12n + 3) {
    stroke-opacity: 0.33;
  }

  &:nth-child(12n + 4) {
    stroke-opacity: 0.42;
  }

  &:nth-child(12n + 5) {
    stroke-opacity: 0.5;
  }

  &:nth-child(12n + 6) {
    stroke-opacity: 0.58;
  }

  &:nth-child(12n + 7) {
    stroke-opacity: 0.66;
  }

  &:nth-child(12n + 8) {
    stroke-opacity: 0.75;
  }

  &:nth-child(12n + 9) {
    stroke-opacity: 0.83;
  }

  &:nth-child(12n + 11) {
    stroke-opacity: 0.92;
  }
`;const D4=xS`
to {
   stroke-dashoffset: 136;
 }
`;Zc.polygon`
  stroke-dasharray: 17;
  animation: ${D4} 2.5s cubic-bezier(0.35, 0.04, 0.63, 0.95) infinite;
`;Zc.svg`
  transform-origin: 50% 65%;
`;const R4=kF({username:OO().min(3,{message:"Invalid username"}),password:OO().min(3,{message:"Password must be at least 3 characters"})});function pA(){const[r,o]=pt.useState(!1),s=jk(),{register:c,handleSubmit:d,formState:{errors:h}}=rF({resolver:fF(R4)}),_=async x=>{const{username:S,password:C}=x;try{o(!0);const T=new FormData;T.append("username",S),T.append("password",C);const P=await r3.post("admin_login/index.php",T,{headers:{"Content-Type":"multipart/form-data"}});console.log(P.data),s("/theme")}catch(T){console.error("Login error:",T)}finally{o(!1)}};return Rt.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:Rt.jsxs("div",{className:"bg-white p-8 m-10 rounded-lg shadow-lg w-full max-w-md",children:[Rt.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Login"}),Rt.jsxs("form",{onSubmit:d(_),children:[Rt.jsxs("div",{className:"mb-4",children:[Rt.jsx("label",{htmlFor:"username",className:"block text-gray-700 font-bold mb-2",children:"Username:"}),Rt.jsx("input",{type:"text",id:"username",className:`w-full p-2 border ${h.username?"border-red-500":"border-gray-300"} rounded-lg`,...c("username")}),h.username&&Rt.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.username.message})]}),Rt.jsxs("div",{className:"mb-6",children:[Rt.jsx("label",{htmlFor:"password",className:"block text-gray-700 font-bold mb-2",children:"Password:"}),Rt.jsx("input",{type:"password",id:"password",className:`w-full p-2 border ${h.password?"border-red-500":"border-gray-300"} rounded-lg`,...c("password")}),h.password&&Rt.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.password.message})]}),r?Rt.jsx("div",{className:"w-full flex items-center justify-center bg-blue-500 text-white py-2 rounded-lg hover:bg-blue-600 transition duration-300",children:Rt.jsx(L4,{visible:!0,height:40,width:40,color:"white",ariaLabel:"oval-loading"})}):Rt.jsx("button",{type:"submit",className:"w-full bg-blue-500 text-white py-2 rounded-lg hover:bg-blue-600 transition duration-300",children:"Login"})]})]})})}const N4=()=>Rt.jsx("div",{children:Rt.jsx(pA,{})}),j4=()=>{const{id:r}=Ik(),[o,s]=pt.useState([]),[c,d]=pt.useState(""),[h,_]=pt.useState(""),[x,S]=pt.useState(""),[C,T]=pt.useState(""),[P,L]=pt.useState(null),[N,U]=pt.useState(""),[K,fe]=pt.useState(""),[q,z]=pt.useState(null),[$,X]=pt.useState({navIndex:null,dropdownIndex:null}),[_e,ie]=pt.useState(""),[we,Ae]=pt.useState(""),se=jk(),ve=()=>Date.now(),te=()=>{if(c.trim()!==""&&h.trim()!==""){const $e={label:c,link:h,id:ve(),dropdownItems:[]};s([...o,$e]),d(""),_("")}},re=$e=>{const ge=o[$e];L($e),U(ge.label),fe(ge.link)},ae=$e=>{const ge=o.map((Ve,Ye)=>Ye===$e?{...Ve,label:N,link:K}:Ve);s(ge),L(null),U(""),fe("")},G=$e=>{const ge=o.filter((Ve,Ye)=>Ye!==$e);s(ge)},be=$e=>{if(x.trim()!==""&&C.trim()!==""){const ge={label:x,link:C,id:ve(),dropdownItems:[]},Ve=o.map((Ye,We)=>We===$e?{...Ye,dropdownItems:[...Ye.dropdownItems||[],ge]}:Ye);s(Ve),S(""),T(""),z(null)}},W=($e,ge)=>{const Ve=o.map((Ye,We)=>{var dt;return We===$e?{...Ye,dropdownItems:(dt=Ye.dropdownItems)==null?void 0:dt.filter((Te,ze)=>ze!==ge)}:Ye});s(Ve)},Le=($e,ge)=>{var Ye;const Ve=(Ye=o[$e].dropdownItems)==null?void 0:Ye[ge];Ve&&(X({navIndex:$e,dropdownIndex:ge}),ie(Ve.label),Ae(Ve.link))},ye=($e,ge)=>{const Ve=o.map((Ye,We)=>{var dt;return We===$e?{...Ye,dropdownItems:(dt=Ye.dropdownItems)==null?void 0:dt.map((Te,ze)=>ze===ge?{label:_e,link:we,id:Te.id,dropdownItems:Te.dropdownItems}:Te)}:Ye});s(Ve),X({navIndex:null,dropdownIndex:null}),ie(""),Ae("")};pt.useEffect(()=>{(async()=>{const ge=localStorage.getItem("navbarItems");if(ge){const Ye=JSON.parse(ge).find(We=>We.id===parseInt(r||"",10));s(Ye?[Ye]:[])}})()},[r]);const Ue=$e=>{se(`/page/${$e}`)};return Rt.jsxs("div",{className:"p-4",children:[Rt.jsxs("div",{className:"w-full max-w-lg mx-auto bg-white shadow-md rounded-lg p-4",children:[Rt.jsx("h2",{className:"text-xl font-bold mb-4",children:"User NavBar"}),Rt.jsxs("div",{className:"space-y-4",children:[Rt.jsxs("div",{children:[Rt.jsx("label",{className:"block text-gray-700 mb-1",children:"Label:"}),Rt.jsx("input",{type:"text",value:c,onChange:$e=>d($e.target.value),className:"w-full border rounded py-2 px-3"})]}),Rt.jsxs("div",{children:[Rt.jsx("label",{className:"block text-gray-700 mb-1",children:"Link:"}),Rt.jsx("input",{type:"text",value:h,onChange:$e=>_($e.target.value),className:"w-full border rounded py-2 px-3"})]}),Rt.jsx("button",{onClick:te,className:"w-full bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700",children:"Add Nav Item"})]})]}),Rt.jsx("ul",{className:"mt-4 space-y-4",children:o.map(($e,ge)=>{var Ve;return Rt.jsxs("li",{className:"bg-white p-4 border rounded-lg shadow-md",children:[P===ge?Rt.jsxs("div",{className:"flex flex-col md:flex-row gap-2",children:[Rt.jsx("input",{type:"text",value:N,onChange:Ye=>U(Ye.target.value),className:"flex-1 border rounded py-2 px-3"}),Rt.jsx("input",{type:"text",value:K,onChange:Ye=>fe(Ye.target.value),className:"flex-1 border rounded py-2 px-3"}),Rt.jsx("button",{onClick:()=>ae(ge),className:"bg-green-600 text-white py-2 px-4 rounded hover:bg-green-700",children:"Save"}),Rt.jsx("button",{onClick:()=>G(ge),className:"bg-red-600 text-white py-2 px-4 rounded hover:bg-red-700",children:"Delete"})]}):Rt.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center",children:[Rt.jsxs("span",{className:"text-gray-700",children:[$e.label," - ",$e.link]}),Rt.jsxs("div",{className:"flex gap-2 mt-2 md:mt-0",children:[Rt.jsx("button",{onClick:()=>re(ge),className:"bg-green-600 text-white py-2 px-4 rounded hover:bg-green-700",children:"Edit"}),Rt.jsx("button",{onClick:()=>G(ge),className:"bg-red-600 text-white py-2 px-4 rounded hover:bg-red-700",children:"Delete"}),Rt.jsx("button",{onClick:()=>z(q===ge?null:ge),className:"bg-yellow-600 text-white py-2 px-4 rounded hover:bg-yellow-700",children:q===ge?"Cancel":"Add Dropdown"}),Rt.jsx("button",{onClick:()=>Ue($e.id),className:"bg-yellow-600 text-white py-2 px-4 rounded hover:bg-yellow-700",children:"Page Components"})]})]}),q===ge&&Rt.jsxs("div",{className:"flex flex-col md:flex-row gap-2 mt-4",children:[Rt.jsx("input",{type:"text",value:x,onChange:Ye=>S(Ye.target.value),className:"flex-1 border rounded py-2 px-3",placeholder:"Dropdown Label"}),Rt.jsx("input",{type:"text",value:C,onChange:Ye=>T(Ye.target.value),className:"flex-1 border rounded py-2 px-3",placeholder:"Dropdown Link"}),Rt.jsx("button",{onClick:()=>be(ge),className:"bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700",children:"Add"})]}),Rt.jsx("ul",{className:"ml-4 mt-2 space-y-2",children:(Ve=$e.dropdownItems)==null?void 0:Ve.map((Ye,We)=>Rt.jsx("li",{className:"bg-gray-100 p-2 border rounded-lg",children:$.navIndex===ge&&$.dropdownIndex===We?Rt.jsxs("div",{className:"flex flex-col md:flex-row gap-2",children:[Rt.jsx("input",{type:"text",value:_e,onChange:dt=>ie(dt.target.value),className:"flex-1 border rounded py-1 px-2"}),Rt.jsx("input",{type:"text",value:we,onChange:dt=>Ae(dt.target.value),className:"flex-1 border rounded py-1 px-2"}),Rt.jsx("button",{onClick:()=>ye(ge,We),className:"bg-green-600 text-white py-1 px-3 rounded hover:bg-green-700",children:"Save"}),Rt.jsx("button",{onClick:()=>W(ge,We),className:"bg-red-600 text-white py-1 px-3 rounded hover:bg-red-700",children:"Delete"})]}):Rt.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center",children:[Rt.jsxs("span",{className:"text-gray-700",children:[Ye.label," - ",Ye.link]}),Rt.jsxs("div",{className:"flex gap-2 mt-2 md:mt-0",children:[Rt.jsx("button",{onClick:()=>Le(ge,We),className:"bg-green-600 text-white py-1 px-3 rounded hover:bg-green-700",children:"Edit"}),Rt.jsx("button",{onClick:()=>W(ge,We),className:"bg-red-600 text-white py-1 px-3 rounded hover:bg-red-700",children:"Delete"})]})]})},Ye.id))})]},ge)})})]})};var I4={410:(r,o,s)=>{var c,d,h;/*!
* Backbone.Undo.js v0.2
*
* Copyright (c)2013 Oliver Sartun
* Released under the MIT License
*
* Documentation and full license available at
* https://github.com/osartun/Backbone.Undo.js
*/(function(_){d=[s(50),s(316)],c=_,h=typeof c=="function"?c.apply(o,d):c,h!==void 0&&(r.exports=h)})(function(_,x){var S=Array.prototype.slice;function C(se,ve,te){return te.length<=4?se.call(ve,te[0],te[1],te[2],te[3]):se.apply(ve,te)}function T(se,ve){return S.call(se,ve)}function P(se,ve){return se==null?!1:(_.isArray(ve)||(ve=T(arguments,1)),_.all(ve,function(te){return te in se}))}var L=function(){var se=!1,ve=-1;function te(){ve++,se=!0,_.defer(function(){se=!1})}return function(){return se||te(),ve}}();function N(){this.registeredObjects=[],this.cidIndexes=[]}N.prototype={isRegistered:function(se){return se&&se.cid?this.registeredObjects[se.cid]:_.contains(this.registeredObjects,se)},register:function(se){return this.isRegistered(se)?!1:(se&&se.cid?(this.registeredObjects[se.cid]=se,this.cidIndexes.push(se.cid)):this.registeredObjects.push(se),!0)},unregister:function(se){if(this.isRegistered(se)){if(se&&se.cid)delete this.registeredObjects[se.cid],this.cidIndexes.splice(_.indexOf(this.cidIndexes,se.cid),1);else{var ve=_.indexOf(this.registeredObjects,se);this.registeredObjects.splice(ve,1)}return!0}return!1},get:function(){return _.map(this.cidIndexes,function(se){return this.registeredObjects[se]},this).concat(this.registeredObjects)}};function U(se,ve,te,re){for(var ae=0,G=ve.length,be;ae<G;ae++)if(be=ve[ae],!!be){if(se==="on"){if(!re.objectRegistry.register(be))continue}else if(!re.objectRegistry.unregister(be))continue;_.isFunction(be[se])&&be[se]("all",te,re)}}function K(se,ve){var te=ve.type,re=ve.undoTypes,ae=!re[te]||re[te][se];_.isFunction(ae)&&ae(ve.object,ve.before,ve.after,ve.options)}function fe(se,ve,te,re,ae){if(!(te.isCurrentlyUndoRedoing||se==="undo"&&te.pointer===-1||se==="redo"&&te.pointer===te.length-1)){te.isCurrentlyUndoRedoing=!0;var G,be,W=se==="undo";for(ae?be=W&&te.pointer===te.length-1||!W&&te.pointer===-1?_.clone(te.models):S.apply(te.models,W?[0,te.pointer]:[te.pointer,te.length-1]):(G=te.at(W?te.pointer:te.pointer+1),be=re?te.where({magicFusionIndex:G.get("magicFusionIndex")}):[G]),te.pointer+=(W?-1:1)*be.length;G=W?be.pop():be.shift();)G[se]();te.isCurrentlyUndoRedoing=!1,ve.trigger(se,ve)}}function q(se,ve){var te=se.condition,re=typeof te;return re==="function"?!!C(te,se,ve):re==="boolean"?te:!0}function z(se,ve,te,re){if(se.track&&!se.isCurrentlyUndoRedoing&&ve in re&&q(re[ve],te)){var ae=C(re[ve].on,re[ve],te),G;if(P(ae,"object","before","after")){if(ae.type=ve,ae.magicFusionIndex=L(),ae.undoTypes=re,se.pointer<se.length-1)for(var G=se.length-se.pointer-1;G--;)se.pop();se.pointer=se.length,se.add(ae),se.length>se.maximumStackLength&&(se.shift(),se.pointer--)}}}var $={add:{undo:function(se,ve,te,re){se.remove(te,re)},redo:function(se,ve,te,re){re.index&&(re.at=re.index),se.add(te,re)},on:function(se,ve,te){return{object:ve,before:void 0,after:se,options:_.clone(te)}}},remove:{undo:function(se,ve,te,re){"index"in re&&(re.at=re.index),se.add(ve,re)},redo:function(se,ve,te,re){se.remove(ve,re)},on:function(se,ve,te){return{object:ve,before:se,after:void 0,options:_.clone(te)}}},change:{undo:function(se,ve,te,re){_.isEmpty(ve)?_.each(_.keys(te),se.unset,se):(se.set(ve),re&&re.unsetData&&re.unsetData.before&&re.unsetData.before.length&&_.each(re.unsetData.before,se.unset,se))},redo:function(se,ve,te,re){_.isEmpty(te)?_.each(_.keys(ve),se.unset,se):(se.set(te),re&&re.unsetData&&re.unsetData.after&&re.unsetData.after.length&&_.each(re.unsetData.after,se.unset,se))},on:function(se,ve){var te=se.changedAttributes(),re=_.keys(te),ae=_.pick(se.previousAttributes(),re),G=_.keys(ae),be=(ve||(ve={})).unsetData={after:[],before:[]};return re.length!=G.length&&(re.length>G.length?_.each(re,function(W){W in ae||be.before.push(W)},this):_.each(G,function(W){W in te||be.after.push(W)})),{object:se,before:ae,after:te,options:_.clone(ve)}}},reset:{undo:function(se,ve,te){se.reset(ve)},redo:function(se,ve,te){se.reset(te)},on:function(se,ve){return{object:se,before:ve.previousModels,after:_.clone(se.models)}}}};function X(){}X.prototype=$;function _e(se,ve,te,re){if(typeof ve=="object")return _.each(ve,function(ae,G){se===2?_e(se,ae,te,re):_e(se,G,ae,te)});switch(se){case 0:P(te,"undo","redo","on")&&_.all(_.pick(te,"undo","redo","on"),_.isFunction)&&(re[ve]=te);break;case 1:re[ve]&&_.isObject(te)&&(re[ve]=_.extend({},re[ve],te));break;case 2:delete re[ve];break}return this}var ie=x.Model.extend({defaults:{type:null,object:null,before:null,after:null,magicFusionIndex:null},undo:function(se){K("undo",this.attributes)},redo:function(se){K("redo",this.attributes)}}),we=x.Collection.extend({model:ie,pointer:-1,track:!1,isCurrentlyUndoRedoing:!1,maximumStackLength:1/0,setMaxLength:function(se){this.maximumStackLength=se}}),Ae=x.Model.extend({defaults:{maximumStackLength:1/0,track:!1},initialize:function(se){this.stack=new we,this.objectRegistry=new N,this.undoTypes=new X,this.stack.setMaxLength(this.get("maximumStackLength")),this.on("change:maximumStackLength",function(ve,te){this.stack.setMaxLength(te)},this),se&&se.track&&this.startTracking(),se&&se.register&&(_.isArray(se.register)||_.isArguments(se.register)?C(this.register,this,se.register):this.register(se.register))},startTracking:function(){this.set("track",!0),this.stack.track=!0},stopTracking:function(){this.set("track",!1),this.stack.track=!1},isTracking:function(){return this.get("track")},_addToStack:function(se){z(this.stack,se,T(arguments,1),this.undoTypes)},register:function(){U("on",arguments,this._addToStack,this)},unregister:function(){U("off",arguments,this._addToStack,this)},unregisterAll:function(){C(this.unregister,this,this.objectRegistry.get())},undo:function(se){fe("undo",this,this.stack,se)},undoAll:function(){fe("undo",this,this.stack,!1,!0)},redo:function(se){fe("redo",this,this.stack,se)},redoAll:function(){fe("redo",this,this.stack,!1,!0)},isAvailable:function(se){var ve=this.stack,te=ve.length;switch(se){case"undo":return te>0&&ve.pointer>-1;case"redo":return te>0&&ve.pointer<te-1;default:return!1}},merge:function(se){for(var ve=_.isArray(se)?se:T(arguments),te;te=ve.pop();)te instanceof Ae&&te.stack instanceof we&&(te.stack=this.stack)},addUndoType:function(se,ve){_e(0,se,ve,this.undoTypes)},changeUndoType:function(se,ve){_e(1,se,ve,this.undoTypes)},removeUndoType:function(se){_e(2,se,void 0,this.undoTypes)},clear:function(){this.stack.reset(),this.stack.pointer=-1}});return _.extend(Ae,{defaults:function(se){_.extend(Ae.prototype.defaults,se)},addUndoType:function(se,ve){_e(0,se,ve,$)},changeUndoType:function(se,ve){_e(1,se,ve,$)},removeUndoType:function(se){_e(2,se,void 0,$)}}),x.UndoManager=Ae})},316:(r,o,s)=>{var c,d;(function(h){var _=typeof self=="object"&&self.self===self&&self||typeof s.g=="object"&&s.g.global===s.g&&s.g;c=[s(50),s(895),o],d=(function(x,S,C){_.Backbone=h(_,C,x,S)}).apply(o,c),d!==void 0&&(r.exports=d)})(function(h,_,x,S){var C=h.Backbone,T=Array.prototype.slice;_.VERSION="1.4.1",_.$=S,_.noConflict=function(){return h.Backbone=C,this},_.emulateHTTP=!1,_.emulateJSON=!1;var P=_.Events={},L=/\s+/,N,U=function(M,F,Z,pe,Se){var J=0,xe;if(Z&&typeof Z=="object")for(pe!==void 0&&("context"in Se)&&Se.context===void 0&&(Se.context=pe),xe=x.keys(Z);J<xe.length;J++)F=U(M,F,xe[J],Z[xe[J]],Se);else if(Z&&L.test(Z))for(xe=Z.split(L);J<xe.length;J++)F=M(F,xe[J],pe,Se);else F=M(F,Z,pe,Se);return F};P.on=function(M,F,Z){if(this._events=U(K,this._events||{},M,F,{context:Z,ctx:this,listening:N}),N){var pe=this._listeners||(this._listeners={});pe[N.id]=N,N.interop=!1}return this},P.listenTo=function(M,F,Z){if(!M)return this;var pe=M._listenId||(M._listenId=x.uniqueId("l")),Se=this._listeningTo||(this._listeningTo={}),J=N=Se[pe];J||(this._listenId||(this._listenId=x.uniqueId("l")),J=N=Se[pe]=new _e(this,M));var xe=fe(M,F,Z,this);if(N=void 0,xe)throw xe;return J.interop&&J.on(F,Z),this};var K=function(M,F,Z,pe){if(Z){var Se=M[F]||(M[F]=[]),J=pe.context,xe=pe.ctx,Oe=pe.listening;Oe&&Oe.count++,Se.push({callback:Z,context:J,ctx:J||xe,listening:Oe})}return M},fe=function(M,F,Z,pe){try{M.on(F,Z,pe)}catch(Se){return Se}};P.off=function(M,F,Z){return this._events?(this._events=U(q,this._events,M,F,{context:Z,listeners:this._listeners}),this):this},P.stopListening=function(M,F,Z){var pe=this._listeningTo;if(!pe)return this;for(var Se=M?[M._listenId]:x.keys(pe),J=0;J<Se.length;J++){var xe=pe[Se[J]];if(!xe)break;xe.obj.off(F,Z,this),xe.interop&&xe.off(F,Z)}return x.isEmpty(pe)&&(this._listeningTo=void 0),this};var q=function(M,F,Z,pe){if(M){var Se=pe.context,J=pe.listeners,xe=0,Oe;if(!F&&!Se&&!Z){for(Oe=x.keys(J);xe<Oe.length;xe++)J[Oe[xe]].cleanup();return}for(Oe=F?[F]:x.keys(M);xe<Oe.length;xe++){F=Oe[xe];var yt=M[F];if(!yt)break;for(var qt=[],Vt=0;Vt<yt.length;Vt++){var rr=yt[Vt];if(Z&&Z!==rr.callback&&Z!==rr.callback._callback||Se&&Se!==rr.context)qt.push(rr);else{var Er=rr.listening;Er&&Er.off(F,Z)}}qt.length?M[F]=qt:delete M[F]}return M}};P.once=function(M,F,Z){var pe=U(z,{},M,F,this.off.bind(this));return typeof M=="string"&&Z==null&&(F=void 0),this.on(pe,F,Z)},P.listenToOnce=function(M,F,Z){var pe=U(z,{},F,Z,this.stopListening.bind(this,M));return this.listenTo(M,pe)};var z=function(M,F,Z,pe){if(Z){var Se=M[F]=x.once(function(){pe(F,Se),Z.apply(this,arguments)});Se._callback=Z}return M};P.trigger=function(M){if(!this._events)return this;for(var F=Math.max(0,arguments.length-1),Z=Array(F),pe=0;pe<F;pe++)Z[pe]=arguments[pe+1];return U($,this._events,M,void 0,Z),this};var $=function(M,F,Z,pe){if(M){var Se=M[F],J=M.all;Se&&J&&(J=J.slice()),Se&&X(Se,pe),J&&X(J,[F].concat(pe))}return M},X=function(M,F){var Z,pe=-1,Se=M.length,J=F[0],xe=F[1],Oe=F[2];switch(F.length){case 0:for(;++pe<Se;)(Z=M[pe]).callback.call(Z.ctx);return;case 1:for(;++pe<Se;)(Z=M[pe]).callback.call(Z.ctx,J);return;case 2:for(;++pe<Se;)(Z=M[pe]).callback.call(Z.ctx,J,xe);return;case 3:for(;++pe<Se;)(Z=M[pe]).callback.call(Z.ctx,J,xe,Oe);return;default:for(;++pe<Se;)(Z=M[pe]).callback.apply(Z.ctx,F);return}},_e=function(M,F){this.id=M._listenId,this.listener=M,this.obj=F,this.interop=!0,this.count=0,this._events=void 0};_e.prototype.on=P.on,_e.prototype.off=function(M,F){var Z;this.interop?(this._events=U(q,this._events,M,F,{context:void 0,listeners:void 0}),Z=!this._events):(this.count--,Z=this.count===0),Z&&this.cleanup()},_e.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]},P.bind=P.on,P.unbind=P.off,x.extend(_,P);var ie=_.Model=function(M,F){var Z=M||{};F||(F={}),this.preinitialize.apply(this,arguments),this.cid=x.uniqueId(this.cidPrefix),this.attributes={},F.collection&&(this.collection=F.collection),F.parse&&(Z=this.parse(Z,F)||{});var pe=x.result(this,"defaults");Z=x.defaults(x.extend({},pe,Z),pe),this.set(Z,F),this.changed={},this.initialize.apply(this,arguments)};x.extend(ie.prototype,P,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(M){return x.clone(this.attributes)},sync:function(){return _.sync.apply(this,arguments)},get:function(M){return this.attributes[M]},escape:function(M){return x.escape(this.get(M))},has:function(M){return this.get(M)!=null},matches:function(M){return!!x.iteratee(M,this)(this.attributes)},set:function(M,F,Z){if(M==null)return this;var pe;if(typeof M=="object"?(pe=M,Z=F):(pe={})[M]=F,Z||(Z={}),!this._validate(pe,Z))return!1;var Se=Z.unset,J=Z.silent,xe=[],Oe=this._changing;this._changing=!0,Oe||(this._previousAttributes=x.clone(this.attributes),this.changed={});var yt=this.attributes,qt=this.changed,Vt=this._previousAttributes;for(var rr in pe)F=pe[rr],x.isEqual(yt[rr],F)||xe.push(rr),x.isEqual(Vt[rr],F)?delete qt[rr]:qt[rr]=F,Se?delete yt[rr]:yt[rr]=F;if(this.idAttribute in pe){var Er=this.id;this.id=this.get(this.idAttribute),this.trigger("changeId",this,Er,Z)}if(!J){xe.length&&(this._pending=Z);for(var Tt=0;Tt<xe.length;Tt++)this.trigger("change:"+xe[Tt],this,yt[xe[Tt]],Z)}if(Oe)return this;if(!J)for(;this._pending;)Z=this._pending,this._pending=!1,this.trigger("change",this,Z);return this._pending=!1,this._changing=!1,this},unset:function(M,F){return this.set(M,void 0,x.extend({},F,{unset:!0}))},clear:function(M){var F={};for(var Z in this.attributes)F[Z]=void 0;return this.set(F,x.extend({},M,{unset:!0}))},hasChanged:function(M){return M==null?!x.isEmpty(this.changed):x.has(this.changed,M)},changedAttributes:function(M){if(!M)return this.hasChanged()?x.clone(this.changed):!1;var F=this._changing?this._previousAttributes:this.attributes,Z={},pe;for(var Se in M){var J=M[Se];x.isEqual(F[Se],J)||(Z[Se]=J,pe=!0)}return pe?Z:!1},previous:function(M){return M==null||!this._previousAttributes?null:this._previousAttributes[M]},previousAttributes:function(){return x.clone(this._previousAttributes)},fetch:function(M){M=x.extend({parse:!0},M);var F=this,Z=M.success;return M.success=function(pe){var Se=M.parse?F.parse(pe,M):pe;if(!F.set(Se,M))return!1;Z&&Z.call(M.context,F,pe,M),F.trigger("sync",F,pe,M)},Ct(this,M),this.sync("read",this,M)},save:function(M,F,Z){var pe;M==null||typeof M=="object"?(pe=M,Z=F):(pe={})[M]=F,Z=x.extend({validate:!0,parse:!0},Z);var Se=Z.wait;if(pe&&!Se){if(!this.set(pe,Z))return!1}else if(!this._validate(pe,Z))return!1;var J=this,xe=Z.success,Oe=this.attributes;Z.success=function(Vt){J.attributes=Oe;var rr=Z.parse?J.parse(Vt,Z):Vt;if(Se&&(rr=x.extend({},pe,rr)),rr&&!J.set(rr,Z))return!1;xe&&xe.call(Z.context,J,Vt,Z),J.trigger("sync",J,Vt,Z)},Ct(this,Z),pe&&Se&&(this.attributes=x.extend({},Oe,pe));var yt=this.isNew()?"create":Z.patch?"patch":"update";yt==="patch"&&!Z.attrs&&(Z.attrs=pe);var qt=this.sync(yt,this,Z);return this.attributes=Oe,qt},destroy:function(M){M=M?x.clone(M):{};var F=this,Z=M.success,pe=M.wait,Se=function(){F.stopListening(),F.trigger("destroy",F,F.collection,M)};M.success=function(xe){pe&&Se(),Z&&Z.call(M.context,F,xe,M),F.isNew()||F.trigger("sync",F,xe,M)};var J=!1;return this.isNew()?x.defer(M.success):(Ct(this,M),J=this.sync("delete",this,M)),pe||Se(),J},url:function(){var M=x.result(this,"urlRoot")||x.result(this.collection,"url")||Ar();if(this.isNew())return M;var F=this.get(this.idAttribute);return M.replace(/[^\/]$/,"$&/")+encodeURIComponent(F)},parse:function(M,F){return M},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(M){return this._validate({},x.extend({},M,{validate:!0}))},_validate:function(M,F){if(!F.validate||!this.validate)return!0;M=x.extend({},this.attributes,M);var Z=this.validationError=this.validate(M,F)||null;return Z?(this.trigger("invalid",this,Z,x.extend(F,{validationError:Z})),!1):!0}});var we=_.Collection=function(M,F){F||(F={}),this.preinitialize.apply(this,arguments),F.model&&(this.model=F.model),F.comparator!==void 0&&(this.comparator=F.comparator),this._reset(),this.initialize.apply(this,arguments),M&&this.reset(M,x.extend({silent:!0},F))},Ae={add:!0,remove:!0,merge:!0},se={add:!0,remove:!1},ve=function(M,F,Z){Z=Math.min(Math.max(Z,0),M.length);var pe=Array(M.length-Z),Se=F.length,J;for(J=0;J<pe.length;J++)pe[J]=M[J+Z];for(J=0;J<Se;J++)M[J+Z]=F[J];for(J=0;J<pe.length;J++)M[J+Se+Z]=pe[J]};x.extend(we.prototype,P,{model:ie,preinitialize:function(){},initialize:function(){},toJSON:function(M){return this.map(function(F){return F.toJSON(M)})},sync:function(){return _.sync.apply(this,arguments)},add:function(M,F){return this.set(M,x.extend({merge:!1},F,se))},remove:function(M,F){F=x.extend({},F);var Z=!x.isArray(M);M=Z?[M]:M.slice();var pe=this._removeModels(M,F);return!F.silent&&pe.length&&(F.changes={added:[],merged:[],removed:pe},this.trigger("update",this,F)),Z?pe[0]:pe},set:function(M,F){if(M!=null){F=x.extend({},Ae,F),F.parse&&!this._isModel(M)&&(M=this.parse(M,F)||[]);var Z=!x.isArray(M);M=Z?[M]:M.slice();var pe=F.at;pe!=null&&(pe=+pe),pe>this.length&&(pe=this.length),pe<0&&(pe+=this.length+1);var Se=[],J=[],xe=[],Oe=[],yt={},qt=F.add,Vt=F.merge,rr=F.remove,Er=!1,Tt=this.comparator&&pe==null&&F.sort!==!1,Sr=x.isString(this.comparator)?this.comparator:null,zt,dr;for(dr=0;dr<M.length;dr++){zt=M[dr];var nn=this.get(zt);if(nn){if(Vt&&zt!==nn){var Mt=this._isModel(zt)?zt.attributes:zt;F.parse&&(Mt=nn.parse(Mt,F)),nn.set(Mt,F),xe.push(nn),Tt&&!Er&&(Er=nn.hasChanged(Sr))}yt[nn.cid]||(yt[nn.cid]=!0,Se.push(nn)),M[dr]=nn}else qt&&(zt=M[dr]=this._prepareModel(zt,F),zt&&(J.push(zt),this._addReference(zt,F),yt[zt.cid]=!0,Se.push(zt)))}if(rr){for(dr=0;dr<this.length;dr++)zt=this.models[dr],yt[zt.cid]||Oe.push(zt);Oe.length&&this._removeModels(Oe,F)}var fn=!1,Qt=!Tt&&qt&&rr;if(Se.length&&Qt?(fn=this.length!==Se.length||x.some(this.models,function(Nr,Wr){return Nr!==Se[Wr]}),this.models.length=0,ve(this.models,Se,0),this.length=this.models.length):J.length&&(Tt&&(Er=!0),ve(this.models,J,pe??this.length),this.length=this.models.length),Er&&this.sort({silent:!0}),!F.silent){for(dr=0;dr<J.length;dr++)pe!=null&&(F.index=pe+dr),zt=J[dr],zt.trigger("add",zt,this,F);(Er||fn)&&this.trigger("sort",this,F),(J.length||Oe.length||xe.length)&&(F.changes={added:J,removed:Oe,merged:xe},this.trigger("update",this,F))}return Z?M[0]:M}},reset:function(M,F){F=F?x.clone(F):{};for(var Z=0;Z<this.models.length;Z++)this._removeReference(this.models[Z],F);return F.previousModels=this.models,this._reset(),M=this.add(M,x.extend({silent:!0},F)),F.silent||this.trigger("reset",this,F),M},push:function(M,F){return this.add(M,x.extend({at:this.length},F))},pop:function(M){var F=this.at(this.length-1);return this.remove(F,M)},unshift:function(M,F){return this.add(M,x.extend({at:0},F))},shift:function(M){var F=this.at(0);return this.remove(F,M)},slice:function(){return T.apply(this.models,arguments)},get:function(M){if(M!=null)return this._byId[M]||this._byId[this.modelId(this._isModel(M)?M.attributes:M,M.idAttribute)]||M.cid&&this._byId[M.cid]},has:function(M){return this.get(M)!=null},at:function(M){return M<0&&(M+=this.length),this.models[M]},where:function(M,F){return this[F?"find":"filter"](M)},findWhere:function(M){return this.where(M,!0)},sort:function(M){var F=this.comparator;if(!F)throw new Error("Cannot sort a set without a comparator");M||(M={});var Z=F.length;return x.isFunction(F)&&(F=F.bind(this)),Z===1||x.isString(F)?this.models=this.sortBy(F):this.models.sort(F),M.silent||this.trigger("sort",this,M),this},pluck:function(M){return this.map(M+"")},fetch:function(M){M=x.extend({parse:!0},M);var F=M.success,Z=this;return M.success=function(pe){var Se=M.reset?"reset":"set";Z[Se](pe,M),F&&F.call(M.context,Z,pe,M),Z.trigger("sync",Z,pe,M)},Ct(this,M),this.sync("read",this,M)},create:function(M,F){F=F?x.clone(F):{};var Z=F.wait;if(M=this._prepareModel(M,F),!M)return!1;Z||this.add(M,F);var pe=this,Se=F.success;return F.success=function(J,xe,Oe){Z&&pe.add(J,Oe),Se&&Se.call(Oe.context,J,xe,Oe)},M.save(null,F),M},parse:function(M,F){return M},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(M,F){return M[F||this.model.prototype.idAttribute||"id"]},values:function(){return new re(this,ae)},keys:function(){return new re(this,G)},entries:function(){return new re(this,be)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(M,F){if(this._isModel(M))return M.collection||(M.collection=this),M;F=F?x.clone(F):{},F.collection=this;var Z;return this.model.prototype?Z=new this.model(M,F):Z=this.model(M,F),Z.validationError?(this.trigger("invalid",this,Z.validationError,F),!1):Z},_removeModels:function(M,F){for(var Z=[],pe=0;pe<M.length;pe++){var Se=this.get(M[pe]);if(Se){var J=this.indexOf(Se);this.models.splice(J,1),this.length--,delete this._byId[Se.cid];var xe=this.modelId(Se.attributes,Se.idAttribute);xe!=null&&delete this._byId[xe],F.silent||(F.index=J,Se.trigger("remove",Se,this,F)),Z.push(Se),this._removeReference(Se,F)}}return Z},_isModel:function(M){return M instanceof ie},_addReference:function(M,F){this._byId[M.cid]=M;var Z=this.modelId(M.attributes,M.idAttribute);Z!=null&&(this._byId[Z]=M),M.on("all",this._onModelEvent,this)},_removeReference:function(M,F){delete this._byId[M.cid];var Z=this.modelId(M.attributes,M.idAttribute);Z!=null&&delete this._byId[Z],this===M.collection&&delete M.collection,M.off("all",this._onModelEvent,this)},_onModelEvent:function(M,F,Z,pe){if(F){if((M==="add"||M==="remove")&&Z!==this)return;if(M==="destroy"&&this.remove(F,pe),M==="changeId"){var Se=this.modelId(F.previousAttributes(),F.idAttribute),J=this.modelId(F.attributes,F.idAttribute);Se!=null&&delete this._byId[Se],J!=null&&(this._byId[J]=F)}}this.trigger.apply(this,arguments)}});var te=typeof Symbol=="function"&&Symbol.iterator;te&&(we.prototype[te]=we.prototype.values);var re=function(M,F){this._collection=M,this._kind=F,this._index=0},ae=1,G=2,be=3;te&&(re.prototype[te]=function(){return this}),re.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var M=this._collection.at(this._index);this._index++;var F;if(this._kind===ae)F=M;else{var Z=this._collection.modelId(M.attributes,M.idAttribute);this._kind===G?F=Z:F=[Z,M]}return{value:F,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var W=_.View=function(M){this.cid=x.uniqueId("view"),this.preinitialize.apply(this,arguments),x.extend(this,x.pick(M,ye)),this._ensureElement(),this.initialize.apply(this,arguments)},Le=/^(\S+)\s*(.*)$/,ye=["model","collection","el","id","attributes","className","tagName","events"];x.extend(W.prototype,P,{tagName:"div",$:function(M){return this.$el.find(M)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(M){return this.undelegateEvents(),this._setElement(M),this.delegateEvents(),this},_setElement:function(M){this.$el=M instanceof _.$?M:_.$(M),this.el=this.$el[0]},delegateEvents:function(M){if(M||(M=x.result(this,"events")),!M)return this;this.undelegateEvents();for(var F in M){var Z=M[F];if(x.isFunction(Z)||(Z=this[Z]),!!Z){var pe=F.match(Le);this.delegate(pe[1],pe[2],Z.bind(this))}}return this},delegate:function(M,F,Z){return this.$el.on(M+".delegateEvents"+this.cid,F,Z),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(M,F,Z){return this.$el.off(M+".delegateEvents"+this.cid,F,Z),this},_createElement:function(M){return document.createElement(M)},_ensureElement:function(){if(this.el)this.setElement(x.result(this,"el"));else{var M=x.extend({},x.result(this,"attributes"));this.id&&(M.id=x.result(this,"id")),this.className&&(M.class=x.result(this,"className")),this.setElement(this._createElement(x.result(this,"tagName"))),this._setAttributes(M)}},_setAttributes:function(M){this.$el.attr(M)}});var Ue=function(M,F,Z,pe){switch(F){case 1:return function(){return M[Z](this[pe])};case 2:return function(Se){return M[Z](this[pe],Se)};case 3:return function(Se,J){return M[Z](this[pe],ge(Se,this),J)};case 4:return function(Se,J,xe){return M[Z](this[pe],ge(Se,this),J,xe)};default:return function(){var Se=T.call(arguments);return Se.unshift(this[pe]),M[Z].apply(M,Se)}}},$e=function(M,F,Z,pe){x.each(Z,function(Se,J){F[J]&&(M.prototype[J]=Ue(F,Se,J,pe))})},ge=function(M,F){return x.isFunction(M)?M:x.isObject(M)&&!F._isModel(M)?Ve(M):x.isString(M)?function(Z){return Z.get(M)}:M},Ve=function(M){var F=x.matches(M);return function(Z){return F(Z.attributes)}},Ye={forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},We={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};x.each([[we,Ye,"models"],[ie,We,"attributes"]],function(M){var F=M[0],Z=M[1],pe=M[2];F.mixin=function(Se){var J=x.reduce(x.functions(Se),function(xe,Oe){return xe[Oe]=0,xe},{});$e(F,Se,J,pe)},$e(F,x,Z,pe)}),_.sync=function(M,F,Z){var pe=dt[M];x.defaults(Z||(Z={}),{emulateHTTP:_.emulateHTTP,emulateJSON:_.emulateJSON});var Se={type:pe,dataType:"json"};if(Z.url||(Se.url=x.result(F,"url")||Ar()),Z.data==null&&F&&(M==="create"||M==="update"||M==="patch")&&(Se.contentType="application/json",Se.data=JSON.stringify(Z.attrs||F.toJSON(Z))),Z.emulateJSON&&(Se.contentType="application/x-www-form-urlencoded",Se.data=Se.data?{model:Se.data}:{}),Z.emulateHTTP&&(pe==="PUT"||pe==="DELETE"||pe==="PATCH")){Se.type="POST",Z.emulateJSON&&(Se.data._method=pe);var J=Z.beforeSend;Z.beforeSend=function(yt){if(yt.setRequestHeader("X-HTTP-Method-Override",pe),J)return J.apply(this,arguments)}}Se.type!=="GET"&&!Z.emulateJSON&&(Se.processData=!1);var xe=Z.error;Z.error=function(yt,qt,Vt){Z.textStatus=qt,Z.errorThrown=Vt,xe&&xe.call(Z.context,yt,qt,Vt)};var Oe=Z.xhr=_.ajax(x.extend(Se,Z));return F.trigger("request",F,Oe,Z),Oe};var dt={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};_.ajax=function(){return _.$.ajax.apply(_.$,arguments)};var Te=_.Router=function(M){M||(M={}),this.preinitialize.apply(this,arguments),M.routes&&(this.routes=M.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},ze=/\((.*?)\)/g,qe=/(\(\?)?:\w+/g,ut=/\*\w+/g,vt=/[\-{}\[\]+?.,\\\^$|#\s]/g;x.extend(Te.prototype,P,{preinitialize:function(){},initialize:function(){},route:function(M,F,Z){x.isRegExp(M)||(M=this._routeToRegExp(M)),x.isFunction(F)&&(Z=F,F=""),Z||(Z=this[F]);var pe=this;return _.history.route(M,function(Se){var J=pe._extractParameters(M,Se);pe.execute(Z,J,F)!==!1&&(pe.trigger.apply(pe,["route:"+F].concat(J)),pe.trigger("route",F,J),_.history.trigger("route",pe,F,J))}),this},execute:function(M,F,Z){M&&M.apply(this,F)},navigate:function(M,F){return _.history.navigate(M,F),this},_bindRoutes:function(){if(this.routes){this.routes=x.result(this,"routes");for(var M,F=x.keys(this.routes);(M=F.pop())!=null;)this.route(M,this.routes[M])}},_routeToRegExp:function(M){return M=M.replace(vt,"\\$&").replace(ze,"(?:$1)?").replace(qe,function(F,Z){return Z?F:"([^/?]+)"}).replace(ut,"([^?]*?)"),new RegExp("^"+M+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(M,F){var Z=M.exec(F).slice(1);return x.map(Z,function(pe,Se){return Se===Z.length-1?pe||null:pe?decodeURIComponent(pe):null})}});var rt=_.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),typeof window<"u"&&(this.location=window.location,this.history=window.history)},lt=/^[#\/]|\s+$/g,ar=/^\/+|\/+$/g,zr=/#.*$/;rt.started=!1,x.extend(rt.prototype,P,{interval:50,atRoot:function(){var M=this.location.pathname.replace(/[^\/]$/,"$&/");return M===this.root&&!this.getSearch()},matchRoot:function(){var M=this.decodeFragment(this.location.pathname),F=M.slice(0,this.root.length-1)+"/";return F===this.root},decodeFragment:function(M){return decodeURI(M.replace(/%25/g,"%2525"))},getSearch:function(){var M=this.location.href.replace(/#.*/,"").match(/\?.+/);return M?M[0]:""},getHash:function(M){var F=(M||this).location.href.match(/#(.*)$/);return F?F[1]:""},getPath:function(){var M=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return M.charAt(0)==="/"?M.slice(1):M},getFragment:function(M){return M==null&&(this._usePushState||!this._wantsHashChange?M=this.getPath():M=this.getHash()),M.replace(lt,"")},start:function(M){if(rt.started)throw new Error("Backbone.history has already been started");if(rt.started=!0,this.options=x.extend({root:"/"},this.options,M),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(document.documentMode===void 0||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.history&&this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(ar,"/"),this._wantsHashChange&&this._wantsPushState)if(!this._hasPushState&&!this.atRoot()){var F=this.root.slice(0,-1)||"/";return this.location.replace(F+"#"+this.getPath()),!0}else this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0});if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var Z=document.body,pe=Z.insertBefore(this.iframe,Z.firstChild).contentWindow;pe.document.open(),pe.document.close(),pe.location.hash="#"+this.fragment}var Se=window.addEventListener||function(J,xe){return attachEvent("on"+J,xe)};if(this._usePushState?Se("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?Se("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var M=window.removeEventListener||function(F,Z){return detachEvent("on"+F,Z)};this._usePushState?M("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&M("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),rt.started=!1},route:function(M,F){this.handlers.unshift({route:M,callback:F})},checkUrl:function(M){var F=this.getFragment();if(F===this.fragment&&this.iframe&&(F=this.getHash(this.iframe.contentWindow)),F===this.fragment)return!1;this.iframe&&this.navigate(F),this.loadUrl()},loadUrl:function(M){return this.matchRoot()?(M=this.fragment=this.getFragment(M),x.some(this.handlers,function(F){if(F.route.test(M))return F.callback(M),!0})):!1},navigate:function(M,F){if(!rt.started)return!1;(!F||F===!0)&&(F={trigger:!!F}),M=this.getFragment(M||"");var Z=this.root;(M===""||M.charAt(0)==="?")&&(Z=Z.slice(0,-1)||"/");var pe=Z+M;M=M.replace(zr,"");var Se=this.decodeFragment(M);if(this.fragment!==Se){if(this.fragment=Se,this._usePushState)this.history[F.replace?"replaceState":"pushState"]({},document.title,pe);else if(this._wantsHashChange){if(this._updateHash(this.location,M,F.replace),this.iframe&&M!==this.getHash(this.iframe.contentWindow)){var J=this.iframe.contentWindow;F.replace||(J.document.open(),J.document.close()),this._updateHash(J.location,M,F.replace)}}else return this.location.assign(pe);if(F.trigger)return this.loadUrl(M)}},_updateHash:function(M,F,Z){if(Z){var pe=M.href.replace(/(javascript:|#).*$/,"");M.replace(pe+"#"+F)}else M.hash="#"+F}}),_.history=new rt;var un=function(M,F){var Z=this,pe;return M&&x.has(M,"constructor")?pe=M.constructor:pe=function(){return Z.apply(this,arguments)},x.extend(pe,Z,F),pe.prototype=x.create(Z.prototype,M),pe.prototype.constructor=pe,pe.__super__=Z.prototype,pe};ie.extend=we.extend=Te.extend=W.extend=rt.extend=un;var Ar=function(){throw new Error('A "url" property or function must be specified')},Ct=function(M,F){var Z=F.error;F.error=function(pe){Z&&Z.call(F.context,M,pe,F),M.trigger("error",M,pe,F)}};return _})},210:(r,o,s)=>{(function(c){c(s(631))})(function(c){c.extendMode("css",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(h,_){return/^[;{}]$/.test(_)}}),c.extendMode("javascript",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(h,_,x,S){return this.jsonMode?/^[\[,{]$/.test(_)||/^}/.test(x):_==";"&&S.lexical&&S.lexical.type==")"?!1:/^[;{}]$/.test(_)&&!/^;/.test(x)}});var d=/^(a|abbr|acronym|area|base|bdo|big|br|button|caption|cite|code|col|colgroup|dd|del|dfn|em|frame|hr|iframe|img|input|ins|kbd|label|legend|link|map|object|optgroup|option|param|q|samp|script|select|small|span|strong|sub|sup|textarea|tt|var)$/;c.extendMode("xml",{commentStart:"<!--",commentEnd:"-->",newlineAfterToken:function(h,_,x,S){var C=!1;return this.configuration=="html"&&(C=S.context?d.test(S.context.tagName):!1),!C&&(h=="tag"&&/>$/.test(_)&&S.context||/^</.test(x))}}),c.defineExtension("commentRange",function(h,_,x){var S=this,C=c.innerMode(S.getMode(),S.getTokenAt(_).state).mode;S.operation(function(){if(h)S.replaceRange(C.commentEnd,x),S.replaceRange(C.commentStart,_),_.line==x.line&&_.ch==x.ch&&S.setCursor(_.line,_.ch+C.commentStart.length);else{var T=S.getRange(_,x),P=T.indexOf(C.commentStart),L=T.lastIndexOf(C.commentEnd);P>-1&&L>-1&&L>P&&(T=T.substr(0,P)+T.substring(P+C.commentStart.length,L)+T.substr(L+C.commentEnd.length)),S.replaceRange(T,_,x)}})}),c.defineExtension("autoIndentRange",function(h,_){var x=this;this.operation(function(){for(var S=h.line;S<=_.line;S++)x.indentLine(S,"smart")})}),c.defineExtension("autoFormatRange",function(h,_){var x=this,S=x.getMode(),C=x.getRange(h,_).split(`
`),T=c.copyState(S,x.getTokenAt(h).state),P=x.getOption("tabSize"),L="",N=0,U=h.ch===0;function K(){L+=`
`,U=!0,++N}for(var fe=0;fe<C.length;++fe){for(var q=new c.StringStream(C[fe],P);!q.eol();){var z=c.innerMode(S,T),$=S.token(q,T),X=q.current();q.start=q.pos,(!U||/\S/.test(X))&&(L+=X,U=!1),!U&&z.mode.newlineAfterToken&&z.mode.newlineAfterToken($,X,q.string.slice(q.pos)||C[fe+1]||"",z.state)&&K()}!q.pos&&S.blankLine&&S.blankLine(T),!U&&fe<C.length-1&&K()}x.operation(function(){x.replaceRange(L,h,_);for(var _e=h.line+1,ie=h.line+N;_e<=ie;++_e)x.indentLine(_e,"smart");x.setSelection(h,x.getCursor(!1))})})})},631:function(r){(function(o,s){r.exports=s()})(this,function(){var o=navigator.userAgent,s=navigator.platform,c=/gecko\/\d/i.test(o),d=/MSIE \d/.test(o),h=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(o),_=/Edge\/(\d+)/.exec(o),x=d||h||_,S=x&&(d?document.documentMode||6:+(_||h)[1]),C=!_&&/WebKit\//.test(o),T=C&&/Qt\/\d+\.\d+/.test(o),P=!_&&/Chrome\/(\d+)/.exec(o),L=P&&+P[1],N=/Opera\//.test(o),U=/Apple Computer/.test(navigator.vendor),K=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(o),fe=/PhantomJS/.test(o),q=U&&(/Mobile\/\w+/.test(o)||navigator.maxTouchPoints>2),z=/Android/.test(o),$=q||z||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(o),X=q||/Mac/.test(s),_e=/\bCrOS\b/.test(o),ie=/win/i.test(s),we=N&&o.match(/Version\/(\d*\.\d*)/);we&&(we=Number(we[1])),we&&we>=15&&(N=!1,C=!0);var Ae=X&&(T||N&&(we==null||we<12.11)),se=c||x&&S>=9;function ve(l){return new RegExp("(^|\\s)"+l+"(?:$|\\s)\\s*")}var te=function(l,f){var g=l.className,v=ve(f).exec(g);if(v){var w=g.slice(v.index+v[0].length);l.className=g.slice(0,v.index)+(w?v[1]+w:"")}};function re(l){for(var f=l.childNodes.length;f>0;--f)l.removeChild(l.firstChild);return l}function ae(l,f){return re(l).appendChild(f)}function G(l,f,g,v){var w=document.createElement(l);if(g&&(w.className=g),v&&(w.style.cssText=v),typeof f=="string")w.appendChild(document.createTextNode(f));else if(f)for(var E=0;E<f.length;++E)w.appendChild(f[E]);return w}function be(l,f,g,v){var w=G(l,f,g,v);return w.setAttribute("role","presentation"),w}var W;document.createRange?W=function(l,f,g,v){var w=document.createRange();return w.setEnd(v||l,g),w.setStart(l,f),w}:W=function(l,f,g){var v=document.body.createTextRange();try{v.moveToElementText(l.parentNode)}catch{return v}return v.collapse(!0),v.moveEnd("character",g),v.moveStart("character",f),v};function Le(l,f){if(f.nodeType==3&&(f=f.parentNode),l.contains)return l.contains(f);do if(f.nodeType==11&&(f=f.host),f==l)return!0;while(f=f.parentNode)}function ye(l){var f;try{f=l.activeElement}catch{f=l.body||null}for(;f&&f.shadowRoot&&f.shadowRoot.activeElement;)f=f.shadowRoot.activeElement;return f}function Ue(l,f){var g=l.className;ve(f).test(g)||(l.className+=(g?" ":"")+f)}function $e(l,f){for(var g=l.split(" "),v=0;v<g.length;v++)g[v]&&!ve(g[v]).test(f)&&(f+=" "+g[v]);return f}var ge=function(l){l.select()};q?ge=function(l){l.selectionStart=0,l.selectionEnd=l.value.length}:x&&(ge=function(l){try{l.select()}catch{}});function Ve(l){return l.display.wrapper.ownerDocument}function Ye(l){return Ve(l).defaultView}function We(l){var f=Array.prototype.slice.call(arguments,1);return function(){return l.apply(null,f)}}function dt(l,f,g){f||(f={});for(var v in l)l.hasOwnProperty(v)&&(g!==!1||!f.hasOwnProperty(v))&&(f[v]=l[v]);return f}function Te(l,f,g,v,w){f==null&&(f=l.search(/[^\s\u00a0]/),f==-1&&(f=l.length));for(var E=v||0,k=w||0;;){var D=l.indexOf("	",E);if(D<0||D>=f)return k+(f-E);k+=D-E,k+=g-k%g,E=D+1}}var ze=function(){this.id=null,this.f=null,this.time=0,this.handler=We(this.onTimeout,this)};ze.prototype.onTimeout=function(l){l.id=0,l.time<=+new Date?l.f():setTimeout(l.handler,l.time-+new Date)},ze.prototype.set=function(l,f){this.f=f;var g=+new Date+l;(!this.id||g<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,l),this.time=g)};function qe(l,f){for(var g=0;g<l.length;++g)if(l[g]==f)return g;return-1}var ut=50,vt={toString:function(){return"CodeMirror.Pass"}},rt={scroll:!1},lt={origin:"*mouse"},ar={origin:"+move"};function zr(l,f,g){for(var v=0,w=0;;){var E=l.indexOf("	",v);E==-1&&(E=l.length);var k=E-v;if(E==l.length||w+k>=f)return v+Math.min(k,f-w);if(w+=E-v,w+=g-w%g,v=E+1,w>=f)return v}}var un=[""];function Ar(l){for(;un.length<=l;)un.push(Ct(un)+" ");return un[l]}function Ct(l){return l[l.length-1]}function M(l,f){for(var g=[],v=0;v<l.length;v++)g[v]=f(l[v],v);return g}function F(l,f,g){for(var v=0,w=g(f);v<l.length&&g(l[v])<=w;)v++;l.splice(v,0,f)}function Z(){}function pe(l,f){var g;return Object.create?g=Object.create(l):(Z.prototype=l,g=new Z),f&&dt(f,g),g}var Se=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function J(l){return/\w/.test(l)||l>""&&(l.toUpperCase()!=l.toLowerCase()||Se.test(l))}function xe(l,f){return f?f.source.indexOf("\\w")>-1&&J(l)?!0:f.test(l):J(l)}function Oe(l){for(var f in l)if(l.hasOwnProperty(f)&&l[f])return!1;return!0}var yt=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function qt(l){return l.charCodeAt(0)>=768&&yt.test(l)}function Vt(l,f,g){for(;(g<0?f>0:f<l.length)&&qt(l.charAt(f));)f+=g;return f}function rr(l,f,g){for(var v=f>g?-1:1;;){if(f==g)return f;var w=(f+g)/2,E=v<0?Math.ceil(w):Math.floor(w);if(E==f)return l(E)?f:g;l(E)?g=E:f=E+v}}function Er(l,f,g,v){if(!l)return v(f,g,"ltr",0);for(var w=!1,E=0;E<l.length;++E){var k=l[E];(k.from<g&&k.to>f||f==g&&k.to==f)&&(v(Math.max(k.from,f),Math.min(k.to,g),k.level==1?"rtl":"ltr",E),w=!0)}w||v(f,g,"ltr")}var Tt=null;function Sr(l,f,g){var v;Tt=null;for(var w=0;w<l.length;++w){var E=l[w];if(E.from<f&&E.to>f)return w;E.to==f&&(E.from!=E.to&&g=="before"?v=w:Tt=w),E.from==f&&(E.from!=E.to&&g!="before"?v=w:Tt=w)}return v??Tt}var zt=function(){var l="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",f="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function g(H){return H<=247?l.charAt(H):1424<=H&&H<=1524?"R":1536<=H&&H<=1785?f.charAt(H-1536):1774<=H&&H<=2220?"r":8192<=H&&H<=8203?"w":H==8204?"b":"L"}var v=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,w=/[stwN]/,E=/[LRr]/,k=/[Lb1n]/,D=/[1n]/;function j(H,ce,me){this.level=H,this.from=ce,this.to=me}return function(H,ce){var me=ce=="ltr"?"L":"R";if(H.length==0||ce=="ltr"&&!v.test(H))return!1;for(var je=H.length,De=[],Ge=0;Ge<je;++Ge)De.push(g(H.charCodeAt(Ge)));for(var Je=0,ct=me;Je<je;++Je){var gt=De[Je];gt=="m"?De[Je]=ct:ct=gt}for(var Pt=0,bt=me;Pt<je;++Pt){var At=De[Pt];At=="1"&&bt=="r"?De[Pt]="n":E.test(At)&&(bt=At,At=="r"&&(De[Pt]="R"))}for(var Xt=1,Zt=De[0];Xt<je-1;++Xt){var br=De[Xt];br=="+"&&Zt=="1"&&De[Xt+1]=="1"?De[Xt]="1":br==","&&Zt==De[Xt+1]&&(Zt=="1"||Zt=="n")&&(De[Xt]=Zt),Zt=br}for(var on=0;on<je;++on){var Zn=De[on];if(Zn==",")De[on]="N";else if(Zn=="%"){var gn=void 0;for(gn=on+1;gn<je&&De[gn]=="%";++gn);for(var ri=on&&De[on-1]=="!"||gn<je&&De[gn]=="1"?"1":"N",Ci=on;Ci<gn;++Ci)De[Ci]=ri;on=gn-1}}for(var tn=0,Mi=me;tn<je;++tn){var qn=De[tn];Mi=="L"&&qn=="1"?De[tn]="L":E.test(qn)&&(Mi=qn)}for(var Bn=0;Bn<je;++Bn)if(w.test(De[Bn])){var Nn=void 0;for(Nn=Bn+1;Nn<je&&w.test(De[Nn]);++Nn);for(var _n=(Bn?De[Bn-1]:me)=="L",Di=(Nn<je?De[Nn]:me)=="L",Bl=_n==Di?_n?"L":"R":me,ts=Bn;ts<Nn;++ts)De[ts]=Bl;Bn=Nn-1}for(var ni=[],Zi,Yn=0;Yn<je;)if(k.test(De[Yn])){var Us=Yn;for(++Yn;Yn<je&&k.test(De[Yn]);++Yn);ni.push(new j(0,Us,Yn))}else{var lo=Yn,Bs=ni.length,rs=ce=="rtl"?1:0;for(++Yn;Yn<je&&De[Yn]!="L";++Yn);for(var Oi=lo;Oi<Yn;)if(D.test(De[Oi])){lo<Oi&&(ni.splice(Bs,0,new j(1,lo,Oi)),Bs+=rs);var Hl=Oi;for(++Oi;Oi<Yn&&D.test(De[Oi]);++Oi);ni.splice(Bs,0,new j(2,Hl,Oi)),Bs+=rs,lo=Oi}else++Oi;lo<Yn&&ni.splice(Bs,0,new j(1,lo,Yn))}return ce=="ltr"&&(ni[0].level==1&&(Zi=H.match(/^\s+/))&&(ni[0].from=Zi[0].length,ni.unshift(new j(0,0,Zi[0].length))),Ct(ni).level==1&&(Zi=H.match(/\s+$/))&&(Ct(ni).to-=Zi[0].length,ni.push(new j(0,je-Zi[0].length,je)))),ce=="rtl"?ni.reverse():ni}}();function dr(l,f){var g=l.order;return g==null&&(g=l.order=zt(l.text,f)),g}var nn=[],Mt=function(l,f,g){if(l.addEventListener)l.addEventListener(f,g,!1);else if(l.attachEvent)l.attachEvent("on"+f,g);else{var v=l._handlers||(l._handlers={});v[f]=(v[f]||nn).concat(g)}};function fn(l,f){return l._handlers&&l._handlers[f]||nn}function Qt(l,f,g){if(l.removeEventListener)l.removeEventListener(f,g,!1);else if(l.detachEvent)l.detachEvent("on"+f,g);else{var v=l._handlers,w=v&&v[f];if(w){var E=qe(w,g);E>-1&&(v[f]=w.slice(0,E).concat(w.slice(E+1)))}}}function Nr(l,f){var g=fn(l,f);if(g.length)for(var v=Array.prototype.slice.call(arguments,2),w=0;w<g.length;++w)g[w].apply(null,v)}function Wr(l,f,g){return typeof f=="string"&&(f={type:f,preventDefault:function(){this.defaultPrevented=!0}}),Nr(l,g||f.type,l,f),Re(f)||f.codemirrorIgnore}function $r(l){var f=l._handlers&&l._handlers.cursorActivity;if(f)for(var g=l.curOp.cursorActivityHandlers||(l.curOp.cursorActivityHandlers=[]),v=0;v<f.length;++v)qe(g,f[v])==-1&&g.push(f[v])}function nt(l,f){return fn(l,f).length>0}function _i(l){l.prototype.on=function(f,g){Mt(this,f,g)},l.prototype.off=function(f,g){Qt(this,f,g)}}function ee(l){l.preventDefault?l.preventDefault():l.returnValue=!1}function Ee(l){l.stopPropagation?l.stopPropagation():l.cancelBubble=!0}function Re(l){return l.defaultPrevented!=null?l.defaultPrevented:l.returnValue==!1}function Qe(l){ee(l),Ee(l)}function _t(l){return l.target||l.srcElement}function Yt(l){var f=l.which;return f==null&&(l.button&1?f=1:l.button&2?f=3:l.button&4&&(f=2)),X&&l.ctrlKey&&f==1&&(f=3),f}var wr=function(){if(x&&S<9)return!1;var l=G("div");return"draggable"in l||"dragDrop"in l}(),Wn;function Pe(l){if(Wn==null){var f=G("span","");ae(l,G("span",[f,document.createTextNode("x")])),l.firstChild.offsetHeight!=0&&(Wn=f.offsetWidth<=1&&f.offsetHeight>2&&!(x&&S<8))}var g=Wn?G("span",""):G("span","",null,"display: inline-block; width: 1px; margin-right: -1px");return g.setAttribute("cm-text",""),g}var Me;function Ke(l){if(Me!=null)return Me;var f=ae(l,document.createTextNode("AA")),g=W(f,0,1).getBoundingClientRect(),v=W(f,1,2).getBoundingClientRect();return re(l),!g||g.left==g.right?!1:Me=v.right-g.right<3}var Xe=`

b`.split(/\n/).length!=3?function(l){for(var f=0,g=[],v=l.length;f<=v;){var w=l.indexOf(`
`,f);w==-1&&(w=l.length);var E=l.slice(f,l.charAt(w-1)=="\r"?w-1:w),k=E.indexOf("\r");k!=-1?(g.push(E.slice(0,k)),f+=k+1):(g.push(E),f=w+1)}return g}:function(l){return l.split(/\r\n?|\n/)},xt=window.getSelection?function(l){try{return l.selectionStart!=l.selectionEnd}catch{return!1}}:function(l){var f;try{f=l.ownerDocument.selection.createRange()}catch{}return!f||f.parentElement()!=l?!1:f.compareEndPoints("StartToEnd",f)!=0},It=function(){var l=G("div");return"oncopy"in l?!0:(l.setAttribute("oncopy","return;"),typeof l.oncopy=="function")}(),Dt=null;function at(l){if(Dt!=null)return Dt;var f=ae(l,G("span","x")),g=f.getBoundingClientRect(),v=W(f,0,1).getBoundingClientRect();return Dt=Math.abs(g.left-v.left)>1}var $t={},jt={};function Bt(l,f){arguments.length>2&&(f.dependencies=Array.prototype.slice.call(arguments,2)),$t[l]=f}function jr(l,f){jt[l]=f}function gr(l){if(typeof l=="string"&&jt.hasOwnProperty(l))l=jt[l];else if(l&&typeof l.name=="string"&&jt.hasOwnProperty(l.name)){var f=jt[l.name];typeof f=="string"&&(f={name:f}),l=pe(f,l),l.name=f.name}else{if(typeof l=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(l))return gr("application/xml");if(typeof l=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(l))return gr("application/json")}return typeof l=="string"?{name:l}:l||{name:"null"}}function pr(l,f){f=gr(f);var g=$t[f.name];if(!g)return pr(l,"text/plain");var v=g(l,f);if(sr.hasOwnProperty(f.name)){var w=sr[f.name];for(var E in w)w.hasOwnProperty(E)&&(v.hasOwnProperty(E)&&(v["_"+E]=v[E]),v[E]=w[E])}if(v.name=f.name,f.helperType&&(v.helperType=f.helperType),f.modeProps)for(var k in f.modeProps)v[k]=f.modeProps[k];return v}var sr={};function Jr(l,f){var g=sr.hasOwnProperty(l)?sr[l]:sr[l]={};dt(f,g)}function Fr(l,f){if(f===!0)return f;if(l.copyState)return l.copyState(f);var g={};for(var v in f){var w=f[v];w instanceof Array&&(w=w.concat([])),g[v]=w}return g}function Mn(l,f){for(var g;l.innerMode&&(g=l.innerMode(f),!(!g||g.mode==l));)f=g.state,l=g.mode;return g||{mode:l,state:f}}function Zr(l,f,g){return l.startState?l.startState(f,g):!0}var Tr=function(l,f,g){this.pos=this.start=0,this.string=l,this.tabSize=f||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=g};Tr.prototype.eol=function(){return this.pos>=this.string.length},Tr.prototype.sol=function(){return this.pos==this.lineStart},Tr.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Tr.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Tr.prototype.eat=function(l){var f=this.string.charAt(this.pos),g;if(typeof l=="string"?g=f==l:g=f&&(l.test?l.test(f):l(f)),g)return++this.pos,f},Tr.prototype.eatWhile=function(l){for(var f=this.pos;this.eat(l););return this.pos>f},Tr.prototype.eatSpace=function(){for(var l=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>l},Tr.prototype.skipToEnd=function(){this.pos=this.string.length},Tr.prototype.skipTo=function(l){var f=this.string.indexOf(l,this.pos);if(f>-1)return this.pos=f,!0},Tr.prototype.backUp=function(l){this.pos-=l},Tr.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Te(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Te(this.string,this.lineStart,this.tabSize):0)},Tr.prototype.indentation=function(){return Te(this.string,null,this.tabSize)-(this.lineStart?Te(this.string,this.lineStart,this.tabSize):0)},Tr.prototype.match=function(l,f,g){if(typeof l=="string"){var v=function(k){return g?k.toLowerCase():k},w=this.string.substr(this.pos,l.length);if(v(w)==v(l))return f!==!1&&(this.pos+=l.length),!0}else{var E=this.string.slice(this.pos).match(l);return E&&E.index>0?null:(E&&f!==!1&&(this.pos+=E[0].length),E)}},Tr.prototype.current=function(){return this.string.slice(this.start,this.pos)},Tr.prototype.hideFirstChars=function(l,f){this.lineStart+=l;try{return f()}finally{this.lineStart-=l}},Tr.prototype.lookAhead=function(l){var f=this.lineOracle;return f&&f.lookAhead(l)},Tr.prototype.baseToken=function(){var l=this.lineOracle;return l&&l.baseToken(this.pos)};function kt(l,f){if(f-=l.first,f<0||f>=l.size)throw new Error("There is no line "+(f+l.first)+" in the document.");for(var g=l;!g.lines;)for(var v=0;;++v){var w=g.children[v],E=w.chunkSize();if(f<E){g=w;break}f-=E}return g.lines[f]}function hn(l,f,g){var v=[],w=f.line;return l.iter(f.line,g.line+1,function(E){var k=E.text;w==g.line&&(k=k.slice(0,g.ch)),w==f.line&&(k=k.slice(f.ch)),v.push(k),++w}),v}function Mr(l,f,g){var v=[];return l.iter(f,g,function(w){v.push(w.text)}),v}function cn(l,f){var g=f-l.height;if(g)for(var v=l;v;v=v.parent)v.height+=g}function hr(l){if(l.parent==null)return null;for(var f=l.parent,g=qe(f.lines,l),v=f.parent;v;f=v,v=v.parent)for(var w=0;v.children[w]!=f;++w)g+=v.children[w].chunkSize();return g+f.first}function wn(l,f){var g=l.first;e:do{for(var v=0;v<l.children.length;++v){var w=l.children[v],E=w.height;if(f<E){l=w;continue e}f-=E,g+=w.chunkSize()}return g}while(!l.lines);for(var k=0;k<l.lines.length;++k){var D=l.lines[k],j=D.height;if(f<j)break;f-=j}return g+k}function Kt(l,f){return f>=l.first&&f<l.first+l.size}function Lr(l,f){return String(l.lineNumberFormatter(f+l.firstLineNumber))}function I(l,f,g){if(g===void 0&&(g=null),!(this instanceof I))return new I(l,f,g);this.line=l,this.ch=f,this.sticky=g}function ne(l,f){return l.line-f.line||l.ch-f.ch}function Ze(l,f){return l.sticky==f.sticky&&ne(l,f)==0}function it(l){return I(l.line,l.ch)}function nr(l,f){return ne(l,f)<0?f:l}function Cr(l,f){return ne(l,f)<0?l:f}function Vr(l,f){return Math.max(l.first,Math.min(f,l.first+l.size-1))}function Ft(l,f){if(f.line<l.first)return I(l.first,0);var g=l.first+l.size-1;return f.line>g?I(g,kt(l,g).text.length):dn(f,kt(l,f.line).text.length)}function dn(l,f){var g=l.ch;return g==null||g>f?I(l.line,f):g<0?I(l.line,0):l}function ia(l,f){for(var g=[],v=0;v<f.length;v++)g[v]=Ft(l,f[v]);return g}var _s=function(l,f){this.state=l,this.lookAhead=f},ci=function(l,f,g,v){this.state=f,this.doc=l,this.line=g,this.maxLookAhead=v||0,this.baseTokens=null,this.baseTokenPos=1};ci.prototype.lookAhead=function(l){var f=this.doc.getLine(this.line+l);return f!=null&&l>this.maxLookAhead&&(this.maxLookAhead=l),f},ci.prototype.baseToken=function(l){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=l;)this.baseTokenPos+=2;var f=this.baseTokens[this.baseTokenPos+1];return{type:f&&f.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-l}},ci.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},ci.fromSaved=function(l,f,g){return f instanceof _s?new ci(l,Fr(l.mode,f.state),g,f.lookAhead):new ci(l,Fr(l.mode,f),g)},ci.prototype.save=function(l){var f=l!==!1?Fr(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new _s(f,this.maxLookAhead):f};function cl(l,f,g,v){var w=[l.state.modeGen],E={};fi(l,f.text,l.doc.mode,g,function(H,ce){return w.push(H,ce)},E,v);for(var k=g.state,D=function(H){g.baseTokens=w;var ce=l.state.overlays[H],me=1,je=0;g.state=!0,fi(l,f.text,ce.mode,g,function(De,Ge){for(var Je=me;je<De;){var ct=w[me];ct>De&&w.splice(me,1,De,w[me+1],ct),me+=2,je=Math.min(De,ct)}if(Ge)if(ce.opaque)w.splice(Je,me-Je,De,"overlay "+Ge),me=Je+2;else for(;Je<me;Je+=2){var gt=w[Je+1];w[Je+1]=(gt?gt+" ":"")+"overlay "+Ge}},E),g.state=k,g.baseTokens=null,g.baseTokenPos=1},j=0;j<l.state.overlays.length;++j)D(j);return{styles:w,classes:E.bgClass||E.textClass?E:null}}function Cu(l,f,g){if(!f.styles||f.styles[0]!=l.state.modeGen){var v=_o(l,hr(f)),w=f.text.length>l.options.maxHighlightLength&&Fr(l.doc.mode,v.state),E=cl(l,f,v);w&&(v.state=w),f.stateAfter=v.save(!w),f.styles=E.styles,E.classes?f.styleClasses=E.classes:f.styleClasses&&(f.styleClasses=null),g===l.doc.highlightFrontier&&(l.doc.modeFrontier=Math.max(l.doc.modeFrontier,++l.doc.highlightFrontier))}return f.styles}function _o(l,f,g){var v=l.doc,w=l.display;if(!v.mode.startState)return new ci(v,!0,f);var E=Bo(l,f,g),k=E>v.first&&kt(v,E-1).stateAfter,D=k?ci.fromSaved(v,k,E):new ci(v,Zr(v.mode),E);return v.iter(E,f,function(j){fl(l,j.text,D);var H=D.line;j.stateAfter=H==f-1||H%5==0||H>=w.viewFrom&&H<w.viewTo?D.save():null,D.nextLine()}),g&&(v.modeFrontier=D.line),D}function fl(l,f,g,v){var w=l.doc.mode,E=new Tr(f,l.options.tabSize,g);for(E.start=E.pos=v||0,f==""&&ka(w,g.state);!E.eol();)Aa(w,E,g.state),E.start=E.pos}function ka(l,f){if(l.blankLine)return l.blankLine(f);if(l.innerMode){var g=Mn(l,f);if(g.mode.blankLine)return g.mode.blankLine(g.state)}}function Aa(l,f,g,v){for(var w=0;w<10;w++){v&&(v[0]=Mn(l,g).mode);var E=l.token(f,g);if(f.pos>f.start)return E}throw new Error("Mode "+l.name+" failed to advance stream.")}var bs=function(l,f,g){this.start=l.start,this.end=l.pos,this.string=l.current(),this.type=f||null,this.state=g};function Tn(l,f,g,v){var w=l.doc,E=w.mode,k;f=Ft(w,f);var D=kt(w,f.line),j=_o(l,f.line,g),H=new Tr(D.text,l.options.tabSize,j),ce;for(v&&(ce=[]);(v||H.pos<f.ch)&&!H.eol();)H.start=H.pos,k=Aa(E,H,j.state),v&&ce.push(new bs(H,k,Fr(w.mode,j.state)));return v?ce:new bs(H,k,j.state)}function dl(l,f){if(l)for(;;){var g=l.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!g)break;l=l.slice(0,g.index)+l.slice(g.index+g[0].length);var v=g[1]?"bgClass":"textClass";f[v]==null?f[v]=g[2]:new RegExp("(?:^|\\s)"+g[2]+"(?:$|\\s)").test(f[v])||(f[v]+=" "+g[2])}return l}function fi(l,f,g,v,w,E,k){var D=g.flattenSpans;D==null&&(D=l.options.flattenSpans);var j=0,H=null,ce=new Tr(f,l.options.tabSize,v),me,je=l.options.addModeClass&&[null];for(f==""&&dl(ka(g,v.state),E);!ce.eol();){if(ce.pos>l.options.maxHighlightLength?(D=!1,k&&fl(l,f,v,ce.pos),ce.pos=f.length,me=null):me=dl(Aa(g,ce,v.state,je),E),je){var De=je[0].name;De&&(me="m-"+(me?De+" "+me:De))}if(!D||H!=me){for(;j<ce.start;)j=Math.min(ce.start,j+5e3),w(j,H);H=me}ce.start=ce.pos}for(;j<ce.pos;){var Ge=Math.min(ce.pos,j+5e3);w(Ge,H),j=Ge}}function Bo(l,f,g){for(var v,w,E=l.doc,k=g?-1:f-(l.doc.mode.innerMode?1e3:100),D=f;D>k;--D){if(D<=E.first)return E.first;var j=kt(E,D-1),H=j.stateAfter;if(H&&(!g||D+(H instanceof _s?H.lookAhead:0)<=E.modeFrontier))return D;var ce=Te(j.text,null,l.options.tabSize);(w==null||v>ce)&&(w=D-1,v=ce)}return w}function bo(l,f){if(l.modeFrontier=Math.min(l.modeFrontier,f),!(l.highlightFrontier<f-10)){for(var g=l.first,v=f-1;v>g;v--){var w=kt(l,v).stateAfter;if(w&&(!(w instanceof _s)||v+w.lookAhead<f)){g=v+1;break}}l.highlightFrontier=Math.min(l.highlightFrontier,g)}}var Ou=!1,Ii=!1;function qc(){Ou=!0}function La(){Ii=!0}function Ma(l,f,g){this.marker=l,this.from=f,this.to=g}function Da(l,f){if(l)for(var g=0;g<l.length;++g){var v=l[g];if(v.marker==f)return v}}function xs(l,f){for(var g,v=0;v<l.length;++v)l[v]!=f&&(g||(g=[])).push(l[v]);return g}function Eu(l,f,g){var v=g&&window.WeakSet&&(g.markedSpans||(g.markedSpans=new WeakSet));v&&l.markedSpans&&v.has(l.markedSpans)?l.markedSpans.push(f):(l.markedSpans=l.markedSpans?l.markedSpans.concat([f]):[f],v&&v.add(l.markedSpans)),f.marker.attachLine(l)}function Yc(l,f,g){var v;if(l)for(var w=0;w<l.length;++w){var E=l[w],k=E.marker,D=E.from==null||(k.inclusiveLeft?E.from<=f:E.from<f);if(D||E.from==f&&k.type=="bookmark"&&(!g||!E.marker.insertLeft)){var j=E.to==null||(k.inclusiveRight?E.to>=f:E.to>f);(v||(v=[])).push(new Ma(k,E.from,j?null:E.to))}}return v}function pl(l,f,g){var v;if(l)for(var w=0;w<l.length;++w){var E=l[w],k=E.marker,D=E.to==null||(k.inclusiveRight?E.to>=f:E.to>f);if(D||E.from==f&&k.type=="bookmark"&&(!g||E.marker.insertLeft)){var j=E.from==null||(k.inclusiveLeft?E.from<=f:E.from<f);(v||(v=[])).push(new Ma(k,j?null:E.from-f,E.to==null?null:E.to-f))}}return v}function oa(l,f){if(f.full)return null;var g=Kt(l,f.from.line)&&kt(l,f.from.line).markedSpans,v=Kt(l,f.to.line)&&kt(l,f.to.line).markedSpans;if(!g&&!v)return null;var w=f.from.ch,E=f.to.ch,k=ne(f.from,f.to)==0,D=Yc(g,w,k),j=pl(v,E,k),H=f.text.length==1,ce=Ct(f.text).length+(H?w:0);if(D)for(var me=0;me<D.length;++me){var je=D[me];if(je.to==null){var De=Da(j,je.marker);De?H&&(je.to=De.to==null?null:De.to+ce):je.to=w}}if(j)for(var Ge=0;Ge<j.length;++Ge){var Je=j[Ge];if(Je.to!=null&&(Je.to+=ce),Je.from==null){var ct=Da(D,Je.marker);ct||(Je.from=ce,H&&(D||(D=[])).push(Je))}else Je.from+=ce,H&&(D||(D=[])).push(Je)}D&&(D=aa(D)),j&&j!=D&&(j=aa(j));var gt=[D];if(!H){var Pt=f.text.length-2,bt;if(Pt>0&&D)for(var At=0;At<D.length;++At)D[At].to==null&&(bt||(bt=[])).push(new Ma(D[At].marker,null,null));for(var Xt=0;Xt<Pt;++Xt)gt.push(bt);gt.push(j)}return gt}function aa(l){for(var f=0;f<l.length;++f){var g=l[f];g.from!=null&&g.from==g.to&&g.marker.clearWhenEmpty!==!1&&l.splice(f--,1)}return l.length?l:null}function hl(l,f,g){var v=null;if(l.iter(f.line,g.line+1,function(De){if(De.markedSpans)for(var Ge=0;Ge<De.markedSpans.length;++Ge){var Je=De.markedSpans[Ge].marker;Je.readOnly&&(!v||qe(v,Je)==-1)&&(v||(v=[])).push(Je)}}),!v)return null;for(var w=[{from:f,to:g}],E=0;E<v.length;++E)for(var k=v[E],D=k.find(0),j=0;j<w.length;++j){var H=w[j];if(!(ne(H.to,D.from)<0||ne(H.from,D.to)>0)){var ce=[j,1],me=ne(H.from,D.from),je=ne(H.to,D.to);(me<0||!k.inclusiveLeft&&!me)&&ce.push({from:H.from,to:D.from}),(je>0||!k.inclusiveRight&&!je)&&ce.push({from:D.to,to:H.to}),w.splice.apply(w,ce),j+=ce.length-3}}return w}function Ss(l){var f=l.markedSpans;if(f){for(var g=0;g<f.length;++g)f[g].marker.detachLine(l);l.markedSpans=null}}function sa(l,f){if(f){for(var g=0;g<f.length;++g)f[g].marker.attachLine(l);l.markedSpans=f}}function Ra(l){return l.inclusiveLeft?-1:0}function Ho(l){return l.inclusiveRight?1:0}function Cs(l,f){var g=l.lines.length-f.lines.length;if(g!=0)return g;var v=l.find(),w=f.find(),E=ne(v.from,w.from)||Ra(l)-Ra(f);if(E)return-E;var k=ne(v.to,w.to)||Ho(l)-Ho(f);return k||f.id-l.id}function Tu(l,f){var g=Ii&&l.markedSpans,v;if(g)for(var w=void 0,E=0;E<g.length;++E)w=g[E],w.marker.collapsed&&(f?w.from:w.to)==null&&(!v||Cs(v,w.marker)<0)&&(v=w.marker);return v}function Na(l){return Tu(l,!0)}function Os(l){return Tu(l,!1)}function bi(l,f){var g=Ii&&l.markedSpans,v;if(g)for(var w=0;w<g.length;++w){var E=g[w];E.marker.collapsed&&(E.from==null||E.from<f)&&(E.to==null||E.to>f)&&(!v||Cs(v,E.marker)<0)&&(v=E.marker)}return v}function so(l,f,g,v,w){var E=kt(l,f),k=Ii&&E.markedSpans;if(k)for(var D=0;D<k.length;++D){var j=k[D];if(j.marker.collapsed){var H=j.marker.find(0),ce=ne(H.from,g)||Ra(j.marker)-Ra(w),me=ne(H.to,v)||Ho(j.marker)-Ho(w);if(!(ce>=0&&me<=0||ce<=0&&me>=0)&&(ce<=0&&(j.marker.inclusiveRight&&w.inclusiveLeft?ne(H.to,g)>=0:ne(H.to,g)>0)||ce>=0&&(j.marker.inclusiveRight&&w.inclusiveLeft?ne(H.from,v)<=0:ne(H.from,v)<0)))return!0}}}function Or(l){for(var f;f=Na(l);)l=f.find(-1,!0).line;return l}function ja(l){for(var f;f=Os(l);)l=f.find(1,!0).line;return l}function xi(l){for(var f,g;f=Os(l);)l=f.find(1,!0).line,(g||(g=[])).push(l);return g}function $i(l,f){var g=kt(l,f),v=Or(g);return g==v?f:hr(v)}function la(l,f){if(f>l.lastLine())return f;var g=kt(l,f),v;if(!ki(l,g))return f;for(;v=Os(g);)g=v.find(1,!0).line;return hr(g)+1}function ki(l,f){var g=Ii&&f.markedSpans;if(g){for(var v=void 0,w=0;w<g.length;++w)if(v=g[w],!!v.marker.collapsed){if(v.from==null)return!0;if(!v.marker.widgetNode&&v.from==0&&v.marker.inclusiveLeft&&Dn(l,f,v))return!0}}}function Dn(l,f,g){if(g.to==null){var v=g.marker.find(1,!0);return Dn(l,v.line,Da(v.line.markedSpans,g.marker))}if(g.marker.inclusiveRight&&g.to==f.text.length)return!0;for(var w=void 0,E=0;E<f.markedSpans.length;++E)if(w=f.markedSpans[E],w.marker.collapsed&&!w.marker.widgetNode&&w.from==g.to&&(w.to==null||w.to!=g.from)&&(w.marker.inclusiveLeft||g.marker.inclusiveRight)&&Dn(l,f,w))return!0}function Kr(l){l=Or(l);for(var f=0,g=l.parent,v=0;v<g.lines.length;++v){var w=g.lines[v];if(w==l)break;f+=w.height}for(var E=g.parent;E;g=E,E=g.parent)for(var k=0;k<E.children.length;++k){var D=E.children[k];if(D==g)break;f+=D.height}return f}function xo(l){if(l.height==0)return 0;for(var f=l.text.length,g,v=l;g=Na(v);){var w=g.find(0,!0);v=w.from.line,f+=w.from.ch-w.to.ch}for(v=l;g=Os(v);){var E=g.find(0,!0);f-=v.text.length-E.from.ch,v=E.to.line,f+=v.text.length-E.to.ch}return f}function So(l){var f=l.display,g=l.doc;f.maxLine=kt(g,g.first),f.maxLineLength=xo(f.maxLine),f.maxLineChanged=!0,g.iter(function(v){var w=xo(v);w>f.maxLineLength&&(f.maxLineLength=w,f.maxLine=v)})}var Co=function(l,f,g){this.text=l,sa(this,f),this.height=g?g(this):1};Co.prototype.lineNo=function(){return hr(this)},_i(Co);function Pu(l,f,g,v){l.text=f,l.stateAfter&&(l.stateAfter=null),l.styles&&(l.styles=null),l.order!=null&&(l.order=null),Ss(l),sa(l,g);var w=v?v(l):1;w!=l.height&&cn(l,w)}function $n(l){l.parent=null,Ss(l)}var zd={},Ia={};function Oo(l,f){if(!l||/^\s*$/.test(l))return null;var g=f.addModeClass?Ia:zd;return g[l]||(g[l]=l.replace(/\S+/g,"cm-$&"))}function ku(l,f){var g=be("span",null,null,C?"padding-right: .1px":null),v={pre:be("pre",[g],"CodeMirror-line"),content:g,col:0,pos:0,cm:l,trailingSpace:!1,splitSpaces:l.getOption("lineWrapping")};f.measure={};for(var w=0;w<=(f.rest?f.rest.length:0);w++){var E=w?f.rest[w-1]:f.line,k=void 0;v.pos=0,v.addToken=vl,Ke(l.display.measure)&&(k=dr(E,l.doc.direction))&&(v.addToken=Jc(v.addToken,k)),v.map=[];var D=f!=l.display.externalMeasured&&hr(E);Qc(E,v,Cu(l,E,D)),E.styleClasses&&(E.styleClasses.bgClass&&(v.bgClass=$e(E.styleClasses.bgClass,v.bgClass||"")),E.styleClasses.textClass&&(v.textClass=$e(E.styleClasses.textClass,v.textClass||""))),v.map.length==0&&v.map.push(0,0,v.content.appendChild(Pe(l.display.measure))),w==0?(f.measure.map=v.map,f.measure.cache={}):((f.measure.maps||(f.measure.maps=[])).push(v.map),(f.measure.caches||(f.measure.caches=[])).push({}))}if(C){var j=v.content.lastChild;(/\bcm-tab\b/.test(j.className)||j.querySelector&&j.querySelector(".cm-tab"))&&(v.content.className="cm-tab-wrap-hack")}return Nr(l,"renderLine",l,f.line,v.pre),v.pre.className&&(v.textClass=$e(v.pre.className,v.textClass||"")),v}function Xc(l){var f=G("span","","cm-invalidchar");return f.title="\\u"+l.charCodeAt(0).toString(16),f.setAttribute("aria-label",f.title),f}function vl(l,f,g,v,w,E,k){if(f){var D=l.splitSpaces?gl(f,l.trailingSpace):f,j=l.cm.state.specialChars,H=!1,ce;if(!j.test(f))l.col+=f.length,ce=document.createTextNode(D),l.map.push(l.pos,l.pos+f.length,ce),x&&S<9&&(H=!0),l.pos+=f.length;else{ce=document.createDocumentFragment();for(var me=0;;){j.lastIndex=me;var je=j.exec(f),De=je?je.index-me:f.length-me;if(De){var Ge=document.createTextNode(D.slice(me,me+De));x&&S<9?ce.appendChild(G("span",[Ge])):ce.appendChild(Ge),l.map.push(l.pos,l.pos+De,Ge),l.col+=De,l.pos+=De}if(!je)break;me+=De+1;var Je=void 0;if(je[0]=="	"){var ct=l.cm.options.tabSize,gt=ct-l.col%ct;Je=ce.appendChild(G("span",Ar(gt),"cm-tab")),Je.setAttribute("role","presentation"),Je.setAttribute("cm-text","	"),l.col+=gt}else je[0]=="\r"||je[0]==`
`?(Je=ce.appendChild(G("span",je[0]=="\r"?"":"","cm-invalidchar")),Je.setAttribute("cm-text",je[0]),l.col+=1):(Je=l.cm.options.specialCharPlaceholder(je[0]),Je.setAttribute("cm-text",je[0]),x&&S<9?ce.appendChild(G("span",[Je])):ce.appendChild(Je),l.col+=1);l.map.push(l.pos,l.pos+1,Je),l.pos++}}if(l.trailingSpace=D.charCodeAt(f.length-1)==32,g||v||w||H||E||k){var Pt=g||"";v&&(Pt+=v),w&&(Pt+=w);var bt=G("span",[ce],Pt,E);if(k)for(var At in k)k.hasOwnProperty(At)&&At!="style"&&At!="class"&&bt.setAttribute(At,k[At]);return l.content.appendChild(bt)}l.content.appendChild(ce)}}function gl(l,f){if(l.length>1&&!/  /.test(l))return l;for(var g=f,v="",w=0;w<l.length;w++){var E=l.charAt(w);E==" "&&g&&(w==l.length-1||l.charCodeAt(w+1)==32)&&(E=""),v+=E,g=E==" "}return v}function Jc(l,f){return function(g,v,w,E,k,D,j){w=w?w+" cm-force-border":"cm-force-border";for(var H=g.pos,ce=H+v.length;;){for(var me=void 0,je=0;je<f.length&&(me=f[je],!(me.to>H&&me.from<=H));je++);if(me.to>=ce)return l(g,v,w,E,k,D,j);l(g,v.slice(0,me.to-H),w,E,null,D,j),E=null,v=v.slice(me.to-H),H=me.to}}}function Au(l,f,g,v){var w=!v&&g.widgetNode;w&&l.map.push(l.pos,l.pos+f,w),!v&&l.cm.display.input.needsContentAttribute&&(w||(w=l.content.appendChild(document.createElement("span"))),w.setAttribute("cm-marker",g.id)),w&&(l.cm.display.input.setUneditable(w),l.content.appendChild(w)),l.pos+=f,l.trailingSpace=!1}function Qc(l,f,g){var v=l.markedSpans,w=l.text,E=0;if(!v){for(var k=1;k<g.length;k+=2)f.addToken(f,w.slice(E,E=g[k]),Oo(g[k+1],f.cm.options));return}for(var D=w.length,j=0,H=1,ce="",me,je,De=0,Ge,Je,ct,gt,Pt;;){if(De==j){Ge=Je=ct=je="",Pt=null,gt=null,De=1/0;for(var bt=[],At=void 0,Xt=0;Xt<v.length;++Xt){var Zt=v[Xt],br=Zt.marker;if(br.type=="bookmark"&&Zt.from==j&&br.widgetNode)bt.push(br);else if(Zt.from<=j&&(Zt.to==null||Zt.to>j||br.collapsed&&Zt.to==j&&Zt.from==j)){if(Zt.to!=null&&Zt.to!=j&&De>Zt.to&&(De=Zt.to,Je=""),br.className&&(Ge+=" "+br.className),br.css&&(je=(je?je+";":"")+br.css),br.startStyle&&Zt.from==j&&(ct+=" "+br.startStyle),br.endStyle&&Zt.to==De&&(At||(At=[])).push(br.endStyle,Zt.to),br.title&&((Pt||(Pt={})).title=br.title),br.attributes)for(var on in br.attributes)(Pt||(Pt={}))[on]=br.attributes[on];br.collapsed&&(!gt||Cs(gt.marker,br)<0)&&(gt=Zt)}else Zt.from>j&&De>Zt.from&&(De=Zt.from)}if(At)for(var Zn=0;Zn<At.length;Zn+=2)At[Zn+1]==De&&(Je+=" "+At[Zn]);if(!gt||gt.from==j)for(var gn=0;gn<bt.length;++gn)Au(f,0,bt[gn]);if(gt&&(gt.from||0)==j){if(Au(f,(gt.to==null?D+1:gt.to)-j,gt.marker,gt.from==null),gt.to==null)return;gt.to==j&&(gt=!1)}}if(j>=D)break;for(var ri=Math.min(D,De);;){if(ce){var Ci=j+ce.length;if(!gt){var tn=Ci>ri?ce.slice(0,ri-j):ce;f.addToken(f,tn,me?me+Ge:Ge,ct,j+tn.length==De?Je:"",je,Pt)}if(Ci>=ri){ce=ce.slice(ri-j),j=ri;break}j=Ci,ct=""}ce=w.slice(E,E=g[H++]),me=Oo(g[H++],f.cm.options)}}}function Si(l,f,g){this.line=f,this.rest=xi(f),this.size=this.rest?hr(Ct(this.rest))-g+1:1,this.node=this.text=null,this.hidden=ki(l,f)}function ml(l,f,g){for(var v=[],w,E=f;E<g;E=w){var k=new Si(l.doc,kt(l.doc,E),E);w=E+k.size,v.push(k)}return v}var zo=null;function ef(l){zo?zo.ops.push(l):l.ownsGroup=zo={ops:[l],delayedCallbacks:[]}}function yl(l){var f=l.delayedCallbacks,g=0;do{for(;g<f.length;g++)f[g].call(null);for(var v=0;v<l.ops.length;v++){var w=l.ops[v];if(w.cursorActivityHandlers)for(;w.cursorActivityCalled<w.cursorActivityHandlers.length;)w.cursorActivityHandlers[w.cursorActivityCalled++].call(null,w.cm)}}while(g<f.length)}function Fa(l,f){var g=l.ownsGroup;if(g)try{yl(g)}finally{zo=null,f(g)}}var ei=null;function Pn(l,f){var g=fn(l,f);if(g.length){var v=Array.prototype.slice.call(arguments,2),w;zo?w=zo.delayedCallbacks:ei?w=ei:(w=ei=[],setTimeout(tf,0));for(var E=function(D){w.push(function(){return g[D].apply(null,v)})},k=0;k<g.length;++k)E(k)}}function tf(){var l=ei;ei=null;for(var f=0;f<l.length;++f)l[f]()}function Lu(l,f,g,v){for(var w=0;w<f.changes.length;w++){var E=f.changes[w];E=="text"?Es(l,f):E=="gutter"?Ua(l,f,g,v):E=="class"?wl(l,f):E=="widget"&&nf(l,f,v)}f.changes=null}function ua(l){return l.node==l.text&&(l.node=G("div",null,null,"position: relative"),l.text.parentNode&&l.text.parentNode.replaceChild(l.node,l.text),l.node.appendChild(l.text),x&&S<8&&(l.node.style.zIndex=2)),l.node}function rf(l,f){var g=f.bgClass?f.bgClass+" "+(f.line.bgClass||""):f.line.bgClass;if(g&&(g+=" CodeMirror-linebackground"),f.background)g?f.background.className=g:(f.background.parentNode.removeChild(f.background),f.background=null);else if(g){var v=ua(f);f.background=v.insertBefore(G("div",null,g),v.firstChild),l.display.input.setUneditable(f.background)}}function Va(l,f){var g=l.display.externalMeasured;return g&&g.line==f.line?(l.display.externalMeasured=null,f.measure=g.measure,g.built):ku(l,f)}function Es(l,f){var g=f.text.className,v=Va(l,f);f.text==f.node&&(f.node=v.pre),f.text.parentNode.replaceChild(v.pre,f.text),f.text=v.pre,v.bgClass!=f.bgClass||v.textClass!=f.textClass?(f.bgClass=v.bgClass,f.textClass=v.textClass,wl(l,f)):g&&(f.text.className=g)}function wl(l,f){rf(l,f),f.line.wrapClass?ua(f).className=f.line.wrapClass:f.node!=f.text&&(f.node.className="");var g=f.textClass?f.textClass+" "+(f.line.textClass||""):f.line.textClass;f.text.className=g||""}function Ua(l,f,g,v){if(f.gutter&&(f.node.removeChild(f.gutter),f.gutter=null),f.gutterBackground&&(f.node.removeChild(f.gutterBackground),f.gutterBackground=null),f.line.gutterClass){var w=ua(f);f.gutterBackground=G("div",null,"CodeMirror-gutter-background "+f.line.gutterClass,"left: "+(l.options.fixedGutter?v.fixedPos:-v.gutterTotalWidth)+"px; width: "+v.gutterTotalWidth+"px"),l.display.input.setUneditable(f.gutterBackground),w.insertBefore(f.gutterBackground,f.text)}var E=f.line.gutterMarkers;if(l.options.lineNumbers||E){var k=ua(f),D=f.gutter=G("div",null,"CodeMirror-gutter-wrapper","left: "+(l.options.fixedGutter?v.fixedPos:-v.gutterTotalWidth)+"px");if(D.setAttribute("aria-hidden","true"),l.display.input.setUneditable(D),k.insertBefore(D,f.text),f.line.gutterClass&&(D.className+=" "+f.line.gutterClass),l.options.lineNumbers&&(!E||!E["CodeMirror-linenumbers"])&&(f.lineNumber=D.appendChild(G("div",Lr(l.options,g),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+v.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+l.display.lineNumInnerWidth+"px"))),E)for(var j=0;j<l.display.gutterSpecs.length;++j){var H=l.display.gutterSpecs[j].className,ce=E.hasOwnProperty(H)&&E[H];ce&&D.appendChild(G("div",[ce],"CodeMirror-gutter-elt","left: "+v.gutterLeft[H]+"px; width: "+v.gutterWidth[H]+"px"))}}}function nf(l,f,g){f.alignable&&(f.alignable=null);for(var v=ve("CodeMirror-linewidget"),w=f.node.firstChild,E=void 0;w;w=E)E=w.nextSibling,v.test(w.className)&&f.node.removeChild(w);Mu(l,f,g)}function Wo(l,f,g,v){var w=Va(l,f);return f.text=f.node=w.pre,w.bgClass&&(f.bgClass=w.bgClass),w.textClass&&(f.textClass=w.textClass),wl(l,f),Ua(l,f,g,v),Mu(l,f,v),f.node}function Mu(l,f,g){if(Du(l,f.line,f,g,!0),f.rest)for(var v=0;v<f.rest.length;v++)Du(l,f.rest[v],f,g,!1)}function Du(l,f,g,v,w){if(f.widgets)for(var E=ua(g),k=0,D=f.widgets;k<D.length;++k){var j=D[k],H=G("div",[j.node],"CodeMirror-linewidget"+(j.className?" "+j.className:""));j.handleMouseEvents||H.setAttribute("cm-ignore-events","true"),Ru(j,H,g,v),l.display.input.setUneditable(H),w&&j.above?E.insertBefore(H,g.gutter||g.text):E.appendChild(H),Pn(j,"redraw")}}function Ru(l,f,g,v){if(l.noHScroll){(g.alignable||(g.alignable=[])).push(f);var w=v.wrapperWidth;f.style.left=v.fixedPos+"px",l.coverGutter||(w-=v.gutterTotalWidth,f.style.paddingLeft=v.gutterTotalWidth+"px"),f.style.width=w+"px"}l.coverGutter&&(f.style.zIndex=5,f.style.position="relative",l.noHScroll||(f.style.marginLeft=-v.gutterTotalWidth+"px"))}function $o(l){if(l.height!=null)return l.height;var f=l.doc.cm;if(!f)return 0;if(!Le(document.body,l.node)){var g="position: relative;";l.coverGutter&&(g+="margin-left: -"+f.display.gutters.offsetWidth+"px;"),l.noHScroll&&(g+="width: "+f.display.wrapper.clientWidth+"px;"),ae(f.display.measure,G("div",[l.node],null,g))}return l.height=l.node.parentNode.offsetHeight}function Eo(l,f){for(var g=_t(f);g!=l.wrapper;g=g.parentNode)if(!g||g.nodeType==1&&g.getAttribute("cm-ignore-events")=="true"||g.parentNode==l.sizer&&g!=l.mover)return!0}function To(l){return l.lineSpace.offsetTop}function Nu(l){return l.mover.offsetHeight-l.lineSpace.offsetHeight}function V(l){if(l.cachedPaddingH)return l.cachedPaddingH;var f=ae(l.measure,G("pre","x","CodeMirror-line-like")),g=window.getComputedStyle?window.getComputedStyle(f):f.currentStyle,v={left:parseInt(g.paddingLeft),right:parseInt(g.paddingRight)};return!isNaN(v.left)&&!isNaN(v.right)&&(l.cachedPaddingH=v),v}function Y(l){return ut-l.display.nativeBarWidth}function he(l){return l.display.scroller.clientWidth-Y(l)-l.display.barWidth}function Ce(l){return l.display.scroller.clientHeight-Y(l)-l.display.barHeight}function Fe(l,f,g){var v=l.options.lineWrapping,w=v&&he(l);if(!f.measure.heights||v&&f.measure.width!=w){var E=f.measure.heights=[];if(v){f.measure.width=w;for(var k=f.text.firstChild.getClientRects(),D=0;D<k.length-1;D++){var j=k[D],H=k[D+1];Math.abs(j.bottom-H.bottom)>2&&E.push((j.bottom+H.top)/2-g.top)}}E.push(g.bottom-g.top)}}function Ne(l,f,g){if(l.line==f)return{map:l.measure.map,cache:l.measure.cache};if(l.rest){for(var v=0;v<l.rest.length;v++)if(l.rest[v]==f)return{map:l.measure.maps[v],cache:l.measure.caches[v]};for(var w=0;w<l.rest.length;w++)if(hr(l.rest[w])>g)return{map:l.measure.maps[w],cache:l.measure.caches[w],before:!0}}}function tt(l,f){f=Or(f);var g=hr(f),v=l.display.externalMeasured=new Si(l.doc,f,g);v.lineN=g;var w=v.built=ku(l,v);return v.text=w.pre,ae(l.display.lineMeasure,w.pre),v}function St(l,f,g,v){return en(l,ir(l,f),g,v)}function fr(l,f){if(f>=l.display.viewFrom&&f<l.display.viewTo)return l.display.view[Ps(l,f)];var g=l.display.externalMeasured;if(g&&f>=g.lineN&&f<g.lineN+g.size)return g}function ir(l,f){var g=hr(f),v=fr(l,g);v&&!v.text?v=null:v&&v.changes&&(Lu(l,v,g,qd(l)),l.curOp.forceUpdate=!0),v||(v=tt(l,f));var w=Ne(v,f,g);return{line:f,view:v,rect:null,map:w.map,cache:w.cache,before:w.before,hasHeights:!1}}function en(l,f,g,v,w){f.before&&(g=-1);var E=g+(v||""),k;return f.cache.hasOwnProperty(E)?k=f.cache[E]:(f.rect||(f.rect=f.view.text.getBoundingClientRect()),f.hasHeights||(Fe(l,f.view,f.rect),f.hasHeights=!0),k=Wd(l,f,g,v),k.bogus||(f.cache[E]=k)),{left:k.left,right:k.right,top:w?k.rtop:k.top,bottom:w?k.rbottom:k.bottom}}var Rn={left:0,right:0,top:0,bottom:0};function _l(l,f,g){for(var v,w,E,k,D,j,H=0;H<l.length;H+=3)if(D=l[H],j=l[H+1],f<D?(w=0,E=1,k="left"):f<j?(w=f-D,E=w+1):(H==l.length-3||f==j&&l[H+3]>f)&&(E=j-D,w=E-1,f>=j&&(k="right")),w!=null){if(v=l[H+2],D==j&&g==(v.insertLeft?"left":"right")&&(k=g),g=="left"&&w==0)for(;H&&l[H-2]==l[H-3]&&l[H-1].insertLeft;)v=l[(H-=3)+2],k="left";if(g=="right"&&w==j-D)for(;H<l.length-3&&l[H+3]==l[H+4]&&!l[H+5].insertLeft;)v=l[(H+=3)+2],k="right";break}return{node:v,start:w,end:E,collapse:k,coverStart:D,coverEnd:j}}function of(l,f){var g=Rn;if(f=="left")for(var v=0;v<l.length&&(g=l[v]).left==g.right;v++);else for(var w=l.length-1;w>=0&&(g=l[w]).left==g.right;w--);return g}function Wd(l,f,g,v){var w=_l(f.map,g,v),E=w.node,k=w.start,D=w.end,j=w.collapse,H;if(E.nodeType==3){for(var ce=0;ce<4;ce++){for(;k&&qt(f.line.text.charAt(w.coverStart+k));)--k;for(;w.coverStart+D<w.coverEnd&&qt(f.line.text.charAt(w.coverStart+D));)++D;if(x&&S<9&&k==0&&D==w.coverEnd-w.coverStart?H=E.parentNode.getBoundingClientRect():H=of(W(E,k,D).getClientRects(),v),H.left||H.right||k==0)break;D=k,k=k-1,j="right"}x&&S<11&&(H=v0(l.display.measure,H))}else{k>0&&(j=v="right");var me;l.options.lineWrapping&&(me=E.getClientRects()).length>1?H=me[v=="right"?me.length-1:0]:H=E.getBoundingClientRect()}if(x&&S<9&&!k&&(!H||!H.left&&!H.right)){var je=E.parentNode.getClientRects()[0];je?H={left:je.left,right:je.left+xl(l.display),top:je.top,bottom:je.bottom}:H=Rn}for(var De=H.top-f.rect.top,Ge=H.bottom-f.rect.top,Je=(De+Ge)/2,ct=f.view.measure.heights,gt=0;gt<ct.length-1&&!(Je<ct[gt]);gt++);var Pt=gt?ct[gt-1]:0,bt=ct[gt],At={left:(j=="right"?H.right:H.left)-f.rect.left,right:(j=="left"?H.left:H.right)-f.rect.left,top:Pt,bottom:bt};return!H.left&&!H.right&&(At.bogus=!0),l.options.singleCursorHeightPerLine||(At.rtop=De,At.rbottom=Ge),At}function v0(l,f){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!at(l))return f;var g=screen.logicalXDPI/screen.deviceXDPI,v=screen.logicalYDPI/screen.deviceYDPI;return{left:f.left*g,right:f.right*g,top:f.top*v,bottom:f.bottom*v}}function ju(l){if(l.measure&&(l.measure.cache={},l.measure.heights=null,l.rest))for(var f=0;f<l.rest.length;f++)l.measure.caches[f]={}}function cv(l){l.display.externalMeasure=null,re(l.display.lineMeasure);for(var f=0;f<l.display.view.length;f++)ju(l.display.view[f])}function Ts(l){cv(l),l.display.cachedCharWidth=l.display.cachedTextHeight=l.display.cachedPaddingH=null,l.options.lineWrapping||(l.display.maxLineChanged=!0),l.display.lineNumChars=null}function fv(l){return P&&z?-(l.body.getBoundingClientRect().left-parseInt(getComputedStyle(l.body).marginLeft)):l.defaultView.pageXOffset||(l.documentElement||l.body).scrollLeft}function Iu(l){return P&&z?-(l.body.getBoundingClientRect().top-parseInt(getComputedStyle(l.body).marginTop)):l.defaultView.pageYOffset||(l.documentElement||l.body).scrollTop}function Fu(l){var f=Or(l),g=f.widgets,v=0;if(g)for(var w=0;w<g.length;++w)g[w].above&&(v+=$o(g[w]));return v}function af(l,f,g,v,w){if(!w){var E=Fu(f);g.top+=E,g.bottom+=E}if(v=="line")return g;v||(v="local");var k=Kr(f);if(v=="local"?k+=To(l.display):k-=l.display.viewOffset,v=="page"||v=="window"){var D=l.display.lineSpace.getBoundingClientRect();k+=D.top+(v=="window"?0:Iu(Ve(l)));var j=D.left+(v=="window"?0:fv(Ve(l)));g.left+=j,g.right+=j}return g.top+=k,g.bottom+=k,g}function dv(l,f,g){if(g=="div")return f;var v=f.left,w=f.top;if(g=="page")v-=fv(Ve(l)),w-=Iu(Ve(l));else if(g=="local"||!g){var E=l.display.sizer.getBoundingClientRect();v+=E.left,w+=E.top}var k=l.display.lineSpace.getBoundingClientRect();return{left:v-k.left,top:w-k.top}}function sf(l,f,g,v,w){return v||(v=kt(l.doc,f.line)),af(l,v,St(l,v,f.ch,w),g)}function Fi(l,f,g,v,w,E){v=v||kt(l.doc,f.line),w||(w=ir(l,v));function k(Ge,Je){var ct=en(l,w,Ge,Je?"right":"left",E);return Je?ct.left=ct.right:ct.right=ct.left,af(l,v,ct,g)}var D=dr(v,l.doc.direction),j=f.ch,H=f.sticky;if(j>=v.text.length?(j=v.text.length,H="before"):j<=0&&(j=0,H="after"),!D)return k(H=="before"?j-1:j,H=="before");function ce(Ge,Je,ct){var gt=D[Je],Pt=gt.level==1;return k(ct?Ge-1:Ge,Pt!=ct)}var me=Sr(D,j,H),je=Tt,De=ce(j,me,H=="before");return je!=null&&(De.other=ce(j,je,H!="before")),De}function $d(l,f){var g=0;f=Ft(l.doc,f),l.options.lineWrapping||(g=xl(l.display)*f.ch);var v=kt(l.doc,f.line),w=Kr(v)+To(l.display);return{left:g,right:g,top:w,bottom:w+v.height}}function Kd(l,f,g,v,w){var E=I(l,f,g);return E.xRel=w,v&&(E.outside=v),E}function Gd(l,f,g){var v=l.doc;if(g+=l.display.viewOffset,g<0)return Kd(v.first,0,null,-1,-1);var w=wn(v,g),E=v.first+v.size-1;if(w>E)return Kd(v.first+v.size-1,kt(v,E).text.length,null,1,1);f<0&&(f=0);for(var k=kt(v,w);;){var D=g0(l,k,w,f,g),j=bi(k,D.ch+(D.xRel>0||D.outside>0?1:0));if(!j)return D;var H=j.find(1);if(H.line==w)return H;k=kt(v,w=H.line)}}function pv(l,f,g,v){v-=Fu(f);var w=f.text.length,E=rr(function(k){return en(l,g,k-1).bottom<=v},w,0);return w=rr(function(k){return en(l,g,k).top>v},E,w),{begin:E,end:w}}function Vu(l,f,g,v){g||(g=ir(l,f));var w=af(l,f,en(l,g,v),"line").top;return pv(l,f,g,w)}function Zd(l,f,g,v){return l.bottom<=g?!1:l.top>g?!0:(v?l.left:l.right)>f}function g0(l,f,g,v,w){w-=Kr(f);var E=ir(l,f),k=Fu(f),D=0,j=f.text.length,H=!0,ce=dr(f,l.doc.direction);if(ce){var me=(l.options.lineWrapping?lf:m0)(l,f,g,E,ce,v,w);H=me.level!=1,D=H?me.from:me.to-1,j=H?me.to:me.from-1}var je=null,De=null,Ge=rr(function(Xt){var Zt=en(l,E,Xt);return Zt.top+=k,Zt.bottom+=k,Zd(Zt,v,w,!1)?(Zt.top<=w&&Zt.left<=v&&(je=Xt,De=Zt),!0):!1},D,j),Je,ct,gt=!1;if(De){var Pt=v-De.left<De.right-v,bt=Pt==H;Ge=je+(bt?0:1),ct=bt?"after":"before",Je=Pt?De.left:De.right}else{!H&&(Ge==j||Ge==D)&&Ge++,ct=Ge==0?"after":Ge==f.text.length?"before":en(l,E,Ge-(H?1:0)).bottom+k<=w==H?"after":"before";var At=Fi(l,I(g,Ge,ct),"line",f,E);Je=At.left,gt=w<At.top?-1:w>=At.bottom?1:0}return Ge=Vt(f.text,Ge,1),Kd(g,Ge,ct,gt,v-Je)}function m0(l,f,g,v,w,E,k){var D=rr(function(me){var je=w[me],De=je.level!=1;return Zd(Fi(l,I(g,De?je.to:je.from,De?"before":"after"),"line",f,v),E,k,!0)},0,w.length-1),j=w[D];if(D>0){var H=j.level!=1,ce=Fi(l,I(g,H?j.from:j.to,H?"after":"before"),"line",f,v);Zd(ce,E,k,!0)&&ce.top>k&&(j=w[D-1])}return j}function lf(l,f,g,v,w,E,k){var D=pv(l,f,v,k),j=D.begin,H=D.end;/\s/.test(f.text.charAt(H-1))&&H--;for(var ce=null,me=null,je=0;je<w.length;je++){var De=w[je];if(!(De.from>=H||De.to<=j)){var Ge=De.level!=1,Je=en(l,v,Ge?Math.min(H,De.to)-1:Math.max(j,De.from)).right,ct=Je<E?E-Je+1e9:Je-E;(!ce||me>ct)&&(ce=De,me=ct)}}return ce||(ce=w[w.length-1]),ce.from<j&&(ce={from:j,to:ce.to,level:ce.level}),ce.to>H&&(ce={from:ce.from,to:H,level:ce.level}),ce}var ca;function bl(l){if(l.cachedTextHeight!=null)return l.cachedTextHeight;if(ca==null){ca=G("pre",null,"CodeMirror-line-like");for(var f=0;f<49;++f)ca.appendChild(document.createTextNode("x")),ca.appendChild(G("br"));ca.appendChild(document.createTextNode("x"))}ae(l.measure,ca);var g=ca.offsetHeight/50;return g>3&&(l.cachedTextHeight=g),re(l.measure),g||1}function xl(l){if(l.cachedCharWidth!=null)return l.cachedCharWidth;var f=G("span","xxxxxxxxxx"),g=G("pre",[f],"CodeMirror-line-like");ae(l.measure,g);var v=f.getBoundingClientRect(),w=(v.right-v.left)/10;return w>2&&(l.cachedCharWidth=w),w||10}function qd(l){for(var f=l.display,g={},v={},w=f.gutters.clientLeft,E=f.gutters.firstChild,k=0;E;E=E.nextSibling,++k){var D=l.display.gutterSpecs[k].className;g[D]=E.offsetLeft+E.clientLeft+w,v[D]=E.clientWidth}return{fixedPos:Sl(f),gutterTotalWidth:f.gutters.offsetWidth,gutterLeft:g,gutterWidth:v,wrapperWidth:f.wrapper.clientWidth}}function Sl(l){return l.scroller.getBoundingClientRect().left-l.sizer.getBoundingClientRect().left}function uf(l){var f=bl(l.display),g=l.options.lineWrapping,v=g&&Math.max(5,l.display.scroller.clientWidth/xl(l.display)-3);return function(w){if(ki(l.doc,w))return 0;var E=0;if(w.widgets)for(var k=0;k<w.widgets.length;k++)w.widgets[k].height&&(E+=w.widgets[k].height);return g?E+(Math.ceil(w.text.length/v)||1)*f:E+f}}function Yd(l){var f=l.doc,g=uf(l);f.iter(function(v){var w=g(v);w!=v.height&&cn(v,w)})}function Ba(l,f,g,v){var w=l.display;if(!g&&_t(f).getAttribute("cm-not-content")=="true")return null;var E,k,D=w.lineSpace.getBoundingClientRect();try{E=f.clientX-D.left,k=f.clientY-D.top}catch{return null}var j=Gd(l,E,k),H;if(v&&j.xRel>0&&(H=kt(l.doc,j.line).text).length==j.ch){var ce=Te(H,H.length,l.options.tabSize)-H.length;j=I(j.line,Math.max(0,Math.round((E-V(l.display).left)/xl(l.display))-ce))}return j}function Ps(l,f){if(f>=l.display.viewTo||(f-=l.display.viewFrom,f<0))return null;for(var g=l.display.view,v=0;v<g.length;v++)if(f-=g[v].size,f<0)return v}function ti(l,f,g,v){f==null&&(f=l.doc.first),g==null&&(g=l.doc.first+l.doc.size),v||(v=0);var w=l.display;if(v&&g<w.viewTo&&(w.updateLineNumbers==null||w.updateLineNumbers>f)&&(w.updateLineNumbers=f),l.curOp.viewChanged=!0,f>=w.viewTo)Ii&&$i(l.doc,f)<w.viewTo&&za(l);else if(g<=w.viewFrom)Ii&&la(l.doc,g+v)>w.viewFrom?za(l):(w.viewFrom+=v,w.viewTo+=v);else if(f<=w.viewFrom&&g>=w.viewTo)za(l);else if(f<=w.viewFrom){var E=cf(l,g,g+v,1);E?(w.view=w.view.slice(E.index),w.viewFrom=E.lineN,w.viewTo+=v):za(l)}else if(g>=w.viewTo){var k=cf(l,f,f,-1);k?(w.view=w.view.slice(0,k.index),w.viewTo=k.lineN):za(l)}else{var D=cf(l,f,f,-1),j=cf(l,g,g+v,1);D&&j?(w.view=w.view.slice(0,D.index).concat(ml(l,D.lineN,j.lineN)).concat(w.view.slice(j.index)),w.viewTo+=v):za(l)}var H=w.externalMeasured;H&&(g<H.lineN?H.lineN+=v:f<H.lineN+H.size&&(w.externalMeasured=null))}function Ha(l,f,g){l.curOp.viewChanged=!0;var v=l.display,w=l.display.externalMeasured;if(w&&f>=w.lineN&&f<w.lineN+w.size&&(v.externalMeasured=null),!(f<v.viewFrom||f>=v.viewTo)){var E=v.view[Ps(l,f)];if(E.node!=null){var k=E.changes||(E.changes=[]);qe(k,g)==-1&&k.push(g)}}}function za(l){l.display.viewFrom=l.display.viewTo=l.doc.first,l.display.view=[],l.display.viewOffset=0}function cf(l,f,g,v){var w=Ps(l,f),E,k=l.display.view;if(!Ii||g==l.doc.first+l.doc.size)return{index:w,lineN:g};for(var D=l.display.viewFrom,j=0;j<w;j++)D+=k[j].size;if(D!=f){if(v>0){if(w==k.length-1)return null;E=D+k[w].size-f,w++}else E=D-f;f+=E,g+=E}for(;$i(l.doc,g)!=g;){if(w==(v<0?0:k.length-1))return null;g+=v*k[w-(v<0?1:0)].size,w+=v}return{index:w,lineN:g}}function ff(l,f,g){var v=l.display,w=v.view;w.length==0||f>=v.viewTo||g<=v.viewFrom?(v.view=ml(l,f,g),v.viewFrom=f):(v.viewFrom>f?v.view=ml(l,f,v.viewFrom).concat(v.view):v.viewFrom<f&&(v.view=v.view.slice(Ps(l,f))),v.viewFrom=f,v.viewTo<g?v.view=v.view.concat(ml(l,v.viewTo,g)):v.viewTo>g&&(v.view=v.view.slice(0,Ps(l,g)))),v.viewTo=g}function df(l){for(var f=l.display.view,g=0,v=0;v<f.length;v++){var w=f[v];!w.hidden&&(!w.node||w.changes)&&++g}return g}function Uu(l){l.display.input.showSelection(l.display.input.prepareSelection())}function hv(l,f){f===void 0&&(f=!0);var g=l.doc,v={},w=v.cursors=document.createDocumentFragment(),E=v.selection=document.createDocumentFragment(),k=l.options.$customCursor;k&&(f=!0);for(var D=0;D<g.sel.ranges.length;D++)if(!(!f&&D==g.sel.primIndex)){var j=g.sel.ranges[D];if(!(j.from().line>=l.display.viewTo||j.to().line<l.display.viewFrom)){var H=j.empty();if(k){var ce=k(l,j);ce&&Xd(l,ce,w)}else(H||l.options.showCursorWhenSelecting)&&Xd(l,j.head,w);H||Jd(l,j,E)}}return v}function Xd(l,f,g){var v=Fi(l,f,"div",null,null,!l.options.singleCursorHeightPerLine),w=g.appendChild(G("div","","CodeMirror-cursor"));if(w.style.left=v.left+"px",w.style.top=v.top+"px",w.style.height=Math.max(0,v.bottom-v.top)*l.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(l.getWrapperElement().className)){var E=sf(l,f,"div",null,null),k=E.right-E.left;w.style.width=(k>0?k:l.defaultCharWidth())+"px"}if(v.other){var D=g.appendChild(G("div","","CodeMirror-cursor CodeMirror-secondarycursor"));D.style.display="",D.style.left=v.other.left+"px",D.style.top=v.other.top+"px",D.style.height=(v.other.bottom-v.other.top)*.85+"px"}}function ks(l,f){return l.top-f.top||l.left-f.left}function Jd(l,f,g){var v=l.display,w=l.doc,E=document.createDocumentFragment(),k=V(l.display),D=k.left,j=Math.max(v.sizerWidth,he(l)-v.sizer.offsetLeft)-k.right,H=w.direction=="ltr";function ce(bt,At,Xt,Zt){At<0&&(At=0),At=Math.round(At),Zt=Math.round(Zt),E.appendChild(G("div",null,"CodeMirror-selected","position: absolute; left: "+bt+`px;
                             top: `+At+"px; width: "+(Xt??j-bt)+`px;
                             height: `+(Zt-At)+"px"))}function me(bt,At,Xt){var Zt=kt(w,bt),br=Zt.text.length,on,Zn;function gn(tn,Mi){return sf(l,I(bt,tn),"div",Zt,Mi)}function ri(tn,Mi,qn){var Bn=Vu(l,Zt,null,tn),Nn=Mi=="ltr"==(qn=="after")?"left":"right",_n=qn=="after"?Bn.begin:Bn.end-(/\s/.test(Zt.text.charAt(Bn.end-1))?2:1);return gn(_n,Nn)[Nn]}var Ci=dr(Zt,w.direction);return Er(Ci,At||0,Xt??br,function(tn,Mi,qn,Bn){var Nn=qn=="ltr",_n=gn(tn,Nn?"left":"right"),Di=gn(Mi-1,Nn?"right":"left"),Bl=At==null&&tn==0,ts=Xt==null&&Mi==br,ni=Bn==0,Zi=!Ci||Bn==Ci.length-1;if(Di.top-_n.top<=3){var Yn=(H?Bl:ts)&&ni,Us=(H?ts:Bl)&&Zi,lo=Yn?D:(Nn?_n:Di).left,Bs=Us?j:(Nn?Di:_n).right;ce(lo,_n.top,Bs-lo,_n.bottom)}else{var rs,Oi,Hl,Tp;Nn?(rs=H&&Bl&&ni?D:_n.left,Oi=H?j:ri(tn,qn,"before"),Hl=H?D:ri(Mi,qn,"after"),Tp=H&&ts&&Zi?j:Di.right):(rs=H?ri(tn,qn,"before"):D,Oi=!H&&Bl&&ni?j:_n.right,Hl=!H&&ts&&Zi?D:Di.left,Tp=H?ri(Mi,qn,"after"):j),ce(rs,_n.top,Oi-rs,_n.bottom),_n.bottom<Di.top&&ce(D,_n.bottom,null,Di.top),ce(Hl,Di.top,Tp-Hl,Di.bottom)}(!on||ks(_n,on)<0)&&(on=_n),ks(Di,on)<0&&(on=Di),(!Zn||ks(_n,Zn)<0)&&(Zn=_n),ks(Di,Zn)<0&&(Zn=Di)}),{start:on,end:Zn}}var je=f.from(),De=f.to();if(je.line==De.line)me(je.line,je.ch,De.ch);else{var Ge=kt(w,je.line),Je=kt(w,De.line),ct=Or(Ge)==Or(Je),gt=me(je.line,je.ch,ct?Ge.text.length+1:null).end,Pt=me(De.line,ct?0:null,De.ch).start;ct&&(gt.top<Pt.top-2?(ce(gt.right,gt.top,null,gt.bottom),ce(D,Pt.top,Pt.left,Pt.bottom)):ce(gt.right,gt.top,Pt.left-gt.right,gt.bottom)),gt.bottom<Pt.top&&ce(D,gt.bottom,null,Pt.top)}g.appendChild(E)}function Qd(l){if(l.state.focused){var f=l.display;clearInterval(f.blinker);var g=!0;f.cursorDiv.style.visibility="",l.options.cursorBlinkRate>0?f.blinker=setInterval(function(){l.hasFocus()||Ol(l),f.cursorDiv.style.visibility=(g=!g)?"":"hidden"},l.options.cursorBlinkRate):l.options.cursorBlinkRate<0&&(f.cursorDiv.style.visibility="hidden")}}function pf(l){l.hasFocus()||(l.display.input.focus(),l.state.focused||Cl(l))}function ep(l){l.state.delayingBlurEvent=!0,setTimeout(function(){l.state.delayingBlurEvent&&(l.state.delayingBlurEvent=!1,l.state.focused&&Ol(l))},100)}function Cl(l,f){l.state.delayingBlurEvent&&!l.state.draggingText&&(l.state.delayingBlurEvent=!1),l.options.readOnly!="nocursor"&&(l.state.focused||(Nr(l,"focus",l,f),l.state.focused=!0,Ue(l.display.wrapper,"CodeMirror-focused"),!l.curOp&&l.display.selForContextMenu!=l.doc.sel&&(l.display.input.reset(),C&&setTimeout(function(){return l.display.input.reset(!0)},20)),l.display.input.receivedFocus()),Qd(l))}function Ol(l,f){l.state.delayingBlurEvent||(l.state.focused&&(Nr(l,"blur",l,f),l.state.focused=!1,te(l.display.wrapper,"CodeMirror-focused")),clearInterval(l.display.blinker),setTimeout(function(){l.state.focused||(l.display.shift=!1)},150))}function hf(l){for(var f=l.display,g=f.lineDiv.offsetTop,v=Math.max(0,f.scroller.getBoundingClientRect().top),w=f.lineDiv.getBoundingClientRect().top,E=0,k=0;k<f.view.length;k++){var D=f.view[k],j=l.options.lineWrapping,H=void 0,ce=0;if(!D.hidden){if(w+=D.line.height,x&&S<8){var me=D.node.offsetTop+D.node.offsetHeight;H=me-g,g=me}else{var je=D.node.getBoundingClientRect();H=je.bottom-je.top,!j&&D.text.firstChild&&(ce=D.text.firstChild.getBoundingClientRect().right-je.left-1)}var De=D.line.height-H;if((De>.005||De<-.005)&&(w<v&&(E-=De),cn(D.line,H),vv(D.line),D.rest))for(var Ge=0;Ge<D.rest.length;Ge++)vv(D.rest[Ge]);if(ce>l.display.sizerWidth){var Je=Math.ceil(ce/xl(l.display));Je>l.display.maxLineLength&&(l.display.maxLineLength=Je,l.display.maxLine=D.line,l.display.maxLineChanged=!0)}}}Math.abs(E)>2&&(f.scroller.scrollTop+=E)}function vv(l){if(l.widgets)for(var f=0;f<l.widgets.length;++f){var g=l.widgets[f],v=g.node.parentNode;v&&(g.height=v.offsetHeight)}}function As(l,f,g){var v=g&&g.top!=null?Math.max(0,g.top):l.scroller.scrollTop;v=Math.floor(v-To(l));var w=g&&g.bottom!=null?g.bottom:v+l.wrapper.clientHeight,E=wn(f,v),k=wn(f,w);if(g&&g.ensure){var D=g.ensure.from.line,j=g.ensure.to.line;D<E?(E=D,k=wn(f,Kr(kt(f,D))+l.wrapper.clientHeight)):Math.min(j,f.lastLine())>=k&&(E=wn(f,Kr(kt(f,j))-l.wrapper.clientHeight),k=j)}return{from:E,to:Math.max(k,E+1)}}function tp(l,f){if(!Wr(l,"scrollCursorIntoView")){var g=l.display,v=g.sizer.getBoundingClientRect(),w=null,E=g.wrapper.ownerDocument;if(f.top+v.top<0?w=!0:f.bottom+v.top>(E.defaultView.innerHeight||E.documentElement.clientHeight)&&(w=!1),w!=null&&!fe){var k=G("div","",null,`position: absolute;
                         top: `+(f.top-g.viewOffset-To(l.display))+`px;
                         height: `+(f.bottom-f.top+Y(l)+g.barHeight)+`px;
                         left: `+f.left+"px; width: "+Math.max(2,f.right-f.left)+"px;");l.display.lineSpace.appendChild(k),k.scrollIntoView(w),l.display.lineSpace.removeChild(k)}}}function y0(l,f,g,v){v==null&&(v=0);var w;!l.options.lineWrapping&&f==g&&(g=f.sticky=="before"?I(f.line,f.ch+1,"before"):f,f=f.ch?I(f.line,f.sticky=="before"?f.ch-1:f.ch,"after"):f);for(var E=0;E<5;E++){var k=!1,D=Fi(l,f),j=!g||g==f?D:Fi(l,g);w={left:Math.min(D.left,j.left),top:Math.min(D.top,j.top)-v,right:Math.max(D.left,j.left),bottom:Math.max(D.bottom,j.bottom)+v};var H=rp(l,w),ce=l.doc.scrollTop,me=l.doc.scrollLeft;if(H.scrollTop!=null&&(Tl(l,H.scrollTop),Math.abs(l.doc.scrollTop-ce)>1&&(k=!0)),H.scrollLeft!=null&&(Ls(l,H.scrollLeft),Math.abs(l.doc.scrollLeft-me)>1&&(k=!0)),!k)break}return w}function w0(l,f){var g=rp(l,f);g.scrollTop!=null&&Tl(l,g.scrollTop),g.scrollLeft!=null&&Ls(l,g.scrollLeft)}function rp(l,f){var g=l.display,v=bl(l.display);f.top<0&&(f.top=0);var w=l.curOp&&l.curOp.scrollTop!=null?l.curOp.scrollTop:g.scroller.scrollTop,E=Ce(l),k={};f.bottom-f.top>E&&(f.bottom=f.top+E);var D=l.doc.height+Nu(g),j=f.top<v,H=f.bottom>D-v;if(f.top<w)k.scrollTop=j?0:f.top;else if(f.bottom>w+E){var ce=Math.min(f.top,(H?D:f.bottom)-E);ce!=w&&(k.scrollTop=ce)}var me=l.options.fixedGutter?0:g.gutters.offsetWidth,je=l.curOp&&l.curOp.scrollLeft!=null?l.curOp.scrollLeft:g.scroller.scrollLeft-me,De=he(l)-g.gutters.offsetWidth,Ge=f.right-f.left>De;return Ge&&(f.right=f.left+De),f.left<10?k.scrollLeft=0:f.left<je?k.scrollLeft=Math.max(0,f.left+me-(Ge?0:10)):f.right>De+je-3&&(k.scrollLeft=f.right+(Ge?0:10)-De),k}function El(l,f){f!=null&&(vf(l),l.curOp.scrollTop=(l.curOp.scrollTop==null?l.doc.scrollTop:l.curOp.scrollTop)+f)}function Wa(l){vf(l);var f=l.getCursor();l.curOp.scrollToPos={from:f,to:f,margin:l.options.cursorScrollMargin}}function Bu(l,f,g){(f!=null||g!=null)&&vf(l),f!=null&&(l.curOp.scrollLeft=f),g!=null&&(l.curOp.scrollTop=g)}function _0(l,f){vf(l),l.curOp.scrollToPos=f}function vf(l){var f=l.curOp.scrollToPos;if(f){l.curOp.scrollToPos=null;var g=$d(l,f.from),v=$d(l,f.to);Hu(l,g,v,f.margin)}}function Hu(l,f,g,v){var w=rp(l,{left:Math.min(f.left,g.left),top:Math.min(f.top,g.top)-v,right:Math.max(f.right,g.right),bottom:Math.max(f.bottom,g.bottom)+v});Bu(l,w.scrollLeft,w.scrollTop)}function Tl(l,f){Math.abs(l.doc.scrollTop-f)<2||(c||ap(l,{top:f}),gv(l,f,!0),c&&ap(l),vn(l,100))}function gv(l,f,g){f=Math.max(0,Math.min(l.display.scroller.scrollHeight-l.display.scroller.clientHeight,f)),!(l.display.scroller.scrollTop==f&&!g)&&(l.doc.scrollTop=f,l.display.scrollbars.setScrollTop(f),l.display.scroller.scrollTop!=f&&(l.display.scroller.scrollTop=f))}function Ls(l,f,g,v){f=Math.max(0,Math.min(f,l.display.scroller.scrollWidth-l.display.scroller.clientWidth)),!((g?f==l.doc.scrollLeft:Math.abs(l.doc.scrollLeft-f)<2)&&!v)&&(l.doc.scrollLeft=f,yf(l),l.display.scroller.scrollLeft!=f&&(l.display.scroller.scrollLeft=f),l.display.scrollbars.setScrollLeft(f))}function zu(l){var f=l.display,g=f.gutters.offsetWidth,v=Math.round(l.doc.height+Nu(l.display));return{clientHeight:f.scroller.clientHeight,viewHeight:f.wrapper.clientHeight,scrollWidth:f.scroller.scrollWidth,clientWidth:f.scroller.clientWidth,viewWidth:f.wrapper.clientWidth,barLeft:l.options.fixedGutter?g:0,docHeight:v,scrollHeight:v+Y(l)+f.barHeight,nativeBarWidth:f.nativeBarWidth,gutterWidth:g}}var Ko=function(l,f,g){this.cm=g;var v=this.vert=G("div",[G("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),w=this.horiz=G("div",[G("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");v.tabIndex=w.tabIndex=-1,l(v),l(w),Mt(v,"scroll",function(){v.clientHeight&&f(v.scrollTop,"vertical")}),Mt(w,"scroll",function(){w.clientWidth&&f(w.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,x&&S<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Ko.prototype.update=function(l){var f=l.scrollWidth>l.clientWidth+1,g=l.scrollHeight>l.clientHeight+1,v=l.nativeBarWidth;if(g){this.vert.style.display="block",this.vert.style.bottom=f?v+"px":"0";var w=l.viewHeight-(f?v:0);this.vert.firstChild.style.height=Math.max(0,l.scrollHeight-l.clientHeight+w)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(f){this.horiz.style.display="block",this.horiz.style.right=g?v+"px":"0",this.horiz.style.left=l.barLeft+"px";var E=l.viewWidth-l.barLeft-(g?v:0);this.horiz.firstChild.style.width=Math.max(0,l.scrollWidth-l.clientWidth+E)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&l.clientHeight>0&&(v==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:g?v:0,bottom:f?v:0}},Ko.prototype.setScrollLeft=function(l){this.horiz.scrollLeft!=l&&(this.horiz.scrollLeft=l),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Ko.prototype.setScrollTop=function(l){this.vert.scrollTop!=l&&(this.vert.scrollTop=l),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Ko.prototype.zeroWidthHack=function(){var l=X&&!K?"12px":"18px";this.horiz.style.height=this.vert.style.width=l,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new ze,this.disableVert=new ze},Ko.prototype.enableZeroWidthBar=function(l,f,g){l.style.visibility="";function v(){var w=l.getBoundingClientRect(),E=g=="vert"?document.elementFromPoint(w.right-1,(w.top+w.bottom)/2):document.elementFromPoint((w.right+w.left)/2,w.bottom-1);E!=l?l.style.visibility="hidden":f.set(1e3,v)}f.set(1e3,v)},Ko.prototype.clear=function(){var l=this.horiz.parentNode;l.removeChild(this.horiz),l.removeChild(this.vert)};var Ms=function(){};Ms.prototype.update=function(){return{bottom:0,right:0}},Ms.prototype.setScrollLeft=function(){},Ms.prototype.setScrollTop=function(){},Ms.prototype.clear=function(){};function Po(l,f){f||(f=zu(l));var g=l.display.barWidth,v=l.display.barHeight;Ds(l,f);for(var w=0;w<4&&g!=l.display.barWidth||v!=l.display.barHeight;w++)g!=l.display.barWidth&&l.options.lineWrapping&&hf(l),Ds(l,zu(l)),g=l.display.barWidth,v=l.display.barHeight}function Ds(l,f){var g=l.display,v=g.scrollbars.update(f);g.sizer.style.paddingRight=(g.barWidth=v.right)+"px",g.sizer.style.paddingBottom=(g.barHeight=v.bottom)+"px",g.heightForcer.style.borderBottom=v.bottom+"px solid transparent",v.right&&v.bottom?(g.scrollbarFiller.style.display="block",g.scrollbarFiller.style.height=v.bottom+"px",g.scrollbarFiller.style.width=v.right+"px"):g.scrollbarFiller.style.display="",v.bottom&&l.options.coverGutterNextToScrollbar&&l.options.fixedGutter?(g.gutterFiller.style.display="block",g.gutterFiller.style.height=v.bottom+"px",g.gutterFiller.style.width=f.gutterWidth+"px"):g.gutterFiller.style.display=""}var Rs={native:Ko,null:Ms};function np(l){l.display.scrollbars&&(l.display.scrollbars.clear(),l.display.scrollbars.addClass&&te(l.display.wrapper,l.display.scrollbars.addClass)),l.display.scrollbars=new Rs[l.options.scrollbarStyle](function(f){l.display.wrapper.insertBefore(f,l.display.scrollbarFiller),Mt(f,"mousedown",function(){l.state.focused&&setTimeout(function(){return l.display.input.focus()},0)}),f.setAttribute("cm-not-content","true")},function(f,g){g=="horizontal"?Ls(l,f):Tl(l,f)},l),l.display.scrollbars.addClass&&Ue(l.display.wrapper,l.display.scrollbars.addClass)}var ip=0;function Ns(l){l.curOp={cm:l,viewChanged:!1,startHeight:l.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++ip,markArrays:null},ef(l.curOp)}function js(l){var f=l.curOp;f&&Fa(f,function(g){for(var v=0;v<g.ops.length;v++)g.ops[v].cm.curOp=null;b0(g)})}function b0(l){for(var f=l.ops,g=0;g<f.length;g++)gf(f[g]);for(var v=0;v<f.length;v++)x0(f[v]);for(var w=0;w<f.length;w++)S0(f[w]);for(var E=0;E<f.length;E++)C0(f[E]);for(var k=0;k<f.length;k++)O0(f[k])}function gf(l){var f=l.cm,g=f.display;mv(f),l.updateMaxLine&&So(f),l.mustUpdate=l.viewChanged||l.forceUpdate||l.scrollTop!=null||l.scrollToPos&&(l.scrollToPos.from.line<g.viewFrom||l.scrollToPos.to.line>=g.viewTo)||g.maxLineChanged&&f.options.lineWrapping,l.update=l.mustUpdate&&new mf(f,l.mustUpdate&&{top:l.scrollTop,ensure:l.scrollToPos},l.forceUpdate)}function x0(l){l.updatedDisplay=l.mustUpdate&&op(l.cm,l.update)}function S0(l){var f=l.cm,g=f.display;l.updatedDisplay&&hf(f),l.barMeasure=zu(f),g.maxLineChanged&&!f.options.lineWrapping&&(l.adjustWidthTo=St(f,g.maxLine,g.maxLine.text.length).left+3,f.display.sizerWidth=l.adjustWidthTo,l.barMeasure.scrollWidth=Math.max(g.scroller.clientWidth,g.sizer.offsetLeft+l.adjustWidthTo+Y(f)+f.display.barWidth),l.maxScrollLeft=Math.max(0,g.sizer.offsetLeft+l.adjustWidthTo-he(f))),(l.updatedDisplay||l.selectionChanged)&&(l.preparedSelection=g.input.prepareSelection())}function C0(l){var f=l.cm;l.adjustWidthTo!=null&&(f.display.sizer.style.minWidth=l.adjustWidthTo+"px",l.maxScrollLeft<f.doc.scrollLeft&&Ls(f,Math.min(f.display.scroller.scrollLeft,l.maxScrollLeft),!0),f.display.maxLineChanged=!1);var g=l.focus&&l.focus==ye(Ve(f));l.preparedSelection&&f.display.input.showSelection(l.preparedSelection,g),(l.updatedDisplay||l.startHeight!=f.doc.height)&&Po(f,l.barMeasure),l.updatedDisplay&&lp(f,l.barMeasure),l.selectionChanged&&Qd(f),f.state.focused&&l.updateInput&&f.display.input.reset(l.typing),g&&pf(l.cm)}function O0(l){var f=l.cm,g=f.display,v=f.doc;if(l.updatedDisplay&&yv(f,l.update),g.wheelStartX!=null&&(l.scrollTop!=null||l.scrollLeft!=null||l.scrollToPos)&&(g.wheelStartX=g.wheelStartY=null),l.scrollTop!=null&&gv(f,l.scrollTop,l.forceScroll),l.scrollLeft!=null&&Ls(f,l.scrollLeft,!0,!0),l.scrollToPos){var w=y0(f,Ft(v,l.scrollToPos.from),Ft(v,l.scrollToPos.to),l.scrollToPos.margin);tp(f,w)}var E=l.maybeHiddenMarkers,k=l.maybeUnhiddenMarkers;if(E)for(var D=0;D<E.length;++D)E[D].lines.length||Nr(E[D],"hide");if(k)for(var j=0;j<k.length;++j)k[j].lines.length&&Nr(k[j],"unhide");g.wrapper.offsetHeight&&(v.scrollTop=f.display.scroller.scrollTop),l.changeObjs&&Nr(f,"changes",f,l.changeObjs),l.update&&l.update.finish()}function Ai(l,f){if(l.curOp)return f();Ns(l);try{return f()}finally{js(l)}}function Kn(l,f){return function(){if(l.curOp)return f.apply(l,arguments);Ns(l);try{return f.apply(l,arguments)}finally{js(l)}}}function pn(l){return function(){if(this.curOp)return l.apply(this,arguments);Ns(this);try{return l.apply(this,arguments)}finally{js(this)}}}function Gn(l){return function(){var f=this.cm;if(!f||f.curOp)return l.apply(this,arguments);Ns(f);try{return l.apply(this,arguments)}finally{js(f)}}}function vn(l,f){l.doc.highlightFrontier<l.display.viewTo&&l.state.highlight.set(f,We(E0,l))}function E0(l){var f=l.doc;if(!(f.highlightFrontier>=l.display.viewTo)){var g=+new Date+l.options.workTime,v=_o(l,f.highlightFrontier),w=[];f.iter(v.line,Math.min(f.first+f.size,l.display.viewTo+500),function(E){if(v.line>=l.display.viewFrom){var k=E.styles,D=E.text.length>l.options.maxHighlightLength?Fr(f.mode,v.state):null,j=cl(l,E,v,!0);D&&(v.state=D),E.styles=j.styles;var H=E.styleClasses,ce=j.classes;ce?E.styleClasses=ce:H&&(E.styleClasses=null);for(var me=!k||k.length!=E.styles.length||H!=ce&&(!H||!ce||H.bgClass!=ce.bgClass||H.textClass!=ce.textClass),je=0;!me&&je<k.length;++je)me=k[je]!=E.styles[je];me&&w.push(v.line),E.stateAfter=v.save(),v.nextLine()}else E.text.length<=l.options.maxHighlightLength&&fl(l,E.text,v),E.stateAfter=v.line%5==0?v.save():null,v.nextLine();if(+new Date>g)return vn(l,l.options.workDelay),!0}),f.highlightFrontier=v.line,f.modeFrontier=Math.max(f.modeFrontier,v.line),w.length&&Ai(l,function(){for(var E=0;E<w.length;E++)Ha(l,w[E],"text")})}}var mf=function(l,f,g){var v=l.display;this.viewport=f,this.visible=As(v,l.doc,f),this.editorIsHidden=!v.wrapper.offsetWidth,this.wrapperHeight=v.wrapper.clientHeight,this.wrapperWidth=v.wrapper.clientWidth,this.oldDisplayWidth=he(l),this.force=g,this.dims=qd(l),this.events=[]};mf.prototype.signal=function(l,f){nt(l,f)&&this.events.push(arguments)},mf.prototype.finish=function(){for(var l=0;l<this.events.length;l++)Nr.apply(null,this.events[l])};function mv(l){var f=l.display;!f.scrollbarsClipped&&f.scroller.offsetWidth&&(f.nativeBarWidth=f.scroller.offsetWidth-f.scroller.clientWidth,f.heightForcer.style.height=Y(l)+"px",f.sizer.style.marginBottom=-f.nativeBarWidth+"px",f.sizer.style.borderRightWidth=Y(l)+"px",f.scrollbarsClipped=!0)}function T0(l){if(l.hasFocus())return null;var f=ye(Ve(l));if(!f||!Le(l.display.lineDiv,f))return null;var g={activeElt:f};if(window.getSelection){var v=Ye(l).getSelection();v.anchorNode&&v.extend&&Le(l.display.lineDiv,v.anchorNode)&&(g.anchorNode=v.anchorNode,g.anchorOffset=v.anchorOffset,g.focusNode=v.focusNode,g.focusOffset=v.focusOffset)}return g}function P0(l){if(!(!l||!l.activeElt||l.activeElt==ye(l.activeElt.ownerDocument))&&(l.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(l.activeElt.nodeName)&&l.anchorNode&&Le(document.body,l.anchorNode)&&Le(document.body,l.focusNode))){var f=l.activeElt.ownerDocument,g=f.defaultView.getSelection(),v=f.createRange();v.setEnd(l.anchorNode,l.anchorOffset),v.collapse(!1),g.removeAllRanges(),g.addRange(v),g.extend(l.focusNode,l.focusOffset)}}function op(l,f){var g=l.display,v=l.doc;if(f.editorIsHidden)return za(l),!1;if(!f.force&&f.visible.from>=g.viewFrom&&f.visible.to<=g.viewTo&&(g.updateLineNumbers==null||g.updateLineNumbers>=g.viewTo)&&g.renderedView==g.view&&df(l)==0)return!1;wv(l)&&(za(l),f.dims=qd(l));var w=v.first+v.size,E=Math.max(f.visible.from-l.options.viewportMargin,v.first),k=Math.min(w,f.visible.to+l.options.viewportMargin);g.viewFrom<E&&E-g.viewFrom<20&&(E=Math.max(v.first,g.viewFrom)),g.viewTo>k&&g.viewTo-k<20&&(k=Math.min(w,g.viewTo)),Ii&&(E=$i(l.doc,E),k=la(l.doc,k));var D=E!=g.viewFrom||k!=g.viewTo||g.lastWrapHeight!=f.wrapperHeight||g.lastWrapWidth!=f.wrapperWidth;ff(l,E,k),g.viewOffset=Kr(kt(l.doc,g.viewFrom)),l.display.mover.style.top=g.viewOffset+"px";var j=df(l);if(!D&&j==0&&!f.force&&g.renderedView==g.view&&(g.updateLineNumbers==null||g.updateLineNumbers>=g.viewTo))return!1;var H=T0(l);return j>4&&(g.lineDiv.style.display="none"),k0(l,g.updateLineNumbers,f.dims),j>4&&(g.lineDiv.style.display=""),g.renderedView=g.view,P0(H),re(g.cursorDiv),re(g.selectionDiv),g.gutters.style.height=g.sizer.style.minHeight=0,D&&(g.lastWrapHeight=f.wrapperHeight,g.lastWrapWidth=f.wrapperWidth,vn(l,400)),g.updateLineNumbers=null,!0}function yv(l,f){for(var g=f.viewport,v=!0;;v=!1){if(!v||!l.options.lineWrapping||f.oldDisplayWidth==he(l)){if(g&&g.top!=null&&(g={top:Math.min(l.doc.height+Nu(l.display)-Ce(l),g.top)}),f.visible=As(l.display,l.doc,g),f.visible.from>=l.display.viewFrom&&f.visible.to<=l.display.viewTo)break}else v&&(f.visible=As(l.display,l.doc,g));if(!op(l,f))break;hf(l);var w=zu(l);Uu(l),Po(l,w),lp(l,w),f.force=!1}f.signal(l,"update",l),(l.display.viewFrom!=l.display.reportedViewFrom||l.display.viewTo!=l.display.reportedViewTo)&&(f.signal(l,"viewportChange",l,l.display.viewFrom,l.display.viewTo),l.display.reportedViewFrom=l.display.viewFrom,l.display.reportedViewTo=l.display.viewTo)}function ap(l,f){var g=new mf(l,f);if(op(l,g)){hf(l),yv(l,g);var v=zu(l);Uu(l),Po(l,v),lp(l,v),g.finish()}}function k0(l,f,g){var v=l.display,w=l.options.lineNumbers,E=v.lineDiv,k=E.firstChild;function D(Ge){var Je=Ge.nextSibling;return C&&X&&l.display.currentWheelTarget==Ge?Ge.style.display="none":Ge.parentNode.removeChild(Ge),Je}for(var j=v.view,H=v.viewFrom,ce=0;ce<j.length;ce++){var me=j[ce];if(!me.hidden)if(!me.node||me.node.parentNode!=E){var je=Wo(l,me,H,g);E.insertBefore(je,k)}else{for(;k!=me.node;)k=D(k);var De=w&&f!=null&&f<=H&&me.lineNumber;me.changes&&(qe(me.changes,"gutter")>-1&&(De=!1),Lu(l,me,H,g)),De&&(re(me.lineNumber),me.lineNumber.appendChild(document.createTextNode(Lr(l.options,H)))),k=me.node.nextSibling}H+=me.size}for(;k;)k=D(k)}function sp(l){var f=l.gutters.offsetWidth;l.sizer.style.marginLeft=f+"px",Pn(l,"gutterChanged",l)}function lp(l,f){l.display.sizer.style.minHeight=f.docHeight+"px",l.display.heightForcer.style.top=f.docHeight+"px",l.display.gutters.style.height=f.docHeight+l.display.barHeight+Y(l)+"px"}function yf(l){var f=l.display,g=f.view;if(!(!f.alignWidgets&&(!f.gutters.firstChild||!l.options.fixedGutter))){for(var v=Sl(f)-f.scroller.scrollLeft+l.doc.scrollLeft,w=f.gutters.offsetWidth,E=v+"px",k=0;k<g.length;k++)if(!g[k].hidden){l.options.fixedGutter&&(g[k].gutter&&(g[k].gutter.style.left=E),g[k].gutterBackground&&(g[k].gutterBackground.style.left=E));var D=g[k].alignable;if(D)for(var j=0;j<D.length;j++)D[j].style.left=E}l.options.fixedGutter&&(f.gutters.style.left=v+w+"px")}}function wv(l){if(!l.options.lineNumbers)return!1;var f=l.doc,g=Lr(l.options,f.first+f.size-1),v=l.display;if(g.length!=v.lineNumChars){var w=v.measure.appendChild(G("div",[G("div",g)],"CodeMirror-linenumber CodeMirror-gutter-elt")),E=w.firstChild.offsetWidth,k=w.offsetWidth-E;return v.lineGutter.style.width="",v.lineNumInnerWidth=Math.max(E,v.lineGutter.offsetWidth-k)+1,v.lineNumWidth=v.lineNumInnerWidth+k,v.lineNumChars=v.lineNumInnerWidth?g.length:-1,v.lineGutter.style.width=v.lineNumWidth+"px",sp(l.display),!0}return!1}function Is(l,f){for(var g=[],v=!1,w=0;w<l.length;w++){var E=l[w],k=null;if(typeof E!="string"&&(k=E.style,E=E.className),E=="CodeMirror-linenumbers")if(f)v=!0;else continue;g.push({className:E,style:k})}return f&&!v&&g.push({className:"CodeMirror-linenumbers",style:null}),g}function Wu(l){var f=l.gutters,g=l.gutterSpecs;re(f),l.lineGutter=null;for(var v=0;v<g.length;++v){var w=g[v],E=w.className,k=w.style,D=f.appendChild(G("div",null,"CodeMirror-gutter "+E));k&&(D.style.cssText=k),E=="CodeMirror-linenumbers"&&(l.lineGutter=D,D.style.width=(l.lineNumWidth||1)+"px")}f.style.display=g.length?"":"none",sp(l)}function $a(l){Wu(l.display),ti(l),yf(l)}function A0(l,f,g,v){var w=this;this.input=g,w.scrollbarFiller=G("div",null,"CodeMirror-scrollbar-filler"),w.scrollbarFiller.setAttribute("cm-not-content","true"),w.gutterFiller=G("div",null,"CodeMirror-gutter-filler"),w.gutterFiller.setAttribute("cm-not-content","true"),w.lineDiv=be("div",null,"CodeMirror-code"),w.selectionDiv=G("div",null,null,"position: relative; z-index: 1"),w.cursorDiv=G("div",null,"CodeMirror-cursors"),w.measure=G("div",null,"CodeMirror-measure"),w.lineMeasure=G("div",null,"CodeMirror-measure"),w.lineSpace=be("div",[w.measure,w.lineMeasure,w.selectionDiv,w.cursorDiv,w.lineDiv],null,"position: relative; outline: none");var E=be("div",[w.lineSpace],"CodeMirror-lines");w.mover=G("div",[E],null,"position: relative"),w.sizer=G("div",[w.mover],"CodeMirror-sizer"),w.sizerWidth=null,w.heightForcer=G("div",null,null,"position: absolute; height: "+ut+"px; width: 1px;"),w.gutters=G("div",null,"CodeMirror-gutters"),w.lineGutter=null,w.scroller=G("div",[w.sizer,w.heightForcer,w.gutters],"CodeMirror-scroll"),w.scroller.setAttribute("tabIndex","-1"),w.wrapper=G("div",[w.scrollbarFiller,w.gutterFiller,w.scroller],"CodeMirror"),P&&L>=105&&(w.wrapper.style.clipPath="inset(0px)"),w.wrapper.setAttribute("translate","no"),x&&S<8&&(w.gutters.style.zIndex=-1,w.scroller.style.paddingRight=0),!C&&!(c&&$)&&(w.scroller.draggable=!0),l&&(l.appendChild?l.appendChild(w.wrapper):l(w.wrapper)),w.viewFrom=w.viewTo=f.first,w.reportedViewFrom=w.reportedViewTo=f.first,w.view=[],w.renderedView=null,w.externalMeasured=null,w.viewOffset=0,w.lastWrapHeight=w.lastWrapWidth=0,w.updateLineNumbers=null,w.nativeBarWidth=w.barHeight=w.barWidth=0,w.scrollbarsClipped=!1,w.lineNumWidth=w.lineNumInnerWidth=w.lineNumChars=null,w.alignWidgets=!1,w.cachedCharWidth=w.cachedTextHeight=w.cachedPaddingH=null,w.maxLine=null,w.maxLineLength=0,w.maxLineChanged=!1,w.wheelDX=w.wheelDY=w.wheelStartX=w.wheelStartY=null,w.shift=!1,w.selForContextMenu=null,w.activeTouch=null,w.gutterSpecs=Is(v.gutters,v.lineNumbers),Wu(w),g.init(w)}var $u=0,fa=null;x?fa=-.53:c?fa=15:P?fa=-.7:U&&(fa=-1/3);function _v(l){var f=l.wheelDeltaX,g=l.wheelDeltaY;return f==null&&l.detail&&l.axis==l.HORIZONTAL_AXIS&&(f=l.detail),g==null&&l.detail&&l.axis==l.VERTICAL_AXIS?g=l.detail:g==null&&(g=l.wheelDelta),{x:f,y:g}}function bv(l){var f=_v(l);return f.x*=fa,f.y*=fa,f}function xv(l,f){P&&L==102&&(l.display.chromeScrollHack==null?l.display.sizer.style.pointerEvents="none":clearTimeout(l.display.chromeScrollHack),l.display.chromeScrollHack=setTimeout(function(){l.display.chromeScrollHack=null,l.display.sizer.style.pointerEvents=""},100));var g=_v(f),v=g.x,w=g.y,E=fa;f.deltaMode===0&&(v=f.deltaX,w=f.deltaY,E=1);var k=l.display,D=k.scroller,j=D.scrollWidth>D.clientWidth,H=D.scrollHeight>D.clientHeight;if(v&&j||w&&H){if(w&&X&&C){e:for(var ce=f.target,me=k.view;ce!=D;ce=ce.parentNode)for(var je=0;je<me.length;je++)if(me[je].node==ce){l.display.currentWheelTarget=ce;break e}}if(v&&!c&&!N&&E!=null){w&&H&&Tl(l,Math.max(0,D.scrollTop+w*E)),Ls(l,Math.max(0,D.scrollLeft+v*E)),(!w||w&&H)&&ee(f),k.wheelStartX=null;return}if(w&&E!=null){var De=w*E,Ge=l.doc.scrollTop,Je=Ge+k.wrapper.clientHeight;De<0?Ge=Math.max(0,Ge+De-50):Je=Math.min(l.doc.height,Je+De+50),ap(l,{top:Ge,bottom:Je})}$u<20&&f.deltaMode!==0&&(k.wheelStartX==null?(k.wheelStartX=D.scrollLeft,k.wheelStartY=D.scrollTop,k.wheelDX=v,k.wheelDY=w,setTimeout(function(){if(k.wheelStartX!=null){var ct=D.scrollLeft-k.wheelStartX,gt=D.scrollTop-k.wheelStartY,Pt=gt&&k.wheelDY&&gt/k.wheelDY||ct&&k.wheelDX&&ct/k.wheelDX;k.wheelStartX=k.wheelStartY=null,Pt&&(fa=(fa*$u+Pt)/($u+1),++$u)}},200)):(k.wheelDX+=v,k.wheelDY+=w))}}var Ki=function(l,f){this.ranges=l,this.primIndex=f};Ki.prototype.primary=function(){return this.ranges[this.primIndex]},Ki.prototype.equals=function(l){if(l==this)return!0;if(l.primIndex!=this.primIndex||l.ranges.length!=this.ranges.length)return!1;for(var f=0;f<this.ranges.length;f++){var g=this.ranges[f],v=l.ranges[f];if(!Ze(g.anchor,v.anchor)||!Ze(g.head,v.head))return!1}return!0},Ki.prototype.deepCopy=function(){for(var l=[],f=0;f<this.ranges.length;f++)l[f]=new Gr(it(this.ranges[f].anchor),it(this.ranges[f].head));return new Ki(l,this.primIndex)},Ki.prototype.somethingSelected=function(){for(var l=0;l<this.ranges.length;l++)if(!this.ranges[l].empty())return!0;return!1},Ki.prototype.contains=function(l,f){f||(f=l);for(var g=0;g<this.ranges.length;g++){var v=this.ranges[g];if(ne(f,v.from())>=0&&ne(l,v.to())<=0)return g}return-1};var Gr=function(l,f){this.anchor=l,this.head=f};Gr.prototype.from=function(){return Cr(this.anchor,this.head)},Gr.prototype.to=function(){return nr(this.anchor,this.head)},Gr.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function ko(l,f,g){var v=l&&l.options.selectionsMayTouch,w=f[g];f.sort(function(je,De){return ne(je.from(),De.from())}),g=qe(f,w);for(var E=1;E<f.length;E++){var k=f[E],D=f[E-1],j=ne(D.to(),k.from());if(v&&!k.empty()?j>0:j>=0){var H=Cr(D.from(),k.from()),ce=nr(D.to(),k.to()),me=D.empty()?k.from()==k.head:D.from()==D.head;E<=g&&--g,f.splice(--E,2,new Gr(me?ce:H,me?H:ce))}}return new Ki(f,g)}function Ka(l,f){return new Ki([new Gr(l,f||l)],0)}function Ga(l){return l.text?I(l.from.line+l.text.length-1,Ct(l.text).length+(l.text.length==1?l.from.ch:0)):l.to}function Sv(l,f){if(ne(l,f.from)<0)return l;if(ne(l,f.to)<=0)return Ga(f);var g=l.line+f.text.length-(f.to.line-f.from.line)-1,v=l.ch;return l.line==f.to.line&&(v+=Ga(f).ch-f.to.ch),I(g,v)}function up(l,f){for(var g=[],v=0;v<l.sel.ranges.length;v++){var w=l.sel.ranges[v];g.push(new Gr(Sv(w.anchor,f),Sv(w.head,f)))}return ko(l.cm,g,l.sel.primIndex)}function Cv(l,f,g){return l.line==f.line?I(g.line,l.ch-f.ch+g.ch):I(g.line+(l.line-f.line),l.ch)}function L0(l,f,g){for(var v=[],w=I(l.first,0),E=w,k=0;k<f.length;k++){var D=f[k],j=Cv(D.from,w,E),H=Cv(Ga(D),w,E);if(w=D.to,E=H,g=="around"){var ce=l.sel.ranges[k],me=ne(ce.head,ce.anchor)<0;v[k]=new Gr(me?H:j,me?j:H)}else v[k]=new Gr(j,j)}return new Ki(v,l.sel.primIndex)}function cp(l){l.doc.mode=pr(l.options,l.doc.modeOption),Pl(l)}function Pl(l){l.doc.iter(function(f){f.stateAfter&&(f.stateAfter=null),f.styles&&(f.styles=null)}),l.doc.modeFrontier=l.doc.highlightFrontier=l.doc.first,vn(l,100),l.state.modeGen++,l.curOp&&ti(l)}function Ov(l,f){return f.from.ch==0&&f.to.ch==0&&Ct(f.text)==""&&(!l.cm||l.cm.options.wholeLineUpdateBefore)}function fp(l,f,g,v){function w(Pt){return g?g[Pt]:null}function E(Pt,bt,At){Pu(Pt,bt,At,v),Pn(Pt,"change",Pt,f)}function k(Pt,bt){for(var At=[],Xt=Pt;Xt<bt;++Xt)At.push(new Co(H[Xt],w(Xt),v));return At}var D=f.from,j=f.to,H=f.text,ce=kt(l,D.line),me=kt(l,j.line),je=Ct(H),De=w(H.length-1),Ge=j.line-D.line;if(f.full)l.insert(0,k(0,H.length)),l.remove(H.length,l.size-H.length);else if(Ov(l,f)){var Je=k(0,H.length-1);E(me,me.text,De),Ge&&l.remove(D.line,Ge),Je.length&&l.insert(D.line,Je)}else if(ce==me)if(H.length==1)E(ce,ce.text.slice(0,D.ch)+je+ce.text.slice(j.ch),De);else{var ct=k(1,H.length-1);ct.push(new Co(je+ce.text.slice(j.ch),De,v)),E(ce,ce.text.slice(0,D.ch)+H[0],w(0)),l.insert(D.line+1,ct)}else if(H.length==1)E(ce,ce.text.slice(0,D.ch)+H[0]+me.text.slice(j.ch),w(0)),l.remove(D.line+1,Ge);else{E(ce,ce.text.slice(0,D.ch)+H[0],w(0)),E(me,je+me.text.slice(j.ch),De);var gt=k(1,H.length-1);Ge>1&&l.remove(D.line+1,Ge-1),l.insert(D.line+1,gt)}Pn(l,"change",l,f)}function Za(l,f,g){function v(w,E,k){if(w.linked)for(var D=0;D<w.linked.length;++D){var j=w.linked[D];if(j.doc!=E){var H=k&&j.sharedHist;g&&!H||(f(j.doc,H),v(j.doc,w,H))}}}v(l,null,!0)}function Ev(l,f){if(f.cm)throw new Error("This document is already in use.");l.doc=f,f.cm=l,Yd(l),cp(l),Tv(l),l.options.direction=f.direction,l.options.lineWrapping||So(l),l.options.mode=f.modeOption,ti(l)}function Tv(l){(l.doc.direction=="rtl"?Ue:te)(l.display.lineDiv,"CodeMirror-rtl")}function M0(l){Ai(l,function(){Tv(l),ti(l)})}function wf(l){this.done=[],this.undone=[],this.undoDepth=l?l.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=l?l.maxGeneration:1}function dp(l,f){var g={from:it(f.from),to:Ga(f),text:hn(l,f.from,f.to)};return Av(l,g,f.from.line,f.to.line+1),Za(l,function(v){return Av(v,g,f.from.line,f.to.line+1)},!0),g}function Pv(l){for(;l.length;){var f=Ct(l);if(f.ranges)l.pop();else break}}function D0(l,f){if(f)return Pv(l.done),Ct(l.done);if(l.done.length&&!Ct(l.done).ranges)return Ct(l.done);if(l.done.length>1&&!l.done[l.done.length-2].ranges)return l.done.pop(),Ct(l.done)}function kv(l,f,g,v){var w=l.history;w.undone.length=0;var E=+new Date,k,D;if((w.lastOp==v||w.lastOrigin==f.origin&&f.origin&&(f.origin.charAt(0)=="+"&&w.lastModTime>E-(l.cm?l.cm.options.historyEventDelay:500)||f.origin.charAt(0)=="*"))&&(k=D0(w,w.lastOp==v)))D=Ct(k.changes),ne(f.from,f.to)==0&&ne(f.from,D.to)==0?D.to=Ga(f):k.changes.push(dp(l,f));else{var j=Ct(w.done);for((!j||!j.ranges)&&_f(l.sel,w.done),k={changes:[dp(l,f)],generation:w.generation},w.done.push(k);w.done.length>w.undoDepth;)w.done.shift(),w.done[0].ranges||w.done.shift()}w.done.push(g),w.generation=++w.maxGeneration,w.lastModTime=w.lastSelTime=E,w.lastOp=w.lastSelOp=v,w.lastOrigin=w.lastSelOrigin=f.origin,D||Nr(l,"historyAdded")}function R0(l,f,g,v){var w=f.charAt(0);return w=="*"||w=="+"&&g.ranges.length==v.ranges.length&&g.somethingSelected()==v.somethingSelected()&&new Date-l.history.lastSelTime<=(l.cm?l.cm.options.historyEventDelay:500)}function N0(l,f,g,v){var w=l.history,E=v&&v.origin;g==w.lastSelOp||E&&w.lastSelOrigin==E&&(w.lastModTime==w.lastSelTime&&w.lastOrigin==E||R0(l,E,Ct(w.done),f))?w.done[w.done.length-1]=f:_f(f,w.done),w.lastSelTime=+new Date,w.lastSelOrigin=E,w.lastSelOp=g,v&&v.clearRedo!==!1&&Pv(w.undone)}function _f(l,f){var g=Ct(f);g&&g.ranges&&g.equals(l)||f.push(l)}function Av(l,f,g,v){var w=f["spans_"+l.id],E=0;l.iter(Math.max(l.first,g),Math.min(l.first+l.size,v),function(k){k.markedSpans&&((w||(w=f["spans_"+l.id]={}))[E]=k.markedSpans),++E})}function j0(l){if(!l)return null;for(var f,g=0;g<l.length;++g)l[g].marker.explicitlyCleared?f||(f=l.slice(0,g)):f&&f.push(l[g]);return f?f.length?f:null:l}function I0(l,f){var g=f["spans_"+l.id];if(!g)return null;for(var v=[],w=0;w<f.text.length;++w)v.push(j0(g[w]));return v}function Lv(l,f){var g=I0(l,f),v=oa(l,f);if(!g)return v;if(!v)return g;for(var w=0;w<g.length;++w){var E=g[w],k=v[w];if(E&&k)e:for(var D=0;D<k.length;++D){for(var j=k[D],H=0;H<E.length;++H)if(E[H].marker==j.marker)continue e;E.push(j)}else k&&(g[w]=k)}return g}function kl(l,f,g){for(var v=[],w=0;w<l.length;++w){var E=l[w];if(E.ranges){v.push(g?Ki.prototype.deepCopy.call(E):E);continue}var k=E.changes,D=[];v.push({changes:D});for(var j=0;j<k.length;++j){var H=k[j],ce=void 0;if(D.push({from:H.from,to:H.to,text:H.text}),f)for(var me in H)(ce=me.match(/^spans_(\d+)$/))&&qe(f,Number(ce[1]))>-1&&(Ct(D)[me]=H[me],delete H[me])}}return v}function pp(l,f,g,v){if(v){var w=l.anchor;if(g){var E=ne(f,w)<0;E!=ne(g,w)<0?(w=f,f=g):E!=ne(f,g)<0&&(f=g)}return new Gr(w,f)}else return new Gr(g||f,f)}function bf(l,f,g,v,w){w==null&&(w=l.cm&&(l.cm.display.shift||l.extend)),di(l,new Ki([pp(l.sel.primary(),f,g,w)],0),v)}function Mv(l,f,g){for(var v=[],w=l.cm&&(l.cm.display.shift||l.extend),E=0;E<l.sel.ranges.length;E++)v[E]=pp(l.sel.ranges[E],f[E],null,w);var k=ko(l.cm,v,l.sel.primIndex);di(l,k,g)}function hp(l,f,g,v){var w=l.sel.ranges.slice(0);w[f]=g,di(l,ko(l.cm,w,l.sel.primIndex),v)}function Dv(l,f,g,v){di(l,Ka(f,g),v)}function F0(l,f,g){var v={ranges:f.ranges,update:function(w){this.ranges=[];for(var E=0;E<w.length;E++)this.ranges[E]=new Gr(Ft(l,w[E].anchor),Ft(l,w[E].head))},origin:g&&g.origin};return Nr(l,"beforeSelectionChange",l,v),l.cm&&Nr(l.cm,"beforeSelectionChange",l.cm,v),v.ranges!=f.ranges?ko(l.cm,v.ranges,v.ranges.length-1):f}function Ku(l,f,g){var v=l.history.done,w=Ct(v);w&&w.ranges?(v[v.length-1]=f,xf(l,f,g)):di(l,f,g)}function di(l,f,g){xf(l,f,g),N0(l,l.sel,l.cm?l.cm.curOp.id:NaN,g)}function xf(l,f,g){(nt(l,"beforeSelectionChange")||l.cm&&nt(l.cm,"beforeSelectionChange"))&&(f=F0(l,f,g));var v=g&&g.bias||(ne(f.primary().head,l.sel.primary().head)<0?-1:1);Rv(l,Nv(l,f,v,!0)),!(g&&g.scroll===!1)&&l.cm&&l.cm.getOption("readOnly")!="nocursor"&&Wa(l.cm)}function Rv(l,f){f.equals(l.sel)||(l.sel=f,l.cm&&(l.cm.curOp.updateInput=1,l.cm.curOp.selectionChanged=!0,$r(l.cm)),Pn(l,"cursorActivity",l))}function pi(l){Rv(l,Nv(l,l.sel,null,!1))}function Nv(l,f,g,v){for(var w,E=0;E<f.ranges.length;E++){var k=f.ranges[E],D=f.ranges.length==l.sel.ranges.length&&l.sel.ranges[E],j=qa(l,k.anchor,D&&D.anchor,g,v),H=k.head==k.anchor?j:qa(l,k.head,D&&D.head,g,v);(w||j!=k.anchor||H!=k.head)&&(w||(w=f.ranges.slice(0,E)),w[E]=new Gr(j,H))}return w?ko(l.cm,w,f.primIndex):f}function Al(l,f,g,v,w){var E=kt(l,f.line);if(E.markedSpans)for(var k=0;k<E.markedSpans.length;++k){var D=E.markedSpans[k],j=D.marker,H="selectLeft"in j?!j.selectLeft:j.inclusiveLeft,ce="selectRight"in j?!j.selectRight:j.inclusiveRight;if((D.from==null||(H?D.from<=f.ch:D.from<f.ch))&&(D.to==null||(ce?D.to>=f.ch:D.to>f.ch))){if(w&&(Nr(j,"beforeCursorEnter"),j.explicitlyCleared))if(E.markedSpans){--k;continue}else break;if(!j.atomic)continue;if(g){var me=j.find(v<0?1:-1),je=void 0;if((v<0?ce:H)&&(me=jv(l,me,-v,me&&me.line==f.line?E:null)),me&&me.line==f.line&&(je=ne(me,g))&&(v<0?je<0:je>0))return Al(l,me,f,v,w)}var De=j.find(v<0?-1:1);return(v<0?H:ce)&&(De=jv(l,De,v,De.line==f.line?E:null)),De?Al(l,De,f,v,w):null}}return f}function qa(l,f,g,v,w){var E=v||1,k=Al(l,f,g,E,w)||!w&&Al(l,f,g,E,!0)||Al(l,f,g,-E,w)||!w&&Al(l,f,g,-E,!0);return k||(l.cantEdit=!0,I(l.first,0))}function jv(l,f,g,v){return g<0&&f.ch==0?f.line>l.first?Ft(l,I(f.line-1)):null:g>0&&f.ch==(v||kt(l,f.line)).text.length?f.line<l.first+l.size-1?I(f.line+1,0):null:new I(f.line,f.ch+g)}function Iv(l){l.setSelection(I(l.firstLine(),0),I(l.lastLine()),rt)}function Fv(l,f,g){var v={canceled:!1,from:f.from,to:f.to,text:f.text,origin:f.origin,cancel:function(){return v.canceled=!0}};return g&&(v.update=function(w,E,k,D){w&&(v.from=Ft(l,w)),E&&(v.to=Ft(l,E)),k&&(v.text=k),D!==void 0&&(v.origin=D)}),Nr(l,"beforeChange",l,v),l.cm&&Nr(l.cm,"beforeChange",l.cm,v),v.canceled?(l.cm&&(l.cm.curOp.updateInput=2),null):{from:v.from,to:v.to,text:v.text,origin:v.origin}}function Ll(l,f,g){if(l.cm){if(!l.cm.curOp)return Kn(l.cm,Ll)(l,f,g);if(l.cm.state.suppressEdits)return}if(!((nt(l,"beforeChange")||l.cm&&nt(l.cm,"beforeChange"))&&(f=Fv(l,f,!0),!f))){var v=Ou&&!g&&hl(l,f.from,f.to);if(v)for(var w=v.length-1;w>=0;--w)Vv(l,{from:v[w].from,to:v[w].to,text:w?[""]:f.text,origin:f.origin});else Vv(l,f)}}function Vv(l,f){if(!(f.text.length==1&&f.text[0]==""&&ne(f.from,f.to)==0)){var g=up(l,f);kv(l,f,g,l.cm?l.cm.curOp.id:NaN),Gu(l,f,g,oa(l,f));var v=[];Za(l,function(w,E){!E&&qe(v,w.history)==-1&&(Cf(w.history,f),v.push(w.history)),Gu(w,f,null,oa(w,f))})}}function Sf(l,f,g){var v=l.cm&&l.cm.state.suppressEdits;if(!(v&&!g)){for(var w=l.history,E,k=l.sel,D=f=="undo"?w.done:w.undone,j=f=="undo"?w.undone:w.done,H=0;H<D.length&&(E=D[H],!(g?E.ranges&&!E.equals(l.sel):!E.ranges));H++);if(H!=D.length){for(w.lastOrigin=w.lastSelOrigin=null;;)if(E=D.pop(),E.ranges){if(_f(E,j),g&&!E.equals(l.sel)){di(l,E,{clearRedo:!1});return}k=E}else if(v){D.push(E);return}else break;var ce=[];_f(k,j),j.push({changes:ce,generation:w.generation}),w.generation=E.generation||++w.maxGeneration;for(var me=nt(l,"beforeChange")||l.cm&&nt(l.cm,"beforeChange"),je=function(Je){var ct=E.changes[Je];if(ct.origin=f,me&&!Fv(l,ct,!1))return D.length=0,{};ce.push(dp(l,ct));var gt=Je?up(l,ct):Ct(D);Gu(l,ct,gt,Lv(l,ct)),!Je&&l.cm&&l.cm.scrollIntoView({from:ct.from,to:Ga(ct)});var Pt=[];Za(l,function(bt,At){!At&&qe(Pt,bt.history)==-1&&(Cf(bt.history,ct),Pt.push(bt.history)),Gu(bt,ct,null,Lv(bt,ct))})},De=E.changes.length-1;De>=0;--De){var Ge=je(De);if(Ge)return Ge.v}}}}function Uv(l,f){if(f!=0&&(l.first+=f,l.sel=new Ki(M(l.sel.ranges,function(w){return new Gr(I(w.anchor.line+f,w.anchor.ch),I(w.head.line+f,w.head.ch))}),l.sel.primIndex),l.cm)){ti(l.cm,l.first,l.first-f,f);for(var g=l.cm.display,v=g.viewFrom;v<g.viewTo;v++)Ha(l.cm,v,"gutter")}}function Gu(l,f,g,v){if(l.cm&&!l.cm.curOp)return Kn(l.cm,Gu)(l,f,g,v);if(f.to.line<l.first){Uv(l,f.text.length-1-(f.to.line-f.from.line));return}if(!(f.from.line>l.lastLine())){if(f.from.line<l.first){var w=f.text.length-1-(l.first-f.from.line);Uv(l,w),f={from:I(l.first,0),to:I(f.to.line+w,f.to.ch),text:[Ct(f.text)],origin:f.origin}}var E=l.lastLine();f.to.line>E&&(f={from:f.from,to:I(E,kt(l,E).text.length),text:[f.text[0]],origin:f.origin}),f.removed=hn(l,f.from,f.to),g||(g=up(l,f)),l.cm?V0(l.cm,f,v):fp(l,f,v),xf(l,g,rt),l.cantEdit&&qa(l,I(l.firstLine(),0))&&(l.cantEdit=!1)}}function V0(l,f,g){var v=l.doc,w=l.display,E=f.from,k=f.to,D=!1,j=E.line;l.options.lineWrapping||(j=hr(Or(kt(v,E.line))),v.iter(j,k.line+1,function(De){if(De==w.maxLine)return D=!0,!0})),v.sel.contains(f.from,f.to)>-1&&$r(l),fp(v,f,g,uf(l)),l.options.lineWrapping||(v.iter(j,E.line+f.text.length,function(De){var Ge=xo(De);Ge>w.maxLineLength&&(w.maxLine=De,w.maxLineLength=Ge,w.maxLineChanged=!0,D=!1)}),D&&(l.curOp.updateMaxLine=!0)),bo(v,E.line),vn(l,400);var H=f.text.length-(k.line-E.line)-1;f.full?ti(l):E.line==k.line&&f.text.length==1&&!Ov(l.doc,f)?Ha(l,E.line,"text"):ti(l,E.line,k.line+1,H);var ce=nt(l,"changes"),me=nt(l,"change");if(me||ce){var je={from:E,to:k,text:f.text,removed:f.removed,origin:f.origin};me&&Pn(l,"change",l,je),ce&&(l.curOp.changeObjs||(l.curOp.changeObjs=[])).push(je)}l.display.selForContextMenu=null}function Ml(l,f,g,v,w){var E;v||(v=g),ne(v,g)<0&&(E=[v,g],g=E[0],v=E[1]),typeof f=="string"&&(f=l.splitLines(f)),Ll(l,{from:g,to:v,text:f,origin:w})}function Dl(l,f,g,v){g<l.line?l.line+=v:f<l.line&&(l.line=f,l.ch=0)}function Bv(l,f,g,v){for(var w=0;w<l.length;++w){var E=l[w],k=!0;if(E.ranges){E.copied||(E=l[w]=E.deepCopy(),E.copied=!0);for(var D=0;D<E.ranges.length;D++)Dl(E.ranges[D].anchor,f,g,v),Dl(E.ranges[D].head,f,g,v);continue}for(var j=0;j<E.changes.length;++j){var H=E.changes[j];if(g<H.from.line)H.from=I(H.from.line+v,H.from.ch),H.to=I(H.to.line+v,H.to.ch);else if(f<=H.to.line){k=!1;break}}k||(l.splice(0,w+1),w=0)}}function Cf(l,f){var g=f.from.line,v=f.to.line,w=f.text.length-(v-g)-1;Bv(l.done,g,v,w),Bv(l.undone,g,v,w)}function Zu(l,f,g,v){var w=f,E=f;return typeof f=="number"?E=kt(l,Vr(l,f)):w=hr(f),w==null?null:(v(E,w)&&l.cm&&Ha(l.cm,w,g),E)}function Rl(l){this.lines=l,this.parent=null;for(var f=0,g=0;g<l.length;++g)l[g].parent=this,f+=l[g].height;this.height=f}Rl.prototype={chunkSize:function(){return this.lines.length},removeInner:function(l,f){for(var g=l,v=l+f;g<v;++g){var w=this.lines[g];this.height-=w.height,$n(w),Pn(w,"delete")}this.lines.splice(l,f)},collapse:function(l){l.push.apply(l,this.lines)},insertInner:function(l,f,g){this.height+=g,this.lines=this.lines.slice(0,l).concat(f).concat(this.lines.slice(l));for(var v=0;v<f.length;++v)f[v].parent=this},iterN:function(l,f,g){for(var v=l+f;l<v;++l)if(g(this.lines[l]))return!0}};function qu(l){this.children=l;for(var f=0,g=0,v=0;v<l.length;++v){var w=l[v];f+=w.chunkSize(),g+=w.height,w.parent=this}this.size=f,this.height=g,this.parent=null}qu.prototype={chunkSize:function(){return this.size},removeInner:function(l,f){this.size-=f;for(var g=0;g<this.children.length;++g){var v=this.children[g],w=v.chunkSize();if(l<w){var E=Math.min(f,w-l),k=v.height;if(v.removeInner(l,E),this.height-=k-v.height,w==E&&(this.children.splice(g--,1),v.parent=null),(f-=E)==0)break;l=0}else l-=w}if(this.size-f<25&&(this.children.length>1||!(this.children[0]instanceof Rl))){var D=[];this.collapse(D),this.children=[new Rl(D)],this.children[0].parent=this}},collapse:function(l){for(var f=0;f<this.children.length;++f)this.children[f].collapse(l)},insertInner:function(l,f,g){this.size+=f.length,this.height+=g;for(var v=0;v<this.children.length;++v){var w=this.children[v],E=w.chunkSize();if(l<=E){if(w.insertInner(l,f,g),w.lines&&w.lines.length>50){for(var k=w.lines.length%25+25,D=k;D<w.lines.length;){var j=new Rl(w.lines.slice(D,D+=25));w.height-=j.height,this.children.splice(++v,0,j),j.parent=this}w.lines=w.lines.slice(0,k),this.maybeSpill()}break}l-=E}},maybeSpill:function(){if(!(this.children.length<=10)){var l=this;do{var f=l.children.splice(l.children.length-5,5),g=new qu(f);if(l.parent){l.size-=g.size,l.height-=g.height;var w=qe(l.parent.children,l);l.parent.children.splice(w+1,0,g)}else{var v=new qu(l.children);v.parent=l,l.children=[v,g],l=v}g.parent=l.parent}while(l.children.length>10);l.parent.maybeSpill()}},iterN:function(l,f,g){for(var v=0;v<this.children.length;++v){var w=this.children[v],E=w.chunkSize();if(l<E){var k=Math.min(f,E-l);if(w.iterN(l,k,g))return!0;if((f-=k)==0)break;l=0}else l-=E}}};var Nl=function(l,f,g){if(g)for(var v in g)g.hasOwnProperty(v)&&(this[v]=g[v]);this.doc=l,this.node=f};Nl.prototype.clear=function(){var l=this.doc.cm,f=this.line.widgets,g=this.line,v=hr(g);if(!(v==null||!f)){for(var w=0;w<f.length;++w)f[w]==this&&f.splice(w--,1);f.length||(g.widgets=null);var E=$o(this);cn(g,Math.max(0,g.height-E)),l&&(Ai(l,function(){Hv(l,g,-E),Ha(l,v,"widget")}),Pn(l,"lineWidgetCleared",l,this,v))}},Nl.prototype.changed=function(){var l=this,f=this.height,g=this.doc.cm,v=this.line;this.height=null;var w=$o(this)-f;w&&(ki(this.doc,v)||cn(v,v.height+w),g&&Ai(g,function(){g.curOp.forceUpdate=!0,Hv(g,v,w),Pn(g,"lineWidgetChanged",g,l,hr(v))}))},_i(Nl);function Hv(l,f,g){Kr(f)<(l.curOp&&l.curOp.scrollTop||l.doc.scrollTop)&&El(l,g)}function U0(l,f,g,v){var w=new Nl(l,g,v),E=l.cm;return E&&w.noHScroll&&(E.display.alignWidgets=!0),Zu(l,f,"widget",function(k){var D=k.widgets||(k.widgets=[]);if(w.insertAt==null?D.push(w):D.splice(Math.min(D.length,Math.max(0,w.insertAt)),0,w),w.line=k,E&&!ki(l,k)){var j=Kr(k)<l.scrollTop;cn(k,k.height+$o(w)),j&&El(E,w.height),E.curOp.forceUpdate=!0}return!0}),E&&Pn(E,"lineWidgetAdded",E,w,typeof f=="number"?f:hr(f)),w}var Ya=0,Xa=function(l,f){this.lines=[],this.type=f,this.doc=l,this.id=++Ya};Xa.prototype.clear=function(){if(!this.explicitlyCleared){var l=this.doc.cm,f=l&&!l.curOp;if(f&&Ns(l),nt(this,"clear")){var g=this.find();g&&Pn(this,"clear",g.from,g.to)}for(var v=null,w=null,E=0;E<this.lines.length;++E){var k=this.lines[E],D=Da(k.markedSpans,this);l&&!this.collapsed?Ha(l,hr(k),"text"):l&&(D.to!=null&&(w=hr(k)),D.from!=null&&(v=hr(k))),k.markedSpans=xs(k.markedSpans,D),D.from==null&&this.collapsed&&!ki(this.doc,k)&&l&&cn(k,bl(l.display))}if(l&&this.collapsed&&!l.options.lineWrapping)for(var j=0;j<this.lines.length;++j){var H=Or(this.lines[j]),ce=xo(H);ce>l.display.maxLineLength&&(l.display.maxLine=H,l.display.maxLineLength=ce,l.display.maxLineChanged=!0)}v!=null&&l&&this.collapsed&&ti(l,v,w+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,l&&pi(l.doc)),l&&Pn(l,"markerCleared",l,this,v,w),f&&js(l),this.parent&&this.parent.clear()}},Xa.prototype.find=function(l,f){l==null&&this.type=="bookmark"&&(l=1);for(var g,v,w=0;w<this.lines.length;++w){var E=this.lines[w],k=Da(E.markedSpans,this);if(k.from!=null&&(g=I(f?E:hr(E),k.from),l==-1))return g;if(k.to!=null&&(v=I(f?E:hr(E),k.to),l==1))return v}return g&&{from:g,to:v}},Xa.prototype.changed=function(){var l=this,f=this.find(-1,!0),g=this,v=this.doc.cm;!f||!v||Ai(v,function(){var w=f.line,E=hr(f.line),k=fr(v,E);if(k&&(ju(k),v.curOp.selectionChanged=v.curOp.forceUpdate=!0),v.curOp.updateMaxLine=!0,!ki(g.doc,w)&&g.height!=null){var D=g.height;g.height=null;var j=$o(g)-D;j&&cn(w,w.height+j)}Pn(v,"markerChanged",v,l)})},Xa.prototype.attachLine=function(l){if(!this.lines.length&&this.doc.cm){var f=this.doc.cm.curOp;(!f.maybeHiddenMarkers||qe(f.maybeHiddenMarkers,this)==-1)&&(f.maybeUnhiddenMarkers||(f.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(l)},Xa.prototype.detachLine=function(l){if(this.lines.splice(qe(this.lines,l),1),!this.lines.length&&this.doc.cm){var f=this.doc.cm.curOp;(f.maybeHiddenMarkers||(f.maybeHiddenMarkers=[])).push(this)}},_i(Xa);function jl(l,f,g,v,w){if(v&&v.shared)return B0(l,f,g,v,w);if(l.cm&&!l.cm.curOp)return Kn(l.cm,jl)(l,f,g,v,w);var E=new Xa(l,w),k=ne(f,g);if(v&&dt(v,E,!1),k>0||k==0&&E.clearWhenEmpty!==!1)return E;if(E.replacedWith&&(E.collapsed=!0,E.widgetNode=be("span",[E.replacedWith],"CodeMirror-widget"),v.handleMouseEvents||E.widgetNode.setAttribute("cm-ignore-events","true"),v.insertLeft&&(E.widgetNode.insertLeft=!0)),E.collapsed){if(so(l,f.line,f,g,E)||f.line!=g.line&&so(l,g.line,f,g,E))throw new Error("Inserting collapsed marker partially overlapping an existing one");La()}E.addToHistory&&kv(l,{from:f,to:g,origin:"markText"},l.sel,NaN);var D=f.line,j=l.cm,H;if(l.iter(D,g.line+1,function(me){j&&E.collapsed&&!j.options.lineWrapping&&Or(me)==j.display.maxLine&&(H=!0),E.collapsed&&D!=f.line&&cn(me,0),Eu(me,new Ma(E,D==f.line?f.ch:null,D==g.line?g.ch:null),l.cm&&l.cm.curOp),++D}),E.collapsed&&l.iter(f.line,g.line+1,function(me){ki(l,me)&&cn(me,0)}),E.clearOnEnter&&Mt(E,"beforeCursorEnter",function(){return E.clear()}),E.readOnly&&(qc(),(l.history.done.length||l.history.undone.length)&&l.clearHistory()),E.collapsed&&(E.id=++Ya,E.atomic=!0),j){if(H&&(j.curOp.updateMaxLine=!0),E.collapsed)ti(j,f.line,g.line+1);else if(E.className||E.startStyle||E.endStyle||E.css||E.attributes||E.title)for(var ce=f.line;ce<=g.line;ce++)Ha(j,ce,"text");E.atomic&&pi(j.doc),Pn(j,"markerAdded",j,E)}return E}var Yu=function(l,f){this.markers=l,this.primary=f;for(var g=0;g<l.length;++g)l[g].parent=this};Yu.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var l=0;l<this.markers.length;++l)this.markers[l].clear();Pn(this,"clear")}},Yu.prototype.find=function(l,f){return this.primary.find(l,f)},_i(Yu);function B0(l,f,g,v,w){v=dt(v),v.shared=!1;var E=[jl(l,f,g,v,w)],k=E[0],D=v.widgetNode;return Za(l,function(j){D&&(v.widgetNode=D.cloneNode(!0)),E.push(jl(j,Ft(j,f),Ft(j,g),v,w));for(var H=0;H<j.linked.length;++H)if(j.linked[H].isParent)return;k=Ct(E)}),new Yu(E,k)}function zv(l){return l.findMarks(I(l.first,0),l.clipPos(I(l.lastLine())),function(f){return f.parent})}function H0(l,f){for(var g=0;g<f.length;g++){var v=f[g],w=v.find(),E=l.clipPos(w.from),k=l.clipPos(w.to);if(ne(E,k)){var D=jl(l,E,k,v.primary,v.primary.type);v.markers.push(D),D.parent=v}}}function z0(l){for(var f=function(v){var w=l[v],E=[w.primary.doc];Za(w.primary.doc,function(j){return E.push(j)});for(var k=0;k<w.markers.length;k++){var D=w.markers[k];qe(E,D.doc)==-1&&(D.parent=null,w.markers.splice(k--,1))}},g=0;g<l.length;g++)f(g)}var Wv=0,Li=function(l,f,g,v,w){if(!(this instanceof Li))return new Li(l,f,g,v,w);g==null&&(g=0),qu.call(this,[new Rl([new Co("",null)])]),this.first=g,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=g;var E=I(g,0);this.sel=Ka(E),this.history=new wf(null),this.id=++Wv,this.modeOption=f,this.lineSep=v,this.direction=w=="rtl"?"rtl":"ltr",this.extend=!1,typeof l=="string"&&(l=this.splitLines(l)),fp(this,{from:E,to:E,text:l}),di(this,Ka(E),rt)};Li.prototype=pe(qu.prototype,{constructor:Li,iter:function(l,f,g){g?this.iterN(l-this.first,f-l,g):this.iterN(this.first,this.first+this.size,l)},insert:function(l,f){for(var g=0,v=0;v<f.length;++v)g+=f[v].height;this.insertInner(l-this.first,f,g)},remove:function(l,f){this.removeInner(l-this.first,f)},getValue:function(l){var f=Mr(this,this.first,this.first+this.size);return l===!1?f:f.join(l||this.lineSeparator())},setValue:Gn(function(l){var f=I(this.first,0),g=this.first+this.size-1;Ll(this,{from:f,to:I(g,kt(this,g).text.length),text:this.splitLines(l),origin:"setValue",full:!0},!0),this.cm&&Bu(this.cm,0,0),di(this,Ka(f),rt)}),replaceRange:function(l,f,g,v){f=Ft(this,f),g=g?Ft(this,g):f,Ml(this,l,f,g,v)},getRange:function(l,f,g){var v=hn(this,Ft(this,l),Ft(this,f));return g===!1?v:g===""?v.join(""):v.join(g||this.lineSeparator())},getLine:function(l){var f=this.getLineHandle(l);return f&&f.text},getLineHandle:function(l){if(Kt(this,l))return kt(this,l)},getLineNumber:function(l){return hr(l)},getLineHandleVisualStart:function(l){return typeof l=="number"&&(l=kt(this,l)),Or(l)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(l){return Ft(this,l)},getCursor:function(l){var f=this.sel.primary(),g;return l==null||l=="head"?g=f.head:l=="anchor"?g=f.anchor:l=="end"||l=="to"||l===!1?g=f.to():g=f.from(),g},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Gn(function(l,f,g){Dv(this,Ft(this,typeof l=="number"?I(l,f||0):l),null,g)}),setSelection:Gn(function(l,f,g){Dv(this,Ft(this,l),Ft(this,f||l),g)}),extendSelection:Gn(function(l,f,g){bf(this,Ft(this,l),f&&Ft(this,f),g)}),extendSelections:Gn(function(l,f){Mv(this,ia(this,l),f)}),extendSelectionsBy:Gn(function(l,f){var g=M(this.sel.ranges,l);Mv(this,ia(this,g),f)}),setSelections:Gn(function(l,f,g){if(l.length){for(var v=[],w=0;w<l.length;w++)v[w]=new Gr(Ft(this,l[w].anchor),Ft(this,l[w].head||l[w].anchor));f==null&&(f=Math.min(l.length-1,this.sel.primIndex)),di(this,ko(this.cm,v,f),g)}}),addSelection:Gn(function(l,f,g){var v=this.sel.ranges.slice(0);v.push(new Gr(Ft(this,l),Ft(this,f||l))),di(this,ko(this.cm,v,v.length-1),g)}),getSelection:function(l){for(var f=this.sel.ranges,g,v=0;v<f.length;v++){var w=hn(this,f[v].from(),f[v].to());g=g?g.concat(w):w}return l===!1?g:g.join(l||this.lineSeparator())},getSelections:function(l){for(var f=[],g=this.sel.ranges,v=0;v<g.length;v++){var w=hn(this,g[v].from(),g[v].to());l!==!1&&(w=w.join(l||this.lineSeparator())),f[v]=w}return f},replaceSelection:function(l,f,g){for(var v=[],w=0;w<this.sel.ranges.length;w++)v[w]=l;this.replaceSelections(v,f,g||"+input")},replaceSelections:Gn(function(l,f,g){for(var v=[],w=this.sel,E=0;E<w.ranges.length;E++){var k=w.ranges[E];v[E]={from:k.from(),to:k.to(),text:this.splitLines(l[E]),origin:g}}for(var D=f&&f!="end"&&L0(this,v,f),j=v.length-1;j>=0;j--)Ll(this,v[j]);D?Ku(this,D):this.cm&&Wa(this.cm)}),undo:Gn(function(){Sf(this,"undo")}),redo:Gn(function(){Sf(this,"redo")}),undoSelection:Gn(function(){Sf(this,"undo",!0)}),redoSelection:Gn(function(){Sf(this,"redo",!0)}),setExtending:function(l){this.extend=l},getExtending:function(){return this.extend},historySize:function(){for(var l=this.history,f=0,g=0,v=0;v<l.done.length;v++)l.done[v].ranges||++f;for(var w=0;w<l.undone.length;w++)l.undone[w].ranges||++g;return{undo:f,redo:g}},clearHistory:function(){var l=this;this.history=new wf(this.history),Za(this,function(f){return f.history=l.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(l){return l&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(l){return this.history.generation==(l||this.cleanGeneration)},getHistory:function(){return{done:kl(this.history.done),undone:kl(this.history.undone)}},setHistory:function(l){var f=this.history=new wf(this.history);f.done=kl(l.done.slice(0),null,!0),f.undone=kl(l.undone.slice(0),null,!0)},setGutterMarker:Gn(function(l,f,g){return Zu(this,l,"gutter",function(v){var w=v.gutterMarkers||(v.gutterMarkers={});return w[f]=g,!g&&Oe(w)&&(v.gutterMarkers=null),!0})}),clearGutter:Gn(function(l){var f=this;this.iter(function(g){g.gutterMarkers&&g.gutterMarkers[l]&&Zu(f,g,"gutter",function(){return g.gutterMarkers[l]=null,Oe(g.gutterMarkers)&&(g.gutterMarkers=null),!0})})}),lineInfo:function(l){var f;if(typeof l=="number"){if(!Kt(this,l)||(f=l,l=kt(this,l),!l))return null}else if(f=hr(l),f==null)return null;return{line:f,handle:l,text:l.text,gutterMarkers:l.gutterMarkers,textClass:l.textClass,bgClass:l.bgClass,wrapClass:l.wrapClass,widgets:l.widgets}},addLineClass:Gn(function(l,f,g){return Zu(this,l,f=="gutter"?"gutter":"class",function(v){var w=f=="text"?"textClass":f=="background"?"bgClass":f=="gutter"?"gutterClass":"wrapClass";if(!v[w])v[w]=g;else{if(ve(g).test(v[w]))return!1;v[w]+=" "+g}return!0})}),removeLineClass:Gn(function(l,f,g){return Zu(this,l,f=="gutter"?"gutter":"class",function(v){var w=f=="text"?"textClass":f=="background"?"bgClass":f=="gutter"?"gutterClass":"wrapClass",E=v[w];if(E)if(g==null)v[w]=null;else{var k=E.match(ve(g));if(!k)return!1;var D=k.index+k[0].length;v[w]=E.slice(0,k.index)+(!k.index||D==E.length?"":" ")+E.slice(D)||null}else return!1;return!0})}),addLineWidget:Gn(function(l,f,g){return U0(this,l,f,g)}),removeLineWidget:function(l){l.clear()},markText:function(l,f,g){return jl(this,Ft(this,l),Ft(this,f),g,g&&g.type||"range")},setBookmark:function(l,f){var g={replacedWith:f&&(f.nodeType==null?f.widget:f),insertLeft:f&&f.insertLeft,clearWhenEmpty:!1,shared:f&&f.shared,handleMouseEvents:f&&f.handleMouseEvents};return l=Ft(this,l),jl(this,l,l,g,"bookmark")},findMarksAt:function(l){l=Ft(this,l);var f=[],g=kt(this,l.line).markedSpans;if(g)for(var v=0;v<g.length;++v){var w=g[v];(w.from==null||w.from<=l.ch)&&(w.to==null||w.to>=l.ch)&&f.push(w.marker.parent||w.marker)}return f},findMarks:function(l,f,g){l=Ft(this,l),f=Ft(this,f);var v=[],w=l.line;return this.iter(l.line,f.line+1,function(E){var k=E.markedSpans;if(k)for(var D=0;D<k.length;D++){var j=k[D];!(j.to!=null&&w==l.line&&l.ch>=j.to||j.from==null&&w!=l.line||j.from!=null&&w==f.line&&j.from>=f.ch)&&(!g||g(j.marker))&&v.push(j.marker.parent||j.marker)}++w}),v},getAllMarks:function(){var l=[];return this.iter(function(f){var g=f.markedSpans;if(g)for(var v=0;v<g.length;++v)g[v].from!=null&&l.push(g[v].marker)}),l},posFromIndex:function(l){var f,g=this.first,v=this.lineSeparator().length;return this.iter(function(w){var E=w.text.length+v;if(E>l)return f=l,!0;l-=E,++g}),Ft(this,I(g,f))},indexFromPos:function(l){l=Ft(this,l);var f=l.ch;if(l.line<this.first||l.ch<0)return 0;var g=this.lineSeparator().length;return this.iter(this.first,l.line,function(v){f+=v.text.length+g}),f},copy:function(l){var f=new Li(Mr(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return f.scrollTop=this.scrollTop,f.scrollLeft=this.scrollLeft,f.sel=this.sel,f.extend=!1,l&&(f.history.undoDepth=this.history.undoDepth,f.setHistory(this.getHistory())),f},linkedDoc:function(l){l||(l={});var f=this.first,g=this.first+this.size;l.from!=null&&l.from>f&&(f=l.from),l.to!=null&&l.to<g&&(g=l.to);var v=new Li(Mr(this,f,g),l.mode||this.modeOption,f,this.lineSep,this.direction);return l.sharedHist&&(v.history=this.history),(this.linked||(this.linked=[])).push({doc:v,sharedHist:l.sharedHist}),v.linked=[{doc:this,isParent:!0,sharedHist:l.sharedHist}],H0(v,zv(this)),v},unlinkDoc:function(l){if(l instanceof sn&&(l=l.doc),this.linked)for(var f=0;f<this.linked.length;++f){var g=this.linked[f];if(g.doc==l){this.linked.splice(f,1),l.unlinkDoc(this),z0(zv(this));break}}if(l.history==this.history){var v=[l.id];Za(l,function(w){return v.push(w.id)},!0),l.history=new wf(null),l.history.done=kl(this.history.done,v),l.history.undone=kl(this.history.undone,v)}},iterLinkedDocs:function(l){Za(this,l)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(l){return this.lineSep?l.split(this.lineSep):Xe(l)},lineSeparator:function(){return this.lineSep||`
`},setDirection:Gn(function(l){l!="rtl"&&(l="ltr"),l!=this.direction&&(this.direction=l,this.iter(function(f){return f.order=null}),this.cm&&M0(this.cm))})}),Li.prototype.eachLine=Li.prototype.iter;var vp=0;function Of(l){var f=this;if($v(f),!(Wr(f,l)||Eo(f.display,l))){ee(l),x&&(vp=+new Date);var g=Ba(f,l,!0),v=l.dataTransfer.files;if(!(!g||f.isReadOnly()))if(v&&v.length&&window.FileReader&&window.File)for(var w=v.length,E=Array(w),k=0,D=function(){++k==w&&Kn(f,function(){g=Ft(f.doc,g);var De={from:g,to:g,text:f.doc.splitLines(E.filter(function(Ge){return Ge!=null}).join(f.doc.lineSeparator())),origin:"paste"};Ll(f.doc,De),Ku(f.doc,Ka(Ft(f.doc,g),Ft(f.doc,Ga(De))))})()},j=function(De,Ge){if(f.options.allowDropFileTypes&&qe(f.options.allowDropFileTypes,De.type)==-1){D();return}var Je=new FileReader;Je.onerror=function(){return D()},Je.onload=function(){var ct=Je.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(ct)){D();return}E[Ge]=ct,D()},Je.readAsText(De)},H=0;H<v.length;H++)j(v[H],H);else{if(f.state.draggingText&&f.doc.sel.contains(g)>-1){f.state.draggingText(l),setTimeout(function(){return f.display.input.focus()},20);return}try{var ce=l.dataTransfer.getData("Text");if(ce){var me;if(f.state.draggingText&&!f.state.draggingText.copy&&(me=f.listSelections()),xf(f.doc,Ka(g,g)),me)for(var je=0;je<me.length;++je)Ml(f.doc,"",me[je].anchor,me[je].head,"drag");f.replaceSelection(ce,"around","paste"),f.display.input.focus()}}catch{}}}}function Xu(l,f){if(x&&(!l.state.draggingText||+new Date-vp<100)){Qe(f);return}if(!(Wr(l,f)||Eo(l.display,f))&&(f.dataTransfer.setData("Text",l.getSelection()),f.dataTransfer.effectAllowed="copyMove",f.dataTransfer.setDragImage&&!U)){var g=G("img",null,null,"position: fixed; left: 0; top: 0;");g.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",N&&(g.width=g.height=1,l.display.wrapper.appendChild(g),g._top=g.offsetTop),f.dataTransfer.setDragImage(g,0,0),N&&g.parentNode.removeChild(g)}}function W0(l,f){var g=Ba(l,f);if(g){var v=document.createDocumentFragment();Xd(l,g,v),l.display.dragCursor||(l.display.dragCursor=G("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),l.display.lineSpace.insertBefore(l.display.dragCursor,l.display.cursorDiv)),ae(l.display.dragCursor,v)}}function $v(l){l.display.dragCursor&&(l.display.lineSpace.removeChild(l.display.dragCursor),l.display.dragCursor=null)}function Kv(l){if(document.getElementsByClassName){for(var f=document.getElementsByClassName("CodeMirror"),g=[],v=0;v<f.length;v++){var w=f[v].CodeMirror;w&&g.push(w)}g.length&&g[0].operation(function(){for(var E=0;E<g.length;E++)l(g[E])})}}var Gv=!1;function $0(){Gv||(K0(),Gv=!0)}function K0(){var l;Mt(window,"resize",function(){l==null&&(l=setTimeout(function(){l=null,Kv(Zv)},100))}),Mt(window,"blur",function(){return Kv(Ol)})}function Zv(l){var f=l.display;f.cachedCharWidth=f.cachedTextHeight=f.cachedPaddingH=null,f.scrollbarsClipped=!1,l.setSize()}for(var da={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Ju=0;Ju<10;Ju++)da[Ju+48]=da[Ju+96]=String(Ju);for(var Fs=65;Fs<=90;Fs++)da[Fs]=String.fromCharCode(Fs);for(var Qu=1;Qu<=12;Qu++)da[Qu+111]=da[Qu+63235]="F"+Qu;var Go={};Go.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Go.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Go.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Go.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Go.default=X?Go.macDefault:Go.pcDefault;function G0(l){var f=l.split(/-(?!$)/);l=f[f.length-1];for(var g,v,w,E,k=0;k<f.length-1;k++){var D=f[k];if(/^(cmd|meta|m)$/i.test(D))E=!0;else if(/^a(lt)?$/i.test(D))g=!0;else if(/^(c|ctrl|control)$/i.test(D))v=!0;else if(/^s(hift)?$/i.test(D))w=!0;else throw new Error("Unrecognized modifier name: "+D)}return g&&(l="Alt-"+l),v&&(l="Ctrl-"+l),E&&(l="Cmd-"+l),w&&(l="Shift-"+l),l}function Ja(l){var f={};for(var g in l)if(l.hasOwnProperty(g)){var v=l[g];if(/^(name|fallthrough|(de|at)tach)$/.test(g))continue;if(v=="..."){delete l[g];continue}for(var w=M(g.split(" "),G0),E=0;E<w.length;E++){var k=void 0,D=void 0;E==w.length-1?(D=w.join(" "),k=v):(D=w.slice(0,E+1).join(" "),k="...");var j=f[D];if(!j)f[D]=k;else if(j!=k)throw new Error("Inconsistent bindings for "+D)}delete l[g]}for(var H in f)l[H]=f[H];return l}function Il(l,f,g,v){f=Ef(f);var w=f.call?f.call(l,v):f[l];if(w===!1)return"nothing";if(w==="...")return"multi";if(w!=null&&g(w))return"handled";if(f.fallthrough){if(Object.prototype.toString.call(f.fallthrough)!="[object Array]")return Il(l,f.fallthrough,g,v);for(var E=0;E<f.fallthrough.length;E++){var k=Il(l,f.fallthrough[E],g,v);if(k)return k}}}function qv(l){var f=typeof l=="string"?l:da[l.keyCode];return f=="Ctrl"||f=="Alt"||f=="Shift"||f=="Mod"}function Yv(l,f,g){var v=l;return f.altKey&&v!="Alt"&&(l="Alt-"+l),(Ae?f.metaKey:f.ctrlKey)&&v!="Ctrl"&&(l="Ctrl-"+l),(Ae?f.ctrlKey:f.metaKey)&&v!="Mod"&&(l="Cmd-"+l),!g&&f.shiftKey&&v!="Shift"&&(l="Shift-"+l),l}function Xv(l,f){if(N&&l.keyCode==34&&l.char)return!1;var g=da[l.keyCode];return g==null||l.altGraphKey?!1:(l.keyCode==3&&l.code&&(g=l.code),Yv(g,l,f))}function Ef(l){return typeof l=="string"?Go[l]:l}function Vs(l,f){for(var g=l.doc.sel.ranges,v=[],w=0;w<g.length;w++){for(var E=f(g[w]);v.length&&ne(E.from,Ct(v).to)<=0;){var k=v.pop();if(ne(k.from,E.from)<0){E.from=k.from;break}}v.push(E)}Ai(l,function(){for(var D=v.length-1;D>=0;D--)Ml(l.doc,"",v[D].from,v[D].to,"+delete");Wa(l)})}function ec(l,f,g){var v=Vt(l.text,f+g,g);return v<0||v>l.text.length?null:v}function gp(l,f,g){var v=ec(l,f.ch,g);return v==null?null:new I(f.line,v,g<0?"after":"before")}function mp(l,f,g,v,w){if(l){f.doc.direction=="rtl"&&(w=-w);var E=dr(g,f.doc.direction);if(E){var k=w<0?Ct(E):E[0],D=w<0==(k.level==1),j=D?"after":"before",H;if(k.level>0||f.doc.direction=="rtl"){var ce=ir(f,g);H=w<0?g.text.length-1:0;var me=en(f,ce,H).top;H=rr(function(je){return en(f,ce,je).top==me},w<0==(k.level==1)?k.from:k.to-1,H),j=="before"&&(H=ec(g,H,1))}else H=w<0?k.to:k.from;return new I(v,H,j)}}return new I(v,w<0?g.text.length:0,w<0?"before":"after")}function Jv(l,f,g,v){var w=dr(f,l.doc.direction);if(!w)return gp(f,g,v);g.ch>=f.text.length?(g.ch=f.text.length,g.sticky="before"):g.ch<=0&&(g.ch=0,g.sticky="after");var E=Sr(w,g.ch,g.sticky),k=w[E];if(l.doc.direction=="ltr"&&k.level%2==0&&(v>0?k.to>g.ch:k.from<g.ch))return gp(f,g,v);var D=function(gt,Pt){return ec(f,gt instanceof I?gt.ch:gt,Pt)},j,H=function(gt){return l.options.lineWrapping?(j=j||ir(l,f),Vu(l,f,j,gt)):{begin:0,end:f.text.length}},ce=H(g.sticky=="before"?D(g,-1):g.ch);if(l.doc.direction=="rtl"||k.level==1){var me=k.level==1==v<0,je=D(g,me?1:-1);if(je!=null&&(me?je<=k.to&&je<=ce.end:je>=k.from&&je>=ce.begin)){var De=me?"before":"after";return new I(g.line,je,De)}}var Ge=function(gt,Pt,bt){for(var At=function(on,Zn){return Zn?new I(g.line,D(on,1),"before"):new I(g.line,on,"after")};gt>=0&&gt<w.length;gt+=Pt){var Xt=w[gt],Zt=Pt>0==(Xt.level!=1),br=Zt?bt.begin:D(bt.end,-1);if(Xt.from<=br&&br<Xt.to||(br=Zt?Xt.from:D(Xt.to,-1),bt.begin<=br&&br<bt.end))return At(br,Zt)}},Je=Ge(E+v,v,ce);if(Je)return Je;var ct=v>0?ce.end:D(ce.begin,-1);return ct!=null&&!(v>0&&ct==f.text.length)&&(Je=Ge(v>0?0:w.length-1,v,H(ct)),Je)?Je:null}var tc={selectAll:Iv,singleSelection:function(l){return l.setSelection(l.getCursor("anchor"),l.getCursor("head"),rt)},killLine:function(l){return Vs(l,function(f){if(f.empty()){var g=kt(l.doc,f.head.line).text.length;return f.head.ch==g&&f.head.line<l.lastLine()?{from:f.head,to:I(f.head.line+1,0)}:{from:f.head,to:I(f.head.line,g)}}else return{from:f.from(),to:f.to()}})},deleteLine:function(l){return Vs(l,function(f){return{from:I(f.from().line,0),to:Ft(l.doc,I(f.to().line+1,0))}})},delLineLeft:function(l){return Vs(l,function(f){return{from:I(f.from().line,0),to:f.from()}})},delWrappedLineLeft:function(l){return Vs(l,function(f){var g=l.charCoords(f.head,"div").top+5,v=l.coordsChar({left:0,top:g},"div");return{from:v,to:f.from()}})},delWrappedLineRight:function(l){return Vs(l,function(f){var g=l.charCoords(f.head,"div").top+5,v=l.coordsChar({left:l.display.lineDiv.offsetWidth+100,top:g},"div");return{from:f.from(),to:v}})},undo:function(l){return l.undo()},redo:function(l){return l.redo()},undoSelection:function(l){return l.undoSelection()},redoSelection:function(l){return l.redoSelection()},goDocStart:function(l){return l.extendSelection(I(l.firstLine(),0))},goDocEnd:function(l){return l.extendSelection(I(l.lastLine()))},goLineStart:function(l){return l.extendSelectionsBy(function(f){return Qv(l,f.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(l){return l.extendSelectionsBy(function(f){return tg(l,f.head)},{origin:"+move",bias:1})},goLineEnd:function(l){return l.extendSelectionsBy(function(f){return eg(l,f.head.line)},{origin:"+move",bias:-1})},goLineRight:function(l){return l.extendSelectionsBy(function(f){var g=l.cursorCoords(f.head,"div").top+5;return l.coordsChar({left:l.display.lineDiv.offsetWidth+100,top:g},"div")},ar)},goLineLeft:function(l){return l.extendSelectionsBy(function(f){var g=l.cursorCoords(f.head,"div").top+5;return l.coordsChar({left:0,top:g},"div")},ar)},goLineLeftSmart:function(l){return l.extendSelectionsBy(function(f){var g=l.cursorCoords(f.head,"div").top+5,v=l.coordsChar({left:0,top:g},"div");return v.ch<l.getLine(v.line).search(/\S/)?tg(l,f.head):v},ar)},goLineUp:function(l){return l.moveV(-1,"line")},goLineDown:function(l){return l.moveV(1,"line")},goPageUp:function(l){return l.moveV(-1,"page")},goPageDown:function(l){return l.moveV(1,"page")},goCharLeft:function(l){return l.moveH(-1,"char")},goCharRight:function(l){return l.moveH(1,"char")},goColumnLeft:function(l){return l.moveH(-1,"column")},goColumnRight:function(l){return l.moveH(1,"column")},goWordLeft:function(l){return l.moveH(-1,"word")},goGroupRight:function(l){return l.moveH(1,"group")},goGroupLeft:function(l){return l.moveH(-1,"group")},goWordRight:function(l){return l.moveH(1,"word")},delCharBefore:function(l){return l.deleteH(-1,"codepoint")},delCharAfter:function(l){return l.deleteH(1,"char")},delWordBefore:function(l){return l.deleteH(-1,"word")},delWordAfter:function(l){return l.deleteH(1,"word")},delGroupBefore:function(l){return l.deleteH(-1,"group")},delGroupAfter:function(l){return l.deleteH(1,"group")},indentAuto:function(l){return l.indentSelection("smart")},indentMore:function(l){return l.indentSelection("add")},indentLess:function(l){return l.indentSelection("subtract")},insertTab:function(l){return l.replaceSelection("	")},insertSoftTab:function(l){for(var f=[],g=l.listSelections(),v=l.options.tabSize,w=0;w<g.length;w++){var E=g[w].from(),k=Te(l.getLine(E.line),E.ch,v);f.push(Ar(v-k%v))}l.replaceSelections(f)},defaultTab:function(l){l.somethingSelected()?l.indentSelection("add"):l.execCommand("insertTab")},transposeChars:function(l){return Ai(l,function(){for(var f=l.listSelections(),g=[],v=0;v<f.length;v++)if(f[v].empty()){var w=f[v].head,E=kt(l.doc,w.line).text;if(E){if(w.ch==E.length&&(w=new I(w.line,w.ch-1)),w.ch>0)w=new I(w.line,w.ch+1),l.replaceRange(E.charAt(w.ch-1)+E.charAt(w.ch-2),I(w.line,w.ch-2),w,"+transpose");else if(w.line>l.doc.first){var k=kt(l.doc,w.line-1).text;k&&(w=new I(w.line,1),l.replaceRange(E.charAt(0)+l.doc.lineSeparator()+k.charAt(k.length-1),I(w.line-1,k.length-1),w,"+transpose"))}}g.push(new Gr(w,w))}l.setSelections(g)})},newlineAndIndent:function(l){return Ai(l,function(){for(var f=l.listSelections(),g=f.length-1;g>=0;g--)l.replaceRange(l.doc.lineSeparator(),f[g].anchor,f[g].head,"+input");f=l.listSelections();for(var v=0;v<f.length;v++)l.indentLine(f[v].from().line,null,!0);Wa(l)})},openLine:function(l){return l.replaceSelection(`
`,"start")},toggleOverwrite:function(l){return l.toggleOverwrite()}};function Qv(l,f){var g=kt(l.doc,f),v=Or(g);return v!=g&&(f=hr(v)),mp(!0,l,v,f,1)}function eg(l,f){var g=kt(l.doc,f),v=ja(g);return v!=g&&(f=hr(v)),mp(!0,l,g,f,-1)}function tg(l,f){var g=Qv(l,f.line),v=kt(l.doc,g.line),w=dr(v,l.doc.direction);if(!w||w[0].level==0){var E=Math.max(g.ch,v.text.search(/\S/)),k=f.line==g.line&&f.ch<=E&&f.ch;return I(g.line,k?0:E,g.sticky)}return g}function Qa(l,f,g){if(typeof f=="string"&&(f=tc[f],!f))return!1;l.display.input.ensurePolled();var v=l.display.shift,w=!1;try{l.isReadOnly()&&(l.state.suppressEdits=!0),g&&(l.display.shift=!1),w=f(l)!=vt}finally{l.display.shift=v,l.state.suppressEdits=!1}return w}function Z0(l,f,g){for(var v=0;v<l.state.keyMaps.length;v++){var w=Il(f,l.state.keyMaps[v],g,l);if(w)return w}return l.options.extraKeys&&Il(f,l.options.extraKeys,g,l)||Il(f,l.options.keyMap,g,l)}var q0=new ze;function Fl(l,f,g,v){var w=l.state.keySeq;if(w){if(qv(f))return"handled";if(/\'$/.test(f)?l.state.keySeq=null:q0.set(50,function(){l.state.keySeq==w&&(l.state.keySeq=null,l.display.input.reset())}),yp(l,w+" "+f,g,v))return!0}return yp(l,f,g,v)}function yp(l,f,g,v){var w=Z0(l,f,v);return w=="multi"&&(l.state.keySeq=f),w=="handled"&&Pn(l,"keyHandled",l,f,g),(w=="handled"||w=="multi")&&(ee(g),Qd(l)),!!w}function wp(l,f){var g=Xv(f,!0);return g?f.shiftKey&&!l.state.keySeq?Fl(l,"Shift-"+g,f,function(v){return Qa(l,v,!0)})||Fl(l,g,f,function(v){if(typeof v=="string"?/^go[A-Z]/.test(v):v.motion)return Qa(l,v)}):Fl(l,g,f,function(v){return Qa(l,v)}):!1}function rg(l,f,g){return Fl(l,"'"+g+"'",f,function(v){return Qa(l,v,!0)})}var Tf=null;function ng(l){var f=this;if(!(l.target&&l.target!=f.display.input.getField())&&(f.curOp.focus=ye(Ve(f)),!Wr(f,l))){x&&S<11&&l.keyCode==27&&(l.returnValue=!1);var g=l.keyCode;f.display.shift=g==16||l.shiftKey;var v=wp(f,l);N&&(Tf=v?g:null,!v&&g==88&&!It&&(X?l.metaKey:l.ctrlKey)&&f.replaceSelection("",null,"cut")),c&&!X&&!v&&g==46&&l.shiftKey&&!l.ctrlKey&&document.execCommand&&document.execCommand("cut"),g==18&&!/\bCodeMirror-crosshair\b/.test(f.display.lineDiv.className)&&rc(f)}}function rc(l){var f=l.display.lineDiv;Ue(f,"CodeMirror-crosshair");function g(v){(v.keyCode==18||!v.altKey)&&(te(f,"CodeMirror-crosshair"),Qt(document,"keyup",g),Qt(document,"mouseover",g))}Mt(document,"keyup",g),Mt(document,"mouseover",g)}function Pf(l){l.keyCode==16&&(this.doc.sel.shift=!1),Wr(this,l)}function _p(l){var f=this;if(!(l.target&&l.target!=f.display.input.getField())&&!(Eo(f.display,l)||Wr(f,l)||l.ctrlKey&&!l.altKey||X&&l.metaKey)){var g=l.keyCode,v=l.charCode;if(N&&g==Tf){Tf=null,ee(l);return}if(!(N&&(!l.which||l.which<10)&&wp(f,l))){var w=String.fromCharCode(v??g);w!="\b"&&(rg(f,l,w)||f.display.input.onKeyPress(l))}}}var ig=400,kf=function(l,f,g){this.time=l,this.pos=f,this.button=g};kf.prototype.compare=function(l,f,g){return this.time+ig>l&&ne(f,this.pos)==0&&g==this.button};var pa,nc;function Y0(l,f){var g=+new Date;return nc&&nc.compare(g,l,f)?(pa=nc=null,"triple"):pa&&pa.compare(g,l,f)?(nc=new kf(g,l,f),pa=null,"double"):(pa=new kf(g,l,f),nc=null,"single")}function bp(l){var f=this,g=f.display;if(!(Wr(f,l)||g.activeTouch&&g.input.supportsTouch())){if(g.input.ensurePolled(),g.shift=l.shiftKey,Eo(g,l)){C||(g.scroller.draggable=!1,setTimeout(function(){return g.scroller.draggable=!0},100));return}if(!Gi(f,l)){var v=Ba(f,l),w=Yt(l),E=v?Y0(v,w):"single";Ye(f).focus(),w==1&&f.state.selectingText&&f.state.selectingText(l),!(v&&X0(f,w,v,E,l))&&(w==1?v?og(f,v,E,l):_t(l)==g.scroller&&ee(l):w==2?(v&&bf(f.doc,v),setTimeout(function(){return g.input.focus()},20)):w==3&&(se?f.display.input.onContextMenu(l):ep(f)))}}}function X0(l,f,g,v,w){var E="Click";return v=="double"?E="Double"+E:v=="triple"&&(E="Triple"+E),E=(f==1?"Left":f==2?"Middle":"Right")+E,Fl(l,Yv(E,w),w,function(k){if(typeof k=="string"&&(k=tc[k]),!k)return!1;var D=!1;try{l.isReadOnly()&&(l.state.suppressEdits=!0),D=k(l,g)!=vt}finally{l.state.suppressEdits=!1}return D})}function J0(l,f,g){var v=l.getOption("configureMouse"),w=v?v(l,f,g):{};if(w.unit==null){var E=_e?g.shiftKey&&g.metaKey:g.altKey;w.unit=E?"rectangle":f=="single"?"char":f=="double"?"word":"line"}return(w.extend==null||l.doc.extend)&&(w.extend=l.doc.extend||g.shiftKey),w.addNew==null&&(w.addNew=X?g.metaKey:g.ctrlKey),w.moveOnDrag==null&&(w.moveOnDrag=!(X?g.altKey:g.ctrlKey)),w}function og(l,f,g,v){x?setTimeout(We(pf,l),0):l.curOp.focus=ye(Ve(l));var w=J0(l,g,v),E=l.doc.sel,k;l.options.dragDrop&&wr&&!l.isReadOnly()&&g=="single"&&(k=E.contains(f))>-1&&(ne((k=E.ranges[k]).from(),f)<0||f.xRel>0)&&(ne(k.to(),f)>0||f.xRel<0)?Q0(l,v,f,w):ew(l,v,f,w)}function Q0(l,f,g,v){var w=l.display,E=!1,k=Kn(l,function(H){C&&(w.scroller.draggable=!1),l.state.draggingText=!1,l.state.delayingBlurEvent&&(l.hasFocus()?l.state.delayingBlurEvent=!1:ep(l)),Qt(w.wrapper.ownerDocument,"mouseup",k),Qt(w.wrapper.ownerDocument,"mousemove",D),Qt(w.scroller,"dragstart",j),Qt(w.scroller,"drop",k),E||(ee(H),v.addNew||bf(l.doc,g,null,null,v.extend),C&&!U||x&&S==9?setTimeout(function(){w.wrapper.ownerDocument.body.focus({preventScroll:!0}),w.input.focus()},20):w.input.focus())}),D=function(H){E=E||Math.abs(f.clientX-H.clientX)+Math.abs(f.clientY-H.clientY)>=10},j=function(){return E=!0};C&&(w.scroller.draggable=!0),l.state.draggingText=k,k.copy=!v.moveOnDrag,Mt(w.wrapper.ownerDocument,"mouseup",k),Mt(w.wrapper.ownerDocument,"mousemove",D),Mt(w.scroller,"dragstart",j),Mt(w.scroller,"drop",k),l.state.delayingBlurEvent=!0,setTimeout(function(){return w.input.focus()},20),w.scroller.dragDrop&&w.scroller.dragDrop()}function ag(l,f,g){if(g=="char")return new Gr(f,f);if(g=="word")return l.findWordAt(f);if(g=="line")return new Gr(I(f.line,0),Ft(l.doc,I(f.line+1,0)));var v=g(l,f);return new Gr(v.from,v.to)}function ew(l,f,g,v){x&&ep(l);var w=l.display,E=l.doc;ee(f);var k,D,j=E.sel,H=j.ranges;if(v.addNew&&!v.extend?(D=E.sel.contains(g),D>-1?k=H[D]:k=new Gr(g,g)):(k=E.sel.primary(),D=E.sel.primIndex),v.unit=="rectangle")v.addNew||(k=new Gr(g,g)),g=Ba(l,f,!0,!0),D=-1;else{var ce=ag(l,g,v.unit);v.extend?k=pp(k,ce.anchor,ce.head,v.extend):k=ce}v.addNew?D==-1?(D=H.length,di(E,ko(l,H.concat([k]),D),{scroll:!1,origin:"*mouse"})):H.length>1&&H[D].empty()&&v.unit=="char"&&!v.extend?(di(E,ko(l,H.slice(0,D).concat(H.slice(D+1)),0),{scroll:!1,origin:"*mouse"}),j=E.sel):hp(E,D,k,lt):(D=0,di(E,new Ki([k],0),lt),j=E.sel);var me=g;function je(bt){if(ne(me,bt)!=0)if(me=bt,v.unit=="rectangle"){for(var At=[],Xt=l.options.tabSize,Zt=Te(kt(E,g.line).text,g.ch,Xt),br=Te(kt(E,bt.line).text,bt.ch,Xt),on=Math.min(Zt,br),Zn=Math.max(Zt,br),gn=Math.min(g.line,bt.line),ri=Math.min(l.lastLine(),Math.max(g.line,bt.line));gn<=ri;gn++){var Ci=kt(E,gn).text,tn=zr(Ci,on,Xt);on==Zn?At.push(new Gr(I(gn,tn),I(gn,tn))):Ci.length>tn&&At.push(new Gr(I(gn,tn),I(gn,zr(Ci,Zn,Xt))))}At.length||At.push(new Gr(g,g)),di(E,ko(l,j.ranges.slice(0,D).concat(At),D),{origin:"*mouse",scroll:!1}),l.scrollIntoView(bt)}else{var Mi=k,qn=ag(l,bt,v.unit),Bn=Mi.anchor,Nn;ne(qn.anchor,Bn)>0?(Nn=qn.head,Bn=Cr(Mi.from(),qn.anchor)):(Nn=qn.anchor,Bn=nr(Mi.to(),qn.head));var _n=j.ranges.slice(0);_n[D]=tw(l,new Gr(Ft(E,Bn),Nn)),di(E,ko(l,_n,D),lt)}}var De=w.wrapper.getBoundingClientRect(),Ge=0;function Je(bt){var At=++Ge,Xt=Ba(l,bt,!0,v.unit=="rectangle");if(Xt)if(ne(Xt,me)!=0){l.curOp.focus=ye(Ve(l)),je(Xt);var Zt=As(w,E);(Xt.line>=Zt.to||Xt.line<Zt.from)&&setTimeout(Kn(l,function(){Ge==At&&Je(bt)}),150)}else{var br=bt.clientY<De.top?-20:bt.clientY>De.bottom?20:0;br&&setTimeout(Kn(l,function(){Ge==At&&(w.scroller.scrollTop+=br,Je(bt))}),50)}}function ct(bt){l.state.selectingText=!1,Ge=1/0,bt&&(ee(bt),w.input.focus()),Qt(w.wrapper.ownerDocument,"mousemove",gt),Qt(w.wrapper.ownerDocument,"mouseup",Pt),E.history.lastSelOrigin=null}var gt=Kn(l,function(bt){bt.buttons===0||!Yt(bt)?ct(bt):Je(bt)}),Pt=Kn(l,ct);l.state.selectingText=Pt,Mt(w.wrapper.ownerDocument,"mousemove",gt),Mt(w.wrapper.ownerDocument,"mouseup",Pt)}function tw(l,f){var g=f.anchor,v=f.head,w=kt(l.doc,g.line);if(ne(g,v)==0&&g.sticky==v.sticky)return f;var E=dr(w);if(!E)return f;var k=Sr(E,g.ch,g.sticky),D=E[k];if(D.from!=g.ch&&D.to!=g.ch)return f;var j=k+(D.from==g.ch==(D.level!=1)?0:1);if(j==0||j==E.length)return f;var H;if(v.line!=g.line)H=(v.line-g.line)*(l.doc.direction=="ltr"?1:-1)>0;else{var ce=Sr(E,v.ch,v.sticky),me=ce-k||(v.ch-g.ch)*(D.level==1?-1:1);ce==j-1||ce==j?H=me<0:H=me>0}var je=E[j+(H?-1:0)],De=H==(je.level==1),Ge=De?je.from:je.to,Je=De?"after":"before";return g.ch==Ge&&g.sticky==Je?f:new Gr(new I(g.line,Ge,Je),v)}function sg(l,f,g,v){var w,E;if(f.touches)w=f.touches[0].clientX,E=f.touches[0].clientY;else try{w=f.clientX,E=f.clientY}catch{return!1}if(w>=Math.floor(l.display.gutters.getBoundingClientRect().right))return!1;v&&ee(f);var k=l.display,D=k.lineDiv.getBoundingClientRect();if(E>D.bottom||!nt(l,g))return Re(f);E-=D.top-k.viewOffset;for(var j=0;j<l.display.gutterSpecs.length;++j){var H=k.gutters.childNodes[j];if(H&&H.getBoundingClientRect().right>=w){var ce=wn(l.doc,E),me=l.display.gutterSpecs[j];return Nr(l,g,l,ce,me.className,f),Re(f)}}}function Gi(l,f){return sg(l,f,"gutterClick",!0)}function Vi(l,f){Eo(l.display,f)||Vl(l,f)||Wr(l,f,"contextmenu")||se||l.display.input.onContextMenu(f)}function Vl(l,f){return nt(l,"gutterContextMenu")?sg(l,f,"gutterContextMenu",!1):!1}function xp(l){l.display.wrapper.className=l.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+l.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Ts(l)}var es={toString:function(){return"CodeMirror.Init"}},lg={},Af={};function ug(l){var f=l.optionHandlers;function g(v,w,E,k){l.defaults[v]=w,E&&(f[v]=k?function(D,j,H){H!=es&&E(D,j,H)}:E)}l.defineOption=g,l.Init=es,g("value","",function(v,w){return v.setValue(w)},!0),g("mode",null,function(v,w){v.doc.modeOption=w,cp(v)},!0),g("indentUnit",2,cp,!0),g("indentWithTabs",!1),g("smartIndent",!0),g("tabSize",4,function(v){Pl(v),Ts(v),ti(v)},!0),g("lineSeparator",null,function(v,w){if(v.doc.lineSep=w,!!w){var E=[],k=v.doc.first;v.doc.iter(function(j){for(var H=0;;){var ce=j.text.indexOf(w,H);if(ce==-1)break;H=ce+w.length,E.push(I(k,ce))}k++});for(var D=E.length-1;D>=0;D--)Ml(v.doc,w,E[D],I(E[D].line,E[D].ch+w.length))}}),g("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(v,w,E){v.state.specialChars=new RegExp(w.source+(w.test("	")?"":"|	"),"g"),E!=es&&v.refresh()}),g("specialCharPlaceholder",Xc,function(v){return v.refresh()},!0),g("electricChars",!0),g("inputStyle",$?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),g("spellcheck",!1,function(v,w){return v.getInputField().spellcheck=w},!0),g("autocorrect",!1,function(v,w){return v.getInputField().autocorrect=w},!0),g("autocapitalize",!1,function(v,w){return v.getInputField().autocapitalize=w},!0),g("rtlMoveVisually",!ie),g("wholeLineUpdateBefore",!0),g("theme","default",function(v){xp(v),$a(v)},!0),g("keyMap","default",function(v,w,E){var k=Ef(w),D=E!=es&&Ef(E);D&&D.detach&&D.detach(v,k),k.attach&&k.attach(v,D||null)}),g("extraKeys",null),g("configureMouse",null),g("lineWrapping",!1,cg,!0),g("gutters",[],function(v,w){v.display.gutterSpecs=Is(w,v.options.lineNumbers),$a(v)},!0),g("fixedGutter",!0,function(v,w){v.display.gutters.style.left=w?Sl(v.display)+"px":"0",v.refresh()},!0),g("coverGutterNextToScrollbar",!1,function(v){return Po(v)},!0),g("scrollbarStyle","native",function(v){np(v),Po(v),v.display.scrollbars.setScrollTop(v.doc.scrollTop),v.display.scrollbars.setScrollLeft(v.doc.scrollLeft)},!0),g("lineNumbers",!1,function(v,w){v.display.gutterSpecs=Is(v.options.gutters,w),$a(v)},!0),g("firstLineNumber",1,$a,!0),g("lineNumberFormatter",function(v){return v},$a,!0),g("showCursorWhenSelecting",!1,Uu,!0),g("resetSelectionOnContextMenu",!0),g("lineWiseCopyCut",!0),g("pasteLinesPerSelection",!0),g("selectionsMayTouch",!1),g("readOnly",!1,function(v,w){w=="nocursor"&&(Ol(v),v.display.input.blur()),v.display.input.readOnlyChanged(w)}),g("screenReaderLabel",null,function(v,w){w=w===""?null:w,v.display.input.screenReaderLabelChanged(w)}),g("disableInput",!1,function(v,w){w||v.display.input.reset()},!0),g("dragDrop",!0,rw),g("allowDropFileTypes",null),g("cursorBlinkRate",530),g("cursorScrollMargin",0),g("cursorHeight",1,Uu,!0),g("singleCursorHeightPerLine",!0,Uu,!0),g("workTime",100),g("workDelay",100),g("flattenSpans",!0,Pl,!0),g("addModeClass",!1,Pl,!0),g("pollInterval",100),g("undoDepth",200,function(v,w){return v.doc.history.undoDepth=w}),g("historyEventDelay",1250),g("viewportMargin",10,function(v){return v.refresh()},!0),g("maxHighlightLength",1e4,Pl,!0),g("moveInputWithCursor",!0,function(v,w){w||v.display.input.resetPosition()}),g("tabindex",null,function(v,w){return v.display.input.getField().tabIndex=w||""}),g("autofocus",null),g("direction","ltr",function(v,w){return v.doc.setDirection(w)},!0),g("phrases",null)}function rw(l,f,g){var v=g&&g!=es;if(!f!=!v){var w=l.display.dragFunctions,E=f?Mt:Qt;E(l.display.scroller,"dragstart",w.start),E(l.display.scroller,"dragenter",w.enter),E(l.display.scroller,"dragover",w.over),E(l.display.scroller,"dragleave",w.leave),E(l.display.scroller,"drop",w.drop)}}function cg(l){l.options.lineWrapping?(Ue(l.display.wrapper,"CodeMirror-wrap"),l.display.sizer.style.minWidth="",l.display.sizerWidth=null):(te(l.display.wrapper,"CodeMirror-wrap"),So(l)),Yd(l),ti(l),Ts(l),setTimeout(function(){return Po(l)},100)}function sn(l,f){var g=this;if(!(this instanceof sn))return new sn(l,f);this.options=f=f?dt(f):{},dt(lg,f,!1);var v=f.value;typeof v=="string"?v=new Li(v,f.mode,null,f.lineSeparator,f.direction):f.mode&&(v.modeOption=f.mode),this.doc=v;var w=new sn.inputStyles[f.inputStyle](this),E=this.display=new A0(l,v,w,f);E.wrapper.CodeMirror=this,xp(this),f.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),np(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new ze,keySeq:null,specialChars:null},f.autofocus&&!$&&E.input.focus(),x&&S<11&&setTimeout(function(){return g.display.input.reset(!0)},20),fg(this),$0(),Ns(this),this.curOp.forceUpdate=!0,Ev(this,v),f.autofocus&&!$||this.hasFocus()?setTimeout(function(){g.hasFocus()&&!g.state.focused&&Cl(g)},20):Ol(this);for(var k in Af)Af.hasOwnProperty(k)&&Af[k](this,f[k],es);wv(this),f.finishInit&&f.finishInit(this);for(var D=0;D<Lf.length;++D)Lf[D](this);js(this),C&&f.lineWrapping&&getComputedStyle(E.lineDiv).textRendering=="optimizelegibility"&&(E.lineDiv.style.textRendering="auto")}sn.defaults=lg,sn.optionHandlers=Af;function fg(l){var f=l.display;Mt(f.scroller,"mousedown",Kn(l,bp)),x&&S<11?Mt(f.scroller,"dblclick",Kn(l,function(j){if(!Wr(l,j)){var H=Ba(l,j);if(!(!H||Gi(l,j)||Eo(l.display,j))){ee(j);var ce=l.findWordAt(H);bf(l.doc,ce.anchor,ce.head)}}})):Mt(f.scroller,"dblclick",function(j){return Wr(l,j)||ee(j)}),Mt(f.scroller,"contextmenu",function(j){return Vi(l,j)}),Mt(f.input.getField(),"contextmenu",function(j){f.scroller.contains(j.target)||Vi(l,j)});var g,v={end:0};function w(){f.activeTouch&&(g=setTimeout(function(){return f.activeTouch=null},1e3),v=f.activeTouch,v.end=+new Date)}function E(j){if(j.touches.length!=1)return!1;var H=j.touches[0];return H.radiusX<=1&&H.radiusY<=1}function k(j,H){if(H.left==null)return!0;var ce=H.left-j.left,me=H.top-j.top;return ce*ce+me*me>20*20}Mt(f.scroller,"touchstart",function(j){if(!Wr(l,j)&&!E(j)&&!Gi(l,j)){f.input.ensurePolled(),clearTimeout(g);var H=+new Date;f.activeTouch={start:H,moved:!1,prev:H-v.end<=300?v:null},j.touches.length==1&&(f.activeTouch.left=j.touches[0].pageX,f.activeTouch.top=j.touches[0].pageY)}}),Mt(f.scroller,"touchmove",function(){f.activeTouch&&(f.activeTouch.moved=!0)}),Mt(f.scroller,"touchend",function(j){var H=f.activeTouch;if(H&&!Eo(f,j)&&H.left!=null&&!H.moved&&new Date-H.start<300){var ce=l.coordsChar(f.activeTouch,"page"),me;!H.prev||k(H,H.prev)?me=new Gr(ce,ce):!H.prev.prev||k(H,H.prev.prev)?me=l.findWordAt(ce):me=new Gr(I(ce.line,0),Ft(l.doc,I(ce.line+1,0))),l.setSelection(me.anchor,me.head),l.focus(),ee(j)}w()}),Mt(f.scroller,"touchcancel",w),Mt(f.scroller,"scroll",function(){f.scroller.clientHeight&&(Tl(l,f.scroller.scrollTop),Ls(l,f.scroller.scrollLeft,!0),Nr(l,"scroll",l))}),Mt(f.scroller,"mousewheel",function(j){return xv(l,j)}),Mt(f.scroller,"DOMMouseScroll",function(j){return xv(l,j)}),Mt(f.wrapper,"scroll",function(){return f.wrapper.scrollTop=f.wrapper.scrollLeft=0}),f.dragFunctions={enter:function(j){Wr(l,j)||Qe(j)},over:function(j){Wr(l,j)||(W0(l,j),Qe(j))},start:function(j){return Xu(l,j)},drop:Kn(l,Of),leave:function(j){Wr(l,j)||$v(l)}};var D=f.input.getField();Mt(D,"keyup",function(j){return Pf.call(l,j)}),Mt(D,"keydown",Kn(l,ng)),Mt(D,"keypress",Kn(l,_p)),Mt(D,"focus",function(j){return Cl(l,j)}),Mt(D,"blur",function(j){return Ol(l,j)})}var Lf=[];sn.defineInitHook=function(l){return Lf.push(l)};function ic(l,f,g,v){var w=l.doc,E;g==null&&(g="add"),g=="smart"&&(w.mode.indent?E=_o(l,f).state:g="prev");var k=l.options.tabSize,D=kt(w,f),j=Te(D.text,null,k);D.stateAfter&&(D.stateAfter=null);var H=D.text.match(/^\s*/)[0],ce;if(!v&&!/\S/.test(D.text))ce=0,g="not";else if(g=="smart"&&(ce=w.mode.indent(E,D.text.slice(H.length),D.text),ce==vt||ce>150)){if(!v)return;g="prev"}g=="prev"?f>w.first?ce=Te(kt(w,f-1).text,null,k):ce=0:g=="add"?ce=j+l.options.indentUnit:g=="subtract"?ce=j-l.options.indentUnit:typeof g=="number"&&(ce=j+g),ce=Math.max(0,ce);var me="",je=0;if(l.options.indentWithTabs)for(var De=Math.floor(ce/k);De;--De)je+=k,me+="	";if(je<ce&&(me+=Ar(ce-je)),me!=H)return Ml(w,me,I(f,0),I(f,H.length),"+input"),D.stateAfter=null,!0;for(var Ge=0;Ge<w.sel.ranges.length;Ge++){var Je=w.sel.ranges[Ge];if(Je.head.line==f&&Je.head.ch<H.length){var ct=I(f,H.length);hp(w,Ge,new Gr(ct,ct));break}}}var Ao=null;function Mf(l){Ao=l}function Sp(l,f,g,v,w){var E=l.doc;l.display.shift=!1,v||(v=E.sel);var k=+new Date-200,D=w=="paste"||l.state.pasteIncoming>k,j=Xe(f),H=null;if(D&&v.ranges.length>1)if(Ao&&Ao.text.join(`
`)==f){if(v.ranges.length%Ao.text.length==0){H=[];for(var ce=0;ce<Ao.text.length;ce++)H.push(E.splitLines(Ao.text[ce]))}}else j.length==v.ranges.length&&l.options.pasteLinesPerSelection&&(H=M(j,function(gt){return[gt]}));for(var me=l.curOp.updateInput,je=v.ranges.length-1;je>=0;je--){var De=v.ranges[je],Ge=De.from(),Je=De.to();De.empty()&&(g&&g>0?Ge=I(Ge.line,Ge.ch-g):l.state.overwrite&&!D?Je=I(Je.line,Math.min(kt(E,Je.line).text.length,Je.ch+Ct(j).length)):D&&Ao&&Ao.lineWise&&Ao.text.join(`
`)==j.join(`
`)&&(Ge=Je=I(Ge.line,0)));var ct={from:Ge,to:Je,text:H?H[je%H.length]:j,origin:w||(D?"paste":l.state.cutIncoming>k?"cut":"+input")};Ll(l.doc,ct),Pn(l,"inputRead",l,ct)}f&&!D&&pg(l,f),Wa(l),l.curOp.updateInput<2&&(l.curOp.updateInput=me),l.curOp.typing=!0,l.state.pasteIncoming=l.state.cutIncoming=-1}function dg(l,f){var g=l.clipboardData&&l.clipboardData.getData("Text");if(g)return l.preventDefault(),!f.isReadOnly()&&!f.options.disableInput&&f.hasFocus()&&Ai(f,function(){return Sp(f,g,0,null,"paste")}),!0}function pg(l,f){if(!(!l.options.electricChars||!l.options.smartIndent))for(var g=l.doc.sel,v=g.ranges.length-1;v>=0;v--){var w=g.ranges[v];if(!(w.head.ch>100||v&&g.ranges[v-1].head.line==w.head.line)){var E=l.getModeAt(w.head),k=!1;if(E.electricChars){for(var D=0;D<E.electricChars.length;D++)if(f.indexOf(E.electricChars.charAt(D))>-1){k=ic(l,w.head.line,"smart");break}}else E.electricInput&&E.electricInput.test(kt(l.doc,w.head.line).text.slice(0,w.head.ch))&&(k=ic(l,w.head.line,"smart"));k&&Pn(l,"electricInput",l,w.head.line)}}}function hg(l){for(var f=[],g=[],v=0;v<l.doc.sel.ranges.length;v++){var w=l.doc.sel.ranges[v].head.line,E={anchor:I(w,0),head:I(w+1,0)};g.push(E),f.push(l.getRange(E.anchor,E.head))}return{text:f,ranges:g}}function Cp(l,f,g,v){l.setAttribute("autocorrect",g?"on":"off"),l.setAttribute("autocapitalize",v?"on":"off"),l.setAttribute("spellcheck",!!f)}function Op(){var l=G("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),f=G("div",[l],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return C?l.style.width="1000px":l.setAttribute("wrap","off"),q&&(l.style.border="1px solid black"),f}function vg(l){var f=l.optionHandlers,g=l.helpers={};l.prototype={constructor:l,focus:function(){Ye(this).focus(),this.display.input.focus()},setOption:function(v,w){var E=this.options,k=E[v];E[v]==w&&v!="mode"||(E[v]=w,f.hasOwnProperty(v)&&Kn(this,f[v])(this,w,k),Nr(this,"optionChange",this,v))},getOption:function(v){return this.options[v]},getDoc:function(){return this.doc},addKeyMap:function(v,w){this.state.keyMaps[w?"push":"unshift"](Ef(v))},removeKeyMap:function(v){for(var w=this.state.keyMaps,E=0;E<w.length;++E)if(w[E]==v||w[E].name==v)return w.splice(E,1),!0},addOverlay:pn(function(v,w){var E=v.token?v:l.getMode(this.options,v);if(E.startState)throw new Error("Overlays may not be stateful.");F(this.state.overlays,{mode:E,modeSpec:v,opaque:w&&w.opaque,priority:w&&w.priority||0},function(k){return k.priority}),this.state.modeGen++,ti(this)}),removeOverlay:pn(function(v){for(var w=this.state.overlays,E=0;E<w.length;++E){var k=w[E].modeSpec;if(k==v||typeof v=="string"&&k.name==v){w.splice(E,1),this.state.modeGen++,ti(this);return}}}),indentLine:pn(function(v,w,E){typeof w!="string"&&typeof w!="number"&&(w==null?w=this.options.smartIndent?"smart":"prev":w=w?"add":"subtract"),Kt(this.doc,v)&&ic(this,v,w,E)}),indentSelection:pn(function(v){for(var w=this.doc.sel.ranges,E=-1,k=0;k<w.length;k++){var D=w[k];if(D.empty())D.head.line>E&&(ic(this,D.head.line,v,!0),E=D.head.line,k==this.doc.sel.primIndex&&Wa(this));else{var j=D.from(),H=D.to(),ce=Math.max(E,j.line);E=Math.min(this.lastLine(),H.line-(H.ch?0:1))+1;for(var me=ce;me<E;++me)ic(this,me,v);var je=this.doc.sel.ranges;j.ch==0&&w.length==je.length&&je[k].from().ch>0&&hp(this.doc,k,new Gr(j,je[k].to()),rt)}}}),getTokenAt:function(v,w){return Tn(this,v,w)},getLineTokens:function(v,w){return Tn(this,I(v),w,!0)},getTokenTypeAt:function(v){v=Ft(this.doc,v);var w=Cu(this,kt(this.doc,v.line)),E=0,k=(w.length-1)/2,D=v.ch,j;if(D==0)j=w[2];else for(;;){var H=E+k>>1;if((H?w[H*2-1]:0)>=D)k=H;else if(w[H*2+1]<D)E=H+1;else{j=w[H*2+2];break}}var ce=j?j.indexOf("overlay "):-1;return ce<0?j:ce==0?null:j.slice(0,ce-1)},getModeAt:function(v){var w=this.doc.mode;return w.innerMode?l.innerMode(w,this.getTokenAt(v).state).mode:w},getHelper:function(v,w){return this.getHelpers(v,w)[0]},getHelpers:function(v,w){var E=[];if(!g.hasOwnProperty(w))return E;var k=g[w],D=this.getModeAt(v);if(typeof D[w]=="string")k[D[w]]&&E.push(k[D[w]]);else if(D[w])for(var j=0;j<D[w].length;j++){var H=k[D[w][j]];H&&E.push(H)}else D.helperType&&k[D.helperType]?E.push(k[D.helperType]):k[D.name]&&E.push(k[D.name]);for(var ce=0;ce<k._global.length;ce++){var me=k._global[ce];me.pred(D,this)&&qe(E,me.val)==-1&&E.push(me.val)}return E},getStateAfter:function(v,w){var E=this.doc;return v=Vr(E,v??E.first+E.size-1),_o(this,v+1,w).state},cursorCoords:function(v,w){var E,k=this.doc.sel.primary();return v==null?E=k.head:typeof v=="object"?E=Ft(this.doc,v):E=v?k.from():k.to(),Fi(this,E,w||"page")},charCoords:function(v,w){return sf(this,Ft(this.doc,v),w||"page")},coordsChar:function(v,w){return v=dv(this,v,w||"page"),Gd(this,v.left,v.top)},lineAtHeight:function(v,w){return v=dv(this,{top:v,left:0},w||"page").top,wn(this.doc,v+this.display.viewOffset)},heightAtLine:function(v,w,E){var k=!1,D;if(typeof v=="number"){var j=this.doc.first+this.doc.size-1;v<this.doc.first?v=this.doc.first:v>j&&(v=j,k=!0),D=kt(this.doc,v)}else D=v;return af(this,D,{top:0,left:0},w||"page",E||k).top+(k?this.doc.height-Kr(D):0)},defaultTextHeight:function(){return bl(this.display)},defaultCharWidth:function(){return xl(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(v,w,E,k,D){var j=this.display;v=Fi(this,Ft(this.doc,v));var H=v.bottom,ce=v.left;if(w.style.position="absolute",w.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(w),j.sizer.appendChild(w),k=="over")H=v.top;else if(k=="above"||k=="near"){var me=Math.max(j.wrapper.clientHeight,this.doc.height),je=Math.max(j.sizer.clientWidth,j.lineSpace.clientWidth);(k=="above"||v.bottom+w.offsetHeight>me)&&v.top>w.offsetHeight?H=v.top-w.offsetHeight:v.bottom+w.offsetHeight<=me&&(H=v.bottom),ce+w.offsetWidth>je&&(ce=je-w.offsetWidth)}w.style.top=H+"px",w.style.left=w.style.right="",D=="right"?(ce=j.sizer.clientWidth-w.offsetWidth,w.style.right="0px"):(D=="left"?ce=0:D=="middle"&&(ce=(j.sizer.clientWidth-w.offsetWidth)/2),w.style.left=ce+"px"),E&&w0(this,{left:ce,top:H,right:ce+w.offsetWidth,bottom:H+w.offsetHeight})},triggerOnKeyDown:pn(ng),triggerOnKeyPress:pn(_p),triggerOnKeyUp:Pf,triggerOnMouseDown:pn(bp),execCommand:function(v){if(tc.hasOwnProperty(v))return tc[v].call(null,this)},triggerElectric:pn(function(v){pg(this,v)}),findPosH:function(v,w,E,k){var D=1;w<0&&(D=-1,w=-w);for(var j=Ft(this.doc,v),H=0;H<w&&(j=Ep(this.doc,j,D,E,k),!j.hitSide);++H);return j},moveH:pn(function(v,w){var E=this;this.extendSelectionsBy(function(k){return E.display.shift||E.doc.extend||k.empty()?Ep(E.doc,k.head,v,w,E.options.rtlMoveVisually):v<0?k.from():k.to()},ar)}),deleteH:pn(function(v,w){var E=this.doc.sel,k=this.doc;E.somethingSelected()?k.replaceSelection("",null,"+delete"):Vs(this,function(D){var j=Ep(k,D.head,v,w,!1);return v<0?{from:j,to:D.head}:{from:D.head,to:j}})}),findPosV:function(v,w,E,k){var D=1,j=k;w<0&&(D=-1,w=-w);for(var H=Ft(this.doc,v),ce=0;ce<w;++ce){var me=Fi(this,H,"div");if(j==null?j=me.left:me.left=j,H=gg(this,me,D,E),H.hitSide)break}return H},moveV:pn(function(v,w){var E=this,k=this.doc,D=[],j=!this.display.shift&&!k.extend&&k.sel.somethingSelected();if(k.extendSelectionsBy(function(ce){if(j)return v<0?ce.from():ce.to();var me=Fi(E,ce.head,"div");ce.goalColumn!=null&&(me.left=ce.goalColumn),D.push(me.left);var je=gg(E,me,v,w);return w=="page"&&ce==k.sel.primary()&&El(E,sf(E,je,"div").top-me.top),je},ar),D.length)for(var H=0;H<k.sel.ranges.length;H++)k.sel.ranges[H].goalColumn=D[H]}),findWordAt:function(v){var w=this.doc,E=kt(w,v.line).text,k=v.ch,D=v.ch;if(E){var j=this.getHelper(v,"wordChars");(v.sticky=="before"||D==E.length)&&k?--k:++D;for(var H=E.charAt(k),ce=xe(H,j)?function(me){return xe(me,j)}:/\s/.test(H)?function(me){return/\s/.test(me)}:function(me){return!/\s/.test(me)&&!xe(me)};k>0&&ce(E.charAt(k-1));)--k;for(;D<E.length&&ce(E.charAt(D));)++D}return new Gr(I(v.line,k),I(v.line,D))},toggleOverwrite:function(v){v!=null&&v==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?Ue(this.display.cursorDiv,"CodeMirror-overwrite"):te(this.display.cursorDiv,"CodeMirror-overwrite"),Nr(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==ye(Ve(this))},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:pn(function(v,w){Bu(this,v,w)}),getScrollInfo:function(){var v=this.display.scroller;return{left:v.scrollLeft,top:v.scrollTop,height:v.scrollHeight-Y(this)-this.display.barHeight,width:v.scrollWidth-Y(this)-this.display.barWidth,clientHeight:Ce(this),clientWidth:he(this)}},scrollIntoView:pn(function(v,w){v==null?(v={from:this.doc.sel.primary().head,to:null},w==null&&(w=this.options.cursorScrollMargin)):typeof v=="number"?v={from:I(v,0),to:null}:v.from==null&&(v={from:v,to:null}),v.to||(v.to=v.from),v.margin=w||0,v.from.line!=null?_0(this,v):Hu(this,v.from,v.to,v.margin)}),setSize:pn(function(v,w){var E=this,k=function(j){return typeof j=="number"||/^\d+$/.test(String(j))?j+"px":j};v!=null&&(this.display.wrapper.style.width=k(v)),w!=null&&(this.display.wrapper.style.height=k(w)),this.options.lineWrapping&&cv(this);var D=this.display.viewFrom;this.doc.iter(D,this.display.viewTo,function(j){if(j.widgets){for(var H=0;H<j.widgets.length;H++)if(j.widgets[H].noHScroll){Ha(E,D,"widget");break}}++D}),this.curOp.forceUpdate=!0,Nr(this,"refresh",this)}),operation:function(v){return Ai(this,v)},startOperation:function(){return Ns(this)},endOperation:function(){return js(this)},refresh:pn(function(){var v=this.display.cachedTextHeight;ti(this),this.curOp.forceUpdate=!0,Ts(this),Bu(this,this.doc.scrollLeft,this.doc.scrollTop),sp(this.display),(v==null||Math.abs(v-bl(this.display))>.5||this.options.lineWrapping)&&Yd(this),Nr(this,"refresh",this)}),swapDoc:pn(function(v){var w=this.doc;return w.cm=null,this.state.selectingText&&this.state.selectingText(),Ev(this,v),Ts(this),this.display.input.reset(),Bu(this,v.scrollLeft,v.scrollTop),this.curOp.forceScroll=!0,Pn(this,"swapDoc",this,w),w}),phrase:function(v){var w=this.options.phrases;return w&&Object.prototype.hasOwnProperty.call(w,v)?w[v]:v},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},_i(l),l.registerHelper=function(v,w,E){g.hasOwnProperty(v)||(g[v]=l[v]={_global:[]}),g[v][w]=E},l.registerGlobalHelper=function(v,w,E,k){l.registerHelper(v,w,k),g[v]._global.push({pred:E,val:k})}}function Ep(l,f,g,v,w){var E=f,k=g,D=kt(l,f.line),j=w&&l.direction=="rtl"?-g:g;function H(){var Pt=f.line+j;return Pt<l.first||Pt>=l.first+l.size?!1:(f=new I(Pt,f.ch,f.sticky),D=kt(l,Pt))}function ce(Pt){var bt;if(v=="codepoint"){var At=D.text.charCodeAt(f.ch+(g>0?0:-1));if(isNaN(At))bt=null;else{var Xt=g>0?At>=55296&&At<56320:At>=56320&&At<57343;bt=new I(f.line,Math.max(0,Math.min(D.text.length,f.ch+g*(Xt?2:1))),-g)}}else w?bt=Jv(l.cm,D,f,g):bt=gp(D,f,g);if(bt==null)if(!Pt&&H())f=mp(w,l.cm,D,f.line,j);else return!1;else f=bt;return!0}if(v=="char"||v=="codepoint")ce();else if(v=="column")ce(!0);else if(v=="word"||v=="group")for(var me=null,je=v=="group",De=l.cm&&l.cm.getHelper(f,"wordChars"),Ge=!0;!(g<0&&!ce(!Ge));Ge=!1){var Je=D.text.charAt(f.ch)||`
`,ct=xe(Je,De)?"w":je&&Je==`
`?"n":!je||/\s/.test(Je)?null:"p";if(je&&!Ge&&!ct&&(ct="s"),me&&me!=ct){g<0&&(g=1,ce(),f.sticky="after");break}if(ct&&(me=ct),g>0&&!ce(!Ge))break}var gt=qa(l,f,E,k,!0);return Ze(E,gt)&&(gt.hitSide=!0),gt}function gg(l,f,g,v){var w=l.doc,E=f.left,k;if(v=="page"){var D=Math.min(l.display.wrapper.clientHeight,Ye(l).innerHeight||w(l).documentElement.clientHeight),j=Math.max(D-.5*bl(l.display),3);k=(g>0?f.bottom:f.top)+g*j}else v=="line"&&(k=g>0?f.bottom+3:f.top-3);for(var H;H=Gd(l,E,k),!!H.outside;){if(g<0?k<=0:k>=w.height){H.hitSide=!0;break}k+=g*5}return H}var Ir=function(l){this.cm=l,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new ze,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};Ir.prototype.init=function(l){var f=this,g=this,v=g.cm,w=g.div=l.lineDiv;w.contentEditable=!0,Cp(w,v.options.spellcheck,v.options.autocorrect,v.options.autocapitalize);function E(D){for(var j=D.target;j;j=j.parentNode){if(j==w)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(j.className))break}return!1}Mt(w,"paste",function(D){!E(D)||Wr(v,D)||dg(D,v)||S<=11&&setTimeout(Kn(v,function(){return f.updateFromDOM()}),20)}),Mt(w,"compositionstart",function(D){f.composing={data:D.data,done:!1}}),Mt(w,"compositionupdate",function(D){f.composing||(f.composing={data:D.data,done:!1})}),Mt(w,"compositionend",function(D){f.composing&&(D.data!=f.composing.data&&f.readFromDOMSoon(),f.composing.done=!0)}),Mt(w,"touchstart",function(){return g.forceCompositionEnd()}),Mt(w,"input",function(){f.composing||f.readFromDOMSoon()});function k(D){if(!(!E(D)||Wr(v,D))){if(v.somethingSelected())Mf({lineWise:!1,text:v.getSelections()}),D.type=="cut"&&v.replaceSelection("",null,"cut");else if(v.options.lineWiseCopyCut){var j=hg(v);Mf({lineWise:!0,text:j.text}),D.type=="cut"&&v.operation(function(){v.setSelections(j.ranges,0,rt),v.replaceSelection("",null,"cut")})}else return;if(D.clipboardData){D.clipboardData.clearData();var H=Ao.text.join(`
`);if(D.clipboardData.setData("Text",H),D.clipboardData.getData("Text")==H){D.preventDefault();return}}var ce=Op(),me=ce.firstChild;Cp(me),v.display.lineSpace.insertBefore(ce,v.display.lineSpace.firstChild),me.value=Ao.text.join(`
`);var je=ye(w.ownerDocument);ge(me),setTimeout(function(){v.display.lineSpace.removeChild(ce),je.focus(),je==w&&g.showPrimarySelection()},50)}}Mt(w,"copy",k),Mt(w,"cut",k)},Ir.prototype.screenReaderLabelChanged=function(l){l?this.div.setAttribute("aria-label",l):this.div.removeAttribute("aria-label")},Ir.prototype.prepareSelection=function(){var l=hv(this.cm,!1);return l.focus=ye(this.div.ownerDocument)==this.div,l},Ir.prototype.showSelection=function(l,f){!l||!this.cm.display.view.length||((l.focus||f)&&this.showPrimarySelection(),this.showMultipleSelections(l))},Ir.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Ir.prototype.showPrimarySelection=function(){var l=this.getSelection(),f=this.cm,g=f.doc.sel.primary(),v=g.from(),w=g.to();if(f.display.viewTo==f.display.viewFrom||v.line>=f.display.viewTo||w.line<f.display.viewFrom){l.removeAllRanges();return}var E=oc(f,l.anchorNode,l.anchorOffset),k=oc(f,l.focusNode,l.focusOffset);if(!(E&&!E.bad&&k&&!k.bad&&ne(Cr(E,k),v)==0&&ne(nr(E,k),w)==0)){var D=f.display.view,j=v.line>=f.display.viewFrom&&mg(f,v)||{node:D[0].measure.map[2],offset:0},H=w.line<f.display.viewTo&&mg(f,w);if(!H){var ce=D[D.length-1].measure,me=ce.maps?ce.maps[ce.maps.length-1]:ce.map;H={node:me[me.length-1],offset:me[me.length-2]-me[me.length-3]}}if(!j||!H){l.removeAllRanges();return}var je=l.rangeCount&&l.getRangeAt(0),De;try{De=W(j.node,j.offset,H.offset,H.node)}catch{}De&&(!c&&f.state.focused?(l.collapse(j.node,j.offset),De.collapsed||(l.removeAllRanges(),l.addRange(De))):(l.removeAllRanges(),l.addRange(De)),je&&l.anchorNode==null?l.addRange(je):c&&this.startGracePeriod()),this.rememberSelection()}},Ir.prototype.startGracePeriod=function(){var l=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){l.gracePeriod=!1,l.selectionChanged()&&l.cm.operation(function(){return l.cm.curOp.selectionChanged=!0})},20)},Ir.prototype.showMultipleSelections=function(l){ae(this.cm.display.cursorDiv,l.cursors),ae(this.cm.display.selectionDiv,l.selection)},Ir.prototype.rememberSelection=function(){var l=this.getSelection();this.lastAnchorNode=l.anchorNode,this.lastAnchorOffset=l.anchorOffset,this.lastFocusNode=l.focusNode,this.lastFocusOffset=l.focusOffset},Ir.prototype.selectionInEditor=function(){var l=this.getSelection();if(!l.rangeCount)return!1;var f=l.getRangeAt(0).commonAncestorContainer;return Le(this.div,f)},Ir.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||ye(this.div.ownerDocument)!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},Ir.prototype.blur=function(){this.div.blur()},Ir.prototype.getField=function(){return this.div},Ir.prototype.supportsTouch=function(){return!0},Ir.prototype.receivedFocus=function(){var l=this,f=this;this.selectionInEditor()?setTimeout(function(){return l.pollSelection()},20):Ai(this.cm,function(){return f.cm.curOp.selectionChanged=!0});function g(){f.cm.state.focused&&(f.pollSelection(),f.polling.set(f.cm.options.pollInterval,g))}this.polling.set(this.cm.options.pollInterval,g)},Ir.prototype.selectionChanged=function(){var l=this.getSelection();return l.anchorNode!=this.lastAnchorNode||l.anchorOffset!=this.lastAnchorOffset||l.focusNode!=this.lastFocusNode||l.focusOffset!=this.lastFocusOffset},Ir.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var l=this.getSelection(),f=this.cm;if(z&&P&&this.cm.display.gutterSpecs.length&&nw(l.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var g=oc(f,l.anchorNode,l.anchorOffset),v=oc(f,l.focusNode,l.focusOffset);g&&v&&Ai(f,function(){di(f.doc,Ka(g,v),rt),(g.bad||v.bad)&&(f.curOp.selectionChanged=!0)})}}},Ir.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var l=this.cm,f=l.display,g=l.doc.sel.primary(),v=g.from(),w=g.to();if(v.ch==0&&v.line>l.firstLine()&&(v=I(v.line-1,kt(l.doc,v.line-1).length)),w.ch==kt(l.doc,w.line).text.length&&w.line<l.lastLine()&&(w=I(w.line+1,0)),v.line<f.viewFrom||w.line>f.viewTo-1)return!1;var E,k,D;v.line==f.viewFrom||(E=Ps(l,v.line))==0?(k=hr(f.view[0].line),D=f.view[0].node):(k=hr(f.view[E].line),D=f.view[E-1].node.nextSibling);var j=Ps(l,w.line),H,ce;if(j==f.view.length-1?(H=f.viewTo-1,ce=f.lineDiv.lastChild):(H=hr(f.view[j+1].line)-1,ce=f.view[j+1].node.previousSibling),!D)return!1;for(var me=l.doc.splitLines(iw(l,D,ce,k,H)),je=hn(l.doc,I(k,0),I(H,kt(l.doc,H).text.length));me.length>1&&je.length>1;)if(Ct(me)==Ct(je))me.pop(),je.pop(),H--;else if(me[0]==je[0])me.shift(),je.shift(),k++;else break;for(var De=0,Ge=0,Je=me[0],ct=je[0],gt=Math.min(Je.length,ct.length);De<gt&&Je.charCodeAt(De)==ct.charCodeAt(De);)++De;for(var Pt=Ct(me),bt=Ct(je),At=Math.min(Pt.length-(me.length==1?De:0),bt.length-(je.length==1?De:0));Ge<At&&Pt.charCodeAt(Pt.length-Ge-1)==bt.charCodeAt(bt.length-Ge-1);)++Ge;if(me.length==1&&je.length==1&&k==v.line)for(;De&&De>v.ch&&Pt.charCodeAt(Pt.length-Ge-1)==bt.charCodeAt(bt.length-Ge-1);)De--,Ge++;me[me.length-1]=Pt.slice(0,Pt.length-Ge).replace(/^\u200b+/,""),me[0]=me[0].slice(De).replace(/\u200b+$/,"");var Xt=I(k,De),Zt=I(H,je.length?Ct(je).length-Ge:0);if(me.length>1||me[0]||ne(Xt,Zt))return Ml(l.doc,me,Xt,Zt,"+input"),!0},Ir.prototype.ensurePolled=function(){this.forceCompositionEnd()},Ir.prototype.reset=function(){this.forceCompositionEnd()},Ir.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Ir.prototype.readFromDOMSoon=function(){var l=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(l.readDOMTimeout=null,l.composing)if(l.composing.done)l.composing=null;else return;l.updateFromDOM()},80))},Ir.prototype.updateFromDOM=function(){var l=this;(this.cm.isReadOnly()||!this.pollContent())&&Ai(this.cm,function(){return ti(l.cm)})},Ir.prototype.setUneditable=function(l){l.contentEditable="false"},Ir.prototype.onKeyPress=function(l){l.charCode==0||this.composing||(l.preventDefault(),this.cm.isReadOnly()||Kn(this.cm,Sp)(this.cm,String.fromCharCode(l.charCode==null?l.keyCode:l.charCode),0))},Ir.prototype.readOnlyChanged=function(l){this.div.contentEditable=String(l!="nocursor")},Ir.prototype.onContextMenu=function(){},Ir.prototype.resetPosition=function(){},Ir.prototype.needsContentAttribute=!0;function mg(l,f){var g=fr(l,f.line);if(!g||g.hidden)return null;var v=kt(l.doc,f.line),w=Ne(g,v,f.line),E=dr(v,l.doc.direction),k="left";if(E){var D=Sr(E,f.ch);k=D%2?"right":"left"}var j=_l(w.map,f.ch,k);return j.offset=j.collapse=="right"?j.end:j.start,j}function nw(l){for(var f=l;f;f=f.parentNode)if(/CodeMirror-gutter-wrapper/.test(f.className))return!0;return!1}function Ul(l,f){return f&&(l.bad=!0),l}function iw(l,f,g,v,w){var E="",k=!1,D=l.doc.lineSeparator(),j=!1;function H(De){return function(Ge){return Ge.id==De}}function ce(){k&&(E+=D,j&&(E+=D),k=j=!1)}function me(De){De&&(ce(),E+=De)}function je(De){if(De.nodeType==1){var Ge=De.getAttribute("cm-text");if(Ge){me(Ge);return}var Je=De.getAttribute("cm-marker"),ct;if(Je){var gt=l.findMarks(I(v,0),I(w+1,0),H(+Je));gt.length&&(ct=gt[0].find(0))&&me(hn(l.doc,ct.from,ct.to).join(D));return}if(De.getAttribute("contenteditable")=="false")return;var Pt=/^(pre|div|p|li|table|br)$/i.test(De.nodeName);if(!/^br$/i.test(De.nodeName)&&De.textContent.length==0)return;Pt&&ce();for(var bt=0;bt<De.childNodes.length;bt++)je(De.childNodes[bt]);/^(pre|p)$/i.test(De.nodeName)&&(j=!0),Pt&&(k=!0)}else De.nodeType==3&&me(De.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;je(f),f!=g;)f=f.nextSibling,j=!1;return E}function oc(l,f,g){var v;if(f==l.display.lineDiv){if(v=l.display.lineDiv.childNodes[g],!v)return Ul(l.clipPos(I(l.display.viewTo-1)),!0);f=null,g=0}else for(v=f;;v=v.parentNode){if(!v||v==l.display.lineDiv)return null;if(v.parentNode&&v.parentNode==l.display.lineDiv)break}for(var w=0;w<l.display.view.length;w++){var E=l.display.view[w];if(E.node==v)return ow(E,f,g)}}function ow(l,f,g){var v=l.text.firstChild,w=!1;if(!f||!Le(v,f))return Ul(I(hr(l.line),0),!0);if(f==v&&(w=!0,f=v.childNodes[g],g=0,!f)){var E=l.rest?Ct(l.rest):l.line;return Ul(I(hr(E),E.text.length),w)}var k=f.nodeType==3?f:null,D=f;for(!k&&f.childNodes.length==1&&f.firstChild.nodeType==3&&(k=f.firstChild,g&&(g=k.nodeValue.length));D.parentNode!=v;)D=D.parentNode;var j=l.measure,H=j.maps;function ce(ct,gt,Pt){for(var bt=-1;bt<(H?H.length:0);bt++)for(var At=bt<0?j.map:H[bt],Xt=0;Xt<At.length;Xt+=3){var Zt=At[Xt+2];if(Zt==ct||Zt==gt){var br=hr(bt<0?l.line:l.rest[bt]),on=At[Xt]+Pt;return(Pt<0||Zt!=ct)&&(on=At[Xt+(Pt?1:0)]),I(br,on)}}}var me=ce(k,D,g);if(me)return Ul(me,w);for(var je=D.nextSibling,De=k?k.nodeValue.length-g:0;je;je=je.nextSibling){if(me=ce(je,je.firstChild,0),me)return Ul(I(me.line,me.ch-De),w);De+=je.textContent.length}for(var Ge=D.previousSibling,Je=g;Ge;Ge=Ge.previousSibling){if(me=ce(Ge,Ge.firstChild,-1),me)return Ul(I(me.line,me.ch+Je),w);Je+=Ge.textContent.length}}var kn=function(l){this.cm=l,this.prevInput="",this.pollingFast=!1,this.polling=new ze,this.hasSelection=!1,this.composing=null,this.resetting=!1};kn.prototype.init=function(l){var f=this,g=this,v=this.cm;this.createField(l);var w=this.textarea;l.wrapper.insertBefore(this.wrapper,l.wrapper.firstChild),q&&(w.style.width="0px"),Mt(w,"input",function(){x&&S>=9&&f.hasSelection&&(f.hasSelection=null),g.poll()}),Mt(w,"paste",function(k){Wr(v,k)||dg(k,v)||(v.state.pasteIncoming=+new Date,g.fastPoll())});function E(k){if(!Wr(v,k)){if(v.somethingSelected())Mf({lineWise:!1,text:v.getSelections()});else if(v.options.lineWiseCopyCut){var D=hg(v);Mf({lineWise:!0,text:D.text}),k.type=="cut"?v.setSelections(D.ranges,null,rt):(g.prevInput="",w.value=D.text.join(`
`),ge(w))}else return;k.type=="cut"&&(v.state.cutIncoming=+new Date)}}Mt(w,"cut",E),Mt(w,"copy",E),Mt(l.scroller,"paste",function(k){if(!(Eo(l,k)||Wr(v,k))){if(!w.dispatchEvent){v.state.pasteIncoming=+new Date,g.focus();return}var D=new Event("paste");D.clipboardData=k.clipboardData,w.dispatchEvent(D)}}),Mt(l.lineSpace,"selectstart",function(k){Eo(l,k)||ee(k)}),Mt(w,"compositionstart",function(){var k=v.getCursor("from");g.composing&&g.composing.range.clear(),g.composing={start:k,range:v.markText(k,v.getCursor("to"),{className:"CodeMirror-composing"})}}),Mt(w,"compositionend",function(){g.composing&&(g.poll(),g.composing.range.clear(),g.composing=null)})},kn.prototype.createField=function(l){this.wrapper=Op(),this.textarea=this.wrapper.firstChild;var f=this.cm.options;Cp(this.textarea,f.spellcheck,f.autocorrect,f.autocapitalize)},kn.prototype.screenReaderLabelChanged=function(l){l?this.textarea.setAttribute("aria-label",l):this.textarea.removeAttribute("aria-label")},kn.prototype.prepareSelection=function(){var l=this.cm,f=l.display,g=l.doc,v=hv(l);if(l.options.moveInputWithCursor){var w=Fi(l,g.sel.primary().head,"div"),E=f.wrapper.getBoundingClientRect(),k=f.lineDiv.getBoundingClientRect();v.teTop=Math.max(0,Math.min(f.wrapper.clientHeight-10,w.top+k.top-E.top)),v.teLeft=Math.max(0,Math.min(f.wrapper.clientWidth-10,w.left+k.left-E.left))}return v},kn.prototype.showSelection=function(l){var f=this.cm,g=f.display;ae(g.cursorDiv,l.cursors),ae(g.selectionDiv,l.selection),l.teTop!=null&&(this.wrapper.style.top=l.teTop+"px",this.wrapper.style.left=l.teLeft+"px")},kn.prototype.reset=function(l){if(!(this.contextMenuPending||this.composing&&l)){var f=this.cm;if(this.resetting=!0,f.somethingSelected()){this.prevInput="";var g=f.getSelection();this.textarea.value=g,f.state.focused&&ge(this.textarea),x&&S>=9&&(this.hasSelection=g)}else l||(this.prevInput=this.textarea.value="",x&&S>=9&&(this.hasSelection=null));this.resetting=!1}},kn.prototype.getField=function(){return this.textarea},kn.prototype.supportsTouch=function(){return!1},kn.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!$||ye(this.textarea.ownerDocument)!=this.textarea))try{this.textarea.focus()}catch{}},kn.prototype.blur=function(){this.textarea.blur()},kn.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},kn.prototype.receivedFocus=function(){this.slowPoll()},kn.prototype.slowPoll=function(){var l=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){l.poll(),l.cm.state.focused&&l.slowPoll()})},kn.prototype.fastPoll=function(){var l=!1,f=this;f.pollingFast=!0;function g(){var v=f.poll();!v&&!l?(l=!0,f.polling.set(60,g)):(f.pollingFast=!1,f.slowPoll())}f.polling.set(20,g)},kn.prototype.poll=function(){var l=this,f=this.cm,g=this.textarea,v=this.prevInput;if(this.contextMenuPending||this.resetting||!f.state.focused||xt(g)&&!v&&!this.composing||f.isReadOnly()||f.options.disableInput||f.state.keySeq)return!1;var w=g.value;if(w==v&&!f.somethingSelected())return!1;if(x&&S>=9&&this.hasSelection===w||X&&/[\uf700-\uf7ff]/.test(w))return f.display.input.reset(),!1;if(f.doc.sel==f.display.selForContextMenu){var E=w.charCodeAt(0);if(E==8203&&!v&&(v=""),E==8666)return this.reset(),this.cm.execCommand("undo")}for(var k=0,D=Math.min(v.length,w.length);k<D&&v.charCodeAt(k)==w.charCodeAt(k);)++k;return Ai(f,function(){Sp(f,w.slice(k),v.length-k,null,l.composing?"*compose":null),w.length>1e3||w.indexOf(`
`)>-1?g.value=l.prevInput="":l.prevInput=w,l.composing&&(l.composing.range.clear(),l.composing.range=f.markText(l.composing.start,f.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},kn.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},kn.prototype.onKeyPress=function(){x&&S>=9&&(this.hasSelection=null),this.fastPoll()},kn.prototype.onContextMenu=function(l){var f=this,g=f.cm,v=g.display,w=f.textarea;f.contextMenuPending&&f.contextMenuPending();var E=Ba(g,l),k=v.scroller.scrollTop;if(!E||N)return;var D=g.options.resetSelectionOnContextMenu;D&&g.doc.sel.contains(E)==-1&&Kn(g,di)(g.doc,Ka(E),rt);var j=w.style.cssText,H=f.wrapper.style.cssText,ce=f.wrapper.offsetParent.getBoundingClientRect();f.wrapper.style.cssText="position: static",w.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(l.clientY-ce.top-5)+"px; left: "+(l.clientX-ce.left-5)+`px;
      z-index: 1000; background: `+(x?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var me;C&&(me=w.ownerDocument.defaultView.scrollY),v.input.focus(),C&&w.ownerDocument.defaultView.scrollTo(null,me),v.input.reset(),g.somethingSelected()||(w.value=f.prevInput=" "),f.contextMenuPending=De,v.selForContextMenu=g.doc.sel,clearTimeout(v.detectingSelectAll);function je(){if(w.selectionStart!=null){var Je=g.somethingSelected(),ct=""+(Je?w.value:"");w.value="",w.value=ct,f.prevInput=Je?"":"",w.selectionStart=1,w.selectionEnd=ct.length,v.selForContextMenu=g.doc.sel}}function De(){if(f.contextMenuPending==De&&(f.contextMenuPending=!1,f.wrapper.style.cssText=H,w.style.cssText=j,x&&S<9&&v.scrollbars.setScrollTop(v.scroller.scrollTop=k),w.selectionStart!=null)){(!x||x&&S<9)&&je();var Je=0,ct=function(){v.selForContextMenu==g.doc.sel&&w.selectionStart==0&&w.selectionEnd>0&&f.prevInput==""?Kn(g,Iv)(g):Je++<10?v.detectingSelectAll=setTimeout(ct,500):(v.selForContextMenu=null,v.input.reset())};v.detectingSelectAll=setTimeout(ct,200)}}if(x&&S>=9&&je(),se){Qe(l);var Ge=function(){Qt(window,"mouseup",Ge),setTimeout(De,20)};Mt(window,"mouseup",Ge)}else setTimeout(De,50)},kn.prototype.readOnlyChanged=function(l){l||this.reset(),this.textarea.disabled=l=="nocursor",this.textarea.readOnly=!!l},kn.prototype.setUneditable=function(){},kn.prototype.needsContentAttribute=!1;function aw(l,f){if(f=f?dt(f):{},f.value=l.value,!f.tabindex&&l.tabIndex&&(f.tabindex=l.tabIndex),!f.placeholder&&l.placeholder&&(f.placeholder=l.placeholder),f.autofocus==null){var g=ye(l.ownerDocument);f.autofocus=g==l||l.getAttribute("autofocus")!=null&&g==document.body}function v(){l.value=D.getValue()}var w;if(l.form&&(Mt(l.form,"submit",v),!f.leaveSubmitMethodAlone)){var E=l.form;w=E.submit;try{var k=E.submit=function(){v(),E.submit=w,E.submit(),E.submit=k}}catch{}}f.finishInit=function(j){j.save=v,j.getTextArea=function(){return l},j.toTextArea=function(){j.toTextArea=isNaN,v(),l.parentNode.removeChild(j.getWrapperElement()),l.style.display="",l.form&&(Qt(l.form,"submit",v),!f.leaveSubmitMethodAlone&&typeof l.form.submit=="function"&&(l.form.submit=w))}},l.style.display="none";var D=sn(function(j){return l.parentNode.insertBefore(j,l.nextSibling)},f);return D}function yg(l){l.off=Qt,l.on=Mt,l.wheelEventPixels=bv,l.Doc=Li,l.splitLines=Xe,l.countColumn=Te,l.findColumn=zr,l.isWordChar=J,l.Pass=vt,l.signal=Nr,l.Line=Co,l.changeEnd=Ga,l.scrollbarModel=Rs,l.Pos=I,l.cmpPos=ne,l.modes=$t,l.mimeModes=jt,l.resolveMode=gr,l.getMode=pr,l.modeExtensions=sr,l.extendMode=Jr,l.copyState=Fr,l.startState=Zr,l.innerMode=Mn,l.commands=tc,l.keyMap=Go,l.keyName=Xv,l.isModifierKey=qv,l.lookupKey=Il,l.normalizeKeyMap=Ja,l.StringStream=Tr,l.SharedTextMarker=Yu,l.TextMarker=Xa,l.LineWidget=Nl,l.e_preventDefault=ee,l.e_stopPropagation=Ee,l.e_stop=Qe,l.addClass=Ue,l.contains=Le,l.rmClass=te,l.keyNames=da}ug(sn),vg(sn);var sw="iter insert remove copy getEditor constructor".split(" ");for(var Df in Li.prototype)Li.prototype.hasOwnProperty(Df)&&qe(sw,Df)<0&&(sn.prototype[Df]=function(l){return function(){return l.apply(this.doc,arguments)}}(Li.prototype[Df]));return _i(Li),sn.inputStyles={textarea:kn,contenteditable:Ir},sn.defineMode=function(l){!sn.defaults.mode&&l!="null"&&(sn.defaults.mode=l),Bt.apply(this,arguments)},sn.defineMIME=jr,sn.defineMode("null",function(){return{token:function(l){return l.skipToEnd()}}}),sn.defineMIME("text/plain","null"),sn.defineExtension=function(l,f){sn.prototype[l]=f},sn.defineDocExtension=function(l,f){Li.prototype[l]=f},sn.fromTextArea=aw,yg(sn),sn.version="5.65.15",sn})},629:(r,o,s)=>{(function(c){c(s(631))})(function(c){c.defineMode("css",function(te,re){var ae=re.inline;re.propertyKeywords||(re=c.resolveMode("text/css"));var G=te.indentUnit,be=re.tokenHooks,W=re.documentTypes||{},Le=re.mediaTypes||{},ye=re.mediaFeatures||{},Ue=re.mediaValueKeywords||{},$e=re.propertyKeywords||{},ge=re.nonStandardPropertyKeywords||{},Ve=re.fontProperties||{},Ye=re.counterDescriptors||{},We=re.colorKeywords||{},dt=re.valueKeywords||{},Te=re.allowNested,ze=re.lineComment,qe=re.supportsAtComponent===!0,ut=te.highlightNonStandardPropertyKeywords!==!1,vt,rt;function lt(J,xe){return vt=xe,J}function ar(J,xe){var Oe=J.next();if(be[Oe]){var yt=be[Oe](J,xe);if(yt!==!1)return yt}if(Oe=="@")return J.eatWhile(/[\w\\\-]/),lt("def",J.current());if(Oe=="="||(Oe=="~"||Oe=="|")&&J.eat("="))return lt(null,"compare");if(Oe=='"'||Oe=="'")return xe.tokenize=zr(Oe),xe.tokenize(J,xe);if(Oe=="#")return J.eatWhile(/[\w\\\-]/),lt("atom","hash");if(Oe=="!")return J.match(/^\s*\w*/),lt("keyword","important");if(/\d/.test(Oe)||Oe=="."&&J.eat(/\d/))return J.eatWhile(/[\w.%]/),lt("number","unit");if(Oe==="-"){if(/[\d.]/.test(J.peek()))return J.eatWhile(/[\w.%]/),lt("number","unit");if(J.match(/^-[\w\\\-]*/))return J.eatWhile(/[\w\\\-]/),J.match(/^\s*:/,!1)?lt("variable-2","variable-definition"):lt("variable-2","variable");if(J.match(/^\w+-/))return lt("meta","meta")}else return/[,+>*\/]/.test(Oe)?lt(null,"select-op"):Oe=="."&&J.match(/^-?[_a-z][_a-z0-9-]*/i)?lt("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(Oe)?lt(null,Oe):J.match(/^[\w-.]+(?=\()/)?(/^(url(-prefix)?|domain|regexp)$/i.test(J.current())&&(xe.tokenize=un),lt("variable callee","variable")):/[\w\\\-]/.test(Oe)?(J.eatWhile(/[\w\\\-]/),lt("property","word")):lt(null,null)}function zr(J){return function(xe,Oe){for(var yt=!1,qt;(qt=xe.next())!=null;){if(qt==J&&!yt){J==")"&&xe.backUp(1);break}yt=!yt&&qt=="\\"}return(qt==J||!yt&&J!=")")&&(Oe.tokenize=null),lt("string","string")}}function un(J,xe){return J.next(),J.match(/^\s*[\"\')]/,!1)?xe.tokenize=null:xe.tokenize=zr(")"),lt(null,"(")}function Ar(J,xe,Oe){this.type=J,this.indent=xe,this.prev=Oe}function Ct(J,xe,Oe,yt){return J.context=new Ar(Oe,xe.indentation()+(yt===!1?0:G),J.context),Oe}function M(J){return J.context.prev&&(J.context=J.context.prev),J.context.type}function F(J,xe,Oe){return Se[Oe.context.type](J,xe,Oe)}function Z(J,xe,Oe,yt){for(var qt=yt||1;qt>0;qt--)Oe.context=Oe.context.prev;return F(J,xe,Oe)}function pe(J){var xe=J.current().toLowerCase();dt.hasOwnProperty(xe)?rt="atom":We.hasOwnProperty(xe)?rt="keyword":rt="variable"}var Se={};return Se.top=function(J,xe,Oe){if(J=="{")return Ct(Oe,xe,"block");if(J=="}"&&Oe.context.prev)return M(Oe);if(qe&&/@component/i.test(J))return Ct(Oe,xe,"atComponentBlock");if(/^@(-moz-)?document$/i.test(J))return Ct(Oe,xe,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/i.test(J))return Ct(Oe,xe,"atBlock");if(/^@(font-face|counter-style)/i.test(J))return Oe.stateArg=J,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(J))return"keyframes";if(J&&J.charAt(0)=="@")return Ct(Oe,xe,"at");if(J=="hash")rt="builtin";else if(J=="word")rt="tag";else{if(J=="variable-definition")return"maybeprop";if(J=="interpolation")return Ct(Oe,xe,"interpolation");if(J==":")return"pseudo";if(Te&&J=="(")return Ct(Oe,xe,"parens")}return Oe.context.type},Se.block=function(J,xe,Oe){if(J=="word"){var yt=xe.current().toLowerCase();return $e.hasOwnProperty(yt)?(rt="property","maybeprop"):ge.hasOwnProperty(yt)?(rt=ut?"string-2":"property","maybeprop"):Te?(rt=xe.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(rt+=" error","maybeprop")}else return J=="meta"?"block":!Te&&(J=="hash"||J=="qualifier")?(rt="error","block"):Se.top(J,xe,Oe)},Se.maybeprop=function(J,xe,Oe){return J==":"?Ct(Oe,xe,"prop"):F(J,xe,Oe)},Se.prop=function(J,xe,Oe){if(J==";")return M(Oe);if(J=="{"&&Te)return Ct(Oe,xe,"propBlock");if(J=="}"||J=="{")return Z(J,xe,Oe);if(J=="(")return Ct(Oe,xe,"parens");if(J=="hash"&&!/^#([0-9a-fA-F]{3,4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/.test(xe.current()))rt+=" error";else if(J=="word")pe(xe);else if(J=="interpolation")return Ct(Oe,xe,"interpolation");return"prop"},Se.propBlock=function(J,xe,Oe){return J=="}"?M(Oe):J=="word"?(rt="property","maybeprop"):Oe.context.type},Se.parens=function(J,xe,Oe){return J=="{"||J=="}"?Z(J,xe,Oe):J==")"?M(Oe):J=="("?Ct(Oe,xe,"parens"):J=="interpolation"?Ct(Oe,xe,"interpolation"):(J=="word"&&pe(xe),"parens")},Se.pseudo=function(J,xe,Oe){return J=="meta"?"pseudo":J=="word"?(rt="variable-3",Oe.context.type):F(J,xe,Oe)},Se.documentTypes=function(J,xe,Oe){return J=="word"&&W.hasOwnProperty(xe.current())?(rt="tag",Oe.context.type):Se.atBlock(J,xe,Oe)},Se.atBlock=function(J,xe,Oe){if(J=="(")return Ct(Oe,xe,"atBlock_parens");if(J=="}"||J==";")return Z(J,xe,Oe);if(J=="{")return M(Oe)&&Ct(Oe,xe,Te?"block":"top");if(J=="interpolation")return Ct(Oe,xe,"interpolation");if(J=="word"){var yt=xe.current().toLowerCase();yt=="only"||yt=="not"||yt=="and"||yt=="or"?rt="keyword":Le.hasOwnProperty(yt)?rt="attribute":ye.hasOwnProperty(yt)?rt="property":Ue.hasOwnProperty(yt)?rt="keyword":$e.hasOwnProperty(yt)?rt="property":ge.hasOwnProperty(yt)?rt=ut?"string-2":"property":dt.hasOwnProperty(yt)?rt="atom":We.hasOwnProperty(yt)?rt="keyword":rt="error"}return Oe.context.type},Se.atComponentBlock=function(J,xe,Oe){return J=="}"?Z(J,xe,Oe):J=="{"?M(Oe)&&Ct(Oe,xe,Te?"block":"top",!1):(J=="word"&&(rt="error"),Oe.context.type)},Se.atBlock_parens=function(J,xe,Oe){return J==")"?M(Oe):J=="{"||J=="}"?Z(J,xe,Oe,2):Se.atBlock(J,xe,Oe)},Se.restricted_atBlock_before=function(J,xe,Oe){return J=="{"?Ct(Oe,xe,"restricted_atBlock"):J=="word"&&Oe.stateArg=="@counter-style"?(rt="variable","restricted_atBlock_before"):F(J,xe,Oe)},Se.restricted_atBlock=function(J,xe,Oe){return J=="}"?(Oe.stateArg=null,M(Oe)):J=="word"?(Oe.stateArg=="@font-face"&&!Ve.hasOwnProperty(xe.current().toLowerCase())||Oe.stateArg=="@counter-style"&&!Ye.hasOwnProperty(xe.current().toLowerCase())?rt="error":rt="property","maybeprop"):"restricted_atBlock"},Se.keyframes=function(J,xe,Oe){return J=="word"?(rt="variable","keyframes"):J=="{"?Ct(Oe,xe,"top"):F(J,xe,Oe)},Se.at=function(J,xe,Oe){return J==";"?M(Oe):J=="{"||J=="}"?Z(J,xe,Oe):(J=="word"?rt="tag":J=="hash"&&(rt="builtin"),"at")},Se.interpolation=function(J,xe,Oe){return J=="}"?M(Oe):J=="{"||J==";"?Z(J,xe,Oe):(J=="word"?rt="variable":J!="variable"&&J!="("&&J!=")"&&(rt="error"),"interpolation")},{startState:function(J){return{tokenize:null,state:ae?"block":"top",stateArg:null,context:new Ar(ae?"block":"top",J||0,null)}},token:function(J,xe){if(!xe.tokenize&&J.eatSpace())return null;var Oe=(xe.tokenize||ar)(J,xe);return Oe&&typeof Oe=="object"&&(vt=Oe[1],Oe=Oe[0]),rt=Oe,vt!="comment"&&(xe.state=Se[xe.state](vt,J,xe)),rt},indent:function(J,xe){var Oe=J.context,yt=xe&&xe.charAt(0),qt=Oe.indent;return Oe.type=="prop"&&(yt=="}"||yt==")")&&(Oe=Oe.prev),Oe.prev&&(yt=="}"&&(Oe.type=="block"||Oe.type=="top"||Oe.type=="interpolation"||Oe.type=="restricted_atBlock")?(Oe=Oe.prev,qt=Oe.indent):(yt==")"&&(Oe.type=="parens"||Oe.type=="atBlock_parens")||yt=="{"&&(Oe.type=="at"||Oe.type=="atBlock"))&&(qt=Math.max(0,Oe.indent-G))),qt},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:ze,fold:"brace"}});function d(te){for(var re={},ae=0;ae<te.length;++ae)re[te[ae].toLowerCase()]=!0;return re}var h=["domain","regexp","url","url-prefix"],_=d(h),x=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],S=d(x),C=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover","prefers-color-scheme","dynamic-range","video-dynamic-range"],T=d(C),P=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive","dark","light","standard","high"],L=d(P),N=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","all","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","binding","bleed","block-size","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-content","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","inset","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-height-step","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotate","rotation","rotation-point","row-gap","ruby-align","ruby-overhang","ruby-position","ruby-span","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-type","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-orientation","text-outline","text-overflow","text-rendering","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","touch-action","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","paint-order","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],U=d(N),K=["accent-color","aspect-ratio","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","content-visibility","margin-block","margin-block-end","margin-block-start","margin-inline","margin-inline-end","margin-inline-start","overflow-anchor","overscroll-behavior","padding-block","padding-block-end","padding-block-start","padding-inline","padding-inline-end","padding-inline-start","scroll-snap-stop","scrollbar-3d-light-color","scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-track-color","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","shape-inside","zoom"],fe=d(K),q=["font-display","font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],z=d(q),$=["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"],X=d($),_e=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],ie=d(_e),we=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","blur","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","brightness","bullets","button","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","conic-gradient","contain","content","contents","content-box","context-menu","continuous","contrast","copy","counter","counters","cover","crop","cross","crosshair","cubic-bezier","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","drop-shadow","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","grayscale","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","hue-rotate","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","manipulation","match","matrix","matrix3d","media-play-button","media-slider","media-sliderthumb","media-volume-slider","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiple_mask_images","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeating-conic-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturate","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","sepia","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],Ae=d(we),se=h.concat(x).concat(C).concat(P).concat(N).concat(K).concat(_e).concat(we);c.registerHelper("hintWords","css",se);function ve(te,re){for(var ae=!1,G;(G=te.next())!=null;){if(ae&&G=="/"){re.tokenize=null;break}ae=G=="*"}return["comment","comment"]}c.defineMIME("text/css",{documentTypes:_,mediaTypes:S,mediaFeatures:T,mediaValueKeywords:L,propertyKeywords:U,nonStandardPropertyKeywords:fe,fontProperties:z,counterDescriptors:X,colorKeywords:ie,valueKeywords:Ae,tokenHooks:{"/":function(te,re){return te.eat("*")?(re.tokenize=ve,ve(te,re)):!1}},name:"css"}),c.defineMIME("text/x-scss",{mediaTypes:S,mediaFeatures:T,mediaValueKeywords:L,propertyKeywords:U,nonStandardPropertyKeywords:fe,colorKeywords:ie,valueKeywords:Ae,fontProperties:z,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(te,re){return te.eat("/")?(te.skipToEnd(),["comment","comment"]):te.eat("*")?(re.tokenize=ve,ve(te,re)):["operator","operator"]},":":function(te){return te.match(/^\s*\{/,!1)?[null,null]:!1},$:function(te){return te.match(/^[\w-]+/),te.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(te){return te.eat("{")?[null,"interpolation"]:!1}},name:"css",helperType:"scss"}),c.defineMIME("text/x-less",{mediaTypes:S,mediaFeatures:T,mediaValueKeywords:L,propertyKeywords:U,nonStandardPropertyKeywords:fe,colorKeywords:ie,valueKeywords:Ae,fontProperties:z,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(te,re){return te.eat("/")?(te.skipToEnd(),["comment","comment"]):te.eat("*")?(re.tokenize=ve,ve(te,re)):["operator","operator"]},"@":function(te){return te.eat("{")?[null,"interpolation"]:te.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,!1)?!1:(te.eatWhile(/[\w\\\-]/),te.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),c.defineMIME("text/x-gss",{documentTypes:_,mediaTypes:S,mediaFeatures:T,propertyKeywords:U,nonStandardPropertyKeywords:fe,fontProperties:z,counterDescriptors:X,colorKeywords:ie,valueKeywords:Ae,supportsAtComponent:!0,tokenHooks:{"/":function(te,re){return te.eat("*")?(re.tokenize=ve,ve(te,re)):!1}},name:"css",helperType:"gss"})})},531:(r,o,s)=>{(function(c){c(s(631),s(589),s(876),s(629))})(function(c){var d={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]};function h(L,N,U){var K=L.current(),fe=K.search(N);return fe>-1?L.backUp(K.length-fe):K.match(/<\/?$/)&&(L.backUp(K.length),L.match(N,!1)||L.match(K)),U}var _={};function x(L){var N=_[L];return N||(_[L]=new RegExp("\\s+"+L+`\\s*=\\s*('|")?([^'"]+)('|")?\\s*`))}function S(L,N){var U=L.match(x(N));return U?/^\s*(.*?)\s*$/.exec(U[2])[1]:""}function C(L,N){return new RegExp((N?"^":"")+"</\\s*"+L+"\\s*>","i")}function T(L,N){for(var U in L)for(var K=N[U]||(N[U]=[]),fe=L[U],q=fe.length-1;q>=0;q--)K.unshift(fe[q])}function P(L,N){for(var U=0;U<L.length;U++){var K=L[U];if(!K[0]||K[1].test(S(N,K[0])))return K[2]}}c.defineMode("htmlmixed",function(L,N){var U=c.getMode(L,{name:"xml",htmlMode:!0,multilineTagIndentFactor:N.multilineTagIndentFactor,multilineTagIndentPastTag:N.multilineTagIndentPastTag,allowMissingTagName:N.allowMissingTagName}),K={},fe=N&&N.tags,q=N&&N.scriptTypes;if(T(d,K),fe&&T(fe,K),q)for(var z=q.length-1;z>=0;z--)K.script.unshift(["type",q[z].matches,q[z].mode]);function $(X,_e){var ie=U.token(X,_e.htmlState),we=/\btag\b/.test(ie),Ae;if(we&&!/[<>\s\/]/.test(X.current())&&(Ae=_e.htmlState.tagName&&_e.htmlState.tagName.toLowerCase())&&K.hasOwnProperty(Ae))_e.inTag=Ae+" ";else if(_e.inTag&&we&&/>$/.test(X.current())){var se=/^([\S]+) (.*)/.exec(_e.inTag);_e.inTag=null;var ve=X.current()==">"&&P(K[se[1]],se[2]),te=c.getMode(L,ve),re=C(se[1],!0),ae=C(se[1],!1);_e.token=function(G,be){return G.match(re,!1)?(be.token=$,be.localState=be.localMode=null,null):h(G,ae,be.localMode.token(G,be.localState))},_e.localMode=te,_e.localState=c.startState(te,U.indent(_e.htmlState,"",""))}else _e.inTag&&(_e.inTag+=X.current(),X.eol()&&(_e.inTag+=" "));return ie}return{startState:function(){var X=c.startState(U);return{token:$,inTag:null,localMode:null,localState:null,htmlState:X}},copyState:function(X){var _e;return X.localState&&(_e=c.copyState(X.localMode,X.localState)),{token:X.token,inTag:X.inTag,localMode:X.localMode,localState:_e,htmlState:c.copyState(U,X.htmlState)}},token:function(X,_e){return _e.token(X,_e)},indent:function(X,_e,ie){return!X.localMode||/^\s*<\//.test(_e)?U.indent(X.htmlState,_e,ie):X.localMode.indent?X.localMode.indent(X.localState,_e,ie):c.Pass},innerMode:function(X){return{state:X.localState||X.htmlState,mode:X.localMode||U}}}},"xml","javascript","css"),c.defineMIME("text/html","htmlmixed")})},876:(r,o,s)=>{(function(c){c(s(631))})(function(c){c.defineMode("javascript",function(d,h){var _=d.indentUnit,x=h.statementIndent,S=h.jsonld,C=h.json||S,T=h.trackScope!==!1,P=h.typescript,L=h.wordCharacters||/[\w$\xa1-\uffff]/,N=function(){function I(Ft){return{type:Ft,style:"keyword"}}var ne=I("keyword a"),Ze=I("keyword b"),it=I("keyword c"),nr=I("keyword d"),Cr=I("operator"),Vr={type:"atom",style:"atom"};return{if:I("if"),while:ne,with:ne,else:Ze,do:Ze,try:Ze,finally:Ze,return:nr,break:nr,continue:nr,new:I("new"),delete:it,void:it,throw:it,debugger:I("debugger"),var:I("var"),const:I("var"),let:I("var"),function:I("function"),catch:I("catch"),for:I("for"),switch:I("switch"),case:I("case"),default:I("default"),in:Cr,typeof:Cr,instanceof:Cr,true:Vr,false:Vr,null:Vr,undefined:Vr,NaN:Vr,Infinity:Vr,this:I("this"),class:I("class"),super:I("atom"),yield:it,export:I("export"),import:I("import"),extends:it,await:it}}(),U=/[+\-*&%=<>!?|~^@]/,K=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function fe(I){for(var ne=!1,Ze,it=!1;(Ze=I.next())!=null;){if(!ne){if(Ze=="/"&&!it)return;Ze=="["?it=!0:it&&Ze=="]"&&(it=!1)}ne=!ne&&Ze=="\\"}}var q,z;function $(I,ne,Ze){return q=I,z=Ze,ne}function X(I,ne){var Ze=I.next();if(Ze=='"'||Ze=="'")return ne.tokenize=_e(Ze),ne.tokenize(I,ne);if(Ze=="."&&I.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return $("number","number");if(Ze=="."&&I.match(".."))return $("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(Ze))return $(Ze);if(Ze=="="&&I.eat(">"))return $("=>","operator");if(Ze=="0"&&I.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return $("number","number");if(/\d/.test(Ze))return I.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),$("number","number");if(Ze=="/")return I.eat("*")?(ne.tokenize=ie,ie(I,ne)):I.eat("/")?(I.skipToEnd(),$("comment","comment")):Lr(I,ne,1)?(fe(I),I.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),$("regexp","string-2")):(I.eat("="),$("operator","operator",I.current()));if(Ze=="`")return ne.tokenize=we,we(I,ne);if(Ze=="#"&&I.peek()=="!")return I.skipToEnd(),$("meta","meta");if(Ze=="#"&&I.eatWhile(L))return $("variable","property");if(Ze=="<"&&I.match("!--")||Ze=="-"&&I.match("->")&&!/\S/.test(I.string.slice(0,I.start)))return I.skipToEnd(),$("comment","comment");if(U.test(Ze))return(Ze!=">"||!ne.lexical||ne.lexical.type!=">")&&(I.eat("=")?(Ze=="!"||Ze=="=")&&I.eat("="):/[<>*+\-|&?]/.test(Ze)&&(I.eat(Ze),Ze==">"&&I.eat(Ze))),Ze=="?"&&I.eat(".")?$("."):$("operator","operator",I.current());if(L.test(Ze)){I.eatWhile(L);var it=I.current();if(ne.lastType!="."){if(N.propertyIsEnumerable(it)){var nr=N[it];return $(nr.type,nr.style,it)}if(it=="async"&&I.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return $("async","keyword",it)}return $("variable","variable",it)}}function _e(I){return function(ne,Ze){var it=!1,nr;if(S&&ne.peek()=="@"&&ne.match(K))return Ze.tokenize=X,$("jsonld-keyword","meta");for(;(nr=ne.next())!=null&&!(nr==I&&!it);)it=!it&&nr=="\\";return it||(Ze.tokenize=X),$("string","string")}}function ie(I,ne){for(var Ze=!1,it;it=I.next();){if(it=="/"&&Ze){ne.tokenize=X;break}Ze=it=="*"}return $("comment","comment")}function we(I,ne){for(var Ze=!1,it;(it=I.next())!=null;){if(!Ze&&(it=="`"||it=="$"&&I.eat("{"))){ne.tokenize=X;break}Ze=!Ze&&it=="\\"}return $("quasi","string-2",I.current())}var Ae="([{}])";function se(I,ne){ne.fatArrowAt&&(ne.fatArrowAt=null);var Ze=I.string.indexOf("=>",I.start);if(!(Ze<0)){if(P){var it=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(I.string.slice(I.start,Ze));it&&(Ze=it.index)}for(var nr=0,Cr=!1,Vr=Ze-1;Vr>=0;--Vr){var Ft=I.string.charAt(Vr),dn=Ae.indexOf(Ft);if(dn>=0&&dn<3){if(!nr){++Vr;break}if(--nr==0){Ft=="("&&(Cr=!0);break}}else if(dn>=3&&dn<6)++nr;else if(L.test(Ft))Cr=!0;else if(/["'\/`]/.test(Ft))for(;;--Vr){if(Vr==0)return;var ia=I.string.charAt(Vr-1);if(ia==Ft&&I.string.charAt(Vr-2)!="\\"){Vr--;break}}else if(Cr&&!nr){++Vr;break}}Cr&&!nr&&(ne.fatArrowAt=Vr)}}var ve={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function te(I,ne,Ze,it,nr,Cr){this.indented=I,this.column=ne,this.type=Ze,this.prev=nr,this.info=Cr,it!=null&&(this.align=it)}function re(I,ne){if(!T)return!1;for(var Ze=I.localVars;Ze;Ze=Ze.next)if(Ze.name==ne)return!0;for(var it=I.context;it;it=it.prev)for(var Ze=it.vars;Ze;Ze=Ze.next)if(Ze.name==ne)return!0}function ae(I,ne,Ze,it,nr){var Cr=I.cc;for(G.state=I,G.stream=nr,G.marked=null,G.cc=Cr,G.style=ne,I.lexical.hasOwnProperty("align")||(I.lexical.align=!0);;){var Vr=Cr.length?Cr.pop():C?lt:vt;if(Vr(Ze,it)){for(;Cr.length&&Cr[Cr.length-1].lex;)Cr.pop()();return G.marked?G.marked:Ze=="variable"&&re(I,it)?"variable-2":ne}}}var G={state:null,column:null,marked:null,cc:null};function be(){for(var I=arguments.length-1;I>=0;I--)G.cc.push(arguments[I])}function W(){return be.apply(null,arguments),!0}function Le(I,ne){for(var Ze=ne;Ze;Ze=Ze.next)if(Ze.name==I)return!0;return!1}function ye(I){var ne=G.state;if(G.marked="def",!!T){if(ne.context){if(ne.lexical.info=="var"&&ne.context&&ne.context.block){var Ze=Ue(I,ne.context);if(Ze!=null){ne.context=Ze;return}}else if(!Le(I,ne.localVars)){ne.localVars=new Ve(I,ne.localVars);return}}h.globalVars&&!Le(I,ne.globalVars)&&(ne.globalVars=new Ve(I,ne.globalVars))}}function Ue(I,ne){if(ne)if(ne.block){var Ze=Ue(I,ne.prev);return Ze?Ze==ne.prev?ne:new ge(Ze,ne.vars,!0):null}else return Le(I,ne.vars)?ne:new ge(ne.prev,new Ve(I,ne.vars),!1);else return null}function $e(I){return I=="public"||I=="private"||I=="protected"||I=="abstract"||I=="readonly"}function ge(I,ne,Ze){this.prev=I,this.vars=ne,this.block=Ze}function Ve(I,ne){this.name=I,this.next=ne}var Ye=new Ve("this",new Ve("arguments",null));function We(){G.state.context=new ge(G.state.context,G.state.localVars,!1),G.state.localVars=Ye}function dt(){G.state.context=new ge(G.state.context,G.state.localVars,!0),G.state.localVars=null}We.lex=dt.lex=!0;function Te(){G.state.localVars=G.state.context.vars,G.state.context=G.state.context.prev}Te.lex=!0;function ze(I,ne){var Ze=function(){var it=G.state,nr=it.indented;if(it.lexical.type=="stat")nr=it.lexical.indented;else for(var Cr=it.lexical;Cr&&Cr.type==")"&&Cr.align;Cr=Cr.prev)nr=Cr.indented;it.lexical=new te(nr,G.stream.column(),I,null,it.lexical,ne)};return Ze.lex=!0,Ze}function qe(){var I=G.state;I.lexical.prev&&(I.lexical.type==")"&&(I.indented=I.lexical.indented),I.lexical=I.lexical.prev)}qe.lex=!0;function ut(I){function ne(Ze){return Ze==I?W():I==";"||Ze=="}"||Ze==")"||Ze=="]"?be():W(ne)}return ne}function vt(I,ne){return I=="var"?W(ze("vardef",ne),Yt,ut(";"),qe):I=="keyword a"?W(ze("form"),zr,vt,qe):I=="keyword b"?W(ze("form"),vt,qe):I=="keyword d"?G.stream.match(/^\s*$/,!1)?W():W(ze("stat"),Ar,ut(";"),qe):I=="debugger"?W(ut(";")):I=="{"?W(ze("}"),dt,zt,qe,Te):I==";"?W():I=="if"?(G.state.lexical.info=="else"&&G.state.cc[G.state.cc.length-1]==qe&&G.state.cc.pop()(),W(ze("form"),zr,vt,qe,Xe)):I=="function"?W(at):I=="for"?W(ze("form"),dt,xt,vt,Te,qe):I=="class"||P&&ne=="interface"?(G.marked="keyword",W(ze("form",I=="class"?I:ne),gr,qe)):I=="variable"?P&&ne=="declare"?(G.marked="keyword",W(vt)):P&&(ne=="module"||ne=="enum"||ne=="type")&&G.stream.match(/^\s*\w/,!1)?(G.marked="keyword",ne=="enum"?W(hr):ne=="type"?W(jt,ut("operator"),Qt,ut(";")):W(ze("form"),wr,ut("{"),ze("}"),zt,qe,qe)):P&&ne=="namespace"?(G.marked="keyword",W(ze("form"),lt,vt,qe)):P&&ne=="abstract"?(G.marked="keyword",W(vt)):W(ze("stat"),yt):I=="switch"?W(ze("form"),zr,ut("{"),ze("}","switch"),dt,zt,qe,qe,Te):I=="case"?W(lt,ut(":")):I=="default"?W(ut(":")):I=="catch"?W(ze("form"),We,rt,vt,qe,Te):I=="export"?W(ze("stat"),Fr,qe):I=="import"?W(ze("stat"),Zr,qe):I=="async"?W(vt):ne=="@"?W(lt,vt):be(ze("stat"),lt,ut(";"),qe)}function rt(I){if(I=="(")return W(Bt,ut(")"))}function lt(I,ne){return un(I,ne,!1)}function ar(I,ne){return un(I,ne,!0)}function zr(I){return I!="("?be():W(ze(")"),Ar,ut(")"),qe)}function un(I,ne,Ze){if(G.state.fatArrowAt==G.stream.start){var it=Ze?Se:pe;if(I=="(")return W(We,ze(")"),Tt(Bt,")"),qe,ut("=>"),it,Te);if(I=="variable")return be(We,wr,ut("=>"),it,Te)}var nr=Ze?M:Ct;return ve.hasOwnProperty(I)?W(nr):I=="function"?W(at,nr):I=="class"||P&&ne=="interface"?(G.marked="keyword",W(ze("form"),jr,qe)):I=="keyword c"||I=="async"?W(Ze?ar:lt):I=="("?W(ze(")"),Ar,ut(")"),qe,nr):I=="operator"||I=="spread"?W(Ze?ar:lt):I=="["?W(ze("]"),cn,qe,nr):I=="{"?Sr(Vt,"}",null,nr):I=="quasi"?be(F,nr):I=="new"?W(J(Ze)):W()}function Ar(I){return I.match(/[;\}\)\],]/)?be():be(lt)}function Ct(I,ne){return I==","?W(Ar):M(I,ne,!1)}function M(I,ne,Ze){var it=Ze==!1?Ct:M,nr=Ze==!1?lt:ar;if(I=="=>")return W(We,Ze?Se:pe,Te);if(I=="operator")return/\+\+|--/.test(ne)||P&&ne=="!"?W(it):P&&ne=="<"&&G.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?W(ze(">"),Tt(Qt,">"),qe,it):ne=="?"?W(lt,ut(":"),nr):W(nr);if(I=="quasi")return be(F,it);if(I!=";"){if(I=="(")return Sr(ar,")","call",it);if(I==".")return W(qt,it);if(I=="[")return W(ze("]"),Ar,ut("]"),qe,it);if(P&&ne=="as")return G.marked="keyword",W(Qt,it);if(I=="regexp")return G.state.lastType=G.marked="operator",G.stream.backUp(G.stream.pos-G.stream.start-1),W(nr)}}function F(I,ne){return I!="quasi"?be():ne.slice(ne.length-2)!="${"?W(F):W(Ar,Z)}function Z(I){if(I=="}")return G.marked="string-2",G.state.tokenize=we,W(F)}function pe(I){return se(G.stream,G.state),be(I=="{"?vt:lt)}function Se(I){return se(G.stream,G.state),be(I=="{"?vt:ar)}function J(I){return function(ne){return ne=="."?W(I?Oe:xe):ne=="variable"&&P?W(Re,I?M:Ct):be(I?ar:lt)}}function xe(I,ne){if(ne=="target")return G.marked="keyword",W(Ct)}function Oe(I,ne){if(ne=="target")return G.marked="keyword",W(M)}function yt(I){return I==":"?W(qe,vt):be(Ct,ut(";"),qe)}function qt(I){if(I=="variable")return G.marked="property",W()}function Vt(I,ne){if(I=="async")return G.marked="property",W(Vt);if(I=="variable"||G.style=="keyword"){if(G.marked="property",ne=="get"||ne=="set")return W(rr);var Ze;return P&&G.state.fatArrowAt==G.stream.start&&(Ze=G.stream.match(/^\s*:\s*/,!1))&&(G.state.fatArrowAt=G.stream.pos+Ze[0].length),W(Er)}else{if(I=="number"||I=="string")return G.marked=S?"property":G.style+" property",W(Er);if(I=="jsonld-keyword")return W(Er);if(P&&$e(ne))return G.marked="keyword",W(Vt);if(I=="[")return W(lt,dr,ut("]"),Er);if(I=="spread")return W(ar,Er);if(ne=="*")return G.marked="keyword",W(Vt);if(I==":")return be(Er)}}function rr(I){return I!="variable"?be(Er):(G.marked="property",W(at))}function Er(I){if(I==":")return W(ar);if(I=="(")return be(at)}function Tt(I,ne,Ze){function it(nr,Cr){if(Ze?Ze.indexOf(nr)>-1:nr==","){var Vr=G.state.lexical;return Vr.info=="call"&&(Vr.pos=(Vr.pos||0)+1),W(function(Ft,dn){return Ft==ne||dn==ne?be():be(I)},it)}return nr==ne||Cr==ne?W():Ze&&Ze.indexOf(";")>-1?be(I):W(ut(ne))}return function(nr,Cr){return nr==ne||Cr==ne?W():be(I,it)}}function Sr(I,ne,Ze){for(var it=3;it<arguments.length;it++)G.cc.push(arguments[it]);return W(ze(ne,Ze),Tt(I,ne),qe)}function zt(I){return I=="}"?W():be(vt,zt)}function dr(I,ne){if(P){if(I==":")return W(Qt);if(ne=="?")return W(dr)}}function nn(I,ne){if(P&&(I==":"||ne=="in"))return W(Qt)}function Mt(I){if(P&&I==":")return G.stream.match(/^\s*\w+\s+is\b/,!1)?W(lt,fn,Qt):W(Qt)}function fn(I,ne){if(ne=="is")return G.marked="keyword",W()}function Qt(I,ne){if(ne=="keyof"||ne=="typeof"||ne=="infer"||ne=="readonly")return G.marked="keyword",W(ne=="typeof"?ar:Qt);if(I=="variable"||ne=="void")return G.marked="type",W(Ee);if(ne=="|"||ne=="&")return W(Qt);if(I=="string"||I=="number"||I=="atom")return W(Ee);if(I=="[")return W(ze("]"),Tt(Qt,"]",","),qe,Ee);if(I=="{")return W(ze("}"),Wr,qe,Ee);if(I=="(")return W(Tt(ee,")"),Nr,Ee);if(I=="<")return W(Tt(Qt,">"),Qt);if(I=="quasi")return be(nt,Ee)}function Nr(I){if(I=="=>")return W(Qt)}function Wr(I){return I.match(/[\}\)\]]/)?W():I==","||I==";"?W(Wr):be($r,Wr)}function $r(I,ne){if(I=="variable"||G.style=="keyword")return G.marked="property",W($r);if(ne=="?"||I=="number"||I=="string")return W($r);if(I==":")return W(Qt);if(I=="[")return W(ut("variable"),nn,ut("]"),$r);if(I=="(")return be($t,$r);if(!I.match(/[;\}\)\],]/))return W()}function nt(I,ne){return I!="quasi"?be():ne.slice(ne.length-2)!="${"?W(nt):W(Qt,_i)}function _i(I){if(I=="}")return G.marked="string-2",G.state.tokenize=we,W(nt)}function ee(I,ne){return I=="variable"&&G.stream.match(/^\s*[?:]/,!1)||ne=="?"?W(ee):I==":"?W(Qt):I=="spread"?W(ee):be(Qt)}function Ee(I,ne){if(ne=="<")return W(ze(">"),Tt(Qt,">"),qe,Ee);if(ne=="|"||I=="."||ne=="&")return W(Qt);if(I=="[")return W(Qt,ut("]"),Ee);if(ne=="extends"||ne=="implements")return G.marked="keyword",W(Qt);if(ne=="?")return W(Qt,ut(":"),Qt)}function Re(I,ne){if(ne=="<")return W(ze(">"),Tt(Qt,">"),qe,Ee)}function Qe(){return be(Qt,_t)}function _t(I,ne){if(ne=="=")return W(Qt)}function Yt(I,ne){return ne=="enum"?(G.marked="keyword",W(hr)):be(wr,dr,Me,Ke)}function wr(I,ne){if(P&&$e(ne))return G.marked="keyword",W(wr);if(I=="variable")return ye(ne),W();if(I=="spread")return W(wr);if(I=="[")return Sr(Pe,"]");if(I=="{")return Sr(Wn,"}")}function Wn(I,ne){return I=="variable"&&!G.stream.match(/^\s*:/,!1)?(ye(ne),W(Me)):(I=="variable"&&(G.marked="property"),I=="spread"?W(wr):I=="}"?be():I=="["?W(lt,ut("]"),ut(":"),Wn):W(ut(":"),wr,Me))}function Pe(){return be(wr,Me)}function Me(I,ne){if(ne=="=")return W(ar)}function Ke(I){if(I==",")return W(Yt)}function Xe(I,ne){if(I=="keyword b"&&ne=="else")return W(ze("form","else"),vt,qe)}function xt(I,ne){if(ne=="await")return W(xt);if(I=="(")return W(ze(")"),It,qe)}function It(I){return I=="var"?W(Yt,Dt):I=="variable"?W(Dt):be(Dt)}function Dt(I,ne){return I==")"?W():I==";"?W(Dt):ne=="in"||ne=="of"?(G.marked="keyword",W(lt,Dt)):be(lt,Dt)}function at(I,ne){if(ne=="*")return G.marked="keyword",W(at);if(I=="variable")return ye(ne),W(at);if(I=="(")return W(We,ze(")"),Tt(Bt,")"),qe,Mt,vt,Te);if(P&&ne=="<")return W(ze(">"),Tt(Qe,">"),qe,at)}function $t(I,ne){if(ne=="*")return G.marked="keyword",W($t);if(I=="variable")return ye(ne),W($t);if(I=="(")return W(We,ze(")"),Tt(Bt,")"),qe,Mt,Te);if(P&&ne=="<")return W(ze(">"),Tt(Qe,">"),qe,$t)}function jt(I,ne){if(I=="keyword"||I=="variable")return G.marked="type",W(jt);if(ne=="<")return W(ze(">"),Tt(Qe,">"),qe)}function Bt(I,ne){return ne=="@"&&W(lt,Bt),I=="spread"?W(Bt):P&&$e(ne)?(G.marked="keyword",W(Bt)):P&&I=="this"?W(dr,Me):be(wr,dr,Me)}function jr(I,ne){return I=="variable"?gr(I,ne):pr(I,ne)}function gr(I,ne){if(I=="variable")return ye(ne),W(pr)}function pr(I,ne){if(ne=="<")return W(ze(">"),Tt(Qe,">"),qe,pr);if(ne=="extends"||ne=="implements"||P&&I==",")return ne=="implements"&&(G.marked="keyword"),W(P?Qt:lt,pr);if(I=="{")return W(ze("}"),sr,qe)}function sr(I,ne){if(I=="async"||I=="variable"&&(ne=="static"||ne=="get"||ne=="set"||P&&$e(ne))&&G.stream.match(/^\s+#?[\w$\xa1-\uffff]/,!1))return G.marked="keyword",W(sr);if(I=="variable"||G.style=="keyword")return G.marked="property",W(Jr,sr);if(I=="number"||I=="string")return W(Jr,sr);if(I=="[")return W(lt,dr,ut("]"),Jr,sr);if(ne=="*")return G.marked="keyword",W(sr);if(P&&I=="(")return be($t,sr);if(I==";"||I==",")return W(sr);if(I=="}")return W();if(ne=="@")return W(lt,sr)}function Jr(I,ne){if(ne=="!"||ne=="?")return W(Jr);if(I==":")return W(Qt,Me);if(ne=="=")return W(ar);var Ze=G.state.lexical.prev,it=Ze&&Ze.info=="interface";return be(it?$t:at)}function Fr(I,ne){return ne=="*"?(G.marked="keyword",W(Mr,ut(";"))):ne=="default"?(G.marked="keyword",W(lt,ut(";"))):I=="{"?W(Tt(Mn,"}"),Mr,ut(";")):be(vt)}function Mn(I,ne){if(ne=="as")return G.marked="keyword",W(ut("variable"));if(I=="variable")return be(ar,Mn)}function Zr(I){return I=="string"?W():I=="("?be(lt):I=="."?be(Ct):be(Tr,kt,Mr)}function Tr(I,ne){return I=="{"?Sr(Tr,"}"):(I=="variable"&&ye(ne),ne=="*"&&(G.marked="keyword"),W(hn))}function kt(I){if(I==",")return W(Tr,kt)}function hn(I,ne){if(ne=="as")return G.marked="keyword",W(Tr)}function Mr(I,ne){if(ne=="from")return G.marked="keyword",W(lt)}function cn(I){return I=="]"?W():be(Tt(ar,"]"))}function hr(){return be(ze("form"),wr,ut("{"),ze("}"),Tt(wn,"}"),qe,qe)}function wn(){return be(wr,Me)}function Kt(I,ne){return I.lastType=="operator"||I.lastType==","||U.test(ne.charAt(0))||/[,.]/.test(ne.charAt(0))}function Lr(I,ne,Ze){return ne.tokenize==X&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(ne.lastType)||ne.lastType=="quasi"&&/\{\s*$/.test(I.string.slice(0,I.pos-(Ze||0)))}return{startState:function(I){var ne={tokenize:X,lastType:"sof",cc:[],lexical:new te((I||0)-_,0,"block",!1),localVars:h.localVars,context:h.localVars&&new ge(null,null,!1),indented:I||0};return h.globalVars&&typeof h.globalVars=="object"&&(ne.globalVars=h.globalVars),ne},token:function(I,ne){if(I.sol()&&(ne.lexical.hasOwnProperty("align")||(ne.lexical.align=!1),ne.indented=I.indentation(),se(I,ne)),ne.tokenize!=ie&&I.eatSpace())return null;var Ze=ne.tokenize(I,ne);return q=="comment"?Ze:(ne.lastType=q=="operator"&&(z=="++"||z=="--")?"incdec":q,ae(ne,Ze,q,z,I))},indent:function(I,ne){if(I.tokenize==ie||I.tokenize==we)return c.Pass;if(I.tokenize!=X)return 0;var Ze=ne&&ne.charAt(0),it=I.lexical,nr;if(!/^\s*else\b/.test(ne))for(var Cr=I.cc.length-1;Cr>=0;--Cr){var Vr=I.cc[Cr];if(Vr==qe)it=it.prev;else if(Vr!=Xe&&Vr!=Te)break}for(;(it.type=="stat"||it.type=="form")&&(Ze=="}"||(nr=I.cc[I.cc.length-1])&&(nr==Ct||nr==M)&&!/^[,\.=+\-*:?[\(]/.test(ne));)it=it.prev;x&&it.type==")"&&it.prev.type=="stat"&&(it=it.prev);var Ft=it.type,dn=Ze==Ft;return Ft=="vardef"?it.indented+(I.lastType=="operator"||I.lastType==","?it.info.length+1:0):Ft=="form"&&Ze=="{"?it.indented:Ft=="form"?it.indented+_:Ft=="stat"?it.indented+(Kt(I,ne)?x||_:0):it.info=="switch"&&!dn&&h.doubleIndentSwitch!=!1?it.indented+(/^(?:case|default)\b/.test(ne)?_:2*_):it.align?it.column+(dn?0:1):it.indented+(dn?0:_)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:C?null:"/*",blockCommentEnd:C?null:"*/",blockCommentContinue:C?null:" * ",lineComment:C?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:C?"json":"javascript",jsonldMode:S,jsonMode:C,expressionAllowed:Lr,skipExpression:function(I){ae(I,"atom","atom","true",new c.StringStream("",2,null))}}}),c.registerHelper("wordChars","javascript",/[\w$]/),c.defineMIME("text/javascript","javascript"),c.defineMIME("text/ecmascript","javascript"),c.defineMIME("application/javascript","javascript"),c.defineMIME("application/x-javascript","javascript"),c.defineMIME("application/ecmascript","javascript"),c.defineMIME("application/json",{name:"javascript",json:!0}),c.defineMIME("application/x-json",{name:"javascript",json:!0}),c.defineMIME("application/manifest+json",{name:"javascript",json:!0}),c.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),c.defineMIME("text/typescript",{name:"javascript",typescript:!0}),c.defineMIME("application/typescript",{name:"javascript",typescript:!0})})},589:(r,o,s)=>{(function(c){c(s(631))})(function(c){var d={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},h={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};c.defineMode("xml",function(_,x){var S=_.indentUnit,C={},T=x.htmlMode?d:h;for(var P in T)C[P]=T[P];for(var P in x)C[P]=x[P];var L,N;function U(W,Le){function ye(ge){return Le.tokenize=ge,ge(W,Le)}var Ue=W.next();if(Ue=="<")return W.eat("!")?W.eat("[")?W.match("CDATA[")?ye(q("atom","]]>")):null:W.match("--")?ye(q("comment","-->")):W.match("DOCTYPE",!0,!0)?(W.eatWhile(/[\w\._\-]/),ye(z(1))):null:W.eat("?")?(W.eatWhile(/[\w\._\-]/),Le.tokenize=q("meta","?>"),"meta"):(L=W.eat("/")?"closeTag":"openTag",Le.tokenize=K,"tag bracket");if(Ue=="&"){var $e;return W.eat("#")?W.eat("x")?$e=W.eatWhile(/[a-fA-F\d]/)&&W.eat(";"):$e=W.eatWhile(/[\d]/)&&W.eat(";"):$e=W.eatWhile(/[\w\.\-:]/)&&W.eat(";"),$e?"atom":"error"}else return W.eatWhile(/[^&<]/),null}U.isInText=!0;function K(W,Le){var ye=W.next();if(ye==">"||ye=="/"&&W.eat(">"))return Le.tokenize=U,L=ye==">"?"endTag":"selfcloseTag","tag bracket";if(ye=="=")return L="equals",null;if(ye=="<"){Le.tokenize=U,Le.state=we,Le.tagName=Le.tagStart=null;var Ue=Le.tokenize(W,Le);return Ue?Ue+" tag error":"tag error"}else return/[\'\"]/.test(ye)?(Le.tokenize=fe(ye),Le.stringStartCol=W.column(),Le.tokenize(W,Le)):(W.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function fe(W){var Le=function(ye,Ue){for(;!ye.eol();)if(ye.next()==W){Ue.tokenize=K;break}return"string"};return Le.isInAttribute=!0,Le}function q(W,Le){return function(ye,Ue){for(;!ye.eol();){if(ye.match(Le)){Ue.tokenize=U;break}ye.next()}return W}}function z(W){return function(Le,ye){for(var Ue;(Ue=Le.next())!=null;){if(Ue=="<")return ye.tokenize=z(W+1),ye.tokenize(Le,ye);if(Ue==">")if(W==1){ye.tokenize=U;break}else return ye.tokenize=z(W-1),ye.tokenize(Le,ye)}return"meta"}}function $(W){return W&&W.toLowerCase()}function X(W,Le,ye){this.prev=W.context,this.tagName=Le||"",this.indent=W.indented,this.startOfLine=ye,(C.doNotIndent.hasOwnProperty(Le)||W.context&&W.context.noIndent)&&(this.noIndent=!0)}function _e(W){W.context&&(W.context=W.context.prev)}function ie(W,Le){for(var ye;;){if(!W.context||(ye=W.context.tagName,!C.contextGrabbers.hasOwnProperty($(ye))||!C.contextGrabbers[$(ye)].hasOwnProperty($(Le))))return;_e(W)}}function we(W,Le,ye){return W=="openTag"?(ye.tagStart=Le.column(),Ae):W=="closeTag"?se:we}function Ae(W,Le,ye){return W=="word"?(ye.tagName=Le.current(),N="tag",re):C.allowMissingTagName&&W=="endTag"?(N="tag bracket",re(W,Le,ye)):(N="error",Ae)}function se(W,Le,ye){if(W=="word"){var Ue=Le.current();return ye.context&&ye.context.tagName!=Ue&&C.implicitlyClosed.hasOwnProperty($(ye.context.tagName))&&_e(ye),ye.context&&ye.context.tagName==Ue||C.matchClosing===!1?(N="tag",ve):(N="tag error",te)}else return C.allowMissingTagName&&W=="endTag"?(N="tag bracket",ve(W,Le,ye)):(N="error",te)}function ve(W,Le,ye){return W!="endTag"?(N="error",ve):(_e(ye),we)}function te(W,Le,ye){return N="error",ve(W,Le,ye)}function re(W,Le,ye){if(W=="word")return N="attribute",ae;if(W=="endTag"||W=="selfcloseTag"){var Ue=ye.tagName,$e=ye.tagStart;return ye.tagName=ye.tagStart=null,W=="selfcloseTag"||C.autoSelfClosers.hasOwnProperty($(Ue))?ie(ye,Ue):(ie(ye,Ue),ye.context=new X(ye,Ue,$e==ye.indented)),we}return N="error",re}function ae(W,Le,ye){return W=="equals"?G:(C.allowMissing||(N="error"),re(W,Le,ye))}function G(W,Le,ye){return W=="string"?be:W=="word"&&C.allowUnquoted?(N="string",re):(N="error",re(W,Le,ye))}function be(W,Le,ye){return W=="string"?be:re(W,Le,ye)}return{startState:function(W){var Le={tokenize:U,state:we,indented:W||0,tagName:null,tagStart:null,context:null};return W!=null&&(Le.baseIndent=W),Le},token:function(W,Le){if(!Le.tagName&&W.sol()&&(Le.indented=W.indentation()),W.eatSpace())return null;L=null;var ye=Le.tokenize(W,Le);return(ye||L)&&ye!="comment"&&(N=null,Le.state=Le.state(L||ye,W,Le),N&&(ye=N=="error"?ye+" error":N)),ye},indent:function(W,Le,ye){var Ue=W.context;if(W.tokenize.isInAttribute)return W.tagStart==W.indented?W.stringStartCol+1:W.indented+S;if(Ue&&Ue.noIndent)return c.Pass;if(W.tokenize!=K&&W.tokenize!=U)return ye?ye.match(/^(\s*)/)[0].length:0;if(W.tagName)return C.multilineTagIndentPastTag!==!1?W.tagStart+W.tagName.length+2:W.tagStart+S*(C.multilineTagIndentFactor||1);if(C.alignCDATA&&/<!\[CDATA\[/.test(Le))return 0;var $e=Le&&/^<(\/)?([\w_:\.-]*)/.exec(Le);if($e&&$e[1])for(;Ue;)if(Ue.tagName==$e[2]){Ue=Ue.prev;break}else if(C.implicitlyClosed.hasOwnProperty($(Ue.tagName)))Ue=Ue.prev;else break;else if($e)for(;Ue;){var ge=C.contextGrabbers[$(Ue.tagName)];if(ge&&ge.hasOwnProperty($($e[2])))Ue=Ue.prev;else break}for(;Ue&&Ue.prev&&!Ue.startOfLine;)Ue=Ue.prev;return Ue?Ue.indent+S:W.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:C.htmlMode?"html":"xml",helperType:C.htmlMode?"html":"xml",skipAttribute:function(W){W.state==G&&(W.state=re)},xmlCurrentTag:function(W){return W.tagName?{name:W.tagName,close:W.type=="closeTag"}:null},xmlCurrentContext:function(W){for(var Le=[],ye=W.context;ye;ye=ye.prev)Le.push(ye.tagName);return Le.reverse()}}}),c.defineMIME("text/xml","xml"),c.defineMIME("application/xml","xml"),c.mimeModes.hasOwnProperty("text/html")||c.defineMIME("text/html",{name:"xml",htmlMode:!0})})},642:(r,o,s)=>{s.d(o,{Z:()=>_});var c=s(346),d=function(){var x=function(S,C){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,P){T.__proto__=P}||function(T,P){for(var L in P)Object.prototype.hasOwnProperty.call(P,L)&&(T[L]=P[L])},x(S,C)};return function(S,C){if(typeof C!="function"&&C!==null)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");x(S,C);function T(){this.constructor=S}S.prototype=C===null?Object.create(C):(T.prototype=C.prototype,new T)}}(),h=function(x){d(S,x);function S(C,T,P){var L=x.call(this,T,P)||this;return L._module=C,L}return Object.defineProperty(S.prototype,"module",{get:function(){return this._module},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"config",{get:function(){return this._module.config},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"em",{get:function(){return this._module.em},enumerable:!1,configurable:!0}),S}(c.Hn);const _=h},675:(r,o,s)=>{s.d(o,{Z:()=>x,q:()=>h});var c=s(642),d=function(){var S=function(C,T){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,L){P.__proto__=L}||function(P,L){for(var N in L)Object.prototype.hasOwnProperty.call(L,N)&&(P[N]=L[N])},S(C,T)};return function(C,T){if(typeof T!="function"&&T!==null)throw new TypeError("Class extends value "+String(T)+" is not a constructor or null");S(C,T);function P(){this.constructor=C}C.prototype=T===null?Object.create(T):(P.prototype=T.prototype,new P)}}(),h;(function(S){S.Select="select",S.Hover="hover",S.Spacing="spacing",S.Target="target",S.Resize="resize"})(h||(h={}));var _=function(S){d(C,S);function C(){return S!==null&&S.apply(this,arguments)||this}return C.prototype.defaults=function(){return{id:"",type:""}},Object.defineProperty(C.prototype,"type",{get:function(){return this.get("type")||""},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"component",{get:function(){var T,P=this.get("component");return P||((T=this.get("componentView"))===null||T===void 0?void 0:T.model)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"componentView",{get:function(){var T,P=this.get("componentView");return P||((T=this.get("component"))===null||T===void 0?void 0:T.getView())},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"el",{get:function(){var T;return(T=this.componentView)===null||T===void 0?void 0:T.el},enumerable:!1,configurable:!0}),C.prototype.getBoxRect=function(T){var P=this,L=P.el,N=P.em,U=N.Canvas.getCanvasView(),K=this.get("boxRect");return K||(L&&U?U.getElBoxRect(L,T):{x:0,y:0,width:0,height:0})},C.prototype.getStyle=function(T){T===void 0&&(T={});var P=T.boxRect||this.getBoxRect(T),L=P.width,N=P.height,U=P.x,K=P.y;return{width:"".concat(L,"px"),height:"".concat(N,"px"),top:"0",left:"0",position:"absolute",translate:"".concat(U,"px ").concat(K,"px")}},C.prototype.isType=function(T){return this.type===T},C}(c.Z);const x=_},713:(r,o,s)=>{s.d(o,{Z:()=>d});var c;(function(h){h.run="command:run",h._run="run",h.runCommand="command:run:",h._runCommand="run:",h.runBeforeCommand="command:run:before:",h.abort="command:abort:",h._abort="abort:",h.stop="command:stop",h._stop="stop",h.stopCommand="command:stop:",h._stopCommand="stop:",h.stopBeforeCommand="command:stop:before:"})(c||(c={}));const d=c},858:(r,o,s)=>{s.r(o),s.d(o,{default:()=>c});const c={run:function(d){d.Components.clear(),d.Css.clear()}}},884:(r,o,s)=>{s.r(o),s.d(o,{default:()=>_});var c=s(50),d=s(668),h=s(491);const _={run:function(x){(0,c.bindAll)(this,"onKeyUp","enableDragger","disableDragger"),this.editor=x,this.canvasModel=this.canvas.getCanvasView().model,this.toggleMove(1)},stop:function(x){this.toggleMove(),this.disableDragger()},onKeyUp:function(x){(0,h.sN)(x)===" "&&this.editor.stopCommand(this.id)},enableDragger:function(x){this.toggleDragger(1,x)},disableDragger:function(x){this.toggleDragger(0,x)},toggleDragger:function(x,S){var C=this,T=C.canvasModel,P=C.em,L=this.dragger,N=x?"add":"remove";this.getCanvas().classList[N]("".concat(this.ppfx,"is__grabbing")),L||(L=new d.Z({getPosition:function(){return{x:T.get("x"),y:T.get("y")}},setPosition:function(U){var K=U.x,fe=U.y;T.set({x:K,y:fe})},onStart:function(U,K){P.trigger("canvas:move:start",K)},onDrag:function(U,K){P.trigger("canvas:move",K)},onEnd:function(U,K){P.trigger("canvas:move:end",K)}}),this.dragger=L),x?L.start(S):L.stop()},toggleMove:function(x){var S=this.ppfx,C=x?"add":"remove",T=x?"on":"off",P={on:h.on,off:h.S1},L=this.getCanvas(),N=["".concat(S,"is__grab")];!x&&N.push("".concat(S,"is__grabbing")),N.forEach(function(U){return L.classList[C](U)}),P[T](document,"keyup",this.onKeyUp),P[T](L,"mousedown",this.enableDragger),P[T](document,"mouseup",this.disableDragger)}}},790:(r,o,s)=>{s.r(o),s.d(o,{default:()=>S,defineCommand:()=>_});var c=s(346),d=s(713),h=function(){var C=function(T,P){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,N){L.__proto__=N}||function(L,N){for(var U in N)Object.prototype.hasOwnProperty.call(N,U)&&(L[U]=N[U])},C(T,P)};return function(T,P){if(typeof P!="function"&&P!==null)throw new TypeError("Class extends value "+String(P)+" is not a constructor or null");C(T,P);function L(){this.constructor=T}T.prototype=P===null?Object.create(P):(L.prototype=P.prototype,new L)}}();function _(C){return C}var x=function(C){h(T,C);function T(P){var L=C.call(this,0)||this;L.config=P||{},L.em=L.config.em||{};var N=L.config.stylePrefix;return L.pfx=N,L.ppfx=L.config.pStylePrefix,L.hoverClass="".concat(N,"hover"),L.badgeClass="".concat(N,"badge"),L.plhClass="".concat(N,"placeholder"),L.freezClass="".concat(L.ppfx,"freezed"),L.canvas=L.em.Canvas,L.init(L.config),L}return T.prototype.onFrameScroll=function(P){},T.prototype.getCanvas=function(){return this.canvas.getElement()},T.prototype.getCanvasBody=function(){return this.canvas.getBody()},T.prototype.getCanvasTools=function(){return this.canvas.getToolsEl()},T.prototype.offset=function(P){var L=P.getBoundingClientRect();return{top:L.top+P.ownerDocument.body.scrollTop,left:L.left+P.ownerDocument.body.scrollLeft}},T.prototype.init=function(P){},T.prototype.callRun=function(P,L){L===void 0&&(L={});var N=this.id;if(P.trigger("".concat(d.Z.runBeforeCommand).concat(N),{options:L}),P.trigger("".concat(d.Z._runCommand).concat(N,":before"),L),L.abort){P.trigger("".concat(d.Z.abort).concat(N),{options:L}),P.trigger("".concat(d.Z._abort).concat(N),L);return}var U=L.sender||P,K=this.run(P,U,L),fe={id:N,result:K,options:L};return P.trigger("".concat(d.Z.runCommand).concat(N),fe),P.trigger(d.Z.run,fe),P.trigger("".concat(d.Z._runCommand).concat(N),K,L),P.trigger(d.Z._run,N,K,L),K},T.prototype.callStop=function(P,L){L===void 0&&(L={});var N=this.id,U=L.sender||P;P.trigger("".concat(d.Z.stopBeforeCommand).concat(N),{options:L}),P.trigger("".concat(d.Z._stopCommand).concat(N,":before"),L);var K=this.stop(P,U,L),fe={id:N,result:K,options:L};return P.trigger("".concat(d.Z.stopCommand).concat(N),fe),P.trigger(d.Z.stop,fe),P.trigger("".concat(d.Z._stopCommand).concat(N),K,L),P.trigger(d.Z._stop,N,K,L),K},T.prototype.stopCommand=function(P){this.em.Commands.stop(this.id,P)},T.prototype.run=function(P,L,N){},T.prototype.stop=function(P,L,N){},T}(c.Hn);const S=x},180:(r,o,s)=>{s.r(o),s.d(o,{default:()=>_});var c=s(50),d=function(x,S,C){if(C||arguments.length===2)for(var T=0,P=S.length,L;T<P;T++)(L||!(T in S))&&(L||(L=Array.prototype.slice.call(S,0,T)),L[T]=S[T]);return x.concat(L||Array.prototype.slice.call(S))},h={run:function(x,S,C){var T=this;C===void 0&&(C={});var P=[],L=C.component||x.getSelectedAll();return L=(0,c.isArray)(L)?d([],L,!0):[L],L.filter(Boolean).forEach(function(N){var U,K;if(!N.get("removable"))return T.em.logWarning("The element is not removable",{component:N});P.push(N);var fe=((K=(U=N.delegate)===null||U===void 0?void 0:U.remove)===null||K===void 0?void 0:K.call(U,N))||N;fe.remove()}),x.selectRemove(P),P}};const _=h},544:(r,o,s)=>{s.r(o),s.d(o,{default:()=>x});var c=s(50),d=s(668),h=function(){return h=Object.assign||function(S){for(var C,T=1,P=arguments.length;T<P;T++){C=arguments[T];for(var L in C)Object.prototype.hasOwnProperty.call(C,L)&&(S[L]=C[L])}return S},h.apply(this,arguments)},_="dmode";const x={run:function(S,C,T){var P=this;T===void 0&&(T={}),(0,c.bindAll)(this,"setPosition","onStart","onDrag","onEnd","getPosition","getGuidesStatic","renderGuide","getGuidesTarget");var L=T.target,N=T.event,U=T.mode,K=T.dragger,fe=K===void 0?{}:K,q=L.getEl(),z=h({doc:q.ownerDocument,onStart:this.onStart,onEnd:this.onEnd,onDrag:this.onDrag,getPosition:this.getPosition,setPosition:this.setPosition,guidesStatic:function(){return P.guidesStatic},guidesTarget:function(){return P.guidesTarget}},fe);this.setupGuides(),this.opts=T,this.editor=S,this.em=S.getModel(),this.target=L,this.isTran=U=="translate",this.guidesContainer=this.getGuidesContainer(),this.guidesTarget=this.getGuidesTarget(),this.guidesStatic=this.getGuidesStatic();var $=this.dragger;return $?$.setOptions(z):($=new d.Z(z),this.dragger=$),N&&$.start(N),this.toggleDrag(1),this.em.trigger("".concat(_,":start"),this.getEventOpts()),$},getEventOpts:function(){return{mode:this.opts.mode,target:this.target,guidesTarget:this.guidesTarget,guidesStatic:this.guidesStatic}},stop:function(){this.toggleDrag()},setupGuides:function(){(this.guides||[]).forEach(function(S){var C=S.guide;C&&C.parentNode.removeChild(C)}),this.guides=[]},getGuidesContainer:function(){var S=this,C=this.guidesEl;if(!C){var T=this,P=T.editor,L=T.em,N=T.opts,U=P.getConfig().stylePrefix,K=document.createElement("div"),fe=document.createElement("div"),q='<div class="'.concat(U,"guide-info__line ").concat(U,`danger-bg">
        <div class="`).concat(U,"guide-info__content ").concat(U,`danger-color"></div>
      </div>`);C=document.createElement("div"),C.className="".concat(U,"guides"),K.className="".concat(U,"guide-info ").concat(U,"guide-info__x"),fe.className="".concat(U,"guide-info ").concat(U,"guide-info__y"),K.innerHTML=q,fe.innerHTML=q,C.appendChild(K),C.appendChild(fe),P.Canvas.getGlobalToolsEl().appendChild(C),this.guidesEl=C,this.elGuideInfoX=K,this.elGuideInfoY=fe,this.elGuideInfoContentX=K.querySelector(".".concat(U,"guide-info__content")),this.elGuideInfoContentY=fe.querySelector(".".concat(U,"guide-info__content")),L.on("canvas:update frame:scroll",(0,c.debounce)(function(){var z;S.updateGuides(),N.debug&&((z=S.guides)===null||z===void 0||z.forEach(function($){return S.renderGuide($)}))},200))}return C},getGuidesStatic:function(){var S=this,C=[],T=this.target.getEl(),P=T.parentNode,L=P===void 0?{}:P;return(0,c.each)(L.children,function(N){return C=C.concat(T!==N?S.getElementGuides(N):[])}),C.concat(this.getElementGuides(L))},getGuidesTarget:function(){return this.getElementGuides(this.target.getEl())},updateGuides:function(S){var C=this,T,P;(S||this.guides).forEach(function(L){var N=L.origin,U=T===N?P:C.getElementPos(N);T=N,P=U,(0,c.each)(C.getGuidePosUpdate(L,U),function(K,fe){return L[fe]=K}),L.originRect=U})},getGuidePosUpdate:function(S,C){var T={},P=C.top,L=C.height,N=C.left,U=C.width;switch(S.type){case"t":T.y=P;break;case"b":T.y=P+L;break;case"l":T.x=N;break;case"r":T.x=N+U;break;case"x":T.x=N+U/2;break;case"y":T.y=P+L/2;break}return T},renderGuide:function(S){S===void 0&&(S={});var C=S.guide||document.createElement("div"),T="px",P=S.active?2:1,L=C.children[0];return C.style="position: absolute; background-color: ".concat(S.active?"green":"red",";"),C.children.length||(L=document.createElement("div"),L.style="position: absolute; color: red; padding: 5px; top: 0; left: 0;",C.appendChild(L)),S.y?(C.style.width="100%",C.style.height="".concat(P).concat(T),C.style.top="".concat(S.y).concat(T),C.style.left=0):(C.style.width="".concat(P).concat(T),C.style.height="100%",C.style.left="".concat(S.x).concat(T),C.style.top="0".concat(T)),!S.guide&&this.guidesContainer.appendChild(C),C},getElementPos:function(S){return this.editor.Canvas.getElementPos(S,{noScroll:1})},getElementGuides:function(S){var C=this,T=this.opts,P=this.getElementPos(S),L=P.top,N=P.height,U=P.left,K=P.width,fe=[{type:"t",y:L},{type:"b",y:L+N},{type:"l",x:U},{type:"r",x:U+K},{type:"x",x:U+K/2},{type:"y",y:L+N/2}].map(function(q){return h(h({},q),{origin:S,originRect:P,guide:T.debug&&C.renderGuide(q)})});return fe.forEach(function(q){var z;return(z=C.guides)===null||z===void 0?void 0:z.push(q)}),fe},getTranslate:function(S,C){C===void 0&&(C="x");var T=0;return(S||"").split(" ").forEach(function(P){var L=P.trim(),N="translate".concat(C.toUpperCase(),"(");L.indexOf(N)===0&&(T=parseFloat(L.replace(N,"")))}),T},setTranslate:function(S,C,T){var P="translate".concat(C.toUpperCase(),"("),L="".concat(P).concat(T,")"),N=(S||"").split(" ").map(function(U){var K=U.trim();return K.indexOf(P)===0&&(U=L),U}).join(" ");return N.indexOf(P)<0&&(N+=" ".concat(L)),N},getPosition:function(){var S=this,C=S.target,T=S.isTran,P=C.getStyle(),L=P.left,N=P.top,U=P.transform,K=0,fe=0;return T?(K=this.getTranslate(U),fe=this.getTranslate(U,"y")):(K=parseFloat(L||0),fe=parseFloat(N||0)),{x:K,y:fe}},setPosition:function(S){var C=S.x,T=S.y,P=S.end,L=S.position,N=S.width,U=S.height,K=this,fe=K.target,q=K.isTran,z=K.em,$="px",X=!P,_e="".concat(parseInt(C,10)).concat($),ie="".concat(parseInt(T,10)).concat($),we={};if(q){var Ae=fe.getStyle().transform||"";Ae=this.setTranslate(Ae,"x",_e),Ae=this.setTranslate(Ae,"y",ie),we={transform:Ae,__p:X},fe.addStyle(we,{avoidStore:!P})}else{var se={position:L,width:N,height:U},ve={left:_e,top:ie,__p:X};(0,c.keys)(se).forEach(function(te){var re=se[te];re&&(ve[te]=re)}),we=ve,fe.addStyle(we,{avoidStore:!P})}z==null||z.Styles.__emitCmpStyleUpdate(we,{components:z.getSelected()})},_getDragData:function(){var S=this.target;return{target:S,parent:S.parent(),index:S.index()}},onStart:function(S){var C=this,T=C.target,P=C.editor,L=C.isTran,N=C.opts,U=N.center,K=N.onStart,fe=P.Canvas,q=T.getStyle(),z="absolute",$=[z,"relative"];if(K&&K(this._getDragData()),!L&&q.position!==z){var X=fe.offset(T.getEl()),_e=X.left,ie=X.top,we=X.width,Ae=X.height,se=T.parent(),ve=void 0;do{var te=se.getStyle();ve=$.indexOf(te.position)>=0?se:null,se=se.parent()}while(se&&!ve);if(U){var re=fe.getMouseRelativeCanvas(S),ae=re.x,G=re.y;_e=ae,ie=G}else if(ve){var be=fe.offset(ve.getEl());_e=_e-be.left,ie=ie-be.top}this.setPosition({x:_e,y:ie,width:"".concat(we,"px"),height:"".concat(Ae,"px"),position:z})}},onDrag:function(){var S=this,C=this,T=C.guidesTarget,P=C.opts,L=P.onDrag;this.updateGuides(T),P.debug&&T.forEach(function(N){return S.renderGuide(N)}),P.guidesInfo&&this.renderGuideInfo(T.filter(function(N){return N.active})),L&&L(this._getDragData())},onEnd:function(S,C,T){T===void 0&&(T={});var P=this,L=P.editor,N=P.opts,U=P.id,K=N.onEnd;K&&K(S,T,h(h({event:S},T),this._getDragData())),L.stopCommand(U),this.hideGuidesInfo(),this.em.trigger("".concat(_,":end"),this.getEventOpts())},hideGuidesInfo:function(){var S=this;["X","Y"].forEach(function(C){var T=S["elGuideInfo".concat(C)];T&&(T.style.display="none")})},renderGuideInfo:function(S){var C=this;S===void 0&&(S=[]);var T=this.guidesStatic;this.hideGuidesInfo(),S.forEach(function(P){var L=P.origin,N=P.x,U=C.getElementPos(L),K=(0,c.isUndefined)(N)?"y":"x",fe=K==="y",q=U[fe?"left":"top"],z=U.rect[fe?"left":"top"],$=fe?q+U.width:q+U.height,X=fe?z+U.rect.width:z+U.rect.height,_e=C["elGuideInfo".concat(K.toUpperCase())],ie=C["elGuideInfoContent".concat(K.toUpperCase())],we=_e.style,Ae=T==null?void 0:T.filter(function(dt){return dt.type===P.type}).map(function(dt){var Te=dt.originRect,ze=Te.left,qe=Te.width,ut=Te.top,vt=Te.height,rt=fe?ze:ut,lt=fe?ze+qe:ut+vt;return{gap:lt<q?q-lt:rt-$,guide:dt}}).filter(function(dt){return dt.gap>0}).sort(function(dt,Te){return dt.gap-Te.gap}).map(function(dt){return dt.guide})[0];if(Ae){var se=Ae.originRect,ve=se.left,te=se.width,re=se.top,ae=se.height,G=se.rect,be=fe?ve<U.left:re<U.top,W=fe?ve:re,Le=fe?G.left:G.top,ye=fe?ve+te:re+ae,Ue=fe?G.left+G.width:G.top+G.height,$e=fe?P.y:P.x,ge=be?ye:$,Ve="".concat($e,"px"),Ye=be?q-ye:W-$,We=be?z-Ue:Le-X;we.display="",we[fe?"top":"left"]=Ve,we[fe?"left":"top"]="".concat(ge,"px"),we[fe?"width":"height"]="".concat(Ye,"px"),ie.innerHTML="".concat(Math.round(We),"px"),C.em.trigger("".concat(_,":active"),h(h({},C.getEventOpts()),{guide:P,guidesStatic:T,matched:Ae,posFirst:$e,posSecond:ge,size:Ye,sizeRaw:We,elGuideInfo:_e,elGuideInfoCnt:ie}))}})},toggleDrag:function(S){var C=this,T=C.ppfx,P=C.editor,L=S?"add":"remove",N=["".concat(T,"is__grabbing")],U=P.Canvas,K=U.getBody();N.forEach(function(fe){return K.classList[L](fe)}),U[S?"startAutoscroll":"stopAutoscroll"]()}}},236:(r,o,s)=>{s.r(o),s.d(o,{default:()=>c});const c={run:function(d){if(d.Canvas.hasFocus()){var h=[];d.getSelectedAll().forEach(function(_){var x=_.components(),S=x&&x.filter(function(C){return C.get("selectable")})[0];S&&h.push(S)}),h.length&&d.select(h)}}}},368:(r,o,s)=>{s.r(o),s.d(o,{default:()=>c});const c={run:function(d,h,_){if(_===void 0&&(_={}),!(!d.Canvas.hasFocus()&&!_.force)){var x=[];d.getSelectedAll().forEach(function(S){for(var C=S.parent();C&&!C.get("selectable");)C=C.parent();C&&x.push(C)}),x.length&&d.select(x)}}}},243:(r,o,s)=>{s.r(o),s.d(o,{default:()=>c});const c={run:function(d){if(d.Canvas.hasFocus()){var h=[];d.getSelectedAll().forEach(function(_){var x=_.parent();if(x){var S=x.components().length,C=0,T=0,P;do C++,T=_.index()+C,P=T<=S?x.getChildAt(T):null;while(P&&!P.get("selectable"));h.push(P||_)}}),h.length&&d.select(h)}}}},400:(r,o,s)=>{s.r(o),s.d(o,{default:()=>c});const c={run:function(d){if(d.Canvas.hasFocus()){var h=[];d.getSelectedAll().forEach(function(_){var x=_.parent();if(x){var S=0,C=0,T;do S++,C=_.index()-S,T=C>=0?x.getChildAt(C):null;while(T&&!T.get("selectable"));h.push(T||_)}}),h.length&&d.select(h)}}}},910:(r,o,s)=>{s.r(o),s.d(o,{default:()=>d});var c=s(50);const d={run:function(h,_,x){x===void 0&&(x={});var S=x.target,C=[];if(!S.get("styles"))return C;var T=S.get("type"),P=h.Pages.getAllWrappers(),L=(0,c.flatten)(P.map(function(U){return U.findType(T)})).length;if(!L){var N=h.CssComposer.getAll();C=N.filter(function(U){return U.get("group")==="cmp:".concat(T)}),N.remove(C)}return C}}},744:(r,o,s)=>{s.r(o),s.d(o,{default:()=>d});var c=function(h,_,x){if(x||arguments.length===2)for(var S=0,C=_.length,T;S<C;S++)(T||!(S in _))&&(T||(T=Array.prototype.slice.call(_,0,S)),T[S]=_[S]);return h.concat(T||Array.prototype.slice.call(_))};const d={run:function(h){var _=h.getModel(),x=c([],h.getSelectedAll(),!0).map(function(S){var C,T;return((T=(C=S.delegate)===null||C===void 0?void 0:C.copy)===null||T===void 0?void 0:T.call(C,S))||S}).filter(Boolean);x.length&&_.set("clipboard",x)}}},457:(r,o,s)=>{s.r(o),s.d(o,{default:()=>d});var c=s(491);const d={run:function(h,_,x){var S=this;x===void 0&&(x={}),_&&_.set&&_.set("active",0);var C=h.getConfig(),T=h.Modal,P=C.stylePrefix;if(this.cm=h.CodeManager||null,!this.editors){var L=this.buildEditor("htmlmixed","hopscotch","HTML"),N=this.buildEditor("css","hopscotch","CSS");this.htmlEditor=L.model,this.cssEditor=N.model;var U=(0,c.ut)("div",{class:"".concat(P,"export-dl")});U.appendChild(L.el),U.appendChild(N.el),this.editors=U}T.open({title:C.textViewCode,content:this.editors}).getModel().once("change:open",function(){return h.stopCommand("".concat(S.id))}),this.htmlEditor.setContent(h.getHtml(x.optsHtml)),this.cssEditor.setContent(h.getCss(x.optsCss))},stop:function(h){var _=h.Modal;_&&_.close()},buildEditor:function(h,_,x){var S=this.em.CodeManager,C=S.createViewer({label:x,codeName:h,theme:_}),T=new S.EditorView({model:C,config:S.getConfig()}).render().el;return{model:C,el:T}}}},975:(r,o,s)=>{s.r(o),s.d(o,{default:()=>d});var c=s(50);const d={isEnabled:function(){var h=document;return!!(h.fullscreenElement||h.webkitFullscreenElement||h.mozFullScreenElement)},enable:function(h){var _="";return h.requestFullscreen?h.requestFullscreen():h.webkitRequestFullscreen?(_="webkit",h.webkitRequestFullscreen()):h.mozRequestFullScreen?(_="moz",h.mozRequestFullScreen()):h.msRequestFullscreen&&h.msRequestFullscreen(),_},disable:function(){var h=document;this.isEnabled()&&(h.exitFullscreen?h.exitFullscreen():h.webkitExitFullscreen?h.webkitExitFullscreen():h.mozCancelFullScreen?h.mozCancelFullScreen():h.msExitFullscreen&&h.msExitFullscreen())},fsChanged:function(h){this.isEnabled()||(this.stopCommand({sender:this.sender}),document.removeEventListener("".concat(h||"","fullscreenchange"),this.fsChanged))},run:function(h,_,x){x===void 0&&(x={}),this.sender=_;var S=x.target,C=(0,c.isElement)(S)?S:document.querySelector(S),T=this.enable(C||h.getContainer());this.fsChanged=this.fsChanged.bind(this,T),document.addEventListener(T+"fullscreenchange",this.fsChanged)},stop:function(h,_){_&&_.set&&_.set("active",!1),this.disable()}}},191:(r,o,s)=>{s.r(o),s.d(o,{default:()=>S});var c=s(50),d=s(895),h=s(491),_=s(407),x=s(189);const S=(0,c.extend)({},x.default,_.default,{init:function(C){_.default.init.apply(this,arguments),(0,c.bindAll)(this,"initSorter","rollback","onEndMove"),this.opt=C,this.hoverClass=this.ppfx+"highlighter-warning",this.badgeClass=this.ppfx+"badge-warning",this.noSelClass=this.ppfx+"no-select"},enable:function(){for(var C=[],T=0;T<arguments.length;T++)C[T]=arguments[T];_.default.enable.apply(this,C),this.getBadgeEl().addClass(this.badgeClass),this.getHighlighterEl().addClass(this.hoverClass);var P=this.$wrapper;P.css("cursor","move"),P.on("mousedown",this.initSorter),P.addClass(this.noSelClass)},toggleClipboard:function(){},initSorter:function(C){var T=(0,d.default)(C.target).data("model"),P=T.get("draggable");P&&(this.cacheEl=null,this.startSelectPosition(C.target,this.frameEl.contentDocument),this.sorter.draggable=P,this.sorter.onEndMove=this.onEndMove.bind(this),this.stopSelectComponent(),this.$wrapper.off("mousedown",this.initSorter),(0,h.on)(this.getContentWindow(),"keydown",this.rollback))},initSorterFromModel:function(C){var T=C.get("draggable");if(T){this.cacheEl=null;var P=C.view.el;this.startSelectPosition(P,this.frameEl.contentDocument),this.sorter.draggable=T,this.sorter.onEndMove=this.onEndMoveFromModel.bind(this),this.stopSelectComponent(),(0,h.on)(this.getContentWindow(),"keydown",this.rollback)}},initSorterFromModels:function(C){this.cacheEl=null;var T=C[C.length-1],P=this.em.getCurrentFrame(),L=T.getEl(P==null?void 0:P.model),N=L.ownerDocument;this.startSelectPosition(L,N,{onStart:this.onStart}),this.sorter.draggable=T.get("draggable"),this.sorter.toMove=C,this.sorter.onMoveClb=this.onDrag,this.sorter.onEndMove=this.onEndMoveFromModel.bind(this),this.stopSelectComponent(),(0,h.on)(this.getContentWindow(),"keydown",this.rollback)},onEndMoveFromModel:function(){(0,h.S1)(this.getContentWindow(),"keydown",this.rollback)},onEndMove:function(){this.enable(),(0,h.S1)(this.getContentWindow(),"keydown",this.rollback)},onSelect:function(C,T){},rollback:function(C,T){var P=C.which||C.keyCode;(P==27||T)&&(this.sorter.moved=!1,this.sorter.endMove())},getBadgeEl:function(){return this.$badge||(this.$badge=(0,d.default)(this.getBadge())),this.$badge},getHighlighterEl:function(){return this.$hl||(this.$hl=(0,d.default)(this.canvas.getHighlighter())),this.$hl},stop:function(){for(var C=[],T=0;T<arguments.length;T++)C[T]=arguments[T];_.default.stop.apply(this,C),this.getBadgeEl().removeClass(this.badgeClass),this.getHighlighterEl().removeClass(this.hoverClass);var P=this.$wrapper;P.css("cursor","").unbind().removeClass(this.noSelClass)}})},912:(r,o,s)=>{s.r(o),s.d(o,{default:()=>h});var c=s(50),d=s(491);const h={open:function(_){var x=this,S=this,C=S.editor,T=S.title,P=S.config,L=S.am,N=P.custom;if((0,c.isFunction)(N.open))return N.open(L.__customData());var U=C.Modal;U.open({title:T,content:_}).onceClose(function(){return C.stopCommand(x.id)})},close:function(){var _=this.config.custom;if((0,c.isFunction)(_.close))return _.close(this.am.__customData());var x=this.editor.Modal;x&&x.close()},run:function(_,x,S){S===void 0&&(S={});var C=_.AssetManager,T=C.getConfig(),P=S.types,L=P===void 0?[]:P,N=S.accept,U=S.select;if(this.title=S.modalTitle||_.t("assetManager.modalTitle")||"",this.editor=_,this.config=T,this.am=C,C.setTarget(S.target),C.onClick(S.onClick),C.onDblClick(S.onDblClick),C.onSelect(S.onSelect),C.__behaviour({select:U,types:L,options:S}),T.custom)this.rendered=this.rendered||(0,d.ut)("div"),this.rendered.className="".concat(T.stylePrefix,"custom-wrp"),C.__behaviour({container:this.rendered}),C.__trgCustom();else{if(!this.rendered||L){var K=C.getAll().filter(function(q){return q});L&&L.length&&(K=K.filter(function(q){return L.indexOf(q.get("type"))!==-1})),C.render(K),this.rendered=C.getContainer()}if(N){var fe=this.rendered.querySelector("input#".concat(T.stylePrefix,"uploadFile"));fe&&fe.setAttribute("accept",N)}}return this.open(this.rendered),this},stop:function(_){this.editor=_,this.close(this.rendered)}}},117:(r,o,s)=>{s.r(o),s.d(o,{default:()=>h});var c=s(50),d=s(491);const h={open:function(){var _=this,x=_.container,S=_.editor,C=_.bm,T=_.config,P=T.custom,L=T.appendTo;if((0,c.isFunction)(P.open))return P.open(C.__customData());if(this.firstRender&&!L){var N="views-container",U=S.Panels,K=U.getPanel(N)||U.addPanel({id:N});K.set("appendContent",x).trigger("change:appendContent"),P||x.appendChild(C.render())}x&&(x.style.display="block")},close:function(){var _=this,x=_.container,S=_.config,C=S.custom;if((0,c.isFunction)(C.close))return C.close(this.bm.__customData());x&&(x.style.display="none")},run:function(_){var x=_.Blocks;this.config=x.getConfig(),this.firstRender=!this.container,this.container=this.container||(0,d.ut)("div"),this.editor=_,this.bm=x;var S=this.container;x.__behaviour({container:S}),this.config.custom&&x.__trgCustom(),this.open()},stop:function(){this.close()}}},614:(r,o,s)=>{s.r(o),s.d(o,{default:()=>c});const c={run:function(d){var h=d.LayerManager,_=d.Panels,x=h.getConfig();if(!x.appendTo){if(!this.layers){var S="views-container",C=document.createElement("div"),T=_.getPanel(S)||_.addPanel({id:S});x.custom?h.__trgCustom({container:C}):C.appendChild(h.render()),T.set("appendContent",C).trigger("change:appendContent"),this.layers=C}this.layers.style.display="block"}},stop:function(){var d=this.layers;d&&(d.style.display="none")}}},801:(r,o,s)=>{s.r(o),s.d(o,{default:()=>d});var c=s(895);const d={run:function(h,_){if(this.sender=_,!this.$cnt){var x=h.getConfig(),S=h.Panels,C=h.DeviceManager,T=h.SelectorManager,P=h.StyleManager,L="change:appendContent",N=(0,c.default)("<div></div>"),U=(0,c.default)("<div></div>"),K=(0,c.default)("<div></div>"),fe=(0,c.default)("<div></div>");if(this.$cnt=N,this.$cntInner=U,U.append(K),U.append(fe),N.append(U),C&&x.showDevices){var q=S.addPanel({id:"devices-c"}),z=C.render();q.set("appendContent",z).trigger(L)}var $=T.getConfig();$.custom?T.__trgCustom({container:K.get(0)}):$.appendTo||K.append(T.render([])),this.sm=P;var X=P.getConfig(),_e=X.stylePrefix;this.$header=(0,c.default)('<div class="'.concat(_e,'header">').concat(h.t("styleManager.empty"),"</div>")),N.append(this.$header),X.custom?P.__trgCustom({container:fe.get(0)}):X.appendTo||fe.append(P.render());var ie="views-container",we=S.getPanel(ie)||S.addPanel({id:ie});we.set("appendContent",N).trigger(L);var Ae=h.getModel();this.listenTo(Ae,P.events.target,this.toggleSm)}this.toggleSm()},toggleSm:function(){var h=this,_=h.sender,x=h.sm,S=h.$cntInner,C=h.$header;_&&_.get&&!_.get("active")||!x||(x.getSelected()?(S==null||S.show(),C==null||C.hide()):(S==null||S.hide(),C==null||C.show()))},stop:function(){var h,_;(h=this.$cntInner)===null||h===void 0||h.hide(),(_=this.$header)===null||_===void 0||_.hide()}}},395:(r,o,s)=>{s.r(o),s.d(o,{default:()=>d});var c=s(895);const d={run:function(h,_){this.sender=_;var x=h.getModel(),S=h.Config,C=S.stylePrefix,T=h.TraitManager,P=T.getConfig(),L;if(!P.appendTo){if(!this.$cn){this.$cn=(0,c.default)("<div></div>"),this.$cn2=(0,c.default)("<div></div>"),this.$cn.append(this.$cn2),this.$header=(0,c.default)("<div>").append('<div class="'.concat(P.stylePrefix,'header">').concat(x.t("traitManager.empty"),"</div>")),this.$cn.append(this.$header),P.custom?T.__trgCustom({container:this.$cn2.get(0)}):(this.$cn2.append('<div class="'.concat(C,'traits-label">').concat(x.t("traitManager.label"),"</div>")),this.$cn2.append(T.render()));var N=h.Panels;N.getPanel("views-container")?L=N.getPanel("views-container"):L=N.addPanel({id:"views-container"}),L==null||L.set("appendContent",this.$cn.get(0)).trigger("change:appendContent"),this.target=h.getModel(),this.listenTo(this.target,"component:toggled",this.toggleTm)}this.toggleTm()}},toggleTm:function(){var h=this.sender;h&&h.get&&!h.get("active")||(this.target.getSelectedAll().length===1?(this.$cn2.show(),this.$header.hide()):(this.$cn2.hide(),this.$header.show()))},stop:function(){this.$cn2&&this.$cn2.hide(),this.$header&&this.$header.hide()}}},98:(r,o,s)=>{s.r(o),s.d(o,{default:()=>d});var c=s(50);const d={run:function(_,x,S){S===void 0&&(S={});var C=_.getModel(),T=C.get("clipboard"),P=_.getSelected();T!=null&&T.length&&P&&(_.getSelectedAll().forEach(function(L){var N,U,K,fe=((U=(N=L.delegate)===null||N===void 0?void 0:N.copy)===null||U===void 0?void 0:U.call(N,L))||L,q=fe.collection,z;if(q){var $=fe.index()+1,X={at:$,action:S.action||"paste-component"};(0,c.contains)(T,fe)&&fe.get("copyable")?z=q.add(fe.clone(),X):z=h(_,T,fe.parent(),X)}else{var _e=(K=C.Pages.getSelected())===null||K===void 0?void 0:K.getMainComponent(),X={at:(_e==null?void 0:_e.components().length)||0,action:S.action||"paste-component"};z=h(_,T,_e,X)}z=(0,c.isArray)(z)?z:[z],z.forEach(function(ie){return _.trigger("component:paste",ie)})}),P.emitUpdate())}};function h(_,x,S,C){var T=x.filter(function(L){return L.get("copyable")}),P=T.filter(function(L){return _.Components.canMove(S,L).result});return S.components().add(P.map(function(L){return L.clone()}),C)}},129:(r,o,s)=>{s.r(o),s.d(o,{default:()=>_});var c=s(50),d=function(x,S,C){if(C||arguments.length===2)for(var T=0,P=S.length,L;T<P;T++)(L||!(T in S))&&(L||(L=Array.prototype.slice.call(S,0,T)),L[T]=S[T]);return x.concat(L||Array.prototype.slice.call(S))},h="core:component-outline";const _={getPanels:function(x){return this.panels||(this.panels=x.Panels.getPanels()),this.panels},preventDrag:function(x){x.abort=1},tglEffects:function(x){var S=this.em,C=x?"on":"off";if(S){var T=S.Canvas,P=T.getBody(),L=T.getToolbarEl();L&&(L.style.display=x?"none":"");var N=P.querySelectorAll(".".concat(this.ppfx,"no-pointer"));(0,c.each)(N,function(U){return U.style.pointerEvents=x?"all":""}),S[C]("run:tlb-move:before",this.preventDrag)}},run:function(x,S){var C=this;this.sender=S,this.selected=d([],x.getSelectedAll(),!0),x.select(),this.shouldRunSwVisibility||(this.shouldRunSwVisibility=x.Commands.isActive(h)),this.shouldRunSwVisibility&&x.stopCommand(h),x.getModel().stopDefault();var T=this.getPanels(x),P=x.Canvas.getElement(),L=x.getEl(),N=x.Config.stylePrefix;if(!this.helper){var U=document.createElement("span");U.className="".concat(N,"off-prv fa fa-eye-slash"),L.appendChild(U),U.onclick=function(){return C.stopCommand()},this.helper=U}this.helper.style.display="inline-block",T.forEach(function(fe){return fe.set("visible",!1)});var K=P.style;K.width="100%",K.height="100%",K.top="0",K.left="0",K.padding="0",K.margin="0",x.refresh(),this.tglEffects(1)},stop:function(x){var S=this,C=S.sender,T=C===void 0?{}:C,P=S.selected;T.set&&T.set("active",0);var L=this.getPanels(x);this.shouldRunSwVisibility&&(x.runCommand(h),this.shouldRunSwVisibility=!1),x.getModel().runDefault(),L.forEach(function(U){return U.set("visible",!0)});var N=x.Canvas.getElement();N.setAttribute("style",""),P&&x.select(P),delete this.selected,this.helper&&(this.helper.style.display="none"),x.refresh(),this.tglEffects()}}},116:(r,o,s)=>{s.r(o),s.d(o,{default:()=>d});var c=function(){return c=Object.assign||function(h){for(var _,x=1,S=arguments.length;x<S;x++){_=arguments[x];for(var C in _)Object.prototype.hasOwnProperty.call(_,C)&&(h[C]=_[C])}return h},c.apply(this,arguments)};const d={run:function(h,_,x){var S=x||{},C=h.Canvas,T=C.getCanvasView(),P=c({appendTo:C.getResizerEl(),prefix:h.getConfig().stylePrefix,posFetcher:T.getElementPos.bind(T),mousePosFetcher:C.getMouseRelativePos.bind(C)},S.options||{}),L=this.canvasResizer;return(!L||S.forceNew)&&(this.canvasResizer=new h.Utils.Resizer(P),L=this.canvasResizer),L.setOptions(P,!0),L.blur(),L.focus(S.el),L},stop:function(){var h;(h=this.canvasResizer)===null||h===void 0||h.blur()}}},407:(r,o,s)=>{s.r(o),s.d(o,{default:()=>ve});var c=s(50),d=s(346),h=function(){var te=function(re,ae){return te=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,be){G.__proto__=be}||function(G,be){for(var W in be)Object.prototype.hasOwnProperty.call(be,W)&&(G[W]=be[W])},te(re,ae)};return function(re,ae){if(typeof ae!="function"&&ae!==null)throw new TypeError("Class extends value "+String(ae)+" is not a constructor or null");te(re,ae);function G(){this.constructor=re}re.prototype=ae===null?Object.create(ae):(G.prototype=ae.prototype,new G)}}(),_=function(te){h(re,te);function re(){return te!==null&&te.apply(this,arguments)||this}return re.prototype.defaults=function(){return{command:"",attributes:{}}},re}(d.Hn);const x=_;var S=function(){var te=function(re,ae){return te=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,be){G.__proto__=be}||function(G,be){for(var W in be)Object.prototype.hasOwnProperty.call(be,W)&&(G[W]=be[W])},te(re,ae)};return function(re,ae){if(typeof ae!="function"&&ae!==null)throw new TypeError("Class extends value "+String(ae)+" is not a constructor or null");te(re,ae);function G(){this.constructor=re}re.prototype=ae===null?Object.create(ae):(G.prototype=ae.prototype,new G)}}(),C=function(te){S(re,te);function re(){return te!==null&&te.apply(this,arguments)||this}return re}(d.FE);const T=C;C.prototype.model=x;var P=s(330),L=function(){var te=function(re,ae){return te=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,be){G.__proto__=be}||function(G,be){for(var W in be)Object.prototype.hasOwnProperty.call(be,W)&&(G[W]=be[W])},te(re,ae)};return function(re,ae){if(typeof ae!="function"&&ae!==null)throw new TypeError("Class extends value "+String(ae)+" is not a constructor or null");te(re,ae);function G(){this.constructor=re}re.prototype=ae===null?Object.create(ae):(G.prototype=ae.prototype,new G)}}(),N=function(){return N=Object.assign||function(te){for(var re,ae=1,G=arguments.length;ae<G;ae++){re=arguments[ae];for(var be in re)Object.prototype.hasOwnProperty.call(re,be)&&(te[be]=re[be])}return te},N.apply(this,arguments)},U=function(te){L(re,te);function re(ae){var G=te.call(this,ae)||this;return G.em=ae.config.em,G}return re.prototype.events=function(){return this.model.get("events")||{mousedown:"handleClick"}},re.prototype.attributes=function(){return this.model.get("attributes")},re.prototype.handleClick=function(ae){ae.preventDefault(),ae.stopPropagation();var G=this.em,be=G.Canvas.getFrameEl().getBoundingClientRect(),W=be.left,Le=be.top,ye=N(N({},ae),{clientX:ae.clientX-W,clientY:ae.clientY-Le});G.trigger("toolbar:run:before",{event:ye}),this.execCommand(ye)},re.prototype.execCommand=function(ae){var G=this,be=G.em,W=G.model,Le={event:ae},ye=W.get("command"),Ue=be.Editor;(0,c.isFunction)(ye)&&ye(Ue,null,Le),(0,c.isString)(ye)&&Ue.runCommand(ye,Le)},re.prototype.render=function(){var ae=this,G=ae.em,be=ae.$el,W=ae.model,Le=W.get("id"),ye=W.get("label"),Ue=G.getConfig().stylePrefix;return be.addClass("".concat(Ue,"toolbar-item")),Le&&be.addClass("".concat(Ue,"toolbar-item__").concat(Le)),ye&&be.append(ye),this},re}(d.G7);const K=U;var fe=function(){var te=function(re,ae){return te=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,be){G.__proto__=be}||function(G,be){for(var W in be)Object.prototype.hasOwnProperty.call(be,W)&&(G[W]=be[W])},te(re,ae)};return function(re,ae){if(typeof ae!="function"&&ae!==null)throw new TypeError("Class extends value "+String(ae)+" is not a constructor or null");te(re,ae);function G(){this.constructor=re}re.prototype=ae===null?Object.create(ae):(G.prototype=ae.prototype,new G)}}(),q=function(te){fe(re,te);function re(ae){var G=te.call(this,ae)||this,be=ae.em;return G.em=be,G.config={em:be},G.listenTo(G.collection,"reset",G.render),G}return re.prototype.onRender=function(){var ae=this.em.config.stylePrefix;this.el.className="".concat(ae,"toolbar-items")},re}(P.Z);const z=q;q.prototype.itemView=K;var $=s(491),X=s(163),_e=s(675),ie=s(184),we=function(){return we=Object.assign||function(te){for(var re,ae=1,G=arguments.length;ae<G;ae++){re=arguments[ae];for(var be in re)Object.prototype.hasOwnProperty.call(re,be)&&(te[be]=re[be])}return te},we.apply(this,arguments)},Ae=function(te,re){var ae={};for(var G in te)Object.prototype.hasOwnProperty.call(te,G)&&re.indexOf(G)<0&&(ae[G]=te[G]);if(te!=null&&typeof Object.getOwnPropertySymbols=="function")for(var be=0,G=Object.getOwnPropertySymbols(te);be<G.length;be++)re.indexOf(G[be])<0&&Object.prototype.propertyIsEnumerable.call(te,G[be])&&(ae[G[be]]=te[G[be]]);return ae},se;const ve={activeResizer:!1,init:function(){this.onSelect=(0,c.debounce)(this.onSelect,0),(0,c.bindAll)(this,"onHover","onOut","onClick","onFrameScroll","onFrameResize","onFrameUpdated","onContainerChange")},enable:function(){this.frameOff=this.canvasOff=this.adjScroll=null,this.startSelectComponent(),se=!0},startSelectComponent:function(){this.toggleSelectComponent(1),this.em.getSelected()&&this.onSelect()},stopSelectComponent:function(){this.toggleSelectComponent()},toggleSelectComponent:function(te){var re=this,ae=this.em,G=ae.getConfig().listenToEl,be=ae.getContainer().parentNode,W=te?"on":"off",Le={on:$.on,off:$.S1},ye=ie.g.update;!G.length&&be&&G.push(be);var Ue=function($e,ge){Le[W](ge,"mouseover",re.onHover),Le[W](ge,"mouseleave",re.onOut),Le[W](ge,"click",re.onClick),Le[W]($e,"scroll",re.onFrameScroll,!0),Le[W]($e,"resize",re.onFrameResize)};Le[W](window,"resize",this.onFrameUpdated),Le[W](G,"scroll",this.onContainerChange),ae[W]("component:toggled ".concat(ye," undo redo"),this.onSelect,this),ae[W]("change:componentHovered",this.onHovered,this),ae[W]("component:resize styleable:change component:input",this.updateGlobalPos,this),ae[W]("".concat(ye,":toolbar"),this._upToolbar,this),ae[W]("frame:updated",this.onFrameUpdated,this),ae[W]("canvas:updateTools",this.onFrameUpdated,this),ae[W](ae.Canvas.events.refresh,this.updateAttached,this),ae.Canvas.getFrames().forEach(function($e){var ge=$e.view,Ve=ge==null?void 0:ge.getWindow();Ve&&Ue(Ve,ge==null?void 0:ge.getBody())})},onHover:function(te){te.stopPropagation();var re=this.em,ae=te.target,G=(0,X.getComponentView)(ae),be=G==null?void 0:G.frameView,W=G==null?void 0:G.model;if(!W)for(var Le=ae.parentNode;!W&&Le&&!(0,$.Mx)(Le);)W=(0,X.getComponentModel)(Le),Le=Le.parentNode;this.currentDoc=ae.ownerDocument,re.setHovered(W,{useValid:!0}),be&&re.setCurrentFrame(be)},onFrameUpdated:function(){this.updateLocalPos(),this.updateGlobalPos()},onHovered:function(te,re){var ae=this,G,be={};re?(G=re.views)===null||G===void 0||G.forEach(function(W){var Le=W.el,ye=ae.getElementPos(Le);be={el:Le,pos:ye,component:re,view:(0,X.getViewEl)(Le)},Le.ownerDocument===ae.currentDoc&&(ae.elHovered=be),ae.updateToolsLocal(be)}):(this.currentDoc=null,this.elHovered=0,this.updateToolsLocal(),this.canvas.getFrames().forEach(function(W){var Le=W.view,ye=Le&&Le.getToolsEl();ye&&ae.toggleToolsEl(0,0,{el:ye})}))},onSelect:function(){var te=this.em,re=te.getSelected(),ae=te.getCurrentFrame(),G=re&&re.getView(ae==null?void 0:ae.model),be=G&&G.el,W={};if(be&&(0,$.pn)(be)){var Le=this.getElementPos(be);W={el:be,pos:Le,component:re,view:(0,X.getViewEl)(be)}}this.elSelected=W,this.updateToolsGlobal(),this.updateLocalPos(W),this.initResize(re)},updateGlobalPos:function(){var te=this.getElSelected();te.el&&(te.pos=this.getElementPos(te.el),this.updateToolsGlobal())},updateLocalPos:function(te){var re=this.getElHovered();re.el&&(re.pos=this.getElementPos(re.el),this.updateToolsLocal(te))},getElHovered:function(){return this.elHovered||{}},getElSelected:function(){return this.elSelected||{}},onOut:function(){this.em.setHovered()},toggleToolsEl:function(te,re,ae){ae===void 0&&(ae={});var G=ae.el||this.canvas.getToolsEl(re);return G&&(G.style.display=te?"":"none"),G||{}},showElementOffset:function(te,re,ae){ae===void 0&&(ae={}),se&&this.editor.runCommand("show-offset",{el:te,elPos:re,view:ae.view,force:1,top:0,left:0})},hideElementOffset:function(te){this.editor.stopCommand("show-offset",{view:te})},showFixedElementOffset:function(te,re){this.editor.runCommand("show-offset",{el:te,elPos:re,state:"Fixed"})},hideFixedElementOffset:function(){this.editor&&this.editor.stopCommand("show-offset",{state:"Fixed"})},hideHighlighter:function(te){this.canvas.getHighlighter(te).style.opacity=0},onClick:function(te){te.stopPropagation(),te.preventDefault();var re=this.em;if(re.get("_cmpDrag"))return re.set("_cmpDrag");var ae=te.target,G=(0,X.getComponentModel)(ae);if(!G)for(var be=ae.parentNode;!G&&be&&!(0,$.Mx)(be);)G=(0,X.getComponentModel)(be),be=be.parentNode;if(G){if(re.isEditing()&&(!G.get("textable")&&G.isChildOf("text")||re.getEditing()!==G))return;this.select(G,te)}},select:function(te,re){re===void 0&&(re={}),te&&(this.editor.select(te,{event:re,useValid:!0}),this.initResize(te))},updateBadge:function(te,re,ae){ae===void 0&&(ae={});var G=this.canvas,be=(0,X.getComponentModel)(te),W=this.getBadge(ae),Le=W.style;if(!be||!be.get("badgable")){Le.display="none";return}if(!ae.posOnly){var ye=this.canvas.getConfig(),Ue=be.getIcon(),$e=ye.pStylePrefix||"",ge="".concat($e,"badge"),Ve=ye.customBadgeLabel,Ye="".concat(Ue?'<div class="'.concat(ge,'__icon">').concat(Ue,"</div>"):"",`
        <div class="`).concat(ge,'__name">').concat(be.getName(),"</div>");W.innerHTML=Ve?Ve(be):Ye}var We="px";Le.display="block";var dt=G.getTargetToElementFixed(te,W,{pos:re}),Te=dt.top,ze=ae.leftOff<0?-ae.leftOff:0;Le.top=Te+We,Le.left=ze+We},showHighlighter:function(te){this.canvas.getHighlighter(te).style.opacity=""},initResize:function(te){var re=this,ae=re.em,G=re.canvas,be=ae.Editor,W=!(0,c.isElement)(te)&&(0,$.o5)(te)?te:ae.getSelected(),Le=W==null?void 0:W.get("resizable"),ye=_e.q.Resize,Ue=G.hasCustomSpot(ye);if(G.removeSpots({type:ye}),W&&Le){G.addSpot({type:ye,component:W});var $e=(0,c.isElement)(te)?te:W.getEl(),ge=(0,X.isObject)(Le)?Le:{},Ve=ge.onStart,Ye=Ve===void 0?function(){}:Ve,We=ge.onMove,dt=We===void 0?function(){}:We,Te=ge.onEnd,ze=Te===void 0?function(){}:Te,qe=ge.updateTarget,ut=qe===void 0?function(){}:qe,vt=Ae(ge,["onStart","onMove","onEnd","updateTarget"]);if(Ue||!$e||this.activeResizer)return;var rt,lt=ae.config,ar=lt.stylePrefix||"",zr="".concat(ar,"resizing"),un=this,Ar={component:W,el:$e},Ct=function(F,Z,pe){var Se=pe.docs;Se&&Se.forEach(function(J){var xe=J.body,Oe=xe.className||"";xe.className=(F=="add"?"".concat(Oe," ").concat(zr):Oe.replace(zr,"")).trim()})},M=we({onStart:function(F,Z){Ye(F,Z);var pe=Z.el,Se=Z.config,J=Z.resizer,xe=Se.keyHeight,Oe=Se.keyWidth,yt=Se.currentUnit,qt=Se.keepAutoHeight,Vt=Se.keepAutoWidth;Ct("add",F,Z),rt=ae.Styles.getModelToStyle(W),G.toggleFramesEvents(!1);var rr=getComputedStyle(pe),Er=rt.getStyle(),Tt=Er[Oe];Se.autoWidth=Vt&&Tt==="auto",isNaN(parseFloat(Tt))&&(Tt=rr[Oe]);var Sr=Er[xe];Se.autoHeight=qt&&Sr==="auto",isNaN(parseFloat(Sr))&&(Sr=rr[xe]),J.startDim.w=parseFloat(Tt),J.startDim.h=parseFloat(Sr),se=!1,yt&&(Se.unitHeight=(0,X.getUnitFromValue)(Sr),Se.unitWidth=(0,X.getUnitFromValue)(Tt)),un.activeResizer=!0,be.trigger("component:resize",we(we({},Ar),{type:"start"}))},onMove:function(F){dt(F),be.trigger("component:resize",we(we({},Ar),{type:"move"}))},onEnd:function(F,Z){ze(F,Z),Ct("remove",F,Z),be.trigger("component:resize",we(we({},Ar),{type:"end"})),G.toggleFramesEvents(!0),se=!0,un.activeResizer=!1},updateTarget:function(F,Z,pe){if(ut(F,Z,pe),!!rt){var Se=pe.store,J=pe.selectedHandler,xe=pe.config,Oe=xe.keyHeight,yt=xe.keyWidth,qt=xe.autoHeight,Vt=xe.autoWidth,rr=xe.unitWidth,Er=xe.unitHeight,Tt=["tc","bc"].indexOf(J)>=0,Sr=["cl","cr"].indexOf(J)>=0,zt={};if(!Tt){var dr=G.getBody().offsetWidth,nn=Z.w<dr?Z.w:dr;zt[yt]=Vt?"auto":"".concat(nn).concat(rr)}Sr||(zt[Oe]=qt?"auto":"".concat(Z.h).concat(Er)),ae.getDragMode(W)&&(zt.top="".concat(Z.t).concat(Er),zt.left="".concat(Z.l).concat(rr));var Mt=we(we({},zt),{__p:!Se});rt.addStyle(Mt,{avoidStore:!Se}),ae.Styles.__emitCmpStyleUpdate(Mt,{components:ae.getSelected()})}}},vt);this.resizer=be.runCommand("resize",{el:$e,options:M,force:1})}else{if(Ue)return;be.stopCommand("resize"),this.resizer=null}},updateToolbar:function(te){var re=this.canvas,ae=this.config.em,G=te===ae?ae.getSelected():te,be=re.getToolbarEl(),W=be.style,Le=G.get("toolbar"),ye=ae.config.showToolbar,Ue=!re.hasCustomSpot(_e.q.Select);if(G&&ye&&Le&&Le.length&&Ue){if(W.display="",!this.toolbar){be.innerHTML="",this.toolbar=new T(Le);var $e=new z({collection:this.toolbar,em:ae});be.appendChild($e.render().el)}this.toolbar.reset(Le),W.top="-100px",W.left="0"}else W.display="none"},updateToolbarPos:function(te){var re="px",ae=this.canvas.getToolbarEl().style;ae.top="".concat(te.top).concat(re),ae.left="".concat(te.left).concat(re),ae.opacity=""},getCanvasPosition:function(){return this.canvas.getCanvasView().getPosition()},getBadge:function(te){return te===void 0&&(te={}),this.canvas.getBadgeEl(te.view)},onFrameScroll:function(){this.updateTools(),this.canvas.refreshSpots()},onFrameResize:function(){this.canvas.refresh({all:!0})},updateTools:function(){this.updateLocalPos(),this.updateGlobalPos()},isCompSelected:function(te){return te&&te.get("status")==="selected"},updateToolsLocal:function(te){var re=this.em.getConfig(),ae=te||this.getElHovered(),G=ae.el,be=ae.pos,W=ae.view,Le=ae.component;if(!G){this.lastHovered=0;return}var ye=Le.get("hoverable"),Ue=this.lastHovered!==G,$e=Ue?{}:{posOnly:1},ge=this.canvas.hasCustomSpot(_e.q.Hover);Ue&&ye&&(this.lastHovered=G,ge?this.hideHighlighter(W):this.showHighlighter(W),this.showElementOffset(G,be,{view:W})),this.isCompSelected(Le)&&(this.hideHighlighter(W),!re.showOffsetsSelected&&this.hideElementOffset(W));var Ve="px",Ye=this.toggleToolsEl(1,W),We=Ye.style,dt=this.canvas.canvasRectOffset(G,be),Te=dt.top,ze=dt.left;!ge&&this.updateBadge(G,be,we(we({},$e),{view:W,topOff:Te,leftOff:ze})),We.top=Te+Ve,We.left=ze+Ve,We.width=be.width+Ve,We.height=be.height+Ve,this._trgToolUp("local",{component:Le,el:Ye,top:Te,left:ze,width:be.width,height:be.height})},_upToolbar:(0,c.debounce)(function(){this.updateToolsGlobal({force:1})},0),_trgToolUp:function(te,re){re===void 0&&(re={}),this.em.trigger("canvas:tools:update",we({type:te},re))},updateToolsGlobal:function(te){te===void 0&&(te={});var re=this.getElSelected(),ae=re.el,G=re.pos,be=re.component;if(!ae){this.toggleToolsEl(),this.lastSelected=0;return}var W=this.canvas,Le=this.lastSelected!==ae;(Le||te.force)&&(this.lastSelected=ae,this.updateToolbar(be));var ye="px",Ue=this.toggleToolsEl(1),$e=Ue.style,ge=W.getTargetToElementFixed(ae,W.getToolbarEl(),{pos:G}),Ve=ge.canvasOffsetTop,Ye=ge.canvasOffsetLeft;$e.top=Ve+ye,$e.left=Ye+ye,$e.width=G.width+ye,$e.height=G.height+ye,this.updateToolbarPos({top:ge.top,left:ge.left}),this._trgToolUp("global",{component:be,el:Ue,top:Ve,left:Ye,width:G.width,height:G.height})},updateAttached:(0,c.debounce)(function(){this.updateGlobalPos()},0),onContainerChange:(0,c.debounce)(function(){this.em.refreshCanvas()},150),getElementPos:function(te){return this.canvas.getCanvasView().getElementPos(te,{noScroll:!0})},hideBadge:function(){this.getBadge().style.display="none"},cleanPrevious:function(te){te&&te.set({status:"",state:""})},getContentWindow:function(){return this.canvas.getWindow()},run:function(te){(0,X.hasWin)()&&(this.editor=te&&te.get("Editor"),this.enable())},stop:function(te,re,ae){if(ae===void 0&&(ae={}),!!(0,X.hasWin)()){var G=this,be=G.em,W=G.editor;this.onHovered(),this.stopSelectComponent(),!ae.preserveSelected&&be.setSelected(),this.toggleToolsEl(),W&&W.stopCommand("resize")}}}},189:(r,o,s)=>{s.r(o),s.d(o,{default:()=>d});var c=s(895);const d={startSelectPosition:function(h,_,x){var S=this;x===void 0&&(x={}),this.isPointed=!1;var C=this.em.Utils,T=h.ownerDocument.body;C&&!this.sorter&&(this.sorter=new C.Sorter({container:T,placer:this.canvas.getPlacerEl(),containerSel:"*",itemSel:"*",pfx:this.ppfx,direction:"a",document:_,wmargin:1,nested:1,em:this.em,canvasRelative:1,scale:function(){return S.em.getZoomDecimal()}})),x.onStart&&(this.sorter.onStart=x.onStart),h&&this.sorter.startSort(h,{container:T})},getOffsetDim:function(){var h=this.offset(this.canvas.getFrameEl()),_=this.offset(this.canvas.getElement()),x=h.top-_.top,S=h.left-_.left;return{top:x,left:S}},stopSelectPosition:function(){this.posTargetCollection=null,this.posIndex=this.posMethod=="after"&&this.cDim.length!==0?this.posIndex+1:this.posIndex,this.sorter&&(this.sorter.moved=0,this.sorter.endMove()),this.cDim&&(this.posIsLastEl=this.cDim.length!==0&&this.posMethod=="after"&&this.posIndex==this.cDim.length,this.posTargetEl=this.cDim.length===0?(0,c.default)(this.outsideElem):!this.posIsLastEl&&this.cDim[this.posIndex]?(0,c.default)(this.cDim[this.posIndex][5]).parent():(0,c.default)(this.outsideElem),this.posTargetModel=this.posTargetEl.data("model"),this.posTargetCollection=this.posTargetEl.data("model-comp"))},enable:function(){this.startSelectPosition()},nearFloat:function(h,_,x){var S=h||0,C=_||"before",T=x.length,P=T!==0&&C=="after"&&S==T;return T!==0&&(!P&&!x[S][4]||x[S-1]&&!x[S-1][4]||P&&!x[S-1][4])?1:0},run:function(){this.enable()},stop:function(){this.stopSelectPosition(),this.$wrapper.css("cursor",""),this.$wrapper.unbind()}}},804:(r,o,s)=>{s.r(o),s.d(o,{default:()=>x});var c=s(50),d=s(675),h=s(895),_=function(){return _=Object.assign||function(S){for(var C,T=1,P=arguments.length;T<P;T++){C=arguments[T];for(var L in C)Object.prototype.hasOwnProperty.call(C,L)&&(S[L]=C[L])}return S},_.apply(this,arguments)};const x={getOffsetMethod:function(S){var C=S||"";return"get"+C+"OffsetViewerEl"},run:function(S,C,T){var P=this.canvas,L=T||{},N=L.state||"",U=S.getConfig(),K=this.em.getZoomDecimal(),fe=L.el;if(!U.showOffsets||!(fe instanceof HTMLElement)||!U.showOffsetsSelected&&N=="Fixed"){S.stopCommand("".concat(this.id),T);return}if(!P.hasCustomSpot(d.q.Spacing)){var q=_({},L.elPos||P.getElementPos(fe));(0,c.isUndefined)(L.top)||(q.top=L.top),(0,c.isUndefined)(L.left)||(q.left=L.left);var z=window.getComputedStyle(fe),$=this.ppfx,X=N+"State",_e=this.getOffsetMethod(N),ie=P[_e](T.view);ie.style.opacity="";var we=this["marginT"+N],Ae=this["marginB"+N],se=this["marginL"+N],ve=this["marginR"+N],te=this["padT"+N],re=this["padB"+N],ae=this["padL"+N],G=this["padR"+N];if(ie.childNodes.length&&(this[X]="1",we=ie.querySelector("[data-offset-m-t]"),Ae=ie.querySelector("[data-offset-m-b]"),se=ie.querySelector("[data-offset-m-l]"),ve=ie.querySelector("[data-offset-m-r]"),te=ie.querySelector("[data-offset-p-t]"),re=ie.querySelector("[data-offset-p-b]"),ae=ie.querySelector("[data-offset-p-l]"),G=ie.querySelector("[data-offset-p-r]")),!this[X]){var be=N.toLowerCase(),W=be+"margin-v",Le=be+"padding-v",ye=(0,h.default)('<div class="'.concat($,'marginName">')).get(0),Ue=(0,h.default)('<div class="'.concat($,'paddingName">')).get(0),$e=$+W+"-el",ge=$+Le+"-el",Ve="".concat($e," ").concat($+W),Ye="".concat(ge," ").concat($+Le);we=(0,h.default)('<div class="'.concat(Ve,'-top"></div>')).get(0),Ae=(0,h.default)('<div class="'.concat(Ve,'-bottom"></div>')).get(0),se=(0,h.default)('<div class="'.concat(Ve,'-left"></div>')).get(0),ve=(0,h.default)('<div class="'.concat(Ve,'-right"></div>')).get(0),te=(0,h.default)('<div class="'.concat(Ye,'-top"></div>')).get(0),re=(0,h.default)('<div class="'.concat(Ye,'-bottom"></div>')).get(0),ae=(0,h.default)('<div class="'.concat(Ye,'-left"></div>')).get(0),G=(0,h.default)('<div class="'.concat(Ye,'-right"></div>')).get(0),this["marginT"+N]=we,this["marginB"+N]=Ae,this["marginL"+N]=se,this["marginR"+N]=ve,this["padT"+N]=te,this["padB"+N]=re,this["padL"+N]=ae,this["padR"+N]=G,ye.appendChild(we),ye.appendChild(Ae),ye.appendChild(se),ye.appendChild(ve),Ue.appendChild(te),Ue.appendChild(re),Ue.appendChild(ae),Ue.appendChild(G),ie.appendChild(ye),ie.appendChild(Ue),this[X]="1"}var We="px",dt=parseFloat(z.marginLeft.replace(We,""))*K,Te=parseFloat(z.marginRight.replace(We,""))*K,ze=parseFloat(z.marginTop.replace(We,""))*K,qe=parseFloat(z.marginBottom.replace(We,""))*K,ut=we.style,vt=Ae.style,rt=se.style,lt=ve.style,ar=te.style,zr=re.style,un=ae.style,Ar=G.style,Ct=parseFloat(q.left),M=parseFloat(z.width)*K+We;ut.height=ze+We,ut.width=M,ut.top=q.top-ze+We,ut.left=Ct+We,vt.height=qe+We,vt.width=M,vt.top=q.top+q.height+We,vt.left=Ct+We;var F=q.height+ze+qe+We,Z=q.top-ze+We;rt.height=F,rt.width=dt+We,rt.top=Z,rt.left=Ct-dt+We,lt.height=F,lt.width=Te+We,lt.top=Z,lt.left=Ct+q.width+We;var pe=parseFloat(z.paddingTop)*K;ar.height=pe+We;var Se=parseFloat(z.paddingBottom)*K;zr.height=Se+We;var J=q.height-Se-pe+We,xe=q.top+pe+We;un.height=J,un.width=parseFloat(z.paddingLeft)*K+We,un.top=xe;var Oe=parseFloat(z.paddingRight)*K;Ar.height=J,Ar.width=Oe+We,Ar.top=xe}},stop:function(S,C,T){T===void 0&&(T={});var P=T||{},L=P.state||"",N=this.getOffsetMethod(L),U=T.view,K=this.canvas,fe=K[N](U);fe.style.opacity=0}}},434:(r,o,s)=>{s.r(o),s.d(o,{default:()=>h});var c=s(50),d=s(163);const h={init:function(){(0,c.bindAll)(this,"_onFramesChange")},run:function(_){this.toggleVis(_,!0)},stop:function(_){this.toggleVis(_,!1)},toggleVis:function(_,x){if(x===void 0&&(x=!0),!_.Commands.isActive("preview")){var S=_.Canvas,C=x?"on":"off",T=S.getModel();T[C]("change:frames",this._onFramesChange),this.handleFrames(S.getFrames(),x)}},handleFrames:function(_,x){var S=this;_.forEach(function(C){var T;!((T=C.view)===null||T===void 0)&&T.loaded&&S._upFrame(C,x),C.__ol||(C.on("loaded",function(){return S._upFrame(C)}),C.__ol=!0)})},_onFramesChange:function(_,x){this.handleFrames(x)},_upFrame:function(_,x){var S,C=this,T=C.ppfx,P=C.em,L=C.id,N=(0,d.isDef)(x)?x:P.Commands.isActive(L),U=N?"add":"remove",K="".concat(T,"dashed");(S=_.view)===null||S===void 0||S.getBody().classList[U](K)}}},346:(r,o,s)=>{s.d(o,{FE:()=>S,G7:()=>C,Hn:()=>x,pH:()=>P,vA:()=>T});var c=s(316),d=s.n(c),h=function(){var L=function(N,U){return L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(K,fe){K.__proto__=fe}||function(K,fe){for(var q in fe)Object.prototype.hasOwnProperty.call(fe,q)&&(K[q]=fe[q])},L(N,U)};return function(N,U){if(typeof U!="function"&&U!==null)throw new TypeError("Class extends value "+String(U)+" is not a constructor or null");L(N,U);function K(){this.constructor=N}N.prototype=U===null?Object.create(U):(K.prototype=U.prototype,new K)}}(),_=function(){return _=Object.assign||function(L){for(var N,U=1,K=arguments.length;U<K;U++){N=arguments[U];for(var fe in N)Object.prototype.hasOwnProperty.call(N,fe)&&(L[fe]=N[fe])}return L},_.apply(this,arguments)},x=function(L){h(N,L);function N(){return L!==null&&L.apply(this,arguments)||this}return N}(d().Model),S=function(L){h(N,L);function N(){return L!==null&&L.apply(this,arguments)||this}return N}(d().Collection),C=function(L){h(N,L);function N(){return L!==null&&L.apply(this,arguments)||this}return N}(d().View),T;(function(L){L.Screen="screen",L.World="world"})(T||(T={}));var P={x:0,y:0};_(_({},P),{width:0,height:0})},184:(r,o,s)=>{s.d(o,{W:()=>c,g:()=>d});var c;(function(h){h.remove="component:remove",h.add="component:add",h.move="component:move"})(c||(c={}));var d;(function(h){h.add="component:add",h.remove="component:remove",h.removeBefore="component:remove:before",h.create="component:create",h.update="component:update",h.updateInside="component:update-inside",h.symbolMainAdd="symbol:main:add",h.symbolMainUpdate="symbol:main:update",h.symbolMainUpdateDeep="symbol:main:update-deep",h.symbolMainRemove="symbol:main:remove",h.symbolMain="symbol:main",h.symbolInstanceAdd="symbol:instance:add",h.symbolInstanceRemove="symbol:instance:remove",h.symbolInstance="symbol:instance",h.symbol="symbol"})(d||(d={}))},330:(r,o,s)=>{s.d(o,{Z:()=>x});var c=s(50),d=s(346),h=function(){var S=function(C,T){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,L){P.__proto__=L}||function(P,L){for(var N in L)Object.prototype.hasOwnProperty.call(L,N)&&(P[N]=L[N])},S(C,T)};return function(C,T){if(typeof T!="function"&&T!==null)throw new TypeError("Class extends value "+String(T)+" is not a constructor or null");S(C,T);function P(){this.constructor=C}C.prototype=T===null?Object.create(T):(P.prototype=T.prototype,new P)}}(),_=function(S){h(C,S);function C(T,P,L){T===void 0&&(T={}),L===void 0&&(L=!1);var N=S.call(this,T)||this;return N.itemsView="",N.itemType="type",N.reuseView=!1,N.config=P||T.config||{},L&&N.listenTo(N.collection,"add",N.addTo),N.items=[],N}return C.prototype.addTo=function(T){this.add(T)},C.prototype.itemViewNotFound=function(T){var P=this,L=P.config,N=P.ns,U=L.em,K="".concat(N?"[".concat(N,"]: "):"","'").concat(T,"' type not found");U&&U.logWarning(K)},C.prototype.add=function(T,P){var L=this,N=L.config,U=L.reuseView,K=L.items,fe=this.itemsView||{},q=["button","checkbox","color","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"],z=P||null,$=this.itemView,X=T.get(this.itemType),_e;fe[X]?$=fe[X]:X&&!fe[X]&&!(0,c.includes)(q,X)&&this.itemViewNotFound(X),T.view&&U?_e=T.view:_e=new $({model:T,config:N},N),K&&K.push(_e);var ie=_e.render().el;z?z.appendChild(ie):this.$el.append(ie)},C.prototype.render=function(){var T=document.createDocumentFragment();return this.clearItems(),this.$el.empty(),this.collection.length&&this.collection.each(function(P){this.add(P,T)},this),this.$el.append(T),this.onRender(),this},C.prototype.onRender=function(){},C.prototype.onRemoveBefore=function(T,P){},C.prototype.onRemove=function(T,P){},C.prototype.remove=function(T){T===void 0&&(T={});var P=this.items;return this.onRemoveBefore(P,T),this.clearItems(),S.prototype.remove.call(this),this.onRemove(P,T),this},C.prototype.clearItems=function(){this.items},C}(d.G7);const x=_;_.prototype.itemView=""},668:(r,o,s)=>{s.d(o,{Z:()=>C});var c=s(50),d=s(491),h=function(){return h=Object.assign||function(T){for(var P,L=1,N=arguments.length;L<N;L++){P=arguments[L];for(var U in P)Object.prototype.hasOwnProperty.call(P,U)&&(T[U]=P[U])}return T},h.apply(this,arguments)},_=function(){return{x:0,y:0}},x=["x","y"],S=function(){function T(P){return P===void 0&&(P={}),this.opts={snapOffset:5,scale:1},(0,c.bindAll)(this,"drag","stop","keyHandle","handleScroll"),this.setOptions(P),this.delta=_(),this.lastScroll=_(),this.lastScrollDiff=_(),this.startPointer=_(),this.startPosition=_(),this.globScrollDiff=_(),this.currentPointer=_(),this.position=_(),this.guidesStatic=[],this.guidesTarget=[],this.docs=[],this}return T.prototype.setOptions=function(P){P===void 0&&(P={}),this.opts=h(h({},this.opts),P)},T.prototype.toggleDrag=function(P){var L=this.getDocumentEl(),N=this.getContainerEl(),U=this.getWindowEl(),K=P?"on":"off",fe={on:d.on,off:d.S1};fe[K](N,"mousemove dragover",this.drag),fe[K](L,"mouseup dragend touchend",this.stop),fe[K](L,"keydown",this.keyHandle),fe[K](U,"scroll",this.handleScroll)},T.prototype.handleScroll=function(){var P=this,L=P.lastScroll,N=P.delta,U=this.getScrollInfo(),K={x:U.x-L.x,y:U.y-L.y};this.move(N.x+K.x,N.y+K.y),this.lastScrollDiff=K},T.prototype.start=function(P){var L=this.opts,N=L.onStart;this.toggleDrag(!0),this.startPointer=this.getPointerPos(P),this.guidesStatic=(0,c.result)(L,"guidesStatic")||[],this.guidesTarget=(0,c.result)(L,"guidesTarget")||[],(0,c.isFunction)(N)&&N(P,this),this.startPosition=this.getStartPosition(),this.lastScrollDiff=_(),this.globScrollDiff=_(),this.drag(P)},T.prototype.drag=function(P){var L=this,N=this,U=N.opts,K=N.lastScrollDiff,fe=N.globScrollDiff,q=U.onDrag,z=this.startPointer,$=this.getPointerPos(P),X={x:fe.x+K.x,y:fe.y+K.y};this.globScrollDiff=X;var _e={x:$.x-z.x+X.x,y:$.y-z.y+X.y};this.lastScrollDiff=_();var ie=this.lockedAxis;P.shiftKey?ie=!ie&&this.detectAxisLock(_e.x,_e.y):ie=null,ie==="x"?_e.x=z.x:ie==="y"&&(_e.y=z.y);var we=function(ae){x.forEach(function(G){return ae[G]=ae[G]*(0,c.result)(U,"scale")}),L.delta=ae,L.move(ae.x,ae.y),(0,c.isFunction)(q)&&q(P,L)},Ae=h({},_e);if(this.currentPointer=$,this.lockedAxis=ie,this.lastScroll=this.getScrollInfo(),we(_e),this.guidesTarget.length){var se=this.snapGuides(Ae),ve=se.newDelta,te=se.trgX,re=se.trgY;(te||re)&&we(ve)}P.which===0&&this.stop(P)},T.prototype.snapGuides=function(P){var L=this,N=P,U=this,K=U.trgX,fe=U.trgY;return this.guidesTarget.forEach(function(q){q.x&&L.trgX||q.y&&L.trgY||(q.active=!1,L.guidesStatic.forEach(function(z){if(!(q.y&&z.x||q.x&&z.y)){var $=q.y&&z.y,X=$?"y":"x",_e=q[X],ie=z[X],we=P[X],Ae=$?fe:K;if(L.isPointIn(_e,ie)&&(0,c.isUndefined)(Ae)){var se=we-(_e-ie);L.setGuideLock(q,se)}}}))}),K=this.trgX,fe=this.trgY,x.forEach(function(q){var z=q.toUpperCase(),$=L["trg".concat(z)];$&&!L.isPointIn(P[q],$.lock)&&(L.setGuideLock($,null),$=null),$&&!(0,c.isUndefined)($.lock)&&(N[q]=$.lock)}),{newDelta:N,trgX:this.trgX,trgY:this.trgY}},T.prototype.isPointIn=function(P,L,N){var U=N===void 0?{}:N,K=U.offset,fe=K||this.opts.snapOffset||0;return P>=L&&P<=L+fe||P<=L&&P>=L-fe},T.prototype.setGuideLock=function(P,L){var N=(0,c.isUndefined)(P.x)?"Y":"X",U="trg".concat(N);return L!==null?(P.active=!0,P.lock=L,this[U]=P):(delete P.active,delete P.lock,delete this[U]),P},T.prototype.stop=function(P,L){L===void 0&&(L={});var N=this.delta,U=!!L.cancel,K=U?0:N.x,fe=U?0:N.y;this.toggleDrag(),this.lockedAxis=null,this.move(K,fe,!0);var q=this.opts.onEnd;(0,c.isFunction)(q)&&q(P,this,{cancelled:U})},T.prototype.keyHandle=function(P){(0,d.kl)(P)&&this.stop(P,{cancel:!0})},T.prototype.move=function(P,L,N){var U=this,K=U.el,fe=U.opts,q=this.startPosition;if(q){var z=fe.setPosition,$=q.x+P,X=q.y+L;this.position={x:$,y:X,end:N},(0,c.isFunction)(z)&&z(this.position),K&&(K.style.left="".concat($,"px"),K.style.top="".concat(X,"px"))}},T.prototype.getContainerEl=function(){var P=this.opts.container;return P?[P]:this.getDocumentEl()},T.prototype.getWindowEl=function(){var P=this.getContainerEl();return P.map(function(L){var N=L.ownerDocument||L;return N.defaultView||N.parentWindow})},T.prototype.getDocumentEl=function(P){var L=this.opts.doc;if(P=P||this.el,!this.docs.length){var N=[document];P&&N.push(P.ownerDocument),L&&N.push(L),this.docs=N}return this.docs},T.prototype.getPointerPos=function(P){var L=this.opts.getPointerPosition,N=(0,d.VB)(P);return L?L(P):{x:N.clientX,y:N.clientY}},T.prototype.getStartPosition=function(){var P=this,L=P.el,N=P.opts,U=N.getPosition,K=_();return(0,c.isFunction)(U)?K=U():L&&(K={x:parseFloat(L.style.left),y:parseFloat(L.style.top)}),K},T.prototype.getScrollInfo=function(){var P=this.opts.doc,L=P&&P.body;return{y:L?L.scrollTop:0,x:L?L.scrollLeft:0}},T.prototype.detectAxisLock=function(P,L){var N=P,U=L,K=Math.abs(N),fe=Math.abs(U);if(U>=K||U<=-K)return"x";if(N>fe||N<-fe)return"y"},T}();const C=S},895:(r,o,s)=>{s.r(o),s.d(o,{default:()=>_i});var c=typeof document<"u"?document:null,d=typeof window<"u"?window:null,h=Array.prototype,_=h.filter,x=h.indexOf,S=h.map,C=h.push,T=h.reverse,P=h.slice,L=h.splice,N=/^#[\w-]*$/,U=/^\.[\w-]*$/,K=/<.+>/,fe=/^\w+$/;function q(ee,Ee){return Ee===void 0&&(Ee=c),U.test(ee)?Ee.getElementsByClassName(ee.slice(1)):fe.test(ee)?Ee.getElementsByTagName(ee):Ee.querySelectorAll(ee)}function z(ee,Ee){if(Ee===void 0&&(Ee=c),!!ee){if(ee.__cash)return ee;var Re=ee;if(ae(ee)){if(Ee.__cash&&(Ee=Ee[0]),Re=N.test(ee)?Ee.getElementById(ee.slice(1)):K.test(ee)?Nr(ee):q(ee,Ee),!Re)return}else if(re(ee))return this.ready(ee);(Re.nodeType||Re===d)&&(Re=[Re]),this.length=Re.length;for(var Qe=0,_t=this.length;Qe<_t;Qe++)this[Qe]=Re[Qe]}}function $(ee,Ee){return new z(ee,Ee)}var X=$.fn=$.prototype=z.prototype={constructor:$,__cash:!0,length:0,splice:L};X.get=function(ee){return ee===void 0?P.call(this):this[ee<0?ee+this.length:ee]},X.eq=function(ee){return $(this.get(ee))},X.first=function(){return this.eq(0)},X.last=function(){return this.eq(-1)},X.map=function(ee){return $(S.call(this,function(Ee,Re){return ee.call(Ee,Re,Ee)}))},X.slice=function(){return $(P.apply(this,arguments))};var _e=/(?:^\w|[A-Z]|\b\w)/g,ie=/[\s-_]+/g;function we(ee){return ee.replace(_e,function(Ee,Re){return Ee[Re?"toUpperCase":"toLowerCase"]()}).replace(ie,"")}$.camelCase=we;function Ae(ee,Ee){for(var Re=0,Qe=ee.length;Re<Qe&&Ee.call(ee[Re],ee[Re],Re,ee)!==!1;Re++);}$.each=Ae,X.each=function(ee){return Ae(this,function(Ee,Re){return ee.call(Ee,Re,Ee)}),this},X.removeProp=function(ee){return this.each(function(Ee,Re){delete Re[ee]})};function se(ee){ee===void 0&&(ee=this);for(var Ee=arguments,Re=Ee.length,Qe=Re<2?0:1;Qe<Re;Qe++)for(var _t in Ee[Qe])ee[_t]=Ee[Qe][_t];return ee}$.extend=X.extend=se;var ve=1;$.guid=ve;function te(ee,Ee){var Re=ee&&(ee.matches||ee.webkitMatchesSelector||ee.mozMatchesSelector||ee.msMatchesSelector||ee.oMatchesSelector);return!!Re&&Re.call(ee,Ee)}$.matches=te;function re(ee){return typeof ee=="function"}$.isFunction=re;function ae(ee){return typeof ee=="string"}$.isString=ae;function G(ee){return!isNaN(parseFloat(ee))&&isFinite(ee)}$.isNumeric=G;var be=Array.isArray;$.isArray=be,X.prop=function(ee,Ee){if(ee){if(ae(ee))return arguments.length<2?this[0]&&this[0][ee]:this.each(function(Qe,_t){_t[ee]=Ee});for(var Re in ee)this.prop(Re,ee[Re]);return this}};function W(ee){return ae(ee)?function(Ee,Re){return te(Re,ee)}:ee.__cash?function(Ee,Re){return ee.is(Re)}:function(Ee,Re,Qe){return Re===Qe}}X.filter=function(ee){if(!ee)return $();var Ee=re(ee)?ee:W(ee);return $(_.call(this,function(Re,Qe){return Ee.call(Re,Qe,Re,ee)}))};var Le=/\S+/g;function ye(ee){return ae(ee)?ee.match(Le)||[]:[]}X.hasClass=function(ee){var Ee=ye(ee),Re=!1;return Ee.length&&this.each(function(Qe,_t){return Re=_t.classList.contains(Ee[0]),!Re}),Re},X.removeAttr=function(ee){var Ee=ye(ee);return Ee.length?this.each(function(Re,Qe){Ae(Ee,function(_t){Qe.removeAttribute(_t)})}):this},X.attr=function(ee,Ee){if(ee){if(ae(ee)){if(arguments.length<2){if(!this[0])return;var Re=this[0].getAttribute(ee);return Re===null?void 0:Re}return Ee===null?this.removeAttr(ee):this.each(function(_t,Yt){Yt.setAttribute(ee,Ee)})}for(var Qe in ee)this.attr(Qe,ee[Qe]);return this}},X.toggleClass=function(ee,Ee){var Re=ye(ee),Qe=Ee!==void 0;return Re.length?this.each(function(_t,Yt){Ae(Re,function(wr){Qe?Ee?Yt.classList.add(wr):Yt.classList.remove(wr):Yt.classList.toggle(wr)})}):this},X.addClass=function(ee){return this.toggleClass(ee,!0)},X.removeClass=function(ee){return arguments.length?this.toggleClass(ee,!1):this.attr("class","")};function Ue(ee){return ee.filter(function(Ee,Re,Qe){return Qe.indexOf(Ee)===Re})}$.unique=Ue,X.add=function(ee,Ee){return $(Ue(this.get().concat($(ee,Ee).get())))};function $e(ee,Ee,Re){if(ee.nodeType===1){var Qe=d.getComputedStyle(ee,null);return Ee?Re?Qe.getPropertyValue(Ee):Qe[Ee]:Qe}}function ge(ee,Ee){return parseInt($e(ee,Ee),10)||0}var Ve=/^--/;function Ye(ee){return Ve.test(ee)}var We={},dt=c&&c.createElement("div"),Te=dt?dt.style:{},ze=["webkit","moz","ms","o"];function qe(ee,Ee){if(Ee===void 0&&(Ee=Ye(ee)),Ee)return ee;if(!We[ee]){var Re=we(ee),Qe=""+Re.charAt(0).toUpperCase()+Re.slice(1),_t=(Re+" "+ze.join(Qe+" ")+Qe).split(" ");Ae(_t,function(Yt){if(Yt in Te)return We[ee]=Yt,!1})}return We[ee]}$.prefixedProp=qe;var ut={animationIterationCount:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0};function vt(ee,Ee,Re){return Re===void 0&&(Re=Ye(ee)),!Re&&!ut[ee]&&G(Ee)?Ee+"px":Ee}X.css=function(ee,Ee){if(ae(ee)){var Re=Ye(ee);return ee=qe(ee,Re),arguments.length<2?this[0]&&$e(this[0],ee,Re):ee?(Ee=vt(ee,Ee,Re),this.each(function(_t,Yt){Yt.nodeType===1&&(Re?Yt.style.setProperty(ee,Ee):Yt.style[ee]=Ee)})):this}for(var Qe in ee)this.css(Qe,ee[Qe]);return this};var rt="__cashData",lt=/^data-(.*)/;$.hasData=function(ee){return rt in ee};function ar(ee){return ee[rt]=ee[rt]||{}}function zr(ee,Ee){var Re=ar(ee);if(Ee){if(!(Ee in Re)){var Qe=ee.dataset?ee.dataset[Ee]||ee.dataset[we(Ee)]:$(ee).attr("data-"+Ee);if(Qe!==void 0){try{Qe=JSON.parse(Qe)}catch{}Re[Ee]=Qe}}return Re[Ee]}return Re}function un(ee,Ee){Ee===void 0?delete ee[rt]:delete ar(ee)[Ee]}function Ar(ee,Ee,Re){ar(ee)[Ee]=Re}X.data=function(ee,Ee){var Re=this;if(!ee)return this[0]?(Ae(this[0].attributes,function(_t){var Yt=_t.name.match(lt);Yt&&Re.data(Yt[1])}),zr(this[0])):void 0;if(ae(ee))return Ee===void 0?this[0]&&zr(this[0],ee):this.each(function(_t,Yt){return Ar(Yt,ee,Ee)});for(var Qe in ee)this.data(Qe,ee[Qe]);return this},X.removeData=function(ee){return this.each(function(Ee,Re){return un(Re,ee)})};function Ct(ee,Ee){return ge(ee,"border"+(Ee?"Left":"Top")+"Width")+ge(ee,"padding"+(Ee?"Left":"Top"))+ge(ee,"padding"+(Ee?"Right":"Bottom"))+ge(ee,"border"+(Ee?"Right":"Bottom")+"Width")}Ae(["Width","Height"],function(ee){X["inner"+ee]=function(){if(this[0])return this[0]===d?d["inner"+ee]:this[0]["client"+ee]}}),Ae(["width","height"],function(ee,Ee){X[ee]=function(Re){return this[0]?arguments.length?(Re=parseInt(Re,10),this.each(function(Qe,_t){if(_t.nodeType===1){var Yt=$e(_t,"boxSizing");_t.style[ee]=vt(ee,Re+(Yt==="border-box"?Ct(_t,!Ee):0))}})):this[0]===d?this[0][we("outer-"+ee)]:this[0].getBoundingClientRect()[ee]-Ct(this[0],!Ee):Re===void 0?void 0:this}}),Ae(["Width","Height"],function(ee,Ee){X["outer"+ee]=function(Re){if(this[0])return this[0]===d?d["outer"+ee]:this[0]["offset"+ee]+(Re?ge(this[0],"margin"+(Ee?"Top":"Left"))+ge(this[0],"margin"+(Ee?"Bottom":"Right")):0)}});function M(ee,Ee){for(var Re=0,Qe=Ee.length;Re<Qe;Re++)if(ee.indexOf(Ee[Re])<0)return!1;return!0}function F(ee,Ee,Re){Ae(ee[Re],function(Qe){Qe[0];var _t=Qe[1];Ee.removeEventListener(Re,_t)}),delete ee[Re]}var Z="__cashEvents",pe=".";function Se(ee){return ee[Z]=ee[Z]||{}}function J(ee,Ee,Re,Qe){Qe.guid=Qe.guid||ve++;var _t=Se(ee);_t[Ee]=_t[Ee]||[],_t[Ee].push([Re,Qe]),ee.addEventListener(Ee,Qe)}function xe(ee){var Ee=ee.split(pe);return[Ee[0],Ee.slice(1).sort()]}function Oe(ee,Ee,Re,Qe){var _t=Se(ee);if(Ee){var Yt=_t[Ee];if(!Yt)return;Qe&&(Qe.guid=Qe.guid||ve++),_t[Ee]=Yt.filter(function(wr){var Wn=wr[0],Pe=wr[1];if(Qe&&Pe.guid!==Qe.guid||!M(Wn,Re))return!0;ee.removeEventListener(Ee,Pe)})}else if(!Re||!Re.length)for(Ee in _t)F(_t,ee,Ee);else for(Ee in _t)Oe(ee,Ee,Re,Qe)}X.off=function(ee,Ee){var Re=this;return ee===void 0?this.each(function(Qe,_t){return Oe(_t)}):Ae(ye(ee),function(Qe){var _t=xe(Qe),Yt=_t[0],wr=_t[1];Re.each(function(Wn,Pe){return Oe(Pe,Yt,wr,Ee)})}),this},X.on=function(ee,Ee,Re,Qe){var _t=this;if(!ae(ee)){for(var Yt in ee)this.on(Yt,Ee,ee[Yt]);return this}return re(Ee)&&(Re=Ee,Ee=!1),Ae(ye(ee),function(wr){var Wn=xe(wr),Pe=Wn[0],Me=Wn[1];_t.each(function(Ke,Xe){var xt=function It(Dt){if(!(Dt.namespace&&!M(Me,Dt.namespace.split(pe)))){var at=Xe;if(Ee){for(var $t=Dt.target;!te($t,Ee);)if($t===Xe||($t=$t.parentNode,!$t))return;at=$t}Dt.namespace=Dt.namespace||"";var jt=Re.call(at,Dt,Dt.data);Qe&&Oe(Xe,Pe,Me,It),jt===!1&&(Dt.preventDefault(),Dt.stopPropagation())}};xt.guid=Re.guid=Re.guid||ve++,J(Xe,Pe,Me,xt)})}),this},X.one=function(ee,Ee,Re){return this.on(ee,Ee,Re,!0)},X.ready=function(ee){var Ee=function(){return ee($)};return c.readyState!=="loading"?setTimeout(Ee):c.addEventListener("DOMContentLoaded",Ee),this},X.trigger=function(ee,Ee){var Re=ee;if(ae(ee)){var Qe=xe(ee),_t=Qe[0],Yt=Qe[1];Re=c.createEvent("HTMLEvents"),Re.initEvent(_t,!0,!0),Re.namespace=Yt.join(pe)}return Re.data=Ee,this.each(function(wr,Wn){Wn.dispatchEvent(Re)})};function yt(ee){var Ee=[];return Ae(ee.options,function(Re){Re.selected&&!Re.disabled&&!Re.parentNode.disabled&&Ee.push(Re.value)}),Ee}function qt(ee){return ee.selectedIndex<0?null:ee.options[ee.selectedIndex].value}var Vt=/select-one/i,rr=/select-multiple/i;function Er(ee){var Ee=ee.type;return Vt.test(Ee)?qt(ee):rr.test(Ee)?yt(ee):ee.value}var Tt=/%20/g;function Sr(ee,Ee){return"&"+encodeURIComponent(ee)+"="+encodeURIComponent(Ee).replace(Tt,"+")}var zt=/file|reset|submit|button|image/i,dr=/radio|checkbox/i;X.serialize=function(){var ee="";return this.each(function(Ee,Re){Ae(Re.elements||[Re],function(Qe){if(!(Qe.disabled||!Qe.name||Qe.tagName==="FIELDSET")&&!zt.test(Qe.type)&&!(dr.test(Qe.type)&&!Qe.checked)){var _t=Er(Qe);if(_t!==void 0){var Yt=be(_t)?_t:[_t];Ae(Yt,function(wr){ee+=Sr(Qe.name,wr)})}}})}),ee.substr(1)},X.val=function(ee){return ee===void 0?this[0]&&Er(this[0]):this.each(function(Ee,Re){var Qe=rr.test(Re.type),_t=ee===null?Qe?[]:"":ee;Qe&&be(_t)?Ae(Re.options,function(Yt){Yt.selected=_t.indexOf(Yt.value)>=0}):Re.value=_t})},X.clone=function(){return this.map(function(ee,Ee){return Ee.cloneNode(!0)})},X.detach=function(){return this.each(function(ee,Ee){Ee.parentNode&&Ee.parentNode.removeChild(Ee)})};var nn=/^\s*<(\w+)[^>]*>/,Mt=/^\s*<(\w+)\s*\/?>(?:<\/\1>)?\s*$/,fn;function Qt(){if(!fn){var ee=c.createElement("table"),Ee=c.createElement("tr");fn={"*":c.createElement("div"),tr:c.createElement("tbody"),td:Ee,th:Ee,thead:ee,tbody:ee,tfoot:ee}}}function Nr(ee){if(Qt(),!ae(ee))return[];if(Mt.test(ee))return[c.createElement(RegExp.$1)];var Ee=nn.test(ee)&&RegExp.$1,Re=fn[Ee]||fn["*"];return Re.innerHTML=ee,$(Re.childNodes).detach().get()}$.parseHTML=Nr,X.empty=function(){var ee=this[0];if(ee)for(;ee.firstChild;)ee.removeChild(ee.firstChild);return this};function Wr(ee,Ee,Re){Re?ee.insertBefore(Ee,ee.childNodes[0]):ee.appendChild(Ee)}function $r(ee,Ee,Re){if(Ee!==void 0){var Qe=ae(Ee);!Qe&&Ee.length?Ae(Ee,function(_t){return $r(ee,_t,Re)}):Ae(ee,Qe?function(_t){_t.insertAdjacentHTML(Re?"afterbegin":"beforeend",Ee)}:function(_t,Yt){return Wr(_t,Yt?Ee.cloneNode(!0):Ee,Re)})}}X.append=function(){var ee=this;return Ae(arguments,function(Ee){$r(ee,Ee)}),this},X.appendTo=function(ee){return $r($(ee),this),this},X.html=function(ee){if(ee===void 0)return this[0]&&this[0].innerHTML;var Ee=ee.nodeType?ee[0].outerHTML:ee;return this.each(function(Re,Qe){Qe.innerHTML=Ee})},X.insertAfter=function(ee){var Ee=this;return $(ee).each(function(Re,Qe){var _t=Qe.parentNode;Ee.each(function(Yt,wr){_t.insertBefore(Re?wr.cloneNode(!0):wr,Qe.nextSibling)})}),this},X.after=function(){var ee=this;return Ae(T.apply(arguments),function(Ee){T.apply($(Ee).slice()).insertAfter(ee)}),this},X.insertBefore=function(ee){var Ee=this;return $(ee).each(function(Re,Qe){var _t=Qe.parentNode;Ee.each(function(Yt,wr){_t.insertBefore(Re?wr.cloneNode(!0):wr,Qe)})}),this},X.before=function(){var ee=this;return Ae(arguments,function(Ee){$(Ee).insertBefore(ee)}),this},X.prepend=function(){var ee=this;return Ae(arguments,function(Ee){$r(ee,Ee,!0)}),this},X.prependTo=function(ee){return $r($(ee),T.apply(this.slice()),!0),this},X.remove=function(){return this.detach().off()},X.replaceWith=function(ee){var Ee=this;return this.each(function(Re,Qe){var _t=Qe.parentNode;if(_t){var Yt=Re?$(ee).clone():$(ee);if(!Yt[0])return Ee.remove(),!1;_t.replaceChild(Yt[0],Qe),$(Yt[0]).after(Yt.slice(1))}})},X.replaceAll=function(ee){return $(ee).replaceWith(this),this},X.text=function(ee){return ee===void 0?this[0]?this[0].textContent:"":this.each(function(Ee,Re){Re.textContent=ee})};var nt=c&&c.documentElement;X.offset=function(){var ee=this[0];if(ee){var Ee=ee.getBoundingClientRect();return{top:Ee.top+d.pageYOffset-nt.clientTop,left:Ee.left+d.pageXOffset-nt.clientLeft}}},X.offsetParent=function(){return $(this[0]&&this[0].offsetParent)},X.position=function(){var ee=this[0];if(ee)return{left:ee.offsetLeft,top:ee.offsetTop}},X.children=function(ee){var Ee=[];return this.each(function(Re,Qe){C.apply(Ee,Qe.children)}),Ee=$(Ue(Ee)),ee?Ee.filter(function(Re,Qe){return te(Qe,ee)}):Ee},X.contents=function(){var ee=[];return this.each(function(Ee,Re){C.apply(ee,Re.tagName==="IFRAME"?[Re.contentDocument]:Re.childNodes)}),$(ee.length&&Ue(ee))},X.find=function(ee){for(var Ee=[],Re=0,Qe=this.length;Re<Qe;Re++){var _t=q(ee,this[Re]);_t.length&&C.apply(Ee,_t)}return $(Ee.length&&Ue(Ee))},X.has=function(ee){var Ee=ae(ee)?function(Re,Qe){return!!q(ee,Qe).length}:function(Re,Qe){return Qe.contains(ee)};return this.filter(Ee)},X.is=function(ee){if(!ee||!this[0])return!1;var Ee=W(ee),Re=!1;return this.each(function(Qe,_t){return Re=Ee(Qe,_t,ee),!Re}),Re},X.next=function(){return $(this[0]&&this[0].nextElementSibling)},X.not=function(ee){if(!ee||!this[0])return this;var Ee=W(ee);return this.filter(function(Re,Qe){return!Ee(Re,Qe,ee)})},X.parent=function(){var ee=[];return this.each(function(Ee,Re){Re&&Re.parentNode&&ee.push(Re.parentNode)}),$(Ue(ee))},X.index=function(ee){var Ee=ee?$(ee)[0]:this[0],Re=ee?this:$(Ee).parent().children();return x.call(Re,Ee)},X.closest=function(ee){return!ee||!this[0]?$():this.is(ee)?this.filter(ee):this.parent().closest(ee)},X.parents=function(ee){var Ee=[],Re;return this.each(function(Qe,_t){for(Re=_t;Re&&Re.parentNode&&Re!==c.body.parentNode;)Re=Re.parentNode,(!ee||ee&&te(Re,ee))&&Ee.push(Re)}),$(Ue(Ee))},X.prev=function(){return $(this[0]&&this[0].previousElementSibling)},X.siblings=function(){var ee=this[0];return this.parent().children().filter(function(Ee,Re){return Re!==ee})};const _i=$},491:(r,o,s)=>{s.d(o,{$Q:()=>K,BM:()=>_e,FW:()=>L,G1:()=>x,GX:()=>se,L_:()=>C,Mx:()=>S,R3:()=>fe,S1:()=>$e,SJ:()=>X,Ut:()=>Ae,VB:()=>re,Vb:()=>W,cx:()=>T,dL:()=>U,hy:()=>Le,kl:()=>ae,nB:()=>ye,o5:()=>we,on:()=>Ue,pn:()=>N,r$:()=>G,rw:()=>z,sE:()=>P,sN:()=>te,t3:()=>$,ut:()=>q});var c=s(50),d=function(ge,Ve,Ye){if(Ye||arguments.length===2)for(var We=0,dt=Ve.length,Te;We<dt;We++)(Te||!(We in Ve))&&(Te||(Te=Array.prototype.slice.call(Ve,0,We)),Te[We]=Ve[We]);return ge.concat(Te||Array.prototype.slice.call(Ve))},h="tag",_="attributes",x="transitionend oTransitionEnd transitionend webkitTransitionEnd",S=function(ge){return(ge==null?void 0:ge.nodeType)===Node.DOCUMENT_NODE},C=function(ge){var Ve=ge&&ge.parentNode;Ve&&Ve.removeChild(ge)};function T(){for(var ge=[],Ve=0;Ve<arguments.length;Ve++)ge[Ve]=arguments[Ve];var Ye=Array.isArray(ge[0])?ge[0]:d([],ge,!0);return Ye.filter(Boolean).join(" ")}var P=function(ge,Ve){return ge.querySelectorAll(Ve)},L=function(ge,Ve){return Ve===void 0&&(Ve={}),ge&&ge.setAttribute&&(0,c.each)(Ve,function(Ye,We){return ge.setAttribute(We,Ye)})},N=function(ge){var Ve;return ge&&!!(ge.offsetWidth||ge.offsetHeight||!((Ve=ge.getClientRects)===null||Ve===void 0)&&Ve.call(ge).length)},U=function(ge,Ve){var Ye;(Ye=ge.parentNode)===null||Ye===void 0||Ye.replaceChild(Ve,ge)},K=function(ge,Ve,Ye){var We=ge.childNodes,dt=We.length,Te=(0,c.isUndefined)(Ye)?dt:Ye;(0,c.isString)(Ve)&&(ge.insertAdjacentHTML("beforeEnd",Ve),Ve=ge.lastChild,ge.removeChild(Ve)),Te>=dt?ge.appendChild(Ve):ge.insertBefore(Ve,We[Te])},fe=function(ge,Ve){return K(ge,Ve)},q=function(ge,Ve,Ye){Ve===void 0&&(Ve={});var We=document.createElement(ge);return Ve&&(0,c.each)(Ve,function(dt,Te){return We.setAttribute(Te,dt)}),Ye&&((0,c.isString)(Ye)?We.innerHTML=Ye:We.appendChild(Ye)),We},z=function(ge){return document.createTextNode(ge)},$=function(ge,Ve){var Ye,We=ge.type;try{Ye=new window[Ve](We,ge)}catch{Ye=document.createEvent(Ve),Ye.initEvent(We,!0,!0)}return Ye._parentEvent=ge,We.indexOf("key")===0&&(Ye.keyCodeVal=ge.keyCode,["keyCode","which"].forEach(function(dt){Object.defineProperty(Ye,dt,{get:function(){return this.keyCodeVal}})})),Ye},X=function(ge,Ve){Ve===void 0&&(Ve=[]);var Ye=Array.isArray(Ve)?Ve:[Ve];Ye.forEach(function(We){var dt=We[h]||"div",Te=We[_]||{},ze=document.createElement(dt);(0,c.each)(Te,function(qe,ut){ze.setAttribute(ut,qe)}),ge.appendChild(ze)})},_e=function(ge){return(ge==null?void 0:ge.nodeType)===Node.TEXT_NODE},ie=function(ge){return(ge==null?void 0:ge.nodeType)===Node.COMMENT_NODE},we=function(ge){return ge&&!_e(ge)&&!ie(ge)},Ae=function(ge){var Ve={top:0,left:0,width:0,height:0};if(!ge)return Ve;var Ye;if(_e(ge)){var We=document.createRange();We.selectNode(ge),Ye=We.getBoundingClientRect(),We.detach()}return Ye||(ge.getBoundingClientRect?ge.getBoundingClientRect():Ve)},se=function(ge){var Ve=(ge==null?void 0:ge.ownerDocument)||document,Ye=Ve.documentElement,We=Ve.defaultView||window;return{x:(We.pageXOffset||Ye.scrollLeft||0)-(Ye.clientLeft||0),y:(We.pageYOffset||Ye.scrollTop||0)-(Ye.clientTop||0)}},ve=function(ge){return ge.which||ge.keyCode},te=function(ge){return String.fromCharCode(ve(ge))},re=function(ge){return ge.touches&&ge.touches[0]?ge.touches[0]:ge},ae=function(ge){return ve(ge)===27},G=function(ge){return ve(ge)===13},be=function(ge){return ge.ctrlKey},W=function(ge){return be(ge)||ge.metaKey},Le=function(ge){if(!ge)return"";var Ve=ge.name,Ye=ge.publicId,We=ge.systemId,dt=Ye?' PUBLIC "'.concat(Ye,'"'):"",Te=!Ye&&We?' SYSTEM "'.concat(We,'"'):"";return"<!DOCTYPE ".concat(Ve).concat(dt).concat(Te,">")},ye=function(ge){ge===void 0&&(ge={});var Ve=[];return(0,c.each)(ge,function(Ye,We){return Ve.push("".concat(We,'="').concat(Ye,'"'))}),Ve.join(" ")},Ue=function(ge,Ve,Ye,We){var dt=Ve.split(/\s+/),Te=(0,c.isArray)(ge)?ge:[ge];dt.forEach(function(ze){Te.forEach(function(qe){return qe==null?void 0:qe.addEventListener(ze,Ye,We)})})},$e=function(ge,Ve,Ye,We){var dt=Ve.split(/\s+/),Te=(0,c.isArray)(ge)?ge:[ge];dt.forEach(function(ze){Te.forEach(function(qe){return qe==null?void 0:qe.removeEventListener(ze,Ye,We)})})}},163:(r,o,s)=>{s.r(o),s.d(o,{appendStyles:()=>z,buildBase64UrlFromSvg:()=>dt,camelCase:()=>ie,capitalize:()=>Le,createId:()=>We,deepMerge:()=>ae,escape:()=>te,escapeNodeContent:()=>re,find:()=>ve,getComponentModel:()=>Ve,getComponentView:()=>ge,getElement:()=>se,getGlobal:()=>N,getModel:()=>G,getUiClass:()=>q,getUnitFromValue:()=>X,getViewEl:()=>Ue,hasDnd:()=>Ae,hasWin:()=>L,isBultInMethod:()=>S,isComponent:()=>$e,isDef:()=>P,isEmptyObj:()=>W,isObject:()=>be,isRule:()=>ye,matches:()=>fe,normalizeFloat:()=>we,normalizeKey:()=>C,setViewEl:()=>Ye,shallowDiff:()=>$,toLowerCase:()=>U,upFirst:()=>_e,wait:()=>T});var c=s(50),d=s(491),h=function(){return h=Object.assign||function(Te){for(var ze,qe=1,ut=arguments.length;qe<ut;qe++){ze=arguments[qe];for(var vt in ze)Object.prototype.hasOwnProperty.call(ze,vt)&&(Te[vt]=ze[vt])}return Te},h.apply(this,arguments)},_=function(Te,ze,qe){if(qe||arguments.length===2)for(var ut=0,vt=ze.length,rt;ut<vt;ut++)(rt||!(ut in ze))&&(rt||(rt=Array.prototype.slice.call(ze,0,ut)),rt[ut]=ze[ut]);return Te.concat(rt||Array.prototype.slice.call(ze))},x={},S=function(Te){return(0,c.isFunction)(x[Te])},C=function(Te){return S(Te)?"_".concat(Te):Te},T=function(Te){return Te===void 0&&(Te=0),new Promise(function(ze){return setTimeout(ze,Te)})},P=function(Te){return typeof Te<"u"},L=function(){return typeof window<"u"},N=function(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:s.g},U=function(Te){return(Te||"").toLowerCase()},K=L()?window.Element.prototype:{},fe=K.matches||K.webkitMatchesSelector||K.mozMatchesSelector||K.msMatchesSelector,q=function(Te,ze){var qe=Te.getConfig(),ut=qe.stylePrefix,vt=qe.customUI;return[vt&&"".concat(ut,"cui"),ze].filter(function(rt){return rt}).join(" ")},z=function(Te,ze){ze===void 0&&(ze={});var qe=(0,c.isArray)(Te)?_([],Te,!0):[Te];if(qe.length){var ut=qe.shift();if(ut&&(!ze.unique||!document.querySelector('link[href="'.concat(ut,'"]')))){var vt=document.head,rt=document.createElement("link");rt.href=ut,rt.rel="stylesheet",ze.prepand?vt.insertBefore(rt,vt.firstChild):vt.appendChild(rt)}z(qe)}},$=function(Te,ze){var qe={},ut=(0,c.keys)(ze);for(var vt in Te)if(Te.hasOwnProperty(vt)){var rt=Te[vt],lt=ze[vt];ut.indexOf(vt)>=0?rt!==lt&&(qe[vt]=lt):qe[vt]=null}for(var vt in ze)ze.hasOwnProperty(vt)&&(0,c.isUndefined)(Te[vt])&&(qe[vt]=ze[vt]);return qe},X=function(Te){return Te.replace(parseFloat(Te),"")},_e=function(Te){return Te[0].toUpperCase()+Te.toLowerCase().slice(1)},ie=function(Te){return Te.replace(/-./g,function(ze){return ze[1].toUpperCase()})},we=function(Te,ze,qe){ze===void 0&&(ze=1),qe===void 0&&(qe=0);var ut=0;if(isNaN(Te))return qe;if(Te=parseFloat(Te),Math.floor(Te)!==Te){var vt=ze.toString().split(".")[1];ut=vt?vt.length:0}return ut?parseFloat(Te.toFixed(ut)):Te},Ae=function(Te){return"draggable"in document.createElement("i")&&(Te?Te.config.nativeDnD:!0)},se=function(Te){if((0,c.isElement)(Te)||(0,d.BM)(Te))return Te;if(Te&&Te.getEl)return Te.getEl()},ve=function(Te,ze){var qe=null;return Te.some(function(ut,vt){return ze(ut,vt,Te)?(qe=ut,1):0}),qe},te=function(Te){return Te===void 0&&(Te=""),"".concat(Te).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/`/g,"&#96;")},re=function(Te){return Te===void 0&&(Te=""),"".concat(Te).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},ae=function(){for(var Te=[],ze=0;ze<arguments.length;ze++)Te[ze]=arguments[ze];for(var qe=h({},Te[0]),ut=1;ut<Te.length;ut++){var vt=h({},Te[ut]);for(var rt in vt){var lt=qe[rt],ar=vt[rt];be(lt)&&be(ar)?qe[rt]=ae(lt,ar):qe[rt]=ar}}return qe},G=function(Te,ze){var qe;return!ze&&Te&&Te.__cashData?qe=Te.__cashData.model:ze&&(0,c.isElement)(Te)&&(qe=ze(Te).data("model")),qe},be=function(Te){return Te&&!Array.isArray(Te)&&typeof Te=="object"},W=function(Te){return Object.keys(Te).length<=0},Le=function(Te){return Te===void 0&&(Te=""),Te&&Te.charAt(0).toUpperCase()+Te.substring(1)},ye=function(Te){return Te&&Te.toCSS},Ue=function(Te){return Te==null?void 0:Te.__gjsv},$e=function(Te){return!!(Te!=null&&Te.toHTML)},ge=function(Te){return Ue(Te)},Ve=function(Te){var ze;return(ze=ge(Te))===null||ze===void 0?void 0:ze.model},Ye=function(Te,ze){Te.__gjsv=ze},We=function(Te){Te===void 0&&(Te=16);for(var ze="",qe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",ut=qe.length,vt=0;vt<Te;vt++)ze+=qe.charAt(Math.floor(Math.random()*ut));return ze},dt=function(Te){if(Te&&Te.substr(0,4)==="<svg"){var ze="";return L()?ze=window.btoa(Te):typeof Buffer<"u"&&(ze=Buffer.from(Te,"utf8").toString("base64")),ze?"data:image/svg+xml;base64,".concat(ze):Te}return Te}},828:(r,o,s)=>{var c={"./CanvasClear":858,"./CanvasClear.ts":858,"./CanvasMove":884,"./CanvasMove.ts":884,"./CommandAbstract":790,"./CommandAbstract.ts":790,"./ComponentDelete":180,"./ComponentDelete.ts":180,"./ComponentDrag":544,"./ComponentDrag.ts":544,"./ComponentEnter":236,"./ComponentEnter.ts":236,"./ComponentExit":368,"./ComponentExit.ts":368,"./ComponentNext":243,"./ComponentNext.ts":243,"./ComponentPrev":400,"./ComponentPrev.ts":400,"./ComponentStyleClear":910,"./ComponentStyleClear.ts":910,"./CopyComponent":744,"./CopyComponent.ts":744,"./ExportTemplate":457,"./ExportTemplate.ts":457,"./Fullscreen":975,"./Fullscreen.ts":975,"./MoveComponent":191,"./MoveComponent.ts":191,"./OpenAssets":912,"./OpenAssets.ts":912,"./OpenBlocks":117,"./OpenBlocks.ts":117,"./OpenLayers":614,"./OpenLayers.ts":614,"./OpenStyleManager":801,"./OpenStyleManager.ts":801,"./OpenTraitManager":395,"./OpenTraitManager.ts":395,"./PasteComponent":98,"./PasteComponent.ts":98,"./Preview":129,"./Preview.ts":129,"./Resize":116,"./Resize.ts":116,"./SelectComponent":407,"./SelectComponent.ts":407,"./SelectPosition":189,"./SelectPosition.ts":189,"./ShowOffset":804,"./ShowOffset.ts":804,"./SwitchVisibility":434,"./SwitchVisibility.ts":434};function d(_){var x=h(_);return s(x)}function h(_){if(!s.o(c,_)){var x=new Error("Cannot find module '"+_+"'");throw x.code="MODULE_NOT_FOUND",x}return c[_]}d.keys=function(){return Object.keys(c)},d.resolve=h,r.exports=d,d.id=828},50:(r,o,s)=>{s.r(o),s.d(o,{VERSION:()=>d,after:()=>Yc,all:()=>ki,allKeys:()=>fn,any:()=>Dn,assign:()=>xt,before:()=>pl,bind:()=>dl,bindAll:()=>bo,chain:()=>ka,chunk:()=>Du,clone:()=>jt,collect:()=>so,compact:()=>tf,compose:()=>Eu,constant:()=>Ct,contains:()=>Kr,countBy:()=>Au,create:()=>$t,debounce:()=>Ma,default:()=>Nu,defaults:()=>It,defer:()=>qc,delay:()=>Ii,detect:()=>Na,difference:()=>ua,drop:()=>ei,each:()=>bi,escape:()=>it,every:()=>ki,extend:()=>Xe,extendOwn:()=>xt,filter:()=>$i,find:()=>Na,findIndex:()=>Ss,findKey:()=>aa,findLastIndex:()=>sa,findWhere:()=>Os,first:()=>Fa,flatten:()=>Lu,foldl:()=>ja,foldr:()=>xi,forEach:()=>bi,functions:()=>Me,get:()=>sr,groupBy:()=>gl,has:()=>Jr,head:()=>Fa,identity:()=>Fr,include:()=>Kr,includes:()=>Kr,indexBy:()=>Jc,indexOf:()=>Cs,initial:()=>yl,inject:()=>ja,intersection:()=>wl,invert:()=>Pe,invoke:()=>xo,isArguments:()=>zr,isArray:()=>rt,isArrayBuffer:()=>ge,isBoolean:()=>re,isDataView:()=>vt,isDate:()=>Le,isElement:()=>ae,isEmpty:()=>rr,isEqual:()=>Mt,isError:()=>Ue,isFinite:()=>un,isFunction:()=>We,isMap:()=>Re,isMatch:()=>Er,isNaN:()=>Ar,isNull:()=>ve,isNumber:()=>W,isObject:()=>se,isRegExp:()=>ye,isSet:()=>_t,isString:()=>be,isSymbol:()=>$e,isTypedArray:()=>xe,isUndefined:()=>te,isWeakMap:()=>Qe,isWeakSet:()=>Yt,iteratee:()=>hn,keys:()=>Vt,last:()=>Pn,lastIndexOf:()=>Tu,map:()=>so,mapObject:()=>cn,matcher:()=>Mn,matches:()=>Mn,max:()=>Pu,memoize:()=>Ou,methods:()=>Me,min:()=>$n,mixin:()=>$o,negate:()=>xs,noop:()=>hr,now:()=>I,object:()=>Wo,omit:()=>ef,once:()=>oa,pairs:()=>Wn,partial:()=>Tn,partition:()=>Qc,pick:()=>zo,pluck:()=>So,property:()=>Zr,propertyOf:()=>wn,random:()=>Lr,range:()=>Mu,reduce:()=>ja,reduceRight:()=>xi,reject:()=>la,rest:()=>ei,restArguments:()=>Ae,result:()=>Cu,sample:()=>Oo,select:()=>$i,shuffle:()=>ku,size:()=>Si,some:()=>Dn,sortBy:()=>Xc,sortedIndex:()=>Ra,tail:()=>ei,take:()=>Fa,tap:()=>Bt,template:()=>cl,templateSettings:()=>Vr,throttle:()=>La,times:()=>Kt,toArray:()=>Ia,toPath:()=>jr,transpose:()=>Ua,unescape:()=>Cr,union:()=>Es,uniq:()=>Va,unique:()=>Va,uniqueId:()=>fl,unzip:()=>Ua,values:()=>wr,where:()=>Co,without:()=>rf,wrap:()=>Da,zip:()=>nf});var c={};s.r(c),s.d(c,{VERSION:()=>d,after:()=>Yc,all:()=>ki,allKeys:()=>fn,any:()=>Dn,assign:()=>xt,before:()=>pl,bind:()=>dl,bindAll:()=>bo,chain:()=>ka,chunk:()=>Du,clone:()=>jt,collect:()=>so,compact:()=>tf,compose:()=>Eu,constant:()=>Ct,contains:()=>Kr,countBy:()=>Au,create:()=>$t,debounce:()=>Ma,default:()=>Eo,defaults:()=>It,defer:()=>qc,delay:()=>Ii,detect:()=>Na,difference:()=>ua,drop:()=>ei,each:()=>bi,escape:()=>it,every:()=>ki,extend:()=>Xe,extendOwn:()=>xt,filter:()=>$i,find:()=>Na,findIndex:()=>Ss,findKey:()=>aa,findLastIndex:()=>sa,findWhere:()=>Os,first:()=>Fa,flatten:()=>Lu,foldl:()=>ja,foldr:()=>xi,forEach:()=>bi,functions:()=>Me,get:()=>sr,groupBy:()=>gl,has:()=>Jr,head:()=>Fa,identity:()=>Fr,include:()=>Kr,includes:()=>Kr,indexBy:()=>Jc,indexOf:()=>Cs,initial:()=>yl,inject:()=>ja,intersection:()=>wl,invert:()=>Pe,invoke:()=>xo,isArguments:()=>zr,isArray:()=>rt,isArrayBuffer:()=>ge,isBoolean:()=>re,isDataView:()=>vt,isDate:()=>Le,isElement:()=>ae,isEmpty:()=>rr,isEqual:()=>Mt,isError:()=>Ue,isFinite:()=>un,isFunction:()=>We,isMap:()=>Re,isMatch:()=>Er,isNaN:()=>Ar,isNull:()=>ve,isNumber:()=>W,isObject:()=>se,isRegExp:()=>ye,isSet:()=>_t,isString:()=>be,isSymbol:()=>$e,isTypedArray:()=>xe,isUndefined:()=>te,isWeakMap:()=>Qe,isWeakSet:()=>Yt,iteratee:()=>hn,keys:()=>Vt,last:()=>Pn,lastIndexOf:()=>Tu,map:()=>so,mapObject:()=>cn,matcher:()=>Mn,matches:()=>Mn,max:()=>Pu,memoize:()=>Ou,methods:()=>Me,min:()=>$n,mixin:()=>$o,negate:()=>xs,noop:()=>hr,now:()=>I,object:()=>Wo,omit:()=>ef,once:()=>oa,pairs:()=>Wn,partial:()=>Tn,partition:()=>Qc,pick:()=>zo,pluck:()=>So,property:()=>Zr,propertyOf:()=>wn,random:()=>Lr,range:()=>Mu,reduce:()=>ja,reduceRight:()=>xi,reject:()=>la,rest:()=>ei,restArguments:()=>Ae,result:()=>Cu,sample:()=>Oo,select:()=>$i,shuffle:()=>ku,size:()=>Si,some:()=>Dn,sortBy:()=>Xc,sortedIndex:()=>Ra,tail:()=>ei,take:()=>Fa,tap:()=>Bt,template:()=>cl,templateSettings:()=>Vr,throttle:()=>La,times:()=>Kt,toArray:()=>Ia,toPath:()=>jr,transpose:()=>Ua,unescape:()=>Cr,union:()=>Es,uniq:()=>Va,unique:()=>Va,uniqueId:()=>fl,unzip:()=>Ua,values:()=>wr,where:()=>Co,without:()=>rf,wrap:()=>Da,zip:()=>nf});var d="1.13.6",h=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},_=Array.prototype,x=Object.prototype,S=typeof Symbol<"u"?Symbol.prototype:null,C=_.push,T=_.slice,P=x.toString,L=x.hasOwnProperty,N=typeof ArrayBuffer<"u",U=typeof DataView<"u",K=Array.isArray,fe=Object.keys,q=Object.create,z=N&&ArrayBuffer.isView,$=isNaN,X=isFinite,_e=!{toString:null}.propertyIsEnumerable("toString"),ie=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],we=Math.pow(2,53)-1;function Ae(V,Y){return Y=Y==null?V.length-1:+Y,function(){for(var he=Math.max(arguments.length-Y,0),Ce=Array(he),Fe=0;Fe<he;Fe++)Ce[Fe]=arguments[Fe+Y];switch(Y){case 0:return V.call(this,Ce);case 1:return V.call(this,arguments[0],Ce);case 2:return V.call(this,arguments[0],arguments[1],Ce)}var Ne=Array(Y+1);for(Fe=0;Fe<Y;Fe++)Ne[Fe]=arguments[Fe];return Ne[Y]=Ce,V.apply(this,Ne)}}function se(V){var Y=typeof V;return Y==="function"||Y==="object"&&!!V}function ve(V){return V===null}function te(V){return V===void 0}function re(V){return V===!0||V===!1||P.call(V)==="[object Boolean]"}function ae(V){return!!(V&&V.nodeType===1)}function G(V){var Y="[object "+V+"]";return function(he){return P.call(he)===Y}}const be=G("String"),W=G("Number"),Le=G("Date"),ye=G("RegExp"),Ue=G("Error"),$e=G("Symbol"),ge=G("ArrayBuffer");var Ve=G("Function"),Ye=h.document&&h.document.childNodes;typeof Int8Array!="object"&&typeof Ye!="function"&&(Ve=function(V){return typeof V=="function"||!1});const We=Ve,dt=G("Object");var Te=U&&dt(new DataView(new ArrayBuffer(8))),ze=typeof Map<"u"&&dt(new Map),qe=G("DataView");function ut(V){return V!=null&&We(V.getInt8)&&ge(V.buffer)}const vt=Te?ut:qe,rt=K||G("Array");function lt(V,Y){return V!=null&&L.call(V,Y)}var ar=G("Arguments");(function(){ar(arguments)||(ar=function(V){return lt(V,"callee")})})();const zr=ar;function un(V){return!$e(V)&&X(V)&&!isNaN(parseFloat(V))}function Ar(V){return W(V)&&$(V)}function Ct(V){return function(){return V}}function M(V){return function(Y){var he=V(Y);return typeof he=="number"&&he>=0&&he<=we}}function F(V){return function(Y){return Y==null?void 0:Y[V]}}const Z=F("byteLength"),pe=M(Z);var Se=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function J(V){return z?z(V)&&!vt(V):pe(V)&&Se.test(P.call(V))}const xe=N?J:Ct(!1),Oe=F("length");function yt(V){for(var Y={},he=V.length,Ce=0;Ce<he;++Ce)Y[V[Ce]]=!0;return{contains:function(Fe){return Y[Fe]===!0},push:function(Fe){return Y[Fe]=!0,V.push(Fe)}}}function qt(V,Y){Y=yt(Y);var he=ie.length,Ce=V.constructor,Fe=We(Ce)&&Ce.prototype||x,Ne="constructor";for(lt(V,Ne)&&!Y.contains(Ne)&&Y.push(Ne);he--;)Ne=ie[he],Ne in V&&V[Ne]!==Fe[Ne]&&!Y.contains(Ne)&&Y.push(Ne)}function Vt(V){if(!se(V))return[];if(fe)return fe(V);var Y=[];for(var he in V)lt(V,he)&&Y.push(he);return _e&&qt(V,Y),Y}function rr(V){if(V==null)return!0;var Y=Oe(V);return typeof Y=="number"&&(rt(V)||be(V)||zr(V))?Y===0:Oe(Vt(V))===0}function Er(V,Y){var he=Vt(Y),Ce=he.length;if(V==null)return!Ce;for(var Fe=Object(V),Ne=0;Ne<Ce;Ne++){var tt=he[Ne];if(Y[tt]!==Fe[tt]||!(tt in Fe))return!1}return!0}function Tt(V){if(V instanceof Tt)return V;if(!(this instanceof Tt))return new Tt(V);this._wrapped=V}Tt.VERSION=d,Tt.prototype.value=function(){return this._wrapped},Tt.prototype.valueOf=Tt.prototype.toJSON=Tt.prototype.value,Tt.prototype.toString=function(){return String(this._wrapped)};function Sr(V){return new Uint8Array(V.buffer||V,V.byteOffset||0,Z(V))}var zt="[object DataView]";function dr(V,Y,he,Ce){if(V===Y)return V!==0||1/V===1/Y;if(V==null||Y==null)return!1;if(V!==V)return Y!==Y;var Fe=typeof V;return Fe!=="function"&&Fe!=="object"&&typeof Y!="object"?!1:nn(V,Y,he,Ce)}function nn(V,Y,he,Ce){V instanceof Tt&&(V=V._wrapped),Y instanceof Tt&&(Y=Y._wrapped);var Fe=P.call(V);if(Fe!==P.call(Y))return!1;if(Te&&Fe=="[object Object]"&&vt(V)){if(!vt(Y))return!1;Fe=zt}switch(Fe){case"[object RegExp]":case"[object String]":return""+V==""+Y;case"[object Number]":return+V!=+V?+Y!=+Y:+V==0?1/+V===1/Y:+V==+Y;case"[object Date]":case"[object Boolean]":return+V==+Y;case"[object Symbol]":return S.valueOf.call(V)===S.valueOf.call(Y);case"[object ArrayBuffer]":case zt:return nn(Sr(V),Sr(Y),he,Ce)}var Ne=Fe==="[object Array]";if(!Ne&&xe(V)){var tt=Z(V);if(tt!==Z(Y))return!1;if(V.buffer===Y.buffer&&V.byteOffset===Y.byteOffset)return!0;Ne=!0}if(!Ne){if(typeof V!="object"||typeof Y!="object")return!1;var St=V.constructor,fr=Y.constructor;if(St!==fr&&!(We(St)&&St instanceof St&&We(fr)&&fr instanceof fr)&&"constructor"in V&&"constructor"in Y)return!1}he=he||[],Ce=Ce||[];for(var ir=he.length;ir--;)if(he[ir]===V)return Ce[ir]===Y;if(he.push(V),Ce.push(Y),Ne){if(ir=V.length,ir!==Y.length)return!1;for(;ir--;)if(!dr(V[ir],Y[ir],he,Ce))return!1}else{var en=Vt(V),Rn;if(ir=en.length,Vt(Y).length!==ir)return!1;for(;ir--;)if(Rn=en[ir],!(lt(Y,Rn)&&dr(V[Rn],Y[Rn],he,Ce)))return!1}return he.pop(),Ce.pop(),!0}function Mt(V,Y){return dr(V,Y)}function fn(V){if(!se(V))return[];var Y=[];for(var he in V)Y.push(he);return _e&&qt(V,Y),Y}function Qt(V){var Y=Oe(V);return function(he){if(he==null)return!1;var Ce=fn(he);if(Oe(Ce))return!1;for(var Fe=0;Fe<Y;Fe++)if(!We(he[V[Fe]]))return!1;return V!==ee||!We(he[Nr])}}var Nr="forEach",Wr="has",$r=["clear","delete"],nt=["get",Wr,"set"],_i=$r.concat(Nr,nt),ee=$r.concat(nt),Ee=["add"].concat($r,Nr,Wr);const Re=ze?Qt(_i):G("Map"),Qe=ze?Qt(ee):G("WeakMap"),_t=ze?Qt(Ee):G("Set"),Yt=G("WeakSet");function wr(V){for(var Y=Vt(V),he=Y.length,Ce=Array(he),Fe=0;Fe<he;Fe++)Ce[Fe]=V[Y[Fe]];return Ce}function Wn(V){for(var Y=Vt(V),he=Y.length,Ce=Array(he),Fe=0;Fe<he;Fe++)Ce[Fe]=[Y[Fe],V[Y[Fe]]];return Ce}function Pe(V){for(var Y={},he=Vt(V),Ce=0,Fe=he.length;Ce<Fe;Ce++)Y[V[he[Ce]]]=he[Ce];return Y}function Me(V){var Y=[];for(var he in V)We(V[he])&&Y.push(he);return Y.sort()}function Ke(V,Y){return function(he){var Ce=arguments.length;if(Y&&(he=Object(he)),Ce<2||he==null)return he;for(var Fe=1;Fe<Ce;Fe++)for(var Ne=arguments[Fe],tt=V(Ne),St=tt.length,fr=0;fr<St;fr++){var ir=tt[fr];(!Y||he[ir]===void 0)&&(he[ir]=Ne[ir])}return he}}const Xe=Ke(fn),xt=Ke(Vt),It=Ke(fn,!0);function Dt(){return function(){}}function at(V){if(!se(V))return{};if(q)return q(V);var Y=Dt();Y.prototype=V;var he=new Y;return Y.prototype=null,he}function $t(V,Y){var he=at(V);return Y&&xt(he,Y),he}function jt(V){return se(V)?rt(V)?V.slice():Xe({},V):V}function Bt(V,Y){return Y(V),V}function jr(V){return rt(V)?V:[V]}Tt.toPath=jr;function gr(V){return Tt.toPath(V)}function pr(V,Y){for(var he=Y.length,Ce=0;Ce<he;Ce++){if(V==null)return;V=V[Y[Ce]]}return he?V:void 0}function sr(V,Y,he){var Ce=pr(V,gr(Y));return te(Ce)?he:Ce}function Jr(V,Y){Y=gr(Y);for(var he=Y.length,Ce=0;Ce<he;Ce++){var Fe=Y[Ce];if(!lt(V,Fe))return!1;V=V[Fe]}return!!he}function Fr(V){return V}function Mn(V){return V=xt({},V),function(Y){return Er(Y,V)}}function Zr(V){return V=gr(V),function(Y){return pr(Y,V)}}function Tr(V,Y,he){if(Y===void 0)return V;switch(he??3){case 1:return function(Ce){return V.call(Y,Ce)};case 3:return function(Ce,Fe,Ne){return V.call(Y,Ce,Fe,Ne)};case 4:return function(Ce,Fe,Ne,tt){return V.call(Y,Ce,Fe,Ne,tt)}}return function(){return V.apply(Y,arguments)}}function kt(V,Y,he){return V==null?Fr:We(V)?Tr(V,Y,he):se(V)&&!rt(V)?Mn(V):Zr(V)}function hn(V,Y){return kt(V,Y,1/0)}Tt.iteratee=hn;function Mr(V,Y,he){return Tt.iteratee!==hn?Tt.iteratee(V,Y):kt(V,Y,he)}function cn(V,Y,he){Y=Mr(Y,he);for(var Ce=Vt(V),Fe=Ce.length,Ne={},tt=0;tt<Fe;tt++){var St=Ce[tt];Ne[St]=Y(V[St],St,V)}return Ne}function hr(){}function wn(V){return V==null?hr:function(Y){return sr(V,Y)}}function Kt(V,Y,he){var Ce=Array(Math.max(0,V));Y=Tr(Y,he,1);for(var Fe=0;Fe<V;Fe++)Ce[Fe]=Y(Fe);return Ce}function Lr(V,Y){return Y==null&&(Y=V,V=0),V+Math.floor(Math.random()*(Y-V+1))}const I=Date.now||function(){return new Date().getTime()};function ne(V){var Y=function(Ne){return V[Ne]},he="(?:"+Vt(V).join("|")+")",Ce=RegExp(he),Fe=RegExp(he,"g");return function(Ne){return Ne=Ne==null?"":""+Ne,Ce.test(Ne)?Ne.replace(Fe,Y):Ne}}const Ze={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},it=ne(Ze),nr=Pe(Ze),Cr=ne(nr),Vr=Tt.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var Ft=/(.)^/,dn={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},ia=/\\|'|\r|\n|\u2028|\u2029/g;function _s(V){return"\\"+dn[V]}var ci=/^\s*(\w|\$)+\s*$/;function cl(V,Y,he){!Y&&he&&(Y=he),Y=It({},Y,Tt.templateSettings);var Ce=RegExp([(Y.escape||Ft).source,(Y.interpolate||Ft).source,(Y.evaluate||Ft).source].join("|")+"|$","g"),Fe=0,Ne="__p+='";V.replace(Ce,function(ir,en,Rn,_l,of){return Ne+=V.slice(Fe,of).replace(ia,_s),Fe=of+ir.length,en?Ne+=`'+
((__t=(`+en+`))==null?'':_.escape(__t))+
'`:Rn?Ne+=`'+
((__t=(`+Rn+`))==null?'':__t)+
'`:_l&&(Ne+=`';
`+_l+`
__p+='`),ir}),Ne+=`';
`;var tt=Y.variable;if(tt){if(!ci.test(tt))throw new Error("variable is not a bare identifier: "+tt)}else Ne=`with(obj||{}){
`+Ne+`}
`,tt="obj";Ne=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+Ne+`return __p;
`;var St;try{St=new Function(tt,"_",Ne)}catch(ir){throw ir.source=Ne,ir}var fr=function(ir){return St.call(this,ir,Tt)};return fr.source="function("+tt+`){
`+Ne+"}",fr}function Cu(V,Y,he){Y=gr(Y);var Ce=Y.length;if(!Ce)return We(he)?he.call(V):he;for(var Fe=0;Fe<Ce;Fe++){var Ne=V==null?void 0:V[Y[Fe]];Ne===void 0&&(Ne=he,Fe=Ce),V=We(Ne)?Ne.call(V):Ne}return V}var _o=0;function fl(V){var Y=++_o+"";return V?V+Y:Y}function ka(V){var Y=Tt(V);return Y._chain=!0,Y}function Aa(V,Y,he,Ce,Fe){if(!(Ce instanceof Y))return V.apply(he,Fe);var Ne=at(V.prototype),tt=V.apply(Ne,Fe);return se(tt)?tt:Ne}var bs=Ae(function(V,Y){var he=bs.placeholder,Ce=function(){for(var Fe=0,Ne=Y.length,tt=Array(Ne),St=0;St<Ne;St++)tt[St]=Y[St]===he?arguments[Fe++]:Y[St];for(;Fe<arguments.length;)tt.push(arguments[Fe++]);return Aa(V,Ce,this,this,tt)};return Ce});bs.placeholder=Tt;const Tn=bs,dl=Ae(function(V,Y,he){if(!We(V))throw new TypeError("Bind must be called on a function");var Ce=Ae(function(Fe){return Aa(V,Ce,Y,this,he.concat(Fe))});return Ce}),fi=M(Oe);function Bo(V,Y,he,Ce){if(Ce=Ce||[],!Y&&Y!==0)Y=1/0;else if(Y<=0)return Ce.concat(V);for(var Fe=Ce.length,Ne=0,tt=Oe(V);Ne<tt;Ne++){var St=V[Ne];if(fi(St)&&(rt(St)||zr(St)))if(Y>1)Bo(St,Y-1,he,Ce),Fe=Ce.length;else for(var fr=0,ir=St.length;fr<ir;)Ce[Fe++]=St[fr++];else he||(Ce[Fe++]=St)}return Ce}const bo=Ae(function(V,Y){Y=Bo(Y,!1,!1);var he=Y.length;if(he<1)throw new Error("bindAll must be passed function names");for(;he--;){var Ce=Y[he];V[Ce]=dl(V[Ce],V)}return V});function Ou(V,Y){var he=function(Ce){var Fe=he.cache,Ne=""+(Y?Y.apply(this,arguments):Ce);return lt(Fe,Ne)||(Fe[Ne]=V.apply(this,arguments)),Fe[Ne]};return he.cache={},he}const Ii=Ae(function(V,Y,he){return setTimeout(function(){return V.apply(null,he)},Y)}),qc=Tn(Ii,Tt,1);function La(V,Y,he){var Ce,Fe,Ne,tt,St=0;he||(he={});var fr=function(){St=he.leading===!1?0:I(),Ce=null,tt=V.apply(Fe,Ne),Ce||(Fe=Ne=null)},ir=function(){var en=I();!St&&he.leading===!1&&(St=en);var Rn=Y-(en-St);return Fe=this,Ne=arguments,Rn<=0||Rn>Y?(Ce&&(clearTimeout(Ce),Ce=null),St=en,tt=V.apply(Fe,Ne),Ce||(Fe=Ne=null)):!Ce&&he.trailing!==!1&&(Ce=setTimeout(fr,Rn)),tt};return ir.cancel=function(){clearTimeout(Ce),St=0,Ce=Fe=Ne=null},ir}function Ma(V,Y,he){var Ce,Fe,Ne,tt,St,fr=function(){var en=I()-Fe;Y>en?Ce=setTimeout(fr,Y-en):(Ce=null,he||(tt=V.apply(St,Ne)),Ce||(Ne=St=null))},ir=Ae(function(en){return St=this,Ne=en,Fe=I(),Ce||(Ce=setTimeout(fr,Y),he&&(tt=V.apply(St,Ne))),tt});return ir.cancel=function(){clearTimeout(Ce),Ce=Ne=St=null},ir}function Da(V,Y){return Tn(Y,V)}function xs(V){return function(){return!V.apply(this,arguments)}}function Eu(){var V=arguments,Y=V.length-1;return function(){for(var he=Y,Ce=V[Y].apply(this,arguments);he--;)Ce=V[he].call(this,Ce);return Ce}}function Yc(V,Y){return function(){if(--V<1)return Y.apply(this,arguments)}}function pl(V,Y){var he;return function(){return--V>0&&(he=Y.apply(this,arguments)),V<=1&&(Y=null),he}}const oa=Tn(pl,2);function aa(V,Y,he){Y=Mr(Y,he);for(var Ce=Vt(V),Fe,Ne=0,tt=Ce.length;Ne<tt;Ne++)if(Fe=Ce[Ne],Y(V[Fe],Fe,V))return Fe}function hl(V){return function(Y,he,Ce){he=Mr(he,Ce);for(var Fe=Oe(Y),Ne=V>0?0:Fe-1;Ne>=0&&Ne<Fe;Ne+=V)if(he(Y[Ne],Ne,Y))return Ne;return-1}}const Ss=hl(1),sa=hl(-1);function Ra(V,Y,he,Ce){he=Mr(he,Ce,1);for(var Fe=he(Y),Ne=0,tt=Oe(V);Ne<tt;){var St=Math.floor((Ne+tt)/2);he(V[St])<Fe?Ne=St+1:tt=St}return Ne}function Ho(V,Y,he){return function(Ce,Fe,Ne){var tt=0,St=Oe(Ce);if(typeof Ne=="number")V>0?tt=Ne>=0?Ne:Math.max(Ne+St,tt):St=Ne>=0?Math.min(Ne+1,St):Ne+St+1;else if(he&&Ne&&St)return Ne=he(Ce,Fe),Ce[Ne]===Fe?Ne:-1;if(Fe!==Fe)return Ne=Y(T.call(Ce,tt,St),Ar),Ne>=0?Ne+tt:-1;for(Ne=V>0?tt:St-1;Ne>=0&&Ne<St;Ne+=V)if(Ce[Ne]===Fe)return Ne;return-1}}const Cs=Ho(1,Ss,Ra),Tu=Ho(-1,sa);function Na(V,Y,he){var Ce=fi(V)?Ss:aa,Fe=Ce(V,Y,he);if(Fe!==void 0&&Fe!==-1)return V[Fe]}function Os(V,Y){return Na(V,Mn(Y))}function bi(V,Y,he){Y=Tr(Y,he);var Ce,Fe;if(fi(V))for(Ce=0,Fe=V.length;Ce<Fe;Ce++)Y(V[Ce],Ce,V);else{var Ne=Vt(V);for(Ce=0,Fe=Ne.length;Ce<Fe;Ce++)Y(V[Ne[Ce]],Ne[Ce],V)}return V}function so(V,Y,he){Y=Mr(Y,he);for(var Ce=!fi(V)&&Vt(V),Fe=(Ce||V).length,Ne=Array(Fe),tt=0;tt<Fe;tt++){var St=Ce?Ce[tt]:tt;Ne[tt]=Y(V[St],St,V)}return Ne}function Or(V){var Y=function(he,Ce,Fe,Ne){var tt=!fi(he)&&Vt(he),St=(tt||he).length,fr=V>0?0:St-1;for(Ne||(Fe=he[tt?tt[fr]:fr],fr+=V);fr>=0&&fr<St;fr+=V){var ir=tt?tt[fr]:fr;Fe=Ce(Fe,he[ir],ir,he)}return Fe};return function(he,Ce,Fe,Ne){var tt=arguments.length>=3;return Y(he,Tr(Ce,Ne,4),Fe,tt)}}const ja=Or(1),xi=Or(-1);function $i(V,Y,he){var Ce=[];return Y=Mr(Y,he),bi(V,function(Fe,Ne,tt){Y(Fe,Ne,tt)&&Ce.push(Fe)}),Ce}function la(V,Y,he){return $i(V,xs(Mr(Y)),he)}function ki(V,Y,he){Y=Mr(Y,he);for(var Ce=!fi(V)&&Vt(V),Fe=(Ce||V).length,Ne=0;Ne<Fe;Ne++){var tt=Ce?Ce[Ne]:Ne;if(!Y(V[tt],tt,V))return!1}return!0}function Dn(V,Y,he){Y=Mr(Y,he);for(var Ce=!fi(V)&&Vt(V),Fe=(Ce||V).length,Ne=0;Ne<Fe;Ne++){var tt=Ce?Ce[Ne]:Ne;if(Y(V[tt],tt,V))return!0}return!1}function Kr(V,Y,he,Ce){return fi(V)||(V=wr(V)),(typeof he!="number"||Ce)&&(he=0),Cs(V,Y,he)>=0}const xo=Ae(function(V,Y,he){var Ce,Fe;return We(Y)?Fe=Y:(Y=gr(Y),Ce=Y.slice(0,-1),Y=Y[Y.length-1]),so(V,function(Ne){var tt=Fe;if(!tt){if(Ce&&Ce.length&&(Ne=pr(Ne,Ce)),Ne==null)return;tt=Ne[Y]}return tt==null?tt:tt.apply(Ne,he)})});function So(V,Y){return so(V,Zr(Y))}function Co(V,Y){return $i(V,Mn(Y))}function Pu(V,Y,he){var Ce=-1/0,Fe=-1/0,Ne,tt;if(Y==null||typeof Y=="number"&&typeof V[0]!="object"&&V!=null){V=fi(V)?V:wr(V);for(var St=0,fr=V.length;St<fr;St++)Ne=V[St],Ne!=null&&Ne>Ce&&(Ce=Ne)}else Y=Mr(Y,he),bi(V,function(ir,en,Rn){tt=Y(ir,en,Rn),(tt>Fe||tt===-1/0&&Ce===-1/0)&&(Ce=ir,Fe=tt)});return Ce}function $n(V,Y,he){var Ce=1/0,Fe=1/0,Ne,tt;if(Y==null||typeof Y=="number"&&typeof V[0]!="object"&&V!=null){V=fi(V)?V:wr(V);for(var St=0,fr=V.length;St<fr;St++)Ne=V[St],Ne!=null&&Ne<Ce&&(Ce=Ne)}else Y=Mr(Y,he),bi(V,function(ir,en,Rn){tt=Y(ir,en,Rn),(tt<Fe||tt===1/0&&Ce===1/0)&&(Ce=ir,Fe=tt)});return Ce}var zd=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function Ia(V){return V?rt(V)?T.call(V):be(V)?V.match(zd):fi(V)?so(V,Fr):wr(V):[]}function Oo(V,Y,he){if(Y==null||he)return fi(V)||(V=wr(V)),V[Lr(V.length-1)];var Ce=Ia(V),Fe=Oe(Ce);Y=Math.max(Math.min(Y,Fe),0);for(var Ne=Fe-1,tt=0;tt<Y;tt++){var St=Lr(tt,Ne),fr=Ce[tt];Ce[tt]=Ce[St],Ce[St]=fr}return Ce.slice(0,Y)}function ku(V){return Oo(V,1/0)}function Xc(V,Y,he){var Ce=0;return Y=Mr(Y,he),So(so(V,function(Fe,Ne,tt){return{value:Fe,index:Ce++,criteria:Y(Fe,Ne,tt)}}).sort(function(Fe,Ne){var tt=Fe.criteria,St=Ne.criteria;if(tt!==St){if(tt>St||tt===void 0)return 1;if(tt<St||St===void 0)return-1}return Fe.index-Ne.index}),"value")}function vl(V,Y){return function(he,Ce,Fe){var Ne=Y?[[],[]]:{};return Ce=Mr(Ce,Fe),bi(he,function(tt,St){var fr=Ce(tt,St,he);V(Ne,tt,fr)}),Ne}}const gl=vl(function(V,Y,he){lt(V,he)?V[he].push(Y):V[he]=[Y]}),Jc=vl(function(V,Y,he){V[he]=Y}),Au=vl(function(V,Y,he){lt(V,he)?V[he]++:V[he]=1}),Qc=vl(function(V,Y,he){V[he?0:1].push(Y)},!0);function Si(V){return V==null?0:fi(V)?V.length:Vt(V).length}function ml(V,Y,he){return Y in he}const zo=Ae(function(V,Y){var he={},Ce=Y[0];if(V==null)return he;We(Ce)?(Y.length>1&&(Ce=Tr(Ce,Y[1])),Y=fn(V)):(Ce=ml,Y=Bo(Y,!1,!1),V=Object(V));for(var Fe=0,Ne=Y.length;Fe<Ne;Fe++){var tt=Y[Fe],St=V[tt];Ce(St,tt,V)&&(he[tt]=St)}return he}),ef=Ae(function(V,Y){var he=Y[0],Ce;return We(he)?(he=xs(he),Y.length>1&&(Ce=Y[1])):(Y=so(Bo(Y,!1,!1),String),he=function(Fe,Ne){return!Kr(Y,Ne)}),zo(V,he,Ce)});function yl(V,Y,he){return T.call(V,0,Math.max(0,V.length-(Y==null||he?1:Y)))}function Fa(V,Y,he){return V==null||V.length<1?Y==null||he?void 0:[]:Y==null||he?V[0]:yl(V,V.length-Y)}function ei(V,Y,he){return T.call(V,Y==null||he?1:Y)}function Pn(V,Y,he){return V==null||V.length<1?Y==null||he?void 0:[]:Y==null||he?V[V.length-1]:ei(V,Math.max(0,V.length-Y))}function tf(V){return $i(V,Boolean)}function Lu(V,Y){return Bo(V,Y,!1)}const ua=Ae(function(V,Y){return Y=Bo(Y,!0,!0),$i(V,function(he){return!Kr(Y,he)})}),rf=Ae(function(V,Y){return ua(V,Y)});function Va(V,Y,he,Ce){re(Y)||(Ce=he,he=Y,Y=!1),he!=null&&(he=Mr(he,Ce));for(var Fe=[],Ne=[],tt=0,St=Oe(V);tt<St;tt++){var fr=V[tt],ir=he?he(fr,tt,V):fr;Y&&!he?((!tt||Ne!==ir)&&Fe.push(fr),Ne=ir):he?Kr(Ne,ir)||(Ne.push(ir),Fe.push(fr)):Kr(Fe,fr)||Fe.push(fr)}return Fe}const Es=Ae(function(V){return Va(Bo(V,!0,!0))});function wl(V){for(var Y=[],he=arguments.length,Ce=0,Fe=Oe(V);Ce<Fe;Ce++){var Ne=V[Ce];if(!Kr(Y,Ne)){var tt;for(tt=1;tt<he&&Kr(arguments[tt],Ne);tt++);tt===he&&Y.push(Ne)}}return Y}function Ua(V){for(var Y=V&&Pu(V,Oe).length||0,he=Array(Y),Ce=0;Ce<Y;Ce++)he[Ce]=So(V,Ce);return he}const nf=Ae(Ua);function Wo(V,Y){for(var he={},Ce=0,Fe=Oe(V);Ce<Fe;Ce++)Y?he[V[Ce]]=Y[Ce]:he[V[Ce][0]]=V[Ce][1];return he}function Mu(V,Y,he){Y==null&&(Y=V||0,V=0),he||(he=Y<V?-1:1);for(var Ce=Math.max(Math.ceil((Y-V)/he),0),Fe=Array(Ce),Ne=0;Ne<Ce;Ne++,V+=he)Fe[Ne]=V;return Fe}function Du(V,Y){if(Y==null||Y<1)return[];for(var he=[],Ce=0,Fe=V.length;Ce<Fe;)he.push(T.call(V,Ce,Ce+=Y));return he}function Ru(V,Y){return V._chain?Tt(Y).chain():Y}function $o(V){return bi(Me(V),function(Y){var he=Tt[Y]=V[Y];Tt.prototype[Y]=function(){var Ce=[this._wrapped];return C.apply(Ce,arguments),Ru(this,he.apply(Tt,Ce))}}),Tt}bi(["pop","push","reverse","shift","sort","splice","unshift"],function(V){var Y=_[V];Tt.prototype[V]=function(){var he=this._wrapped;return he!=null&&(Y.apply(he,arguments),(V==="shift"||V==="splice")&&he.length===0&&delete he[0]),Ru(this,he)}}),bi(["concat","join","slice"],function(V){var Y=_[V];Tt.prototype[V]=function(){var he=this._wrapped;return he!=null&&(he=Y.apply(he,arguments)),Ru(this,he)}});const Eo=Tt;var To=$o(c);To._=To;const Nu=To}},bE={};function rn(r){var o=bE[r];if(o!==void 0)return o.exports;var s=bE[r]={exports:{}};return I4[r].call(s.exports,s,s.exports,rn),s.exports}rn.n=r=>{var o=r&&r.__esModule?()=>r.default:()=>r;return rn.d(o,{a:o}),o};rn.d=(r,o)=>{for(var s in o)rn.o(o,s)&&!rn.o(r,s)&&Object.defineProperty(r,s,{enumerable:!0,get:o[s]})};rn.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();rn.o=(r,o)=>Object.prototype.hasOwnProperty.call(r,o);rn.r=r=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})};var hA={};(()=>{rn.d(hA,{ZP:()=>LN,kr:()=>VC,j7:()=>FC});var r=rn(50),o=rn(163);function s(u){for(var i=[],e=1;e<arguments.length;e++)i[e-1]=arguments[e];var t=u.raw;return t.reduce(function(n,a,p){var m=i[p-1],y=t[p-1];return Array.isArray(m)?m=m.join(""):y&&y.slice(-1)==="$"?n=n.slice(0,-1):m=(0,o.escape)(m),n+m+a})}var c={stylePrefix:"gjs-",components:"",style:"",fromElement:!1,projectData:void 0,noticeOnUnload:!0,showOffsets:!1,showOffsetsSelected:!1,forceClass:!0,height:"900px",width:"100%",log:["warning","error"],baseCss:"",protectedCss:"* { box-sizing: border-box; } body {margin: 0;}",canvasCss:"",defaultCommand:"select-comp",showToolbar:!0,showDevices:!0,devicePreviewMode:!1,mediaCondition:"max-width",tagVarStart:"{[ ",tagVarEnd:" ]}",keepEmptyTextNodes:!1,jsInHtml:!0,nativeDnD:!0,multipleSelection:!0,optsHtml:{},optsCss:{},avoidInlineStyle:!0,avoidDefaults:!0,clearStyles:!1,listenToEl:[],cssIcons:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css",icons:{close:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>',move:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M13,6V11H18V7.75L22.25,12L18,16.25V13H13V18H16.25L12,22.25L7.75,18H11V13H6V16.25L1.75,12L6,7.75V11H11V6H7.75L12,1.75L16.25,6H13Z"/></svg>',plus:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z" /></svg>',caret:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M7,10L12,15L17,10H7Z" /></svg>',delete:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z" /></svg>',copy:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z" /></svg>',arrowUp:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M13,20H11V8L5.5,13.5L4.08,12.08L12,4.16L19.92,12.08L18.5,13.5L13,8V20Z" /></svg>',chevron:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z" /></svg>',eye:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z" /></svg>',eyeOff:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M11.83,9L15,12.16C15,12.11 15,12.05 15,12A3,3 0 0,0 12,9C11.94,9 11.89,9 11.83,9M7.53,9.8L9.08,11.35C9.03,11.56 9,11.77 9,12A3,3 0 0,0 12,15C12.22,15 12.44,14.97 12.65,14.92L14.2,16.47C13.53,16.8 12.79,17 12,17A5,5 0 0,1 7,12C7,11.21 7.2,10.47 7.53,9.8M2,4.27L4.28,6.55L4.73,7C3.08,8.3 1.78,10 1,12C2.73,16.39 7,19.5 12,19.5C13.55,19.5 15.03,19.2 16.38,18.66L16.81,19.08L19.73,22L21,20.73L3.27,3M12,7A5,5 0 0,1 17,12C17,12.64 16.87,13.26 16.64,13.82L19.57,16.75C21.07,15.5 22.27,13.86 23,12C21.27,7.61 17,4.5 12,4.5C10.6,4.5 9.26,4.75 8,5.2L10.17,7.35C10.74,7.13 11.35,7 12,7Z" /></svg>'},i18n:{},undoManager:{},assetManager:{},canvas:{},layerManager:{},storageManager:{},richTextEditor:{},domComponents:{},modal:{},codeManager:{},panels:{},commands:{},cssComposer:{},selectorManager:{},deviceManager:{},styleManager:{},blockManager:{},traitManager:{},textViewCode:"Code",keepUnusedStyles:!1,customUI:!1};const d=c;var h=rn(316),_=rn.n(h),x=rn(895);const S=function(u){var i=u.$;if(i&&i.prototype&&i.prototype.constructor.name!=="jQuery"){var e=i.fn;e.hide=function(){return this.css("display","none")},e.show=function(){return this.css("display","block")},e.focus=function(){var a=this.get(0);return a&&a.focus(),this},e.bind=function(a,p){return this.on(a,p)},e.unbind=function(a,p){if((0,r.isObject)(a)){for(var m in a)a.hasOwnProperty(m)&&this.off(m,a[m]);return this}else return this.off(a,p)},e.click=function(a){return a?this.on("click",a):this.trigger("click")},e.change=function(a){return a?this.on("change",a):this.trigger("change")},e.keydown=function(a){return a?this.on("keydown",a):this.trigger("keydown")},e.delegate=function(a,p,m,y){return y||(y=m),this.on(p,a,function(b){b.data=m,y(b)})},e.scrollLeft=function(){var a=this.get(0);a=a.nodeType==9?a.defaultView:a;var p=a instanceof Window?a:null;return p?p.pageXOffset:a.scrollLeft||0},e.scrollTop=function(){var a=this.get(0);a=a.nodeType==9?a.defaultView:a;var p=a instanceof Window?a:null;return p?p.pageYOffset:a.scrollTop||0};var t=i.prototype.offset;e.offset=function(a){var p,m;return a&&(p=a.top,m=a.left),typeof p<"u"&&this.css("top","".concat(p,"px")),typeof m<"u"&&this.css("left","".concat(m,"px")),t.call(this)},i.map=function(a,p){for(var m=[],y=0;y<a.length;y++)m.push(p(a[y],y));return m};var n=Array.prototype.indexOf;i.inArray=function(a,p,m){return p==null?-1:n.call(p,a,m)},i.Event=function(a,p){if(!(this instanceof i.Event))return new i.Event(a,p);this.type=a,this.isDefaultPrevented=function(){return!1}}}};var C=rn(346),T=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),P=function(u){T(i,u);function i(){return u!==null&&u.apply(this,arguments)||this}return i}(C.Hn),L=function(u){T(i,u);function i(){return u!==null&&u.apply(this,arguments)||this}return i.prototype.getByComponent=function(e){var t=this;return this.filter(function(n){return t.getComponent(n)===e})[0]},i.prototype.addComponent=function(e,t){var n=this,a=((0,r.isArray)(e)?e:[e]).filter(function(p){return!n.hasComponent(p)}).map(function(p){return new P({component:p})})[0];return this.push(a,t)},i.prototype.getComponent=function(e){return e.get("component")},i.prototype.hasComponent=function(e){var t=this.getByComponent(e);return t&&this.contains(t)},i.prototype.lastComponent=function(){var e=this.last();return e?this.getComponent(e):void 0},i.prototype.allComponents=function(){var e=this;return this.map(function(t){return e.getComponent(t)}).filter(function(t){return t})},i.prototype.removeComponent=function(e,t){var n=this,a=((0,r.isArray)(e)?e:[e]).map(function(p){return n.getByComponent(p)});return this.remove(a,t)},i}(C.FE);const N=L;var U=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),K=function(){return K=Object.assign||function(u){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(u[n]=i[n])}return u},K.apply(this,arguments)},fe=function(u,i,e){if(e||arguments.length===2)for(var t=0,n=i.length,a;t<n;t++)(a||!(t in i))&&(a||(a=Array.prototype.slice.call(i,0,t)),a[t]=i[t]);return u.concat(a||Array.prototype.slice.call(i))},q=function(){function u(i,e,t){this.debounced=[],this.collections=[],this.cls=[],this._em=i,this._name=e;var n=this.name.charAt(0).toLowerCase()+this.name.slice(1),a=(0,r.isUndefined)(i.config[n])?i.config[this.name]:i.config[n],p=a===!0?{}:a||{};p.pStylePrefix=i.config.pStylePrefix||"",!(0,r.isUndefined)(a)&&!a&&(p._disable=1),p.em=i,this._config=(0,o.deepMerge)(t||{},p)}return Object.defineProperty(u.prototype,"em",{get:function(){return this._em},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),u.prototype.render=function(i){},u.prototype.postLoad=function(i){},Object.defineProperty(u.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),u.prototype.getConfig=function(i){return i?this.config[i]:this.config},u.prototype.__logWarn=function(i,e){e===void 0&&(e={}),this.em.logWarning("[".concat(this.name,"]: ").concat(i),e)},u.prototype.destroy=function(){this.__destroy()},u.prototype.__destroy=function(){var i,e,t;(i=this.view)===null||i===void 0||i.remove(),(e=this.state)===null||e===void 0||e.stopListening(),(t=this.state)===null||t===void 0||t.clear(),this.debounced.forEach(function(n){return n.cancel()}),this.collections.forEach(function(n){n.stopListening(),n.reset()})},u.prototype.__appendTo=function(){var i=this.getConfig().appendTo;if(i){var e=(0,r.isElement)(i)?i:document.querySelector(i);if(!e)return this.__logWarn('"appendTo" element not found');e.appendChild(this.render())}},u}();const z=q;var $=function(u){U(i,u);function i(e,t,n,a,p,m){m===void 0&&(m={});var y=u.call(this,e,t,p)||this;return y.cls=[],y.private=!1,y.all=n,y.events=a,!m.skipListen&&y.__initListen(),y}return i.prototype.postLoad=function(e){},i.prototype.render=function(e){},i.prototype.getProjectData=function(e){var t={},n=this.storageKey;return n&&(t[n]=e||this.getAll()),t},i.prototype.loadProjectData=function(e,t){e===void 0&&(e={}),t===void 0&&(t={});var n=t.all,a=t.onResult,p=t.reset,m=this.storageKey,y={action:"load"},b=n||this.all,O=e[m];if(typeof O=="string")try{O=JSON.parse(O)}catch{this.__logWarn("Data parsing failed",{input:O})}return p&&O&&b.reset(void 0,y),a?O&&a(O,y):O&&(0,o.isDef)(O.length)&&b.reset(O,y),O},i.prototype.clear=function(e){e===void 0&&(e={});var t=this.all;return t&&t.reset(void 0,e),this},i.prototype.getAll=function(){return fe([],this.all.models,!0)},i.prototype.getAllMap=function(){return this.getAll().reduce(function(e,t){return e[t.get(t.idAttribute)]=t,e},{})},i.prototype.__initListen=function(e){e===void 0&&(e={});var t=this,n=t.all,a=t.em,p=t.events;n&&a&&n.on("add",function(m,y,b){return a.trigger(p.add,m,b)}).on("remove",function(m,y,b){return a.trigger(p.remove,m,b)}).on("change",function(m,y){return a.trigger(p.update,m,m.changedAttributes(),y)}).on("all",this.__catchAllEvent,this),this.cls=[n].concat(e.collections||[]),(e.propagate||[]).forEach(function(m){var y=m.entity,b=m.event;y.on("all",function(O,A,R,B){var Q=B||R,le=K({event:O},Q);[a,n].map(function(ue){return ue.trigger(b,A,le)})})})},i.prototype.__remove=function(e,t){var n=this;t===void 0&&(t={});var a=this.em,p=(0,r.isString)(e)?this.get(e):e,m=function(){return p&&n.all.remove(p,t),p};return!t.silent&&(a==null||a.trigger(this.events.removeBefore,p,m,t)),!t.abort&&m()},i.prototype.__catchAllEvent=function(e,t,n,a){var p=this,m=p.em,y=p.events,b=a||n;m&&y.all&&m.trigger(y.all,{event:e,model:t,options:b}),this.__onAllEvent()},i.prototype.__appendTo=function(e){var t=this.config.appendTo;if(t){var n=(0,r.isElement)(t)?t:document.querySelector(t);if(!n)return this.__logWarn('"appendTo" element not found');n.appendChild(this.render(e))}},i.prototype.__onAllEvent=function(){},i.prototype._createId=function(e){e===void 0&&(e=16);var t=this.getAll(),n=t.length+e,a=this.getAllMap(),p;do p=(0,o.createId)(n);while(a[p]);return p},i.prototype.__listenAdd=function(e,t){var n=this;e.on("add",function(a,p,m){return n.em.trigger(t,a,m)})},i.prototype.__listenRemove=function(e,t){var n=this;e.on("remove",function(a,p,m){return n.em.trigger(t,a,m)})},i.prototype.__listenUpdate=function(e,t){var n=this;e.on("change",function(a,p){return n.em.trigger(t,a,a.changedAttributes(),p)})},i.prototype.__destroy=function(){var e;this.cls.forEach(function(t){t.stopListening(),t.reset()}),(e=this.view)===null||e===void 0||e.remove(),this.view=void 0},i}(q),X={stylePrefix:"cv-",scripts:[],styles:[],customBadgeLabel:void 0,autoscrollLimit:50,extHl:!1,frameContent:"<!DOCTYPE html>",frameStyle:`
    body { background-color: #fff }
    * ::-webkit-scrollbar-track { background: rgba(0, 0, 0, 0.1) }
    * ::-webkit-scrollbar-thumb { background: rgba(255, 255, 255, 0.2) }
    * ::-webkit-scrollbar { width: 10px }
  `,notTextable:["button","a","input[type=checkbox]","input[type=radio]"],allowExternalDrop:!0};const _e=X;var ie=rn(642),we={default:"",devices:[{id:"desktop",name:"Desktop",width:""},{id:"tablet",name:"Tablet",width:"770px",widthMedia:"992px"},{id:"mobileLandscape",name:"Mobile landscape",width:"568px",widthMedia:"768px"},{id:"mobilePortrait",name:"Mobile portrait",width:"320px",widthMedia:"480px"}]};const Ae=we;var se=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ve=function(u){se(i,u);function i(){return u!==null&&u.apply(this,arguments)||this}return i.prototype.defaults=function(){return{name:"",width:null,height:"",widthMedia:null,priority:null}},i.prototype.initialize=function(){var e=this;this.get("widthMedia")===null&&this.set("widthMedia",this.get("width")),this.get("width")===null&&this.set("width",this.get("widthMedia")),!this.get("priority")&&this.set("priority",parseFloat(this.get("widthMedia"))||0);var t=["width","height","widthMedia"];t.forEach(function(n){return e.checkUnit(n)})},i.prototype.checkUnit=function(e){var t=this.get(e)||"",n=(parseFloat(t)||0).toString()===t.toString();n&&this.set(e,"".concat(t,"px"))},i.prototype.getName=function(){return this.get("name")||this.get("id")},i.prototype.getWidthMedia=function(){return this.get("widthMedia")||""},i}(C.Hn);const te=ve;var re=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ae=function(u){re(i,u);function i(){return u!==null&&u.apply(this,arguments)||this}return i}(C.FE);const G=ae;ae.prototype.model=te;var be=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),W=function(u,i){return Object.defineProperty?Object.defineProperty(u,"raw",{value:i}):u.raw=i,u},Le=function(u){be(i,u);function i(e){var t=u.call(this,e)||this;return t.config=e.config||{},t.em=t.config.em,t.ppfx=t.config.pStylePrefix||"",t.listenTo(t.em,"change:device",t.updateSelect),t}return i.prototype.template=function(e){var t=e.ppfx,n=e.label;return s(Ue||(Ue=W([`
      <div class="`,'device-label">',`</div>
      <div class="`,"field ",`select">
        <span id="`,`input-holder">
          <select class="`,`devices"></select>
        </span>
        <div class="`,`sel-arrow">
          <div class="`,`d-s-arrow"></div>
        </div>
      </div>
      <button style="display:none" class="`,`add-trasp" data-add-trasp>+</button>
    `],[`
      <div class="`,'device-label">',`</div>
      <div class="`,"field ",`select">
        <span id="`,`input-holder">
          <select class="`,`devices"></select>
        </span>
        <div class="`,`sel-arrow">
          <div class="`,`d-s-arrow"></div>
        </div>
      </div>
      <button style="display:none" class="`,`add-trasp" data-add-trasp>+</button>
    `])),t,n,t,t,t,t,t,t,t)},i.prototype.events=function(){return{change:"updateDevice","click [data-add-trasp]":"startAdd"}},i.prototype.startAdd=function(){},i.prototype.updateDevice=function(){var e=this.em;if(e){var t=this.devicesEl;e.set("device",t?t.val():"")}},i.prototype.updateSelect=function(){var e=this,t=e.em,n=e.devicesEl;if(t&&t.getDeviceModel&&n){var a=t.getDeviceModel();n.val(a?a.get("id"):"")}},i.prototype.getOptions=function(){var e=this,t=e.collection,n=e.em,a="";return t.forEach(function(p){var m=p.attributes,y=m.name,b=m.id,O=n&&n.t&&n.t("deviceManager.devices.".concat(b))||y;a+='<option value="'.concat(b||y,'">').concat(O,"</option>")}),a},i.prototype.render=function(){var e=this,t=e.em,n=e.ppfx,a=e.$el,p=e.el,m=t&&t.t&&t.t("deviceManager.device");return a.html(this.template({ppfx:n,label:m})),this.devicesEl=a.find(".".concat(n,"devices")),this.devicesEl.append(this.getOptions()),this.devicesEl.val(t.get("device")),p.className="".concat(n,"devices-c"),this},i}(C.G7);const ye=Le;var Ue,$e=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ge=function(){return ge=Object.assign||function(u){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(u[n]=i[n])}return u},ge.apply(this,arguments)},Ve="device",Ye="".concat(Ve,":"),We="".concat(Ye,"select"),dt="".concat(Ye,"update"),Te="".concat(Ye,"add"),ze="".concat(Ye,"remove"),qe="".concat(ze,":before"),ut="change:device",vt={all:Ve,select:We,update:dt,add:Te,remove:ze,removeBefore:qe},rt=function(u){$e(i,u);function i(e){var t,n=u.call(this,e,"DeviceManager",new G,vt,Ae)||this;return n.Device=te,n.Devices=G,n.storageKey="",n.devices=n.all,(t=n.config.devices)===null||t===void 0||t.forEach(function(a){return n.add(a,{silent:!0})}),n.select(n.config.default||n.devices.at(0)),e.on(ut,n._onSelect,n),n}return i.prototype._onSelect=function(e,t,n){var a=this,p=a.em,m=a.events,y=e.previous("device"),b=this.get(t),O=m.select;p.trigger(O,b,this.get(y)),this.__catchAllEvent(O,b,n)},i.prototype.add=function(e,t){t===void 0&&(t={});var n,a=t;if((0,r.isString)(e)){var p=t;a=arguments[2]||{},n=ge(ge({},a),{id:e,name:a.name||e,width:p})}else n=e;return n.id||(n.id=n.name||this._createId()),this.devices.add(n,a)},i.prototype.get=function(e){var t=this.getAll().filter(function(n){return n.get("name")===e})[0];return t||this.devices.get(e)||null},i.prototype.remove=function(e,t){return t===void 0&&(t={}),this.__remove(e,t)},i.prototype.getDevices=function(){return this.devices.models},i.prototype.select=function(e,t){t===void 0&&(t={});var n=(0,r.isString)(e)?this.get(e):e;return n&&this.em.set("device",n.get("id"),t),this},i.prototype.getSelected=function(){return this.get(this.em.get("device"))},i.prototype.getAll=function(){return this.devices},i.prototype.render=function(){var e,t=this.em;return(e=this.view)===null||e===void 0||e.remove(),this.view=new ye({collection:this.devices,config:ge({em:t},this.config)}),this.view.render().el},i.prototype.destroy=function(){this.__destroy()},i}($);const lt=rt;var ar;(function(u){u.add="page:add",u.addBefore="page:add:before",u.remove="page:remove",u.removeBefore="page:remove:before",u.select="page:select",u.selectBefore="page:select:before",u.update="page:update",u.all="page"})(ar||(ar={}));const zr=ar;var un=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Ar=function(u){un(i,u);function i(e,t,n){return u.call(this,t,{module:e,modelConstructor:n})||this}return i.prototype.add=function(e,t){var n=this,a,p=(0,r.isArray)(e)?e:(0,r.isUndefined)(e)?void 0:[e];return p=(a=p==null?void 0:p.map(function(m){return m instanceof n.newModel?m:new n.newModel(n.module,m)}))!==null&&a!==void 0?a:[void 0],u.prototype.add.call(this,(0,r.isArray)(e)?p:p[0],t)},i.prototype.preinitialize=function(e,t){this.newModel=t.modelConstructor,this.module=t.module},i}(C.FE);const Ct=Ar;var M=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),F=function(){return F=Object.assign||function(u){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(u[n]=i[n])}return u},F.apply(this,arguments)},Z=function(u,i,e){if(e||arguments.length===2)for(var t=0,n=i.length,a;t<n;t++)(a||!(t in i))&&(a||(a=Array.prototype.slice.call(i,0,t)),a[t]=i[t]);return u.concat(a||Array.prototype.slice.call(i))},pe="__aw",Se="__ah",J=function(u,i){var e,t=u.get(i),n=(e=u.view)===null||e===void 0?void 0:e.el[i==="width"?"offsetWidth":"offsetHeight"];return(0,r.isNumber)(t)?t:(0,r.isString)(t)&&t.endsWith("px")?parseFloat(t):n||0},xe=function(u){M(i,u);function i(e,t){var n=u.call(this,e,t)||this,a=n.em,p=n.attributes,m=p.styles,y=p.component,b=a.Components,O=b.getConfig(),A=a.Css.getAll(),R={},B={em:a,config:O,frame:n,idMap:R};if(!(0,o.isComponent)(y)){var Q=(0,o.isObject)(y)?y:{components:y};!Q.type&&(Q.type="wrapper");var le=b.getType("wrapper").model;n.set("component",new le(Q,B))}if(!m)n.set("styles",A);else if(!(0,o.isObject)(m)){var ue=m;(0,r.keys)(R).length&&(ue=(0,r.isString)(ue)?a.Parser.parseCss(ue):ue,a.Css.checkId(ue,{idMap:R})),A.add(ue),n.set("styles",A)}return!t.width&&n.set(pe,1),!t.height&&n.set(Se,1),!n.id&&n.set("id",(0,o.createId)()),n}return i.prototype.defaults=function(){return{x:0,y:0,changesCount:0,attributes:{},width:null,height:null,head:[],component:"",styles:"",refFrame:null,_undo:!0,_undoexc:["changesCount"]}},Object.defineProperty(i.prototype,"width",{get:function(){return J(this,"width")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){return J(this,"height")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"head",{get:function(){return this.get("head")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"refFrame",{get:function(){return this.get("refFrame")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"root",{get:function(){var e=this.refFrame;return(e==null?void 0:e.getComponent())||this.getComponent()},enumerable:!1,configurable:!0}),i.prototype.initRefs=function(){var e=this.refFrame;if((0,r.isString)(e)){var t=this.module.framesById[e];t&&this.set({refFrame:t},{silent:!0})}},i.prototype.getBoxRect=function(){var e=this.attributes,t=e.x,n=e.y,a=this,p=a.width,m=a.height;return{x:t,y:n,width:p,height:m}},i.prototype.onRemove=function(){!this.refFrame&&this.getComponent().remove({root:1})},i.prototype.changesUp=function(e){e===void 0&&(e={}),!(e.temporary||e.noCount||e.avoidStore)&&this.set("changesCount",this.get("changesCount")+1)},i.prototype.getComponent=function(){return this.get("component")},i.prototype.getStyles=function(){return this.get("styles")},i.prototype.disable=function(){this.trigger("disable")},i.prototype.remove=function(){var e;(e=this.view)===null||e===void 0||e.remove(),this.view=void 0;var t=this.collection;return t&&t.remove(this)},i.prototype.getHead=function(){return Z([],this.head,!0)},i.prototype.setHead=function(e){return this.set("head",Z([],e,!0))},i.prototype.addHeadItem=function(e){this.head.push(e)},i.prototype.getHeadByAttr=function(e,t,n){return this.head.filter(function(a){return a.attributes&&a.attributes[e]==t&&(!n||n===a.tag)})[0]},i.prototype.removeHeadByAttr=function(e,t,n){var a=this.getHeadByAttr(e,t,n),p=this.head.indexOf(a);p>=0&&this.head.splice(p,1)},i.prototype.addLink=function(e){var t="link";!this.getHeadByAttr("href",e,t)&&this.addHeadItem({tag:t,attributes:{href:e,rel:"stylesheet"}})},i.prototype.removeLink=function(e){this.removeHeadByAttr("href",e,"link")},i.prototype.addScript=function(e){var t="script";!this.getHeadByAttr("src",e,t)&&this.addHeadItem({tag:t,attributes:{src:e}})},i.prototype.removeScript=function(e){this.removeHeadByAttr("src",e,"script")},i.prototype.getPage=function(){var e;return(e=this.collection)===null||e===void 0?void 0:e.page},i.prototype._emitUpdated=function(e){e===void 0&&(e={}),this.em.trigger("frame:updated",F({frame:this},e))},i.prototype.hasAutoHeight=function(){var e=this.attributes.height;return!!(e==="auto"||this.config.infiniteCanvas)},i.prototype.toJSON=function(e){e===void 0&&(e={});var t=ie.Z.prototype.toJSON.call(this,e),n=(0,r.result)(this,"defaults");return e.fromUndo&&delete t.component,delete t.styles,delete t.changesCount,t[pe]&&delete t.width,t[Se]&&delete t.height,t.refFrame&&(t.refFrame=t.refFrame.id,delete t.component),(0,r.forEach)(t,function(a,p){p.indexOf("_")===0&&delete t[p]}),(0,r.forEach)(n,function(a,p){t[p]===a&&delete t[p]}),(0,r.forEach)(["attributes","head"],function(a){(0,r.isEmpty)(t[a])&&delete t[a]}),t},i}(ie.Z);const Oe=xe;var yt=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),qt=function(u){yt(i,u);function i(e,t){t===void 0&&(t=[]);var n=u.call(this,e,t,Oe)||this;return n.loadedItems=0,n.itemsToLoad=0,(0,r.bindAll)(n,"itemLoaded"),n.on("add",n.onAdd),n.on("reset",n.onReset),n.on("remove",n.onRemove),n.forEach(function(a){return n.onAdd(a)}),n}return i.prototype.onAdd=function(e){this.module.framesById[e.id]=e},i.prototype.onReset=function(e,t){var n=this,a=(t==null?void 0:t.previousModels)||[];a.map(function(p){return n.onRemove(p)})},i.prototype.onRemove=function(e){e.onRemove(),delete this.module.framesById[e.id]},i.prototype.initRefs=function(){this.forEach(function(e){return e.initRefs()})},i.prototype.itemLoaded=function(){this.loadedItems++,this.loadedItems>=this.itemsToLoad&&(this.trigger("loaded:all"),this.listenToLoadItems(!1))},i.prototype.listenToLoad=function(){this.loadedItems=0,this.itemsToLoad=this.length,this.listenToLoadItems(!0)},i.prototype.listenToLoadItems=function(e){var t=this;this.forEach(function(n){return n[e?"on":"off"]("loaded",t.itemLoaded)})},i}(Ct);const Vt=qt;var rr=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Er=function(u){rr(i,u);function i(e){var t=this,n=e.em,a=e.config,p=a.scripts,m=a.styles;return t=u.call(this,e,{scripts:p,styles:m})||this,t.set("frames",new Vt(e)),t.on("change:zoom",t.onZoomChange),t.on("change:x change:y",t.onCoordsChange),t.on("change:pointer change:pointerScreen",t.onPointerChange),t.listenTo(n,"change:device ".concat(dt),t.updateDevice),t.listenTo(n,zr.select,t._pageUpdated),t}return i.prototype.defaults=function(){return{frame:"",frames:[],rulers:!1,zoom:100,x:0,y:0,scripts:[],styles:[],pointer:C.pH,pointerScreen:C.pH}},Object.defineProperty(i.prototype,"frames",{get:function(){return this.get("frames")},enumerable:!1,configurable:!0}),i.prototype.init=function(){var e=this.em,t=e.Pages._initPage();this.set("frames",t.getFrames()),this.updateDevice({frame:t.getMainFrame()})},i.prototype._pageUpdated=function(e,t){var n=this.em;n.setSelected(),n.get("readyCanvas")&&n.stopDefault(),t==null||t.getFrames().map(function(a){return a.disable()}),this.set("frames",e.getFrames()),this.updateDevice({frame:e.getMainFrame()})},i.prototype.updateDevice=function(e){e===void 0&&(e={});var t=this.em,n=t.getDeviceModel(),a=e.frame||t.getCurrentFrameModel();if(a&&n){var p=n.attributes,m=p.width,y=p.height;a.set({width:m,height:y},{noUndo:1})}},i.prototype.onZoomChange=function(){var e=this,t=e.em,n=e.module,a=this.get("zoom");a<1&&this.set("zoom",1),t.trigger(n.events.zoom)},i.prototype.onCoordsChange=function(){var e=this,t=e.em,n=e.module;t.trigger(n.events.coords)},i.prototype.onPointerChange=function(){var e=this,t=e.em,n=e.module;t.trigger(n.events.pointer)},i.prototype.getPointerCoords=function(e){e===void 0&&(e=C.vA.World);var t=this.attributes,n=t.pointer,a=t.pointerScreen;return e===C.vA.World?n:a},i}(ie.Z);const Tt=Er;var Sr=rn(675),zt=rn(184),dr=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),nn=function(u){dr(i,u);function i(e,t){t===void 0&&(t=[]);var n=u.call(this,e,t,Sr.Z)||this;n.on("add",n.onAdd),n.on("change",n.onChange),n.on("remove",n.onRemove);var a=n.em;n.refreshDbn=(0,r.debounce)(function(){return n.refresh()},0);var p="component:resize styleable:change component:input ".concat(zt.g.update," frame:updated undo redo");return n.listenTo(a,p,function(){return n.refreshDbn()}),n}return Object.defineProperty(i.prototype,"em",{get:function(){return this.module.em},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"events",{get:function(){return this.module.events},enumerable:!1,configurable:!0}),i.prototype.refresh=function(){var e=this,t=e.em,n=e.events;t.trigger(n.spot)},i.prototype.onAdd=function(e){this.__trgEvent(this.events.spotAdd,{spot:e})},i.prototype.onChange=function(e){this.__trgEvent(this.events.spotUpdate,{spot:e})},i.prototype.onRemove=function(e){this.__trgEvent(this.events.spotRemove,{spot:e})},i.prototype.__trgEvent=function(e,t){var n=this.module,a=n.em;a.trigger(e,t),this.refreshDbn()},i}(Ct);const Mt=nn;var fn;(function(u){u.dragEnter="canvas:dragenter",u.dragOver="canvas:dragover",u.dragEnd="canvas:dragend",u.dragData="canvas:dragdata",u.drop="canvas:drop",u.spot="canvas:spot",u.spotAdd="canvas:spot:add",u.spotUpdate="canvas:spot:update",u.spotRemove="canvas:spot:remove",u.coords="canvas:coords",u.zoom="canvas:zoom",u.pointer="canvas:pointer",u.refresh="canvas:refresh",u.frameLoad="canvas:frame:load",u.frameLoadHead="canvas:frame:load:head",u.frameLoadBody="canvas:frame:load:body"})(fn||(fn={}));const Qt=fn;var Nr=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Wr=function(u){Nr(i,u);function i(){return u!==null&&u.apply(this,arguments)||this}return Object.defineProperty(i.prototype,"pfx",{get:function(){return this.ppfx+this.config.stylePrefix||""},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"ppfx",{get:function(){return this.em.config.stylePrefix||""},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"module",{get:function(){var e,t;return(t=(e=this.model)===null||e===void 0?void 0:e.module)!==null&&t!==void 0?t:this.collection.module},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"em",{get:function(){return this.module.em},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"config",{get:function(){return this.module.config},enumerable:!1,configurable:!0}),i.prototype.preinitialize=function(e){this.className=""},i}(C.G7);const $r=Wr;var nt=rn(491),_i=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ee=function(u){_i(i,u);function i(e,t){e===void 0&&(e={}),t===void 0&&(t=!1);var n=u.call(this,e)||this;return n.itemsView="",n.itemType="type",n.reuseView=!1,n.viewCollection=[],t&&n.listenTo(n.collection,"add",n.addTo),n}return i.prototype.addTo=function(e){this.add(e)},i.prototype.itemViewNotFound=function(e){},i.prototype.add=function(e,t){var n=this,a=n.reuseView,p=n.viewCollection,m=t||null,y=e.get(this.itemType),b;e.view&&a?b=e.view:b=this.renderView(e,y),p.push(b);var O=b.render().el;m?m.appendChild(O):this.$el.append(O)},i.prototype.render=function(){var e=this,t=document.createDocumentFragment();return this.clearItems(),this.$el.empty(),this.collection.length&&this.collection.each(function(n){return e.add(n,t)}),this.$el.append(t),this.onRender(),this},i.prototype.onRender=function(){},i.prototype.onRemoveBefore=function(e,t){},i.prototype.onRemove=function(e,t){},i.prototype.remove=function(e){e===void 0&&(e={});var t=this.viewCollection;return this.onRemoveBefore(t,e),this.clearItems(),C.G7.prototype.remove.apply(this,e),this.onRemove(t,e),this},i.prototype.clearItems=function(){this.viewCollection},i}($r);const Ee=ee;var Re=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Qe=function(u){Re(i,u);function i(e){e===void 0&&(e={});var t=u.call(this,e)||this;t.config=e.config||{};var n=t.model;return t.listenTo(n,"change",t.render),t.listenTo(n,"destroy remove",t.remove),t.listenTo(n.get("selectors"),"change",t.render),t}return i.prototype.tagName=function(){return"style"},i.prototype.render=function(){var e=this,t=e.model,n=e.el,a=t.get("important");return n.innerHTML=t.toCSS({important:a}),this},i}(C.G7);const _t=Qe;var Yt=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),wr=function(u){Yt(i,u);function i(){return u!==null&&u.apply(this,arguments)||this}return i.prototype._createElement=function(){return document.createTextNode("")},i.prototype.render=function(){var e=this.model,t=e.get("important");return this.el.textContent=e.getDeclaration({important:t}),this},i}(_t);const Wn=wr;var Pe=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Me=function(u,i){return"".concat(u).concat(i?"-".concat(parseFloat(i)):"")},Ke=function(u){Pe(i,u);function i(e){var t=u.call(this,e)||this;(0,r.bindAll)(t,"sortRules");var n=e.config||{};t.atRules={},t.config=n,t.em=n.em,t.pfx=n.stylePrefix||"",t.className=t.pfx+"rules";var a=t.collection;return t.listenTo(a,"add",t.addTo),t.listenTo(a,"reset",t.render),t}return i.prototype.addTo=function(e){this.addToCollection(e)},i.prototype.addToCollection=function(e,t){if(this.renderStarted){var n=t||null,a=this.config,p={model:e,config:a},m,y;if(e.get("atRuleType")==="keyframes"){var b=e.getAtRule(),O=this.atRules[b];if(!O){var A=document.createElement("style");O=document.createTextNode(""),A.appendChild(document.createTextNode("".concat(b,"{"))),A.appendChild(O),A.appendChild(document.createTextNode("}")),this.atRules[b]=O,m=A}y=new Wn(p),O.appendData(y.render().el.textContent)}else y=new _t(p),m=y.render().el;var R=this.className,B=e.get("mediaText"),Q=Me(R),le=Q;if(B&&(le=Me(R,this.getMediaWidth(B))),m){var ue=n||this.el,ke=void 0;try{ke=ue.querySelector("#".concat(le))}catch{}ke||(ke=ue.querySelector("#".concat(Q))),ke==null||ke.appendChild(m)}return m}},i.prototype.getMediaWidth=function(e){return e&&e.replace("(".concat(this.em.getConfig().mediaCondition,": "),"").replace(")","")},i.prototype.sortRules=function(e,t){var n=this.em,a=(n.getConfig().mediaCondition||"").indexOf("min-width")!==-1;if(!a)return 0;var p=a?e:t,m=a?t:e;return p-m},i.prototype.render=function(){var e=this;this.renderStarted=!0,this.atRules={};var t=this,n=t.em,a=t.$el,p=t.collection,m=this.className,y=document.createDocumentFragment();a.empty();var b=n.Devices.getAll().pluck("priority").sort(this.sortRules);return b.every(function(O){return O})&&b.unshift(0),b.forEach(function(O){return y.appendChild((0,nt.ut)("div",{id:Me(m,O)}))}),p.each(function(O){return e.addToCollection(O,y)}),a.append(y),a.attr("class",m),this},i}(C.G7);const Xe=Ke;var xt="text/html",It=xt;const Dt=function(u,i){i===void 0&&(i={});var e=new DOMParser,t=i.htmlType||It,n=t===xt,a=n?u:"<div>".concat(u,"</div>"),p=e.parseFromString(a,t),m;if(n){if(i.asDocument)return p;var y=p.head,b=p.body,O=y.querySelectorAll("script");(0,r.each)(O,function(R){return b.appendChild(R)});var A=[];(0,r.each)(y.children,function(R){return A.push(R)}),(0,r.each)(A,function(R,B){return b.insertBefore(R,b.children[B])}),m=b}else m=p.firstChild;return m};var at=function(){return at=Object.assign||function(u){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(u[n]=i[n])}return u},at.apply(this,arguments)},$t="data-gjs-",jt="parse:html",Bt=function(u,i){return i===void 0&&(i={}),{compTypes:[],modelAttrStart:$t,getPropAttribute:function(e,t){var n=e.replace(this.modelAttrStart,""),a=(t==null?void 0:t.length)||0,p=t==null?void 0:t.substring(0,1),m=t==null?void 0:t.substring(a-1),y=t==="true"?!0:t==="false"?!1:t;try{y=p=="{"&&m=="}"||p=="["&&m=="]"?JSON.parse(y):y}catch{}return{name:n,value:y}},splitPropsFromAttr:function(e){var t=this;e===void 0&&(e={});var n={},a={};return(0,r.each)(e,function(p,m){if(m.indexOf(t.modelAttrStart)===0){var y=t.getPropAttribute(m,p);n[y.name]=y.value}else a[m]=p}),{props:n,attrs:a}},parseStyle:function(e){for(var t={};e.indexOf("/*")>=0;){var n=e.indexOf("/*"),a=e.indexOf("*/")+2;e=e.replace(e.slice(n,a),"")}for(var p=e.split(";"),m=0,y=p.length;m<y;m++){var b=p[m].trim();if(b){var O=b.split(":"),A=O[0].trim(),R=O.slice(1).join(":").trim();t[A]?((0,r.isArray)(t[A])||(t[A]=[t[A]]),t[A].push(R)):t[A]=R}}return t},parseClass:function(e){for(var t=[],n=e.split(" "),a=0,p=n.length;a<p;a++){var m=n[a].trim();m&&t.push(m)}return t},parseNodeAttr:function(e,t){for(var n=t||{},a=e.attributes||[],p=a.length,m=0;m<p;m++){var y=a[m].nodeName,b=a[m].nodeValue;if(y=="style")n.style=this.parseStyle(b);else if(y=="class")n.classes=this.parseClass(b);else{if(y=="contenteditable")continue;if(y.indexOf(this.modelAttrStart)===0){var O=this.getPropAttribute(y,b);n[O.name]=O.value}else b===""&&e[y]===!0&&(b=!0),n.attributes||(n.attributes={}),n.attributes[y]=b}}return n},detectNode:function(e,t){var n;t===void 0&&(t={});var a=this.compTypes,p={};if(a){var m=(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"".concat(this.modelAttrStart,"type"));if(m)p={type:m};else for(var y=0;y<a.length;y++){var b=a[y],O=b.model.isComponent(e,t);if(O){typeof O!="object"&&(O={type:b.id}),p=O;break}}}return p},parseNode:function(e,t){var n;t===void 0&&(t={});var a=((n=e.content)===null||n===void 0?void 0:n.childNodes)||e.childNodes,p=a.length,m=this.detectNode(e,t);if(!m.tagName){var y=e.tagName||"",b=e.namespaceURI||"";m.tagName=y&&b==="http://www.w3.org/1999/xhtml"?y.toLowerCase():y}if(m=this.parseNodeAttr(e,m),!p&&"".concat(e.outerHTML).slice(-2)==="/>"&&(m.void=!0),p&&!m.components&&!t.skipChildren){var O=a[0];p===1&&O.nodeType===3?(!m.type&&(m.type="text"),m.components={type:"textnode",content:O.nodeValue}):m.components=this.parseNodes(e,at(at({},t),{inSvg:t.inSvg||m.type==="svg"}))}var A=m.components;if(!m.type&&(A!=null&&A.length)){for(var R=i.textTypes,B=R===void 0?[]:R,Q=i.textTags,le=Q===void 0?[]:Q,ue=!0,ke=!1,Be=0;Be<A.length;Be++){var He=A[Be],ot=He.type;if(!B.includes(ot)&&!le.includes(He.tagName)){ue=!1;break}ot==="textnode"&&(ke=!0)}ue&&ke&&(m.type="text")}return m},parseNodes:function(e,t){var n;t===void 0&&(t={});for(var a=[],p=((n=e.content)===null||n===void 0?void 0:n.childNodes)||e.childNodes,m=p.length,y=0;y<m;y++){var b=p[y],O=a[a.length-1],A=this.parseNode(b,t);if(A.type==="textnode"){if((O==null?void 0:O.type)==="textnode"){O.content+=A.content;continue}if(!t.keepEmptyTextNodes){var R=b.nodeValue;if(R!=" "&&!R.trim())continue}}!A.tagName&&(0,r.isUndefined)(A.content)||a.push(A)}return a},parse:function(e,t,n){var a,p,m;n===void 0&&(n={});var y=(u==null?void 0:u.get("Config"))||{},b={html:[]},O=at(at({},i),n),A=at(at(at({},i.optionsHtml),{htmlType:((a=i.optionsHtml)===null||a===void 0?void 0:a.htmlType)||i.htmlType}),n),R=A.preParser,B=A.asDocument,Q=(0,r.isFunction)(R)?R(e,{editor:u==null?void 0:u.getEditor()}):e,le=(0,r.isFunction)(O.parserHtml)?O.parserHtml(Q,A):Dt(Q,A),ue=le,ke=le;B&&(ue=ke.documentElement,b.doctype=(0,nt.hy)(ke.doctype));var Be=ue.querySelectorAll("script"),He=Be.length,ot=(0,r.isUndefined)(y.allowScripts)?A.allowScripts:y.allowScripts;if(!ot)for(;He--;)(p=Be[He].parentNode)===null||p===void 0||p.removeChild(Be[He]);if((!A.allowUnsafeAttr||!A.allowUnsafeAttrValue)&&this.__sanitizeNode(ue,A),t){for(var Ot=ue.querySelectorAll("style"),Gt=Ot.length,er="";Gt--;)er=Ot[Gt].innerHTML+er,(m=Ot[Gt].parentNode)===null||m===void 0||m.removeChild(Ot[Gt]);er&&(b.css=t.parse(er))}u==null||u.trigger("".concat(jt,":root"),{input:Q,root:ue});var ft=[];if(B)b.head=this.parseNode(ke.head,O),b.root=this.parseNodeAttr(ue),ft=this.parseNode(ke.body,O);else{var Jt=this.parseNodes(ue,O);ft=Jt.length===1&&!O.returnArray?Jt[0]:Jt}return b.html=ft,u==null||u.trigger(jt,{input:Q,output:b}),b},__sanitizeNode:function(e,t){var n=this,a=e.attributes||[],p=e.childNodes||[],m=[];(0,r.each)(a,function(y){var b=y.nodeName||"",O=y.nodeValue||"";!t.allowUnsafeAttr&&b.startsWith("on")&&m.push(b),!t.allowUnsafeAttrValue&&O.startsWith("javascript:")&&m.push(b)}),m.map(function(y){return e.removeAttribute(y)}),(0,r.each)(p,function(y){return n.__sanitizeNode(y,t)})}}};const jr=Bt;var gr=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),pr=function(){return pr=Object.assign||function(u){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(u[n]=i[n])}return u},pr.apply(this,arguments)},sr=jr(),Jr=function(u){return(0,r.isArray)(u)?u[u.length-1]:u},Fr=function(u){gr(i,u);function i(){return u!==null&&u.apply(this,arguments)||this}return i.prototype.parseStyle=function(e){return sr.parseStyle(e)},i.prototype.extendStyle=function(e){return pr(pr({},this.getStyle()),e)},i.prototype.getStyle=function(e){var t=this.get("style")||{},n=pr({},t);return e&&(0,r.isString)(e)?n[e]:n},i.prototype.setStyle=function(e,t){var n=this;e===void 0&&(e={}),t===void 0&&(t={}),(0,r.isString)(e)&&(e=this.parseStyle(e));var a=this.getStyle(t);t.partial||t.avoidStore?(t.avoidStore=!0,e.__p=!0):delete e.__p;var p=pr({},e),m=pr({},p);(0,r.keys)(m).forEach(function(b){m[b]===""&&delete m[b]}),this.set("style",m,t);var y=(0,o.shallowDiff)(a,p);return delete y.__p,(0,r.keys)(y).forEach(function(b){var O=n.em;t.noEvent||(n.trigger("change:style:".concat(b)),O&&(O.trigger("styleable:change",n,b,t),O.trigger("styleable:change:".concat(b),n,b,t)))}),p},i.prototype.addStyle=function(e,t,n){var a;t===void 0&&(t=""),n===void 0&&(n={}),typeof e=="string"?e=(a={},a[e]=t,a):n=t||{},n.addStyle=e,e=this.extendStyle(e),this.setStyle(e,n)},i.prototype.removeStyle=function(e){var t=this.getStyle();delete t[e],this.setStyle(t)},i.prototype.styleToString=function(e){e===void 0&&(e={});var t=[],n=this.getStyle(e),a=e.important,p=function(y){var b=(0,r.isArray)(a)?a.indexOf(y)>=0:a,O=y.substring(0,2),A=O==="__";if(A)return"continue";var R=n[y],B=(0,r.isArray)(R)?R:[R];B.forEach(function(Q){var le="".concat(Q).concat(b?" !important":"");le&&t.push("".concat(y,":").concat(le,";"))})};for(var m in n)p(m);return t.join("")},i.prototype.getSelectors=function(){return this.get("selectors")||this.get("classes")},i.prototype.getSelectorsString=function(e){return this.selectorsToString?this.selectorsToString(e):this.getSelectors().getFullString()},i}(C.Hn);const Mn=Fr;var Zr=function(){return Zr=Object.assign||function(u){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(u[n]=i[n])}return u},Zr.apply(this,arguments)},Tr=function(u,i,e){if(e||arguments.length===2)for(var t=0,n=i.length,a;t<n;t++)(a||!(t in i))&&(a||(a=Array.prototype.slice.call(i,0,t)),a[t]=i[t]);return u.concat(a||Array.prototype.slice.call(i))},kt=function(u){return(0,r.isArray)(u.get(Dn))},hn=function(u){return!!u.get(Kr)},Mr=function(u){return!!(kt(u)||hn(u))},cn=function(u){var i=u.parent();return Mr(u)&&(!i||!Mr(i))},hr=function(u){u.__symbReady||(u.on("change",u.__upSymbProps),u.__symbReady=!0)},wn=function(u){var i=u.get(Kr);if(i&&(0,r.isString)(i)){var e=u.__getAllById()[i];e?(i=e,u.set(Kr,e)):i=0}return i||void 0},Kt=function(u){var i=u==null?void 0:u.get(Dn);return i&&(0,r.isArray)(i)&&(i.forEach(function(e,t){e&&(0,r.isString)(e)&&(i[t]=u.__getAllById()[e])}),i=i.filter(function(e){return e&&!(0,r.isString)(e)})),i||void 0},Lr=function(u,i){i===void 0&&(i="");var e=u==null?void 0:u.get(xo),t=i.split(":")[0],n=i!==t?[i,t]:[i];return e===!0||(0,r.isArray)(e)&&n.some(function(a){return e.indexOf(a)>=0})},I=function(u,i){i===void 0&&(i={});var e=[],t=i.changed;if(i.fromInstance||i.noPropagate||i.fromUndo||t&&Lr(u,t))return e;var n=Kt(u)||[],a=wn(u),p=a?Tr([a],Kt(a)||[],!0):n;return e=p.filter(function(m){return m!==u}).filter(function(m){return!(t&&Lr(m,t))}),e},ne=function(u,i){for(var e=u,t=u.parent(i);t&&Mr(t);)e=t,t=t.parent(i);return e},Ze=function(u,i){i===void 0&&(i={});var e=wn(u),t=e&&Kt(e);!i.skipRefs&&t&&e.set(Dn,t.filter(function(n){return n!==u})),u.set(Kr,0),u.components().forEach(function(n){return Ze(n,i)})},it=function(u,i,e,t){t===void 0&&(t={});var n=wn(u),a=Kt(u);!n&&!a||u.em.log(i,{model:u,toUp:e,context:"symbols",opts:t})},nr=function(u,i){i===void 0&&(i={});var e=u.changedAttributes()||{},t=e.attributes||{};if(delete e.status,delete e.open,delete e[Dn],delete e[Kr],delete e[xo],delete e.attributes,delete t.id,(0,o.isEmptyObj)(t)||(e.attributes=t),!(0,o.isEmptyObj)(e)){var n=I(u,i);(0,r.keys)(e).map(function(a){Lr(u,a)&&delete e[a]}),it(u,"props",n,{opts:i,changed:e}),n.forEach(function(a){var p=Zr({},e);(0,r.keys)(p).map(function(m){Lr(a,m)&&delete p[m]}),a.set(p,Zr({fromInstance:u},i))})}},Cr=function(u,i){i===void 0&&(i={});var e=I(u,i);it(u,"classes",e,{opts:i}),e.forEach(function(t){t.set("classes",u.get("classes"),{fromInstance:u})}),u.__changesUp(i)},Vr=function(u,i,e,t){var n=t||e||{},a=n.fromInstance,p=n.fromUndo,m={fromInstance:a,fromUndo:p},y=i.opt.temporary;if(t)if(t.add){var B=[],Q=!!Kt(u),O=I(u,Zr(Zr({},m),{changed:"components:add"}));if(O.length){var le=wn(i);B=Kt(le||i)||[],B=Tr([],B,!0),B.push(le||i)}!y&&it(u,"add",O,{opts:t,addedInstances:B.map(function(ft){return ft.cid}),added:i.cid}),O.forEach(function(ft){var Jt=ne(ft),cr=B.filter(function(Et){var Ji=ne(Et,{prev:1});return Jt&&Ji&&Ji===Jt})[0],qr=cr||i.clone({symbol:!0,symbolInv:Q});ft.append(qr,Zr({fromInstance:u},t))})}else{var ue=wn(i);if(ue&&!t.temporary&&ue.set(Dn,Kt(ue).filter(function(er){return er!==i})),!cn(i)&&!t.skipRefsUp){var ke="components:remove",Be=t.index,He=i.parent(),ot=Zr({fromInstance:i},t),Ot=cn(i),Gt=function(ft){var Jt=ft.parent();Jt&&!Lr(Jt,ke)&&ft.remove(ot)},O=Lr(He,ke)?[]:I(i,m);Ot&&(O=He&&I(He,Zr(Zr({},m),{changed:ke})),Gt=function(ft){var Jt=ft.components().at(Be);Jt&&Jt.remove(Zr({fromInstance:He},ot))}),!y&&it(u,"remove",O,{opts:t,removed:i.cid,isSymbNested:Ot}),O.forEach(Gt)}}else{var b=i,O=I(u,Zr(Zr({},m),{changed:"components:reset"})),A=b.models,R=new Set;it(u,"reset",O,{components:A}),O.forEach(function(er){var ft=er.components(),Jt=A.map(function(cr,qr){return!Mr(cr)||R.has(cr)?(R.add(cr),cr.clone({symbol:!0})):ft.at(qr)});ft.reset(Jt,Zr({fromInstance:u},e))})}u.__changesUp(n)},Ft=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),dn=function(){return dn=Object.assign||function(u){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(u[n]=i[n])}return u},dn.apply(this,arguments)},ia=function(u,i){var e={};for(var t in u)Object.prototype.hasOwnProperty.call(u,t)&&i.indexOf(t)<0&&(e[t]=u[t]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(u);n<t.length;n++)i.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(u,t[n])&&(e[t[n]]=u[t[n]]);return e},_s=function(u,i,e){if(e||arguments.length===2)for(var t=0,n=i.length,a;t<n;t++)(a||!(t in i))&&(a||(a=Array.prototype.slice.call(i,0,t)),a[t]=i[t]);return u.concat(a||Array.prototype.slice.call(i))},ci=function(u,i){if(i===void 0&&(i=[]),!u)return[];var e=(0,r.isArray)(u)||(0,r.isFunction)(u.map)?u:[u];return e.map(function(t){i.push(t.getId()),ci(t.components().models,i)}),i},cl=function(u,i,e){i===void 0&&(i={}),e===void 0&&(e={}),e.visitedCmps=e.visitedCmps||{};var t=e.visitedCmps,n=(0,r.isArray)(u)?u:[u];return n.map(function(a){var p=a.attributes,m=p===void 0?{}:p,y=a.components,b=a.tagName,O=a.style,A=m.id;m.draggable;var R=ia(m,["id","draggable"]),B=a;if(A){if(t[A])t[A].push(B),A=$n.getNewId(i),B.attributes.id=A;else if(t[A]=[],i[A]){B=i[A];var Q=B;b&&Q.set({tagName:b},dn(dn({},e),{silent:!0})),(0,r.keys)(R).length&&Q.addAttributes(R,dn({},e)),(0,r.keys)(O).length&&Q.addStyle(O,e)}}if(y){var le=cl(y,i);if((0,r.isFunction)(B.components)){var ue=B.components();ue.length>0&&ue.reset(le,e)}else B.components=le}return B})},Cu=function(u){Ft(i,u);function i(e,t){var n=u.call(this,e,t)||this;n.opt=t,n.listenTo(n,"add",n.onAdd),n.listenTo(n,"remove",n.removeChildren),n.listenTo(n,"reset",n.resetChildren);var a=t.em,p=t.config;return n.config=p,n.em=a,n.domc=t.domc||(a==null?void 0:a.Components),n}return Object.defineProperty(i.prototype,"events",{get:function(){var e;return(e=this.domc)===null||e===void 0?void 0:e.events},enumerable:!1,configurable:!0}),i.prototype.resetChildren=function(e,t){var n=this;t===void 0&&(t={});var a=this,p=t.previousModels||[],m=p.filter(function(O){return!e.get(O.cid)}),y=ci(e),b=ci(p).filter(function(O){return y.indexOf(O)>=0});t.keepIds=(t.keepIds||[]).concat(b),m.forEach(function(O){return n.removeChildren(O,a,t)}),e.each(function(O){return n.onAdd(O)})},i.prototype.resetFromString=function(e,t){var n,a;e===void 0&&(e=""),t===void 0&&(t={}),t.keepIds=ci(this);var p=this,m=p.domc,y=p.em,b=p.parent,O=y==null?void 0:y.Css,A=(m==null?void 0:m.allById())||{},R=this.parseString(e,t),B=cl(R,A,t),Q=t.visitedCmps,le=Q===void 0?{}:Q;Object.keys(le).forEach(function(ue){var ke=le[ue];if(ke.length){var Be=(O==null?void 0:O.getRules("#".concat(ue)))||[];Be.length&&ke.forEach(function(He){Be.forEach(function(ot){var Ot=ot.clone();Ot.set("selectors",["#".concat(He.attributes.id)]),O.getAll().add(Ot)})})}}),this.reset(B,t),y==null||y.trigger("component:content",b,t,e),(a=(n=b).__checkInnerChilds)===null||a===void 0||a.call(n)},i.prototype.removeChildren=function(e,t,n){var a=this;if(n===void 0&&(n={}),!!e){var p=this,m=p.domc,y=p.em,b=n.temporary||n.fromUndo;if(e.prevColl=this,!b){var O=e.getId(),A=y.Selectors.getAll(),R=y.Css.getAll(),B=(n.keepIds||[]).indexOf(O)<0,Q=m?m.allById():{};delete Q[O];var le=B?R.remove(R.filter(function(Be){return Be.getSelectors().getFullString()==="#".concat(O)}),n):[];A.remove(le.map(function(Be){return Be.getSelectors().at(0)})),e.opt.temporary||(y.Commands.run("core:component-style-clear",{target:e}),e.removed(),e.trigger("removed"),y.trigger(zt.g.remove,e),m&&hn(e)&&cn(e)&&m.symbols.__trgEvent(m.events.symbolInstanceRemove,{component:e},!0));var ue=e.components();ue.forEach(function(Be){Vr(Be,Be,ue,dn(dn({},n),{skipRefsUp:!0})),a.removeChildren(Be,t,n)})}var ke=e.components();y.stopListening(ke),y.stopListening(e),y.stopListening(e.get("classes")),e.__postRemove()}},i.prototype.model=function(e,t){var n=t.collection.opt,a=n.em,p,m=a.Components.componentTypes;t.em=a,t.config=n.config,t.componentTypes=m,t.domc=n.domc;for(var y=0;y<m.length;y++){var b=m[y].id;if(b==e.type){p=m[y].model;break}}return p||(p=m[m.length-1].model,a&&e.type&&a.logWarning("Component type '".concat(e.type,"' not found"),{attrs:e,options:t})),new p(e,t)},i.prototype.parseString=function(e,t){t===void 0&&(t={});var n=this,a=n.em,p=n.domc,m=n.parent,y=t.asDocument&&(m==null?void 0:m.is("wrapper")),b=a.Css,O=a.Parser.parseHtml(e,{asDocument:y}),A=O.html;if(y){var R=m,B=O.html||{},Q=B.components,le=ia(B,["components"]),ue=O.head||{},ke=ue.components,Be=ia(ue,["components"]);A=Q,R.set(le,t),R.head.set(Be,t),R.head.components(ke,t),R.docEl.set(O.root,t),R.set({doctype:O.doctype})}if($n.checkId(A,O.css,p.componentsById,t),O.css&&b&&!t.temporary){t.at;var He=ia(t,["at"]);b.addCollection(O.css,dn(dn({},He),{extend:1}))}return A},i.prototype.add=function(e,t){var n=this;if(t===void 0&&(t={}),e!=null){t.keepIds=_s(_s([],t.keepIds||[],!0),ci(t.previousModels),!0),(0,r.isString)(e)?e=this.parseString(e,t):(0,r.isArray)(e)&&e.forEach(function(p,m){if((0,r.isString)(p)){var y=n.parseString(p,t);e[m]=(0,r.isArray)(y)&&!y.length?null:y}});var a=((0,r.isArray)(e)?e:[e]).filter(Boolean).map(function(p){return n.processDef(p)});return e=(0,r.isArray)(e)?(0,r.flatten)(a,1):a[0],u.prototype.add.call(this,e,t)}},i.prototype.processDef=function(e){if(e.cid&&e.ccid)return e;var t=this,n=t.em,a=t.config,p=a===void 0?{}:a,m=p.processor,y=e;if(m){y=dn({},y);var b=m(y);b&&((0,r.each)(y,function(ue,ke){return delete y[ke]}),(0,r.extend)(y,b))}if(y.$$typeof&&typeof y.props=="object"){y=dn({},y),y.props=dn({},y.props);var O=n.Components,A=n.Parser,R=A.parserHtml;(0,r.each)(y,function(ue,ke){(0,r.includes)(["props","type"],ke)||delete y[ke]});var B=y.props,Q=B.children;delete B.children,delete y.props;var le=R.splitPropsFromAttr(B);y.attributes=le.attrs,Q&&(y.components=Q),y.type?O.getType(y.type)||(y.tagName=y.type,delete y.type):y.type="textnode",(0,r.extend)(y,le.props)}return y},i.prototype.onAdd=function(e,t,n){n===void 0&&(n={});var a=this,p=a.domc,m=a.em,y=e.getStyle(),b=m&&m.getConfig().avoidInlineStyle;if(p&&p.Component.ensureInList(e),!(0,r.isEmpty)(y)&&!b&&m&&m.getConfig().forceClass&&!n.temporary){var O=e.cid;m.Css.setClassRule(O,y),e.setStyle({}),e.addClass(O)}if(e.__postAdd({recursive:!0}),m&&!n.temporary){var A=function(R){m.trigger(zt.g.add,R,n),R.components().forEach(function(B){return A(B)})};A(e),p&&hn(e)&&cn(e)&&p.symbols.__trgEvent(p.events.symbolInstanceAdd,{component:e},!0)}},i}(C.FE);const _o=Cu;var fl=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ka=1,Aa=2,bs=function(u){fl(i,u);function i(e,t){t===void 0&&(t={});var n=u.call(this,e,t)||this,a=t.config,p=a===void 0?{}:a,m=n.get("name"),y=n.get("label");m?y||n.set("label",m):n.set("name",y);var b=n.get("name"),O=p.escapeName,A=O?O(b):i.escapeName(b);return n.set("name",A),n.em=t.em,n}return i.prototype.defaults=function(){return{name:"",label:"",type:ka,active:!0,private:!1,protected:!1,_undo:!0}},i.prototype.isId=function(){return this.get("type")===Aa},i.prototype.isClass=function(){return this.get("type")===ka},i.prototype.getFullName=function(e){e===void 0&&(e={});var t=e.escape,n=this.get("name"),a="";switch(this.get("type")){case ka:a=".";break;case Aa:a="#";break}return a+(t?t(n):n)},i.prototype.toString=function(){return this.getFullName()},i.prototype.getName=function(){return this.get("name")||""},i.prototype.getLabel=function(){return this.get("label")||""},i.prototype.setLabel=function(e){return this.set("label",e)},i.prototype.getActive=function(){return!!this.get("active")},i.prototype.setActive=function(e){return this.set("active",e)},i.prototype.toJSON=function(e){e===void 0&&(e={});var t=this.em,n=C.Hn.prototype.toJSON.call(this,[e]),a=(0,r.result)(this,"defaults");if(t&&t.getConfig().avoidDefaults){(0,r.forEach)(a,function(m,y){n[y]===m&&delete n[y]}),n.label===n.name&&delete n.label;var p=(0,r.keys)(n).length;p===1&&n.name&&(n=n.name),p===2&&n.name&&n.type&&(n=this.getFullName())}return n},i.escapeName=function(e){return"".concat(e).trim().replace(/([^a-z0-9\w\-\\:@\\/#()\.%\+\[\]]+)/gi,"-")},i.TYPE_CLASS=ka,i.TYPE_ID=Aa,i}(C.Hn);const Tn=bs;bs.prototype.idAttribute="name";var dl=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),fi=function(u,i){return u.reduce(function(e,t,n){return e.concat(fi(u.slice(n+1),"".concat(i).concat(t)))},[i])},Bo=function(u){dl(i,u);function i(){return u!==null&&u.apply(this,arguments)||this}return i.prototype.modelId=function(e){return"".concat(e.name,"_").concat(e.type||Tn.TYPE_CLASS)},i.prototype.getStyleable=function(){return(0,r.filter)(this.models,function(e){return e.getActive()&&!e.get("private")})},i.prototype.getValid=function(e){var t=e===void 0?{}:e,n=t.noDisabled;return(0,r.filter)(this.models,function(a){return!a.get("private")}).filter(function(a){return n?a.get("active"):1})},i.prototype.getFullString=function(e,t){t===void 0&&(t={});var n=[],a=e||this;return a.forEach(function(p){return n.push(p.getFullName(t))}),t.sort&&n.sort(),n.join("").trim()},i.prototype.getFullName=function(e){e===void 0&&(e={});var t=e.combination,n=e.array,a=[],p=this.map(function(m){return m.getFullName(e)}).sort();return t?p.forEach(function(m,y){a=a.concat(fi(p.slice(y+1),m))}):a=p,n?a:t?a.join(","):a.join("")},i}(C.FE);const bo=Bo;Bo.prototype.model=Tn;var Ou=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Ii=function(u,i,e){if(e||arguments.length===2)for(var t=0,n=i.length,a;t<n;t++)(a||!(t in i))&&(a||(a=Array.prototype.slice.call(i,0,t)),a[t]=i[t]);return u.concat(a||Array.prototype.slice.call(i))},qc=function(u){Ou(i,u);function i(){return u!==null&&u.apply(this,arguments)||this}return i.prototype.defaults=function(){return{id:"",label:"",open:!0,attributes:{}}},i.prototype.getId=function(){return this.get("id")},i.prototype.getLabel=function(){return this.get("label")},i}(C.Hn);const La=qc;function Ma(u){var i=new Set,e=new Map,t={items:[]};u.forEach(function(a){var p=a.category;if(p){i.add(p);var m=e.get(p);m?m.push(a):e.set(p,[a])}else t.items.push(a)});var n=Array.from(i).map(function(a){return{category:a,items:e.get(a)||[]}});return Ii(Ii([],n,!0),[t],!1)}var Da=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),xs="category",Eu=function(u){Da(i,u);function i(){return u!==null&&u.apply(this,arguments)||this}return i.prototype.initCategory=function(e){var t=e.get(xs),n=t instanceof La;if(t&&!n){(0,r.isString)(t)?t={id:t,label:t}:(0,o.isObject)(t)&&!t.id&&(t.id=t.label);var a=this.getCategories().add(t);return e.set(xs,a,{silent:!0}),a}else if(n){var a=t;return this.getCategories().add(a),a}},i}(C.FE),Yc=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),pl=function(u){Yc(i,u);function i(e,t){t===void 0&&(t={});var n=u.call(this,e,t)||this,a=t.events,p=t.em,m=a==null?void 0:a.update;return p&&m&&n.on("change",function(y,b){return p.trigger(m,{category:y,changes:y.changedAttributes(),options:b})}),n}return i.prototype.add=function(e,t){var n=(0,r.isArray)(e)?e:[e];return n.forEach(function(a){return a&&(a.id=(0,o.normalizeKey)("".concat(a.id)))}),u.prototype.add.call(this,e,t)},i.prototype.get=function(e){return u.prototype.get.call(this,(0,r.isString)(e)?(0,o.normalizeKey)(e):e)},i}(C.FE);const oa=pl;pl.prototype.model=La;var aa;(function(u){u.select="trait:select",u.value="trait:value",u.categoryUpdate="trait:category:update",u.custom="trait:custom",u.all="trait"})(aa||(aa={}));const hl=aa;var Ss=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),sa=function(){return sa=Object.assign||function(u){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(u[n]=i[n])}return u},sa.apply(this,arguments)},Ra=function(u){Ss(i,u);function i(e,t){var n=u.call(this,e)||this,a=n.attributes,p=a.target,m=a.name;return!n.get("id")&&n.set("id",m),p&&n.setTarget(p),n.em=t,n}return i.prototype.defaults=function(){return{type:"text",label:"",name:"",unit:"",step:1,value:"",default:"",placeholder:"",category:"",changeProp:!1,options:[]}},Object.defineProperty(i.prototype,"parent",{get:function(){return this.collection},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"category",{get:function(){var e=this.get("category");return e instanceof La?e:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"component",{get:function(){return this.target},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"changeProp",{get:function(){return!!this.get("changeProp")},enumerable:!1,configurable:!0}),i.prototype.setTarget=function(e){if(e){var t=this.attributes,n=t.name,a=t.changeProp,p=t.value,m=t.getValue;this.target=e,this.unset("target");var y=a?"change:".concat(n):"change:attributes:".concat(n);this.listenTo(e,y,this.targetUpdated);var b=p||(m?void 0:this.getValue());!(0,r.isUndefined)(b)&&this.set({value:b},{silent:!0})}},i.prototype.getId=function(){return this.get("id")},i.prototype.getType=function(){return this.get("type")},i.prototype.getName=function(){return this.get("name")},i.prototype.getLabel=function(e){var t;e===void 0&&(e={});var n=e.locale,a=n===void 0?!0:n,p=this.getId(),m=this.get("label")||this.getName();return a&&((t=this.em)===null||t===void 0?void 0:t.t("traitManager.traits.labels.".concat(p)))||m},i.prototype.getValue=function(e){return this.getTargetValue(e)},i.prototype.setValue=function(e,t){var n=this;t===void 0&&(t={});var a=this,p=a.component,m=a.em,y=t.partial,b={},O=this.attributes.setValue;if(O){O({value:e,component:p,editor:m==null?void 0:m.getEditor(),trait:this,partial:!!y,options:t,emitUpdate:function(){return n.targetUpdated()}});return}y&&(b.avoidStore=!0),this.setTargetValue(e,b)},i.prototype.getDefault=function(){return this.get("default")},i.prototype.getOptions=function(){return this.get("options")||[]},i.prototype.getOption=function(e){var t=this,n=(0,o.isDef)(e)?e:this.getValue();return this.getOptions().filter(function(a){return t.getOptionId(a)===n})[0]},i.prototype.getOptionId=function(e){return e.id||e.value},i.prototype.getOptionLabel=function(e,t){var n;t===void 0&&(t={});var a=t.locale,p=a===void 0?!0:a,m=(0,r.isString)(e)?this.getOption(e):e,y=this.getOptionId(m),b=m.label||m.name||y,O=this.getName();return p&&((n=this.em)===null||n===void 0?void 0:n.t("traitManager.traits.options.".concat(O,".").concat(y)))||b},i.prototype.getCategoryLabel=function(e){e===void 0&&(e={});var t=this,n=t.em,a=t.category,p=e.locale,m=p===void 0?!0:p,y=a==null?void 0:a.getId(),b=a==null?void 0:a.getLabel();return m&&(n==null?void 0:n.t("traitManager.categories.".concat(y)))||b||""},i.prototype.runCommand=function(){var e=this.em,t=this.attributes.command;if(t&&e)return(0,r.isString)(t)?e.Commands.run(t):t(e.Editor,this)},i.prototype.props=function(){return this.attributes},i.prototype.targetUpdated=function(){var e=this,t=e.component,n=e.em,a=this.getTargetValue({useType:!0});this.set({value:a},{fromTarget:1});var p={trait:this,component:t,value:a};t.trigger(hl.value,p),n==null||n.trigger(hl.value,p),n==null||n.trigger("trait:update",p)},i.prototype.getTargetValue=function(e){e===void 0&&(e={});var t=this,n=t.component,a=t.em,p=this.getName(),m=this.get("getValue"),y;if(m?y=m({editor:a==null?void 0:a.getEditor(),trait:this,component:n}):this.changeProp?y=n.get(p):y=n.getAttributes()[p],e.useType){var b=this.getType();if(b==="checkbox"){var O=this.attributes,A=O.valueTrue,R=O.valueFalse;!(0,r.isUndefined)(A)&&A===y?y=!0:!(0,r.isUndefined)(R)&&R===y&&(y=!1)}}return(0,r.isUndefined)(y)?"":y},i.prototype.setTargetValue=function(e,t){var n;t===void 0&&(t={});var a=this,p=a.component,m=a.attributes,y=this.getName();if(!(0,r.isUndefined)(e)){var b=e;if(e==="false"?b=!1:e==="true"&&(b=!0),this.getType()==="checkbox"){var O=m.valueTrue,A=m.valueFalse;b&&!(0,r.isUndefined)(O)&&(b=O),!b&&!(0,r.isUndefined)(A)&&(b=A)}var R=(n={},n[y]=b,n);R.__p=t.avoidStore?null:void 0,this.changeProp?p.set(R,t):p.addAttributes(R,t)}},i.prototype.setValueFromInput=function(e,t,n){t===void 0&&(t=!0),n===void 0&&(n={});var a={value:e};this.set(a,sa(sa({},n),{avoidStore:1})),t&&(this.set("value","",n),this.set(a,n))},i.prototype.getInitValue=function(){var e=this.component,t=this.getName(),n;if(e){var a=e.get("attributes");n=this.changeProp?e.get(t):a[t]}return n||this.get("value")||this.get("default")},i}(C.Hn);const Ho=Ra;var Cs=function(){function u(i){i===void 0&&(i={}),this.config=i}return u.prototype.build=function(i,e){return(0,r.isString)(i)?this.buildFromString(i,e):new Ho(i,e)},u.prototype.buildFromString=function(i,e){var t={name:i,type:"text"};switch(i){case"target":t.type="select",t.default=!1,t.options=this.config.optionsTarget;break}return new Ho(t,e)},u}();const Tu=Cs;var Na=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Os=function(u){Na(i,u);function i(e,t){var n=u.call(this,e)||this;n.categories=new oa;var a=t.em;n.em=a,n.categories=new oa([],{em:a,events:{update:hl.categoryUpdate}}),n.on("add",n.handleAdd),n.on("reset",n.handleReset);var p=n.module,m=p==null?void 0:p.getConfig();return n.tf=new Tu(m),n}return Object.defineProperty(i.prototype,"module",{get:function(){return this.em.Traits},enumerable:!1,configurable:!0}),i.prototype.getCategories=function(){return this.categories},i.prototype.handleReset=function(e,t){var n=t===void 0?{}:t,a=n.previousModels,p=a===void 0?[]:a;p.forEach(function(m){return m.trigger("remove")})},i.prototype.handleAdd=function(e){e.em=this.em;var t=this.target;t&&(e.target=t),this.initCategory(e)},i.prototype.setTarget=function(e){this.target=e,this.models.forEach(function(t){return t.setTarget(e)})},i.prototype.add=function(e,t){if(e!=null){var n=this,a=n.target,p=n.em;if((0,r.isArray)(e)){for(var m=[],y=0,b=e.length;y<b;y++){var O=e[y];m[y]=O instanceof Ho?O:this.tf.build(O,p),m[y].setTarget(a)}return u.prototype.add.call(this,m,t)}var A=e instanceof Ho?e:this.tf.build(e,p);return A.setTarget(a),u.prototype.add.call(this,A,t)}},i}(Eu);const bi=Os;var so=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Or=function(){return Or=Object.assign||function(u){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(u[n]=i[n])}return u},Or.apply(this,arguments)},ja=function(u,i){var e={};for(var t in u)Object.prototype.hasOwnProperty.call(u,t)&&i.indexOf(t)<0&&(e[t]=u[t]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(u);n<t.length;n++)i.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(u,t[n])&&(e[t[n]]=u[t[n]]);return e},xi=function(u,i,e){if(e||arguments.length===2)for(var t=0,n=i.length,a;t<n;t++)(a||!(t in i))&&(a||(a=Array.prototype.slice.call(i,0,t)),a[t]=i[t]);return u.concat(a||Array.prototype.slice.call(i))},$i=function(u){return u.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")},la=function(u){return!!(u!=null&&u.getConfig().avoidInlineStyle)},ki="component:drag",Dn="__symbols",Kr="__symbol",xo="__symbol_ovrd",So=zt.g.update,Co=zt.g.updateInside,Pu=function(u){so(i,u);function i(e,t){e===void 0&&(e={});var n=u.call(this,e,t)||this;(0,r.bindAll)(n,"__upSymbProps","__upSymbCls","__upSymbComps");var a=t.em,p=n.parent(),m=p==null?void 0:p.attributes,y=n.get("propagate");if(y&&n.set("propagate",(0,r.isArray)(y)?y:[y]),m&&m.propagate&&!y){var b={},O=m.propagate;O.forEach(function(le){return b[le]=p.get(le)}),b.propagate=O,n.set(Or(Or({},b),e))}if(t&&t.config&&t.config.voidElements.indexOf(n.get("tagName"))>=0&&n.set("void",!0),t.em=a,n.opt=t,n.em=a,n.frame=t.frame,n.config=t.config||{},n.set("attributes",Or(Or({},(0,r.result)(n,"defaults").attributes||{}),n.get("attributes")||{})),n.ccid=i.createId(n,t),n.initClasses(),n.initComponents(),n.initTraits(),n.initToolbar(),n.initScriptProps(),n.listenTo(n,"change:script",n.scriptUpdated),n.listenTo(n,"change:tagName",n.tagUpdated),n.listenTo(n,"change:attributes",n.attrUpdated),n.listenTo(n,"change:attributes:id",n._idUpdated),n.on("change:toolbar",n.__emitUpdateTlb),n.on("change",n.__onChange),n.on(Co,n.__propToParent),n.set("status",""),n.views=[],["classes","traits","components"].forEach(function(le){var ue="add remove ".concat(le!=="components"?"change":"");n.listenTo(n.get(le),ue.trim(),function(){for(var ke=[],Be=0;Be<arguments.length;Be++)ke[Be]=arguments[Be];return n.emitUpdate.apply(n,xi([le],ke,!1))})}),!t.temporary){var A=a&&a.Css,R=n.attributes,B=R.styles,Q=R.type;B&&A&&A.addCollection(B,{avoidUpdateStyle:!0},{group:"cmp:".concat(Q)}),n.__postAdd(),n.init(),Mr(n)&&hr(n),a==null||a.trigger(zt.g.create,n,t)}return n}return Object.defineProperty(i.prototype,"defaults",{get:function(){var e;return e={tagName:"div",type:"",name:"",removable:!0,draggable:!0,droppable:!0,badgable:!0,stylable:!0,"stylable-require":"","style-signature":"",unstylable:"",highlightable:!0,copyable:!0,resizable:!1,editable:!1,layerable:!0,selectable:!0,hoverable:!0,void:!1,state:"",status:"",content:"",icon:"",style:"",styles:"",classes:"",script:"","script-props":"","script-export":"",attributes:{},traits:["id","title"],propagate:"",dmode:"",toolbar:null,delegate:null},e[Kr]=0,e[Dn]=0,e[xo]=0,e._undo=!0,e._undoexc=["status","open"],e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"tagName",{get:function(){return this.get("tagName")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"classes",{get:function(){return this.get("classes")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"traits",{get:function(){return this.get("traits")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"content",{get:function(){var e;return(e=this.get("content"))!==null&&e!==void 0?e:""},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"toolbar",{get:function(){return this.get("toolbar")||[]},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"resizable",{get:function(){return this.get("resizable")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"delegate",{get:function(){return this.get("delegate")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"locked",{get:function(){return this.get("locked")},enumerable:!1,configurable:!0}),i.prototype.init=function(){},i.prototype.updated=function(e,t,n){},i.prototype.removed=function(){},i.prototype.__postAdd=function(e){e===void 0&&(e={});var t=this.em,n=t==null?void 0:t.UndoManager,a=this.components();n&&!this.__hasUm&&(n.add(a),n.add(this.getSelectors()),this.__hasUm=!0),e.recursive&&a.map(function(p){return p.__postAdd(e)})},i.prototype.__postRemove=function(){var e=this.em,t=e==null?void 0:e.UndoManager;t&&(t.remove(this.components()),t.remove(this.getSelectors()),delete this.__hasUm)},i.prototype.__onChange=function(e,t){var n=this,a=this.changedAttributes()||{};(0,r.keys)(a).forEach(function(p){return n.emitUpdate(p)}),["status","open","toolbar","traits"].forEach(function(p){return delete a[p]}),(0,o.isEmptyObj)(a)||(this.__changesUp(t),this.__propSelfToParent({component:this,changed:a,options:t}))},i.prototype.__onStyleChange=function(e){var t=this,n=this.em;if(n){var a="component:styleUpdate",p=(0,r.keys)(e),m={style:e};n.trigger(a,this,m),p.forEach(function(y){return n.trigger("".concat(a,":").concat(y),t,m)})}},i.prototype.__changesUp=function(e){var t=this,n=t.em,a=t.frame;[a,n].forEach(function(p){return p&&p.changesUp(e)})},i.prototype.__propSelfToParent=function(e){this.trigger(So,e),this.__propToParent(e)},i.prototype.__propToParent=function(e){var t=this.parent();t&&t.trigger(Co,e)},i.prototype.__emitUpdateTlb=function(){this.emitUpdate("toolbar")},i.prototype.__getAllById=function(){var e=this.em;return e?e.Components.allById():{}},i.prototype.__upSymbProps=function(e,t){t===void 0&&(t={}),nr(this,t)},i.prototype.__upSymbCls=function(e,t,n){n===void 0&&(n={}),Cr(this,n)},i.prototype.__upSymbComps=function(e,t,n){Vr(this,e,t,n)},i.prototype.is=function(e){return this.get("type")==e},i.prototype.props=function(){return this.attributes},i.prototype.index=function(){var e=this.collection;return e?e.indexOf(this):0},i.prototype.setDragMode=function(e){return this.set("dmode",e)},i.prototype.getDragMode=function(){return this.get("dmode")||""},i.prototype.setSymbolOverride=function(e){var t;this.set(xo,(t=(0,r.isString)(e)?[e]:e)!==null&&t!==void 0?t:0)},i.prototype.getSymbolOverride=function(){return this.get(xo)},i.prototype.find=function(e){var t,n=[],a=(t=this.view)===null||t===void 0?void 0:t.$el.find(e);return a==null||a.each(function(p){var m=a.eq(p),y=m.data("model");y&&n.push(y)}),n},i.prototype.findType=function(e){var t=[],n=function(a){return a.forEach(function(p){p.is(e)&&t.push(p),n(p.components())})};return n(this.components()),t},i.prototype.closest=function(e){var t,n=(t=this.view)===null||t===void 0?void 0:t.$el.closest(e);return n!=null&&n.length?n.data("model"):void 0},i.prototype.closestType=function(e){for(var t=this.parent();t&&!t.is(e);)t=t.parent();return t},i.prototype.contains=function(e){var t=!1;if(!e)return t;var n=function(a){!t&&a.forEach(function(p){p===e&&(t=!0),!t&&n(p.components())})};return n(this.components()),t},i.prototype.tagUpdated=function(){this.trigger("rerender")},i.prototype.replaceWith=function(e,t){t===void 0&&(t={});var n=this.collection,a=n.indexOf(this);n.remove(this);var p=n.add(e,Or(Or({},t),{at:a}));return(0,r.isArray)(p)?p:[p]},i.prototype.attrUpdated=function(e,t,n){var a=this;n===void 0&&(n={});var p=this.get("attributes"),m=p.class;m&&this.setClass(m),delete p.class;var y=p.style;y&&this.setStyle(y,n),delete p.style;var b=Or({},this.previous("attributes")),O=(0,o.shallowDiff)(b,this.get("attributes"));(0,r.keys)(O).forEach(function(A){var R,B="attributes:".concat(A);a.trigger("change:".concat(B),a,O[A],n),(R=a.em)===null||R===void 0||R.trigger("".concat(So,":").concat(B),a,O[A],n)})},i.prototype.setAttributes=function(e,t){return t===void 0&&(t={}),this.set("attributes",Or({},e),t),this},i.prototype.addAttributes=function(e,t){return t===void 0&&(t={}),this.setAttributes(Or(Or({},this.getAttributes({noClass:!0})),e),t)},i.prototype.removeAttributes=function(e,t){e===void 0&&(e=[]),t===void 0&&(t={});var n=Array.isArray(e)?e:[e],a=this.getAttributes();return n.map(function(p){return delete a[p]}),this.setAttributes(a,t)},i.prototype.getStyle=function(e,t){e===void 0&&(e={}),t===void 0&&(t={});var n=this.em,a=(0,r.isString)(e)?e:"",p=a?t:e;if(la(n)&&!p.inline){var m=n.get("state"),y=n.Css,b=y.getIdRule(this.getId(),Or({state:m},p));return this.rule=b,b?b.getStyle(a):{}}return u.prototype.getStyle.call(this,a)},i.prototype.setStyle=function(e,t){var n=this;e===void 0&&(e={}),t===void 0&&(t={});var a=this,p=a.opt,m=a.em;if(la(m)&&!p.temporary&&!t.inline){var y=this.get("style")||{};e=(0,r.isString)(e)?this.parseStyle(e):e,e=Or(Or({},e),y);var b=m.get("state"),O=m.Css,A=this.getStyle(t);this.rule=O.setIdRule(this.getId(),e,Or({state:b},t));var R=(0,o.shallowDiff)(A,e);this.set("style","",{silent:!0}),(0,r.keys)(R).forEach(function(B){return n.trigger("change:style:".concat(B))})}else e=u.prototype.setStyle.apply(this,arguments);return p.temporary||this.__onStyleChange(t.addStyle||e),e},i.prototype.getAttributes=function(e){e===void 0&&(e={});var t=this.em,n=[],a=Or({},this.get("attributes")),p=t==null?void 0:t.Selectors,m=this.getId();if(e.noClass?delete a.class:(this.classes.forEach(function(O){return n.push((0,r.isString)(O)?O:O.getName())}),n.length&&(a.class=n.join(" "))),!e.noStyle){var y=this.getStyle({inline:!0});(0,o.isObject)(y)&&!(0,o.isEmptyObj)(y)&&(a.style=this.styleToString({inline:!0}))}if(!(0,r.has)(a,"id")){var b=!1;(la(t)||!(0,r.isEmpty)(this.getStyle()))&&(b=!!(p!=null&&p.get(m,p.Selector.TYPE_ID))),(Mr(this)||this.get("script-export")||this.get("script"))&&(b=!0),b&&(a.id=m)}return a},i.prototype.addClass=function(e){var t=this.em.Selectors.addClass(e);return this.classes.add(t)},i.prototype.setClass=function(e){return this.classes.reset(),this.addClass(e)},i.prototype.removeClass=function(e){var t=[];e=(0,r.isArray)(e)?e:[e];var n=this.classes,a=Tn.TYPE_CLASS;return e.forEach(function(p){var m=p.split(" ");m.forEach(function(y){var b=n.where({name:y,type:a})[0];b&&t.push(n.remove(b))})}),t},i.prototype.getClasses=function(){var e=this.getAttributes(),t=e.class;return t?t.split(" "):[]},i.prototype.initClasses=function(e,t,n){n===void 0&&(n={});var a="change:classes",p=this.get("attributes")||{},m=p.class,y=ja(p,["class"]),b=[this,a,this.initClasses],O=this.get("classes")||m||[],A=(0,r.isString)(O)?O.split(" "):O;this.stopListening.apply(this,b);var R=this.normalizeClasses(A),B=new bo([]);return this.set("classes",B,n),B.add(R),B.on("add remove reset",this.__upSymbCls),m&&R.length&&this.set("attributes",y),this.listenTo.apply(this,b),this},i.prototype.initComponents=function(){var e="change:components",t=[this,e,this.initComponents];this.stopListening.apply(this,t);var n=new _o([],this.opt);n.parent=this;var a=this.get("components"),p=!this.opt.avoidChildren;return this.set("components",n),p&&a&&n.add((0,r.isFunction)(a)?a(this):a,this.opt),n.on("add remove reset",this.__upSymbComps),this.listenTo.apply(this,t),this},i.prototype.initTraits=function(e){var t=this.em,n="change:traits";this.off(n,this.initTraits),this.__loadTraits();var a=Or({},this.get("attributes")),p=this.traits;return p.each(function(m){if(!m.changeProp){var y=m.getName(),b=m.getInitValue();y&&b&&(a[y]=b)}}),p.length&&this.set("attributes",a),this.on(n,this.initTraits),e&&t&&t.trigger("component:toggled"),this},i.prototype.initScriptProps=function(){if(!this.opt.temporary){var e="script-props",t=["change:".concat(e),this.initScriptProps];this.off.apply(this,t);var n=this.previous(e)||[],a=this.get(e)||[],p=n.map(function(y){return"change:".concat(y)}).join(" "),m=a.map(function(y){return"change:".concat(y)}).join(" ");p&&this.off(p,this.__scriptPropsChange),m&&this.on(m,this.__scriptPropsChange),this.on.apply(this,t)}},i.prototype.__scriptPropsChange=function(e,t,n){n===void 0&&(n={}),!n.avoidStore&&this.trigger("rerender")},i.prototype.append=function(e,t){t===void 0&&(t={});var n=(0,r.isArray)(e)?xi([],e,!0):[e],a=n.map(function(m){return(0,r.isString)(m)||m.collection&&m.collection.remove(m,{temporary:!0}),m}),p=this.components().add(a,Or({action:zt.W.add},t));return(0,r.isArray)(p)?p:[p]},i.prototype.components=function(e,t){t===void 0&&(t={});var n=this.get("components");return(0,r.isUndefined)(e)?n:(n.reset(void 0,t),e?this.append(e,t):[])},i.prototype.getChildAt=function(e){return this.components().at(e||0)||void 0},i.prototype.getLastChild=function(){var e=this.components();return e.at(e.length-1)||null},i.prototype.empty=function(e){return e===void 0&&(e={}),this.components().reset(void 0,e),this},i.prototype.parent=function(e){e===void 0&&(e={});var t=this.collection||e.prev&&this.prevColl;return t?t.parent:void 0},i.prototype.parents=function(){var e=this.parent();return e?[e].concat(e.parents()):[]},i.prototype.scriptUpdated=function(){this.set("scriptUpdated",1)},i.prototype.initToolbar=function(){var e=this.em,t=this,n=e&&e.getConfig().stylePrefix||"";if(!t.get("toolbar")&&e){var a=[];t.collection&&a.push({label:e.getIcon("arrowUp"),command:function(p){return p.runCommand("core:component-exit",{force:1})}}),t.get("draggable")&&a.push({attributes:{class:"".concat(n,"no-touch-actions"),draggable:!0},label:e.getIcon("move"),command:"tlb-move"}),t.get("copyable")&&a.push({label:e.getIcon("copy"),command:"tlb-clone"}),t.get("removable")&&a.push({label:e.getIcon("delete"),command:"tlb-delete"}),t.set("toolbar",a)}},i.prototype.__loadTraits=function(e,t){t===void 0&&(t={});var n=e||this.traits;if(!(n instanceof bi)){n=(0,r.isFunction)(n)?n(this):n;var a=new bi([],this.opt);a.setTarget(this),n.length&&(n.forEach(function(p){return p.attributes&&delete p.attributes.value}),a.add(n)),this.set({traits:a},t)}return this},i.prototype.getTraits=function(){return this.__loadTraits(),xi([],this.traits.models,!0)},i.prototype.setTraits=function(e){var t=(0,r.isArray)(e)?e:[e];return this.set({traits:t}),this.getTraits()},i.prototype.getTrait=function(e){return this.getTraits().filter(function(t){return t.get("id")===e||t.get("name")===e})[0]||null},i.prototype.updateTrait=function(e,t){var n,a=this.getTrait(e);return a&&a.set(t),(n=this.em)===null||n===void 0||n.trigger("component:toggled"),this},i.prototype.getTraitIndex=function(e){var t=this.getTrait(e);return t?this.traits.indexOf(t):-1},i.prototype.removeTrait=function(e){var t=this,n,a=(0,r.isArray)(e)?e:[e],p=a.map(function(b){return t.getTrait(b)}),m=this.traits,y=p.length?m.remove(p):[];return(n=this.em)===null||n===void 0||n.trigger("component:toggled"),(0,r.isArray)(y)?y:[y]},i.prototype.addTrait=function(e,t){var n;t===void 0&&(t={}),this.__loadTraits();var a=this.traits.add(e,t);return(n=this.em)===null||n===void 0||n.trigger("component:toggled"),(0,r.isArray)(a)?a:[a]},i.prototype.normalizeClasses=function(e){var t=[],n=this.em,a=n==null?void 0:n.Selectors;return a?e.models?xi([],e.models,!0):(e.forEach(function(p){return t.push(a.add(p))}),t):[]},i.prototype.clone=function(e){e===void 0&&(e={});var t=this.em,n=Or({},this.attributes),a=Or({},this.opt),p=this.getId(),m=t==null?void 0:t.Css;n.attributes=Or({},n.attributes),delete n.attributes.id,n.components=[],n.classes=[],n.traits=[],cn(this)&&(e.symbol=!0),this.get("components").each(function(Q,le){n.components[le]=Q.clone(Or(Or({},e),{_inner:1}))}),this.get("traits").each(function(Q,le){n.traits[le]=Q.clone()}),this.get("classes").each(function(Q,le){n.classes[le]=Q.get("name")}),n.status="",a.collection=null;var y=new this.constructor(n,a),b="#".concat(y.getId()),O=m?m.getRules("#".concat(p)):[];O.forEach(function(Q){var le=Q.clone();le.set("selectors",[b]),m.getAll().add(le)}),y.set(Dn,0);var A=wn(this),R=Kt(this);!e.symbol&&(A||R)?(y.set(Kr,0),y.set(Dn,0)):A?(A.set(Dn,xi(xi([],Kt(A),!0),[y],!1)),hr(y)):e.symbol&&(kt(this)?(this.set(Dn,xi(xi([],R,!0),[y],!1)),y.set(Kr,this),hr(y)):e.symbolInv?(this.set(Dn,[y]),y.set(Kr,this),[this,y].map(function(Q){return hr(Q)})):(y.set(Dn,[this]),[this,y].map(function(Q){return hr(Q)}),this.set(Kr,y)));var B="component:clone";return t&&t.trigger(B,y),this.trigger(B,y),y},i.prototype.getName=function(e){e===void 0&&(e={});var t=this.em,n=this.attributes,a=n.type,p=n.tagName,m=n.name,y=a||p,b=a?"":p,O="domComponents.names.",A=m&&(t==null?void 0:t.t("".concat(O).concat(m))),R=b&&(t==null?void 0:t.t("".concat(O).concat(b))),B=t&&(t.t("".concat(O).concat(a))||t.t("".concat(O).concat(p))),Q=this.get("custom-name");return(e.noCustom?"":Q)||A||m||R||(0,o.capitalize)(b)||B||(0,o.capitalize)(y)},i.prototype.setName=function(e,t){t===void 0&&(t={}),this.set("custom-name",e,t)},i.prototype.getIcon=function(){var e=this.get("icon");return e?e+" ":""},i.prototype.toHTML=function(e){e===void 0&&(e={});var t=this,n=[],a=e.tag,p=a||t.get("tagName"),m=t.get("void"),y=e.attributes,b=this.getAttrToHTML(e);if(delete e.tag,y&&((0,r.isFunction)(y)?b=y(t,b)||{}:(0,o.isObject)(y)&&(b=y)),e.withProps){var O=this.toJSON();(0,r.forEach)(O,function(Be,He){var ot=["classes","attributes","components"];He[0]!=="_"&&ot.indexOf(He)<0&&(b["data-gjs-".concat(He)]=(0,r.isArray)(Be)||(0,o.isObject)(Be)?JSON.stringify(Be):(0,r.isBoolean)(Be)?"".concat(Be):Be)})}for(var A in b){var R=b[A];if(!(0,r.isUndefined)(R)&&R!==null)if((0,r.isBoolean)(R))R&&n.push(A);else{var B="";if(e.altQuoteAttr&&(0,r.isString)(R)&&R.indexOf('"')>=0)B="'".concat(R.replace(/'/g,"&apos;"),"'");else{var Q=(0,r.isString)(R)?R.replace(/"/g,"&quot;"):R;B='"'.concat(Q,'"')}n.push("".concat(A,"=").concat(B))}}var le=n.length?" ".concat(n.join(" ")):"",ue=t.getInnerHTML(e),ke="<".concat(p).concat(le).concat(m?"/":"",">").concat(ue);return!m&&(ke+="</".concat(p,">")),ke},i.prototype.getInnerHTML=function(e){return this.__innerHTML(e)},i.prototype.__innerHTML=function(e){e===void 0&&(e={});var t=this.components();return t.length?t.map(function(n){return n.toHTML(e)}).join(""):this.content},i.prototype.getAttrToHTML=function(e){var t=this.getAttributes();return la(this.em)&&(e==null?void 0:e.keepInlineStyle)!==!0&&delete t.style,t},i.prototype.toJSON=function(e){e===void 0&&(e={});var t=h.Model.prototype.toJSON.call(this,e);if(t.attributes=this.getAttributes(),delete t.attributes.class,delete t.toolbar,delete t.traits,delete t.status,delete t.open,delete t._undoexc,delete t.delegate,!e.fromUndo){var n=t[Kr],a=t[Dn];a&&(0,r.isArray)(a)&&(t[Dn]=a.filter(function(p){return p}).map(function(p){return p.getId?p.getId():p})),n&&!(0,r.isString)(n)&&(t[Kr]=n.getId())}return this.em.getConfig().avoidDefaults&&this.getChangedProps(t),t},i.prototype.getChangedProps=function(e){var t=e||h.Model.prototype.toJSON.apply(this),n=(0,r.result)(this,"defaults");return(0,r.forEach)(n,function(a,p){["type"].indexOf(p)===-1&&t[p]===a&&delete t[p]}),(0,r.isEmpty)(t.type)&&delete t.type,(0,r.forEach)(["attributes","style"],function(a){(0,r.isEmpty)(n[a])&&(0,r.isEmpty)(t[a])&&delete t[a]}),(0,r.forEach)(["classes","components"],function(a){(!t[a]||(0,r.isEmpty)(n[a])&&!t[a].length)&&delete t[a]}),t},i.prototype.getId=function(){var e=this.get("attributes")||{};return e.id||this.ccid||this.cid},i.prototype.setId=function(e,t){var n=Or({},this.get("attributes"));return n.id=e,this.set("attributes",n,t),this},i.prototype.getEl=function(e){var t=this.getView(e);return t&&t.el},i.prototype.getView=function(e){var t=this,n=t.view,a=t.views,p=t.em,m=e||(p==null?void 0:p.getCurrentFrameModel());return m&&(n=a.filter(function(y){return y.frameView===m.view})[0]),n},i.prototype.getCurrentView=function(){var e=this.em.getCurrentFrame(),t=e==null?void 0:e.model;return this.getView(t)},i.prototype.__getScriptProps=function(){var e=this.props(),t=this.get("script-props")||[];return t.reduce(function(n,a){return n[a]=e[a],n},{})},i.prototype.getScriptString=function(e){var t=this,n=e||this.get("script")||"";if(!n)return n;if(this.get("script-props"))n=n.toString().trim();else{if((0,r.isFunction)(n)){var a=n.toString().trim();a=a.slice(a.indexOf("{")+1,a.lastIndexOf("}")),n=a.trim()}var p=this.em.getConfig(),m=$i(p.tagVarStart||"{[ "),y=$i(p.tagVarEnd||" ]}"),b=new RegExp("".concat(m,"([\\w\\d-]*)").concat(y),"g");n=n.replace(b,function(O,A){t.scriptUpdated();var R=t.attributes[A]||"";return(0,r.isArray)(R)||typeof R=="object"?JSON.stringify(R):R})}return n},i.prototype.emitUpdate=function(e){for(var t,n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];var p=this.em,m=So+(e?":".concat(e):""),y=e&&this.get(e);e&&this.updated.apply(this,xi([e,y,e&&this.previous(e)],n,!1)),this.trigger.apply(this,xi([m],n,!1)),p&&p.trigger.apply(p,xi([m,this],n,!1)),["components","classes"].indexOf(e)>=0&&this.__propSelfToParent({component:this,changed:(t={},t[e]=y,t),options:n[2]||n[1]||{}})},i.prototype.onAll=function(e){return(0,r.isFunction)(e)&&(e(this),this.components().forEach(function(t){return t.onAll(e)})),this},i.prototype.forEachChild=function(e){(0,r.isFunction)(e)&&this.components().forEach(function(t){e(t),t.forEachChild(e)})},i.prototype.remove=function(e){var t=this;e===void 0&&(e={});var n=this.em,a=this.collection,p=function(){a&&a.remove(t,Or({action:zt.W.remove},e)),a||(t.components("",e),t.components().removeChildren(t,void 0,e))},m=Or({},e);return[this,n].map(function(y){return y.trigger(zt.g.removeBefore,t,p,m)}),!m.abort&&p(),this},i.prototype.move=function(e,t){if(t===void 0&&(t={}),e){var n=t.at,a=this.index(),p=e===this.parent(),m=a===n||a===n-1;if(!p||!m){p&&n&&n>a&&(t.at=n-1);var y=zt.W.move;this.remove({action:y,temporary:1}),e.append(this,Or({action:y},t)),this.emitUpdate()}}return this},i.prototype.isInstanceOf=function(e){var t,n,a=(n=(t=this.em)===null||t===void 0?void 0:t.Components.getType(e))===null||n===void 0?void 0:n.model;if(!a)return!1;var p=this.constructor.typeExtends;return this instanceof a||p.has(e)},i.prototype.isChildOf=function(e){for(var t=(0,r.isString)(e),n=this.parent();n;){if(t){if(n.isInstanceOf(e))return!0}else if(n===e)return!0;n=n.parent()}return!1},i.prototype.resetId=function(e){var t=this.em,n=this.getId();if(!n)return this;var a=i.createId(this);this.setId(a);var p=t==null?void 0:t.Css.getIdRule(n),m=p==null?void 0:p.get("selectors").at(0);return m==null||m.set("name",a),this},i.prototype._getStyleRule=function(e){var t=e===void 0?{}:e,n=t.id,a=this.em,p=n||this.getId();return a==null?void 0:a.Css.getIdRule(p)},i.prototype._getStyleSelector=function(e){var t=this._getStyleRule(e);return t==null?void 0:t.get("selectors").at(0)},i.prototype._idUpdated=function(e,t,n){if(n===void 0&&(n={}),!n.idUpdate){var a=this.ccid,p=(this.get("attributes")||{}).id,m=(this.previous("attributes")||{}).id||a,y=i.getList(this);if(y[p]||!p&&m)return this.setId(m,{idUpdate:!0});delete y[m],y[p]=this,this.ccid=p;var b=this._getStyleSelector({id:m});b&&b.set({name:p,label:p})}},i.getDefaults=function(){return(0,r.result)(this.prototype,"defaults")},i.isComponent=function(e,t){return{tagName:(0,o.toLowerCase)(e.tagName)}},i.ensureInList=function(e){var t=i.getList(e),n=e.getId(),a=t[n];if(!a)t[n]=e;else if(a!==e){var p=i.getIncrementId(n,t);e.setId(p),t[p]=e}e.components().forEach(function(m){return i.ensureInList(m)})},i.createId=function(e,t){t===void 0&&(t={});var n=i.getList(e),a=t.idMap,p=a===void 0?{}:a,m=e.get("attributes").id,y;return m?(y=i.getIncrementId(m,n,t),e.setId(y),m!==y&&(p[m]=y)):y=i.getNewId(n),n[y]=e,y},i.getNewId=function(e){for(var t=Object.keys(e).length,n=t.toString().length+2,a=(Math.random()+1.1).toString(36).slice(-n),p="i".concat(a);e[p];)p=i.getNewId(e);return p},i.getIncrementId=function(e,t,n){n===void 0&&(n={});var a=n.keepIds,p=a===void 0?[]:a,m=1,y=e;if(p.indexOf(e)<0)for(;t[y];)m++,y="".concat(e,"-").concat(m);return y},i.getList=function(e){var t,n=e.em,a=n==null?void 0:n.Components;return(t=a==null?void 0:a.componentsById)!==null&&t!==void 0?t:{}},i.checkId=function(e,t,n,a){t===void 0&&(t=[]),n===void 0&&(n={}),a===void 0&&(a={});var p=(0,r.isArray)(e)?e:[e],m=a.keepIds,y=m===void 0?[]:m,b=a.idMap,O=b===void 0?{}:b;p.forEach(function(A){A.attributes;var R=A.attributes,B=R===void 0?{}:R,Q=A.components,le=B.id;if(le&&n[le]&&y.indexOf(le)<0){var ue=i.getIncrementId(le,n);O[le]=ue,B.id=ue,(0,r.isArray)(t)&&t.forEach(function(ke){var Be=ke.selectors;Be.forEach(function(He,ot){He==="#".concat(le)&&(Be[ot]="#".concat(ue))})})}Q&&i.checkId(Q,t,n,a)})},i.typeExtends=new Set,i}(Mn);const $n=Pu;var zd=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Ia=function(){return Ia=Object.assign||function(u){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(u[n]=i[n])}return u},Ia.apply(this,arguments)},Oo="head",ku=["title","style","base","link","meta","script","noscript"],Xc=function(u){zd(i,u);function i(){return u!==null&&u.apply(this,arguments)||this}return Object.defineProperty(i.prototype,"defaults",{get:function(){return Ia(Ia({},u.prototype.defaults),{type:Oo,tagName:Oo,draggable:!1,highlightable:!1,droppable:function(e){var t=e.tagName;return!t||ku.includes((0,o.toLowerCase)(t))}})},enumerable:!1,configurable:!0}),i.isComponent=function(e){return(0,o.toLowerCase)(e.tagName)===Oo},i}($n);const vl=Xc;var gl=function(){return gl=Object.assign||function(u){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(u[n]=i[n])}return u},gl.apply(this,arguments)},Jc=function(){function u(i,e){var t=this;this.em=i,this.canvas=i.Canvas;var n=e||this.canvas.getFrames().map(function(p){return p.getComponent().getEl()}),a=Array.isArray(n)?n:[n];this.el=a[0],this.counter=0,(0,r.bindAll)(this,"handleDragEnter","handleDragOver","handleDrop","handleDragLeave"),a.forEach(function(p){return t.toggleEffects(p,!0)})}return u.prototype.toggleEffects=function(i,e){var t={on:nt.on,off:nt.S1},n=e?"on":"off";t[n](i,"dragenter",this.handleDragEnter),t[n](i,"dragover",this.handleDragOver),t[n](i,"drop",this.handleDrop),t[n](i,"dragleave",this.handleDragLeave)},u.prototype.__customTglEff=function(i){var e,t=i?nt.on:nt.S1,n=this.el.ownerDocument,a=(e=n.defaultView)===null||e===void 0?void 0:e.frameElement;this.sortOpts=i?{onStart:function(p){var m=p.sorter;(0,nt.on)(a,"pointermove",m.onMove)},onEnd:function(p){var m=p.sorter;(0,nt.S1)(a,"pointermove",m.onMove)},customTarget:function(p){var m=p.event;return n.elementFromPoint(m.clientX,m.clientY)}}:null,t(a,"pointerenter",this.handleDragEnter),t(a,"pointermove",this.handleDragOver),t(document,"pointerup",this.handleDrop),t(a,"pointerout",this.handleDragLeave)},u.prototype.startCustom=function(){this.__customTglEff(!0)},u.prototype.endCustom=function(i){this.over?this.endDrop(i):this.__customTglEff(!1)},u.prototype.endDrop=function(i,e){var t=this,n=t.em,a=t.dragStop;this.counter=0,a&&a(i||!this.over),this.__customTglEff(!1),n.trigger("canvas:dragend",e)},u.prototype.handleDragLeave=function(i){this.updateCounter(-1,i)},u.prototype.updateCounter=function(i,e){this.counter+=i,this.counter===0&&this.endDrop(!0,e)},u.prototype.handleDragEnter=function(i){var e=this,t=this,n=t.em,a=t.canvas,p=i.dataTransfer,m=n.get("dragContent");if(!(!m&&!a.getConfig().allowExternalDrop)&&(this.updateCounter(1,i),!this.over)){this.over=!0;var y=n.Utils,b=m||"<br>",O,A;if(n.stopDefault(),n.inAbsoluteMode()){var R=n.Components.getWrapper(),B=R.append({})[0],Q=n.Commands.run("core:component-drag",{event:i,guidesInfo:1,center:1,target:B,onEnd:function(ue,ke,Be){var He=Be.cancelled,ot;if(!He){ot=R.append(b)[0];var Ot=a.getOffset(),Gt=B.getStyle(),er=Gt.top,ft=Gt.left,Jt=Gt.position,cr=(0,nt.GX)(ue.target),qr=parseInt("".concat(parseFloat(ft)+cr.x-Ot.left),10),Et=parseInt("".concat(parseFloat(er)+cr.y-Ot.top),10);ot.addStyle({left:qr+"px",top:Et+"px",position:Jt})}e.handleDragEnd(ot,p),B.remove()}});O=function(ue){return Q.stop(i,{cancel:ue})},A=function(ue){return b=ue}}else{var le=new y.Sorter(gl({em:n,wmargin:1,nested:1,canvasRelative:1,direction:"a",container:this.el,placer:a.getPlacerEl(),containerSel:"*",itemSel:"*",pfx:"gjs-",onEndMove:function(ue){return e.handleDragEnd(ue,p)},document:this.el.ownerDocument},this.sortOpts||{}));le.setDropContent(b),le.startSort(),this.sorter=le,O=function(ue){ue&&(le.moved=!1),le.endMove()},A=function(ue){return le.setDropContent(ue)}}this.dragStop=O,this.dragContent=A,n.trigger("canvas:dragenter",p,b)}},u.prototype.handleDragEnd=function(i,e){var t=this.em;this.over=!1,i&&(t.set("dragResult",i),t.trigger("canvas:drop",e,i)),t.runDefault({preserveSelected:1})},u.prototype.handleDragOver=function(i){i.preventDefault(),this.em.trigger("canvas:dragover",i)},u.prototype.handleDrop=function(i){i.preventDefault();var e=this.dragContent,t=i.dataTransfer,n=this.getContentByData(t).content;i.target.style.border="",n&&e&&e(n),this.endDrop(!n,i)},u.prototype.getContentByData=function(i){var e=this.em,t=i&&i.types,n=i&&i.files||[],a=e.get("dragContent"),p=i&&i.getData("text");if(n.length){p=[];for(var m=0;m<n.length;m++){var y=n[m],b=y.type.split("/")[0];b=="image"&&p.push({type:b,file:y,attributes:{alt:y.name}})}}else if(a)p=a;else if((0,r.indexOf)(t,"text/html")>=0)p=i&&i.getData("text/html").replace(/<\/?meta[^>]*>/g,"");else if((0,r.indexOf)(t,"text/uri-list")>=0)p={type:"link",attributes:{href:p},content:p};else if((0,r.indexOf)(t,"text/json")>=0){var O=i&&i.getData("text/json");O&&(p=JSON.parse(O))}else t.length===1&&t[0]==="text/plain"&&(p="<div>".concat(p,"</div>"));var A={content:p};return e.trigger("canvas:dragdata",i,A),A},u}();const Au=Jc;var Qc=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Si=function(){return Si=Object.assign||function(u){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(u[n]=i[n])}return u},Si.apply(this,arguments)},ml=function(u,i,e){if(e||arguments.length===2)for(var t=0,n=i.length,a;t<n;t++)(a||!(t in i))&&(a||(a=Array.prototype.slice.call(i,0,t)),a[t]=i[t]);return u.concat(a||Array.prototype.slice.call(i))},zo=function(u){Qc(i,u);function i(e,t){var n=u.call(this,{model:e})||this;n.dragging=!1,n.loaded=!1,n.lastMaxHeight=0,n.tools={},(0,r.bindAll)(n,"updateClientY","stopAutoscroll","autoscroll","_emitUpdate");var a=n.el;n.module._config=Si(Si({},n.config||{}),{frameView:n}),n.frameWrapView=t,n.showGlobalTools=(0,r.debounce)(n.showGlobalTools.bind(n),50);var p=n.getCanvasModel();return n.listenTo(e,"change:head",n.updateHead),n.listenTo(p,"change:styles",n.renderStyles),e.view=n,(0,o.setViewEl)(a,n),n}return Object.defineProperty(i.prototype,"tagName",{get:function(){return"iframe"},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"attributes",{get:function(){return{allowfullscreen:"allowfullscreen"}},enumerable:!1,configurable:!0}),i.prototype.getBoxRect=function(){var e=this,t=e.el,n=e.module,a=n.getCanvasView(),p=n.getCoords(),m=t.getBoundingClientRect(),y=a.getCanvasOffset(),b=a.getViewportDelta(),O=n.getZoomMultiplier(),A=(m.x-y.left-b.x-p.x)*O,R=(m.y-y.top-b.y-p.y)*O,B=m.width*O,Q=m.height*O;return{x:A,y:R,width:B,height:Q}},i.prototype.updateHead=function(){var e=this.model,t=this.getHead(),n=[],a=[],p=e.head,m=e.previous("head"),y=function(O){return O===void 0&&(O={}),Object.keys(O).sort().map(function(A){return"[".concat(A,'="').concat(O[A],'"]')}).join("")},b=function(O,A,R){O.forEach(function(B){var Q=B.tag,le=B.attributes,ue=A.some(function(ke){return ke.tag===Q&&y(ke.attributes)===y(le)});!ue&&R.push(B)})};b(p,m,a),b(m,p,n),n.forEach(function(O){var A,R=t.querySelector("".concat(O.tag).concat(y(O.attributes)));(A=R==null?void 0:R.parentNode)===null||A===void 0||A.removeChild(R)}),(0,nt.SJ)(t,a)},i.prototype.getEl=function(){return this.el},i.prototype.getCanvasModel=function(){return this.em.Canvas.getModel()},i.prototype.getWindow=function(){return this.getEl().contentWindow},i.prototype.getDoc=function(){return this.getEl().contentDocument},i.prototype.getHead=function(){return this.getDoc().querySelector("head")},i.prototype.getBody=function(){return this.getDoc().querySelector("body")},i.prototype.getWrapper=function(){return this.getBody().querySelector("[data-gjs-type=wrapper]")},i.prototype.getJsContainer=function(){return this.jsContainer||(this.jsContainer=(0,nt.ut)("div",{class:"".concat(this.ppfx,"js-cont")})),this.jsContainer},i.prototype.getToolsEl=function(){var e;return(e=this.frameWrapView)===null||e===void 0?void 0:e.elTools},i.prototype.getGlobalToolsEl=function(){return this.em.Canvas.getGlobalToolsEl()},i.prototype.getHighlighter=function(){return this._getTool("[data-hl]")},i.prototype.getBadgeEl=function(){return this._getTool("[data-badge]")},i.prototype.getOffsetViewerEl=function(){return this._getTool("[data-offset]")},i.prototype.getRect=function(){return this.rect||(this.rect=this.el.getBoundingClientRect()),this.rect},i.prototype.getOffsetRect=function(){var e=this.el,t=this.getBody(),n=t.scrollTop,a=t.scrollLeft,p=e.offsetHeight,m=e.offsetWidth;return{top:e.offsetTop,left:e.offsetLeft,height:p,width:m,scrollTop:n,scrollLeft:a,scrollBottom:n+p,scrollRight:a+m}},i.prototype._getTool=function(e){var t=this.tools,n=this.getToolsEl();return t[e]||(t[e]=n.querySelector(e)),t[e]},i.prototype.remove=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return this._toggleEffects(!1),this.tools={},(e=this.wrapper)===null||e===void 0||e.remove(),$r.prototype.remove.apply(this,t),this},i.prototype.startAutoscroll=function(){var e=this;this.lastMaxHeight=this.getWrapper().offsetHeight-this.el.offsetHeight,setTimeout(function(){e._toggleAutoscrollFx(!0),requestAnimationFrame(e.autoscroll)},0)},i.prototype.autoscroll=function(){if(this.dragging){var e=this.lastClientY,t=this.em.Canvas,n=this.getWindow(),a=n.pageYOffset,p=e||0,m=t.getConfig().autoscrollLimit,y=this.getRect().height-m,b=a;if(p<m&&(b-=m-p),p>y&&(b+=p-y),!(0,r.isUndefined)(e)&&b!==a&&b>0&&b<this.lastMaxHeight){var O=this.getGlobalToolsEl();O.style.opacity="0",this.showGlobalTools(),n.scrollTo(0,b),t.spots.refreshDbn()}requestAnimationFrame(this.autoscroll)}},i.prototype.updateClientY=function(e){e.preventDefault(),this.lastClientY=(0,nt.VB)(e).clientY*this.em.getZoomDecimal()},i.prototype.showGlobalTools=function(){this.getGlobalToolsEl().style.opacity=""},i.prototype.stopAutoscroll=function(){this.dragging&&this._toggleAutoscrollFx(!1)},i.prototype._toggleAutoscrollFx=function(e){this.dragging=e;var t=this.getWindow(),n=e?"on":"off",a={on:nt.on,off:nt.S1};a[n](t,"mousemove dragover",this.updateClientY),a[n](t,"mouseup",this.stopAutoscroll)},i.prototype.render=function(){var e=this,t=e.$el,n=e.ppfx,a=e.em;return t.attr({class:"".concat(n,"frame")}),this.renderScripts(),a.trigger("frame:render",this),this},i.prototype.renderScripts=function(){var e=this,t=this,n=t.el,a=t.model,p=t.em,m="frame:load",y={el:n,model:a,view:this},b=this.getCanvasModel(),O=function(A){var R;if(A.length>0){var B=A.shift(),Q=(0,nt.ut)("script",Si({type:"text/javascript"},(0,r.isString)(B)?{src:B}:B));(R=n.contentDocument)===null||R===void 0||R.head.appendChild(Q),Q.hasAttribute("nomodule")&&"noModule"in HTMLScriptElement.prototype?O(A):Q.onerror=Q.onload=O.bind(null,A)}else p==null||p.trigger(Qt.frameLoadHead,y),e.renderBody(),p==null||p.trigger(Qt.frameLoadBody,y),p==null||p.trigger(m,y)};n.onload=function(){var A=e.config.frameContent;if(A){var R=e.getDoc();R.open(),R.write(A),R.close()}y.window=e.getWindow(),p==null||p.trigger("".concat(m,":before"),y),p==null||p.trigger(Qt.frameLoad,y),e.renderHead(),O(ml([],b.get("scripts"),!0))}},i.prototype.renderStyles=function(e){e===void 0&&(e={});var t=this.getHead(),n=this.getCanvasModel(),a=function(A){return A.map(function(R){return{tag:"link",attributes:Si({rel:"stylesheet"},(0,r.isString)(R)?{href:R}:R)}})},p=a(e.prev||n.previous("styles")),m=a(n.get("styles")),y=[],b=[],O=function(A,R,B){A.forEach(function(Q){var le=Q.attributes.href,ue=R.some(function(ke){return ke.attributes.href===le});!ue&&B.push(Q)})};O(m,p,b),O(p,m,y),y.forEach(function(A){var R,B=t.querySelector('link[href="'.concat(A.attributes.href,'"]'));(R=B==null?void 0:B.parentNode)===null||R===void 0||R.removeChild(B)}),(0,nt.SJ)(t,b)},i.prototype.renderHead=function(){var e=this,t=e.model,n=e.em,a=t.root,p=n.Components.getType(Oo).view;this.headView=new p({el:this.getHead(),model:a.head,config:Si(Si({},a.config),{frameView:this})}).render()},i.prototype.renderBody=function(){var e=this,t,n,a=this,p=a.config,m=a.em,y=a.model,b=a.ppfx,O=this.getDoc(),A=this.getBody(),R=this.getWindow(),B=y.hasAutoHeight(),Q=m.config;R._isEditor=!0,this.renderStyles({prev:[]});var le="#ffca6f";(0,nt.R3)(A,`<style>
      `.concat(Q.baseCss||p.frameStyle||"",`

      `).concat(B?"body { overflow: hidden }":"",`

      [data-gjs-type="wrapper"] {
        `).concat(B?"":"min-height: 100vh;",`
        padding-top: 0.001em;
      }

      .`).concat(b,`dashed *[data-gjs-highlightable] {
        outline: 1px dashed rgba(170,170,170,0.7);
        outline-offset: -2px;
      }

      .`).concat(b,`selected {
        outline: 2px solid #3b97e3 !important;
        outline-offset: -2px;
      }

      .`).concat(b,`selected-parent {
        outline: 2px solid `).concat(le,` !important
      }

      .`).concat(b,`no-select {
        user-select: none;
        -webkit-user-select:none;
        -moz-user-select: none;
      }

      .`).concat(b,`freezed {
        opacity: 0.5;
        pointer-events: none;
      }

      .`).concat(b,`no-pointer {
        pointer-events: none;
      }

      .`).concat(b,`pointer-init {
        pointer-events: initial;
      }

      .`).concat(b,`plh-image {
        background: #f5f5f5;
        border: none;
        height: 100px;
        width: 100px;
        display: block;
        outline: 3px solid #ffca6f;
        cursor: pointer;
        outline-offset: -2px
      }

      .`).concat(b,`grabbing {
        cursor: grabbing;
        cursor: -webkit-grabbing;
      }

      .`).concat(b,`is__grabbing {
        overflow-x: hidden;
      }

      .`).concat(b,`is__grabbing,
      .`).concat(b,`is__grabbing * {
        cursor: grabbing !important;
      }

      `).concat(Q.canvasCss||"",`
      `).concat(Q.protectedCss||"",`
    </style>`));var ue=y.root,ke=m.Components.getType("wrapper").view;this.wrapper=new ke({model:ue,config:Si(Si({},ue.config),{em:m,frameView:this})}).render(),(0,nt.R3)(A,(t=this.wrapper)===null||t===void 0?void 0:t.el),(0,nt.R3)(A,new Xe({collection:y.getStyles(),config:Si(Si({},m.Css.getConfig()),{frameView:this})}).render().el),(0,nt.R3)(A,this.getJsContainer()),(0,nt.on)(A,"click",function(Be){var He;return Be&&((He=Be.target)===null||He===void 0?void 0:He.tagName)=="A"&&Be.preventDefault()}),(0,nt.on)(A,"submit",function(Be){return Be&&Be.preventDefault()}),[{event:"keydown keyup keypress",class:"KeyboardEvent"},{event:"mousedown mousemove mouseup",class:"MouseEvent"},{event:"pointerdown pointermove pointerup",class:"PointerEvent"},{event:"wheel",class:"WheelEvent",opts:{passive:!p.infiniteCanvas}}].forEach(function(Be){return Be.event.split(" ").forEach(function(He){O.addEventListener(He,function(ot){return e.el.dispatchEvent((0,nt.t3)(ot,Be.class))},Be.opts)})}),this._toggleEffects(!0),(0,o.hasDnd)(m)&&(this.droppable=new Au(m,(n=this.wrapper)===null||n===void 0?void 0:n.el)),this.loaded=!0,y.trigger("loaded")},i.prototype._toggleEffects=function(e){var t=e?nt.on:nt.S1,n=this.getWindow();n&&t(n,"".concat(nt.G1," resize"),this._emitUpdate)},i.prototype._emitUpdate=function(){this.model._emitUpdated()},i}($r);const ef=zo;var yl=rn(668),Fa=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ei=function(){return ei=Object.assign||function(u){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(u[n]=i[n])}return u},ei.apply(this,arguments)},Pn=function(u){Fa(i,u);function i(e,t){var n=u.call(this,{model:e})||this;return(0,r.bindAll)(n,"onScroll","frameLoaded","updateOffset","remove","startDrag"),ei(ei({},e.config),{frameWrapView:n}),n.cv=t,n.frame=new ef(e,n),n.classAnim="".concat(n.ppfx,"frame-wrapper--anim"),n.updateOffset=(0,r.debounce)(n.updateOffset.bind(n),0),n.updateSize=(0,r.debounce)(n.updateSize.bind(n),0),n.listenTo(e,"loaded",n.frameLoaded),n.listenTo(e,"change:x change:y",n.updatePos),n.listenTo(e,"change:width change:height",n.updateSize),n.listenTo(e,"destroy remove",n.remove),n.updatePos(),n.setupDragger(),n}return i.prototype.events=function(){return{"click [data-action-remove]":"remove","mousedown [data-action-move]":"startDrag"}},i.prototype.setupDragger=function(){var e=this,t=this,n=t.module,a=t.model,p,m,y,b=function(O){n.toggleFramesEvents(O)};this.dragger=new yl.Z({onStart:function(){var O=a.attributes,A=O.x,R=O.y;y=e.em.getZoomMultiplier(),p=A,m=R,b(!1)},onEnd:function(){return b(!0)},setPosition:function(O){a.set({x:p+O.x*y,y:m+O.y*y})}})},i.prototype.startDrag=function(e){var t;e&&((t=this.dragger)===null||t===void 0||t.start(e))},i.prototype.__clear=function(e){var t=this.frame;t&&t.remove(e),(0,nt.L_)(this.elTools)},i.prototype.remove=function(e){var t=this;return this.__clear(e),$r.prototype.remove.apply(this,e),["frame","dragger","cv","elTools"].forEach(function(n){return t[n]=0}),this},i.prototype.updateOffset=function(){var e,t=this,n=t.em,a=t.$el,p=t.frame;!n||n.destroyed||(n.runDefault({preserveSelected:1}),a.removeClass(this.classAnim),(e=p==null?void 0:p.model)===null||e===void 0||e._emitUpdated())},i.prototype.updatePos=function(e){var t=this,n=t.model,a=t.el,p=n.attributes,m=p.x,y=p.y,b=a.style;this.frame.rect=void 0,b.left=isNaN(m)?m:"".concat(m,"px"),b.top=isNaN(y)?y:"".concat(y,"px"),e&&this.updateOffset()},i.prototype.updateSize=function(){this.updateDim()},i.prototype.updateDim=function(){var e=this,t=e.em,n=e.el,a=e.$el,p=e.model,m=e.classAnim,y=e.frame;if(y){y.rect=void 0,a.addClass(m);var b=this.__handleSize(),O=b.noChanges,A=b.width,R=b.height;((0,r.isNull)(A)||(0,r.isNull)(R))&&p.set(ei(ei({},A?{}:{width:n.offsetWidth}),R?{}:{height:n.offsetHeight}),{silent:1}),t.stopDefault({preserveSelected:1}),O?this.updateOffset():setTimeout(this.updateOffset,350)}},i.prototype.onScroll=function(){var e=this,t=e.frame,n=e.em;n.trigger("frame:scroll",{frame:t,body:t.getBody(),target:t.getWindow()})},i.prototype.frameLoaded=function(){var e=this,t=e.frame;e.config,t.getWindow().onscroll=this.onScroll,this.updateDim()},i.prototype.__handleSize=function(){var e,t,n="px",a=this,p=a.model,m=a.el,y=m.style,b=p.attributes,O=b.width,A=b.height,R=y.width||"",B=y.height||"",Q=O||"",le=A||"",ue=R==Q&&B==le,ke=(0,r.isNumber)(Q)?"".concat(Q).concat(n):Q,Be=(0,r.isNumber)(le)?"".concat(le).concat(n):le;if(y.width=ke,p.hasAutoHeight()){var He=this.frame.el;if(He.contentDocument){var ot=He.contentDocument,Ot=new ResizeObserver(function(){y.height="".concat(ot.body.scrollHeight,"px")});Ot.observe(ot.body),(e=this.sizeObserver)===null||e===void 0||e.disconnect(),this.sizeObserver=Ot}}else y.height=Be,(t=this.sizeObserver)===null||t===void 0||t.disconnect(),delete this.sizeObserver;return{noChanges:ue,width:O,height:A,newW:Q,newH:le}},i.prototype.render=function(){var e=this,t=e.frame,n=e.$el,a=e.ppfx,p=e.cv,m=e.model,y=e.el,b=m.attributes.onRender;this.__clear(),this.__handleSize(),t.render(),n.empty().attr({class:"".concat(a,"frame-wrapper")}).append(`
      <div class="`.concat(a,`frame-wrapper__top gjs-two-color" data-frame-top>
        <div class="`).concat(a,`frame-wrapper__name" data-action-move>
          `).concat(m.get("name")||"",`
        </div>
        <div class="`).concat(a,`frame-wrapper__top-r">
          <div class="`).concat(a,`frame-wrapper__icon" data-action-remove style="display: none">
            <svg viewBox="0 0 24 24"><path d="M19 4h-3.5l-1-1h-5l-1 1H5v2h14M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12z"></path></svg>
          </div>
        </div>
      </div>
      <div class="`).concat(a,`frame-wrapper__right" data-frame-right></div>
      <div class="`).concat(a,`frame-wrapper__left" data-frame-left></div>
      <div class="`).concat(a,`frame-wrapper__bottom" data-frame-bottom></div>
      `)).append(t.el);var O=(0,nt.ut)("div",{class:"".concat(a,"tools"),style:"pointer-events:none; display: none"},`
      <div class="`.concat(a,`highlighter" data-hl></div>
      <div class="`).concat(a,`badge" data-badge></div>
      <div class="`).concat(a,`placeholder">
        <div class="`).concat(a,`placeholder-int"></div>
      </div>
      <div class="`).concat(a,`ghost"></div>
      <div class="`).concat(a,`toolbar" style="pointer-events:all"></div>
      <div class="`).concat(a,`resizer"></div>
      <div class="`).concat(a,`offset-v" data-offset>
        <div class="gjs-marginName" data-offset-m>
          <div class="gjs-margin-v-el gjs-margin-v-top" data-offset-m-t></div>
          <div class="gjs-margin-v-el gjs-margin-v-bottom" data-offset-m-b></div>
          <div class="gjs-margin-v-el gjs-margin-v-left" data-offset-m-l></div>
          <div class="gjs-margin-v-el gjs-margin-v-right" data-offset-m-r></div>
        </div>
        <div class="gjs-paddingName" data-offset-m>
          <div class="gjs-padding-v-el gjs-padding-v-top" data-offset-p-t></div>
          <div class="gjs-padding-v-el gjs-padding-v-bottom" data-offset-p-b></div>
          <div class="gjs-padding-v-el gjs-padding-v-left" data-offset-p-l></div>
          <div class="gjs-padding-v-el gjs-padding-v-right" data-offset-p-r></div>
        </div>
      </div>
      <div class="`).concat(a,`offset-fixed-v"></div>
    `));this.elTools=O;var A=p==null?void 0:p.toolsWrapper;return A&&A.appendChild(O),b&&b({el:y,elTop:y.querySelector("[data-frame-top]"),elRight:y.querySelector("[data-frame-right]"),elBottom:y.querySelector("[data-frame-bottom]"),elLeft:y.querySelector("[data-frame-left]"),frame:m,frameWrapperView:this,remove:this.remove,startDrag:this.startDrag}),this},i}($r);const tf=Pn;var Lu=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ua=function(u){Lu(i,u);function i(e,t){e===void 0&&(e={});var n=u.call(this,e,!0)||this;return n.listenTo(n.collection,"reset",n.render),n.canvasView=t.canvasView,n._module=t.module,n}return i.prototype.onRemoveBefore=function(e,t){t===void 0&&(t={}),e.forEach(function(n){return n.remove(t)})},i.prototype.onRender=function(){var e=this,t=e.$el,n=e.ppfx;t.attr({class:"".concat(n,"frames")})},i.prototype.clearItems=function(){var e=this.viewCollection||[];e.forEach(function(t){return t.remove()}),this.viewCollection=[]},i.prototype.renderView=function(e,t){return new tf(e,this.canvasView)},i}(Ee);const rf=ua;var Va=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Es=function(){return Es=Object.assign||function(u){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(u[n]=i[n])}return u},Es.apply(this,arguments)},wl=function(u){Va(i,u);function i(e){var t=u.call(this,{model:e})||this;t.ready=!1,(0,r.bindAll)(t,"clearOff","onKeyPress","onWheel","onPointer");var n=t,a=n.em,p=n.pfx,m=n.ppfx,y=t.module.events;return t.className="".concat(p,"canvas ").concat(m,"no-touch-actions").concat(a.config.customUI?"":" ".concat(p,"canvas-bg")),t.clsUnscale="".concat(p,"unscale"),t._initFrames(),t.listenTo(a,y.refresh,t.clearOff),t.listenTo(a,"component:selected",t.checkSelected),t.listenTo(a,"".concat(y.coords," ").concat(y.zoom),t.updateFrames),t.listenTo(e,"change:frames",t._onFramesUpdate),t.toggleListeners(!0),t}return i.prototype.template=function(){var e=this.pfx;return`
      <div class="`.concat(e,`canvas__frames" data-frames>
        <div class="`).concat(e,`canvas__spots" data-spots></div>
      </div>
      <div id="`).concat(e,'tools" class="').concat(e,`canvas__tools" data-tools></div>
      <style data-canvas-style></style>
    `)},i.prototype._onFramesUpdate=function(){this._initFrames(),this._renderFrames()},i.prototype._initFrames=function(){var e=this,t=e.frames,n=e.model,a=e.config,p=e.em,m=n.frames;p.set("readyCanvas",0),m.once("loaded:all",function(){return p.set("readyCanvas",1)}),t==null||t.remove(),this.frames=new rf({collection:m},Es(Es({},a),{canvasView:this}))},i.prototype.checkSelected=function(e,t){var n;t===void 0&&(t={});var a=t.scroll,p=this.em.getCurrentFrame();a&&((n=e.views)===null||n===void 0||n.forEach(function(m){m.frameView===p&&m.scrollIntoView(a)}))},i.prototype.remove=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(e=this.frames)===null||e===void 0||e.remove(),this.frames=void 0,$r.prototype.remove.apply(this,t),this.toggleListeners(!1),this},i.prototype.preventDefault=function(e){var t;e&&(e.preventDefault(),(t=e._parentEvent)===null||t===void 0||t.preventDefault())},i.prototype.toggleListeners=function(e){var t=this,n=t.el,a=t.config,p=e?nt.on:nt.S1;p(document,"keypress",this.onKeyPress),p(window,"scroll resize",this.clearOff),p(n,"wheel",this.onWheel,{passive:!a.infiniteCanvas}),p(n,"pointermove",this.onPointer)},i.prototype.screenToWorld=function(e,t){var n=this.module,a=n.getCoords(),p=n.getZoomMultiplier(),m=this.getViewportDelta();return{x:(e-a.x-m.x)*p,y:(t-a.y-m.y)*p}},i.prototype.onPointer=function(e){if(this.config.infiniteCanvas){var t=this.getCanvasOffset(),n=(0,nt.GX)(),a={x:e.clientX-t.left+n.x,y:e.clientY-t.top+n.y};if(e._parentEvent){var p=e.target.getBoundingClientRect(),m=this.module.getZoomDecimal();a.x=p.left-t.left+n.x+e.clientX*m,a.y=p.top-t.top+n.y+e.clientY*m}this.model.set({pointerScreen:a,pointer:this.screenToWorld(a.x,a.y)})}},i.prototype.onKeyPress=function(e){var t=this.em,n=(0,nt.sN)(e);n===" "&&t.getZoomDecimal()!==1&&!t.Canvas.isInputFocused()&&(this.preventDefault(e),t.Editor.runCommand("core:canvas-move"))},i.prototype.onWheel=function(e){var t=this,n=t.module,a=t.config;if(a.infiniteCanvas){this.preventDefault(e);var p=e.deltaX,m=e.deltaY,y=n.getZoomDecimal(),b=(0,nt.Vb)(e),O=n.getCoords();if(b){var A=y-m*y*.01;n.setZoom(A*100);var R=this.model.getPointerCoords(C.vA.Screen),B=this.getCanvasOffset(),Q=R.x-B.width/2,le=R.y-B.height/2,ue=A/y,ke=Q-(Q-O.x)*ue,Be=le-(le-O.y)*ue;n.setCoords(ke,Be)}else this.onPointer(e),n.setCoords(O.x-p,O.y-m)}},i.prototype.updateFrames=function(e){var t=this.em,n=this.toolsWrapper,a={preserveSelected:1};this.updateFramesArea(),this.clearOff(),n.style.display="none",t.trigger("canvas:update",e),this.timerZoom&&clearTimeout(this.timerZoom),this.timerZoom=setTimeout(function(){t.stopDefault(a),t.runDefault(a),n.style.display=""},300)},i.prototype.updateFramesArea=function(){var e=this,t=e.framesArea,n=e.model,a=e.module,p=e.cvStyle,m=e.clsUnscale,y=a.getZoomMultiplier();if(t){var b=n.attributes,O=b.x,A=b.y,R=a.getZoomDecimal();t.style.transform="scale(".concat(R,") translate(").concat(O*y,"px, ").concat(A*y,"px)")}p&&(p.innerHTML=`
        .`.concat(m," { scale: ").concat(y,` }
      `))},i.prototype.fitViewport=function(e){var t,n;e===void 0&&(e={});var a=this,p=a.em,m=a.module,y=a.model,b=this.getCanvasOffset(),O=e.el,A=O&&((t=(0,o.getComponentView)(O))===null||t===void 0?void 0:t.frameView),R=A?A.model:e.frame||p.getCurrentFrameModel()||y.frames.at(0),B=R.attributes,Q=B.x,le=B.y,ue={x:Q??0,y:le??0,width:R.width,height:R.height};if(O){var ke=this.getElBoxRect(O);ue.x=ue.x+ke.x,ue.y=ue.y+ke.y,ue.width=ke.width,ue.height=ke.height}var Be=e.ignoreHeight,He=(n=e.gap)!==null&&n!==void 0?n:0,ot=(0,r.isNumber)(He),Ot=ot?He:He.x,Gt=ot?He:He.y,er=ue.width+Ot*2,ft=ue.height+Gt*2,Jt=b.width,cr=b.height,qr=Jt/er,Et=cr/ft,Ji=Be?qr:Math.min(qr,Et),jp=Ji*100;m.setZoom(jp);var Bf=-ue.x+(R.width>=Jt?Jt/2-er/2:-Ot),Hf=-ue.y+cr/2-ft/2,is={x:(Bf+Ot)*Ji,y:(Hf+Gt)*Ji};if(Be){var fc=m.getZoomMultiplier(),dc=cr*fc,$l=dc-cr,Kl=$l/2;is.y=(-ue.y+Gt)*Ji-Kl/fc}m.setCoords(is.x,is.y)},i.prototype.isElInViewport=function(e){var t=(0,o.getElement)(e),n=(0,nt.Ut)(t),a=this.getFrameOffset(t),p=n.top,m=n.left;return p>=0&&m>=0&&p<=a.height&&m<=a.width},i.prototype.offset=function(e,t){t===void 0&&(t={});var n=t.noScroll,a=(0,nt.Ut)(e),p=n?{x:0,y:0}:(0,nt.GX)(e);return{top:a.top+p.y,left:a.left+p.x,width:a.width,height:a.height}},i.prototype.getRectToScreen=function(e){var t,n,a,p,m=this.module.getZoomDecimal(),y=this.module.getCoords(),b=this.getViewportDelta(),O=((t=e.x)!==null&&t!==void 0?t:0)*m+y.x+b.x||0,A=((n=e.y)!==null&&n!==void 0?n:0)*m+y.y+b.y||0;return{x:O,y:A,width:((a=e.width)!==null&&a!==void 0?a:0)*m,height:((p=e.height)!==null&&p!==void 0?p:0)*m}},i.prototype.getElBoxRect=function(e,t){var n,a,p;t===void 0&&(t={});var m=this.module,y=(0,nt.Ut)(e),b=y.width,O=y.height,A=y.left,R=y.top,B=(n=(0,o.getComponentView)(e))===null||n===void 0?void 0:n.frameView,Q=B==null?void 0:B.getBoxRect(),le=m.getZoomMultiplier(),ue=(a=Q==null?void 0:Q.x)!==null&&a!==void 0?a:0,ke=(p=Q==null?void 0:Q.y)!==null&&p!==void 0?p:0,Be=this.el,He=(0,nt.GX)(),ot=A+ue+(Be.scrollLeft+He.x)*le,Ot=R+ke+(Be.scrollTop+He.y)*le,Gt={x:ot,y:Ot,width:b,height:O};return t.local&&(Gt.x=A,Gt.y=R),t.toScreen?this.getRectToScreen(Gt):Gt},i.prototype.getViewportRect=function(e){e===void 0&&(e={});var t=this.getCanvasOffset(),n=t.top,a=t.left,p=t.width,m=t.height,y=this.module;if(e.toWorld){var b=y.getZoomMultiplier(),O=y.getCoords(),A=this.getViewportDelta(),R=-O.x-A.x||0,B=-O.y-A.y||0;return{x:R*b,y:B*b,width:p*b,height:m*b}}else return{x:a,y:n,width:p,height:m}},i.prototype.getViewportDelta=function(e){var t=this.module.getZoomMultiplier(),n=this.getCanvasOffset(),a=n.width,p=n.height,m=a*t,y=p*t,b=m-a,O=y-p;return{x:b/2/t,y:O/2/t}},i.prototype.clearOff=function(){this.frmOff=void 0,this.cvsOff=void 0},i.prototype.getFrameOffset=function(e){var t;if(!this.frmOff||e){var n=(t=this.frame)===null||t===void 0?void 0:t.el,a=e==null?void 0:e.ownerDocument.defaultView,p=a?a.frameElement:n;this.frmOff=this.offset(p||n)}return this.frmOff},i.prototype.getCanvasOffset=function(){return this.cvsOff||(this.cvsOff=this.offset(this.el)),this.cvsOff},i.prototype.getElementPos=function(e,t){t===void 0&&(t={});var n=this.module.getZoomDecimal(),a=this.getFrameOffset(e),p=this.el,m=this.getCanvasOffset(),y=this.offset(e,t),b=t.avoidFrameOffset?0:a.top,O=t.avoidFrameOffset?0:a.left,A=t.avoidFrameZoom?y.top:y.top*n,R=t.avoidFrameZoom?y.left:y.left*n,B=t.avoidFrameOffset?A:A+b-m.top+p.scrollTop,Q=t.avoidFrameOffset?R:R+O-m.left+p.scrollLeft,le=t.avoidFrameZoom?y.height:y.height*n,ue=t.avoidFrameZoom?y.width:y.width*n;return{top:B,left:Q,height:le,width:ue,zoom:n,rect:y}},i.prototype.getElementOffsets=function(e){if(!e||(0,nt.BM)(e))return{};var t={},n=window.getComputedStyle(e),a=this.module.getZoomDecimal(),p=["marginTop","marginRight","marginBottom","marginLeft","paddingTop","paddingRight","paddingBottom","paddingLeft","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth"];return p.forEach(function(m){t[m]=parseFloat(n[m])*a}),t},i.prototype.getPosition=function(e){var t;e===void 0&&(e={});var n=(t=this.frame)===null||t===void 0?void 0:t.el.contentDocument;if(!n)return{top:0,left:0,width:0,height:0};var a=n.body,p=this.module.getZoomDecimal(),m=this.getFrameOffset(),y=this.getCanvasOffset(),b=e.noScroll;return{top:m.top+(b?0:a.scrollTop)*p-y.top,left:m.left+(b?0:a.scrollLeft)*p-y.left,width:y.width,height:y.height}},i.prototype.updateScript=function(e){var t=e.model,n=t.getId();if(!e.scriptContainer){e.scriptContainer=(0,nt.ut)("div",{"data-id":n});var a=this.getJsContainer();a==null||a.appendChild(e.scriptContainer)}e.el.id=n,e.scriptContainer.innerHTML="";var p=document.createElement("script"),m=t.getScriptString(),y=t.get("script-props")?m:`function(){
`.concat(m,`
;}`),b=JSON.stringify(t.__getScriptProps());p.innerHTML=`
      setTimeout(function() {
        var item = document.getElementById('`.concat(n,`');
        if (!item) return;
        (`).concat(y,".bind(item))(").concat(b,`)
      }, 1);`),setTimeout(function(){var O=e.scriptContainer;O==null||O.appendChild(p)},0)},i.prototype.getJsContainer=function(e){var t=this.getFrameView(e);return t==null?void 0:t.getJsContainer()},i.prototype.getFrameView=function(e){return(e==null?void 0:e.frameView)||this.em.getCurrentFrame()},i.prototype._renderFrames=function(){if(this.ready){var e=this,t=e.model,n=e.frames,a=e.em,p=e.framesArea,m=t.frames;m.listenToLoad(),n.render();var y=m.at(0),b=y==null?void 0:y.view;a.setCurrentFrame(b),p==null||p.appendChild(n.el),this.frame=b,this.updateFramesArea()}},i.prototype.renderFrames=function(){this._renderFrames()},i.prototype.render=function(){var e=this,t=e.el,n=e.$el,a=e.ppfx,p=e.config,m=e.em;n.html(this.template());var y=n.find("[data-frames]");this.framesArea=y.get(0);var b=n.find("[data-tools]");return this.toolsWrapper=b.get(0),b.append(`
      <div class="`.concat(a,"tools ").concat(a,`tools-gl" style="pointer-events:none">
        <div class="`).concat(a,`placeholder">
          <div class="`).concat(a,`placeholder-int"></div>
        </div>
      </div>
      <div id="`).concat(a,`tools" style="pointer-events:none">
        `).concat(p.extHl?'<div class="'.concat(a,'highlighter-sel"></div>'):"",`
        <div class="`).concat(a,`badge"></div>
        <div class="`).concat(a,`ghost"></div>
        <div class="`).concat(a,`toolbar" style="pointer-events:all"></div>
        <div class="`).concat(a,`resizer"></div>
        <div class="`).concat(a,`offset-v"></div>
        <div class="`).concat(a,`offset-fixed-v"></div>
      </div>
    `)),this.toolsEl=t.querySelector("#".concat(a,"tools")),this.hlEl=t.querySelector(".".concat(a,"highlighter")),this.badgeEl=t.querySelector(".".concat(a,"badge")),this.placerEl=t.querySelector(".".concat(a,"placeholder")),this.ghostEl=t.querySelector(".".concat(a,"ghost")),this.toolbarEl=t.querySelector(".".concat(a,"toolbar")),this.resizerEl=t.querySelector(".".concat(a,"resizer")),this.offsetEl=t.querySelector(".".concat(a,"offset-v")),this.fixedOffsetEl=t.querySelector(".".concat(a,"offset-fixed-v")),this.toolsGlobEl=t.querySelector(".".concat(a,"tools-gl")),this.spotsEl=t.querySelector("[data-spots]"),this.cvStyle=t.querySelector("[data-canvas-style]"),this.el.className=(0,o.getUiClass)(m,this.className),this.ready=!0,this._renderFrames(),this},i}($r);const Ua=wl;var nf=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Wo=function(){return Wo=Object.assign||function(u){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(u[n]=i[n])}return u},Wo.apply(this,arguments)},Mu=function(u,i,e){if(e||arguments.length===2)for(var t=0,n=i.length,a;t<n;t++)(a||!(t in i))&&(a||(a=Array.prototype.slice.call(i,0,t)),a[t]=i[t]);return u.concat(a||Array.prototype.slice.call(i))},Du=function(u){nf(i,u);function i(e){var t=u.call(this,e,"Canvas",_e)||this;return t.events=fn,t.framesById={},t.canvas=new Tt(t),t.spots=new Mt(t),t.model=t.canvas,t.startAutoscroll=t.startAutoscroll.bind(t),t.stopAutoscroll=t.stopAutoscroll.bind(t),t}return i.prototype.getCanvasView=function(){return this.canvasView},i.prototype.postLoad=function(){this.model.init()},i.prototype.getModel=function(){return this.canvas},i.prototype.getElement=function(){return this.getCanvasView().el},i.prototype.getFrame=function(e){return this.getFrames()[e||0]},i.prototype.getFrameEl=function(){var e=(this.canvasView||{}).frame;return e==null?void 0:e.el},i.prototype.getFramesEl=function(){var e;return(e=this.canvasView)===null||e===void 0?void 0:e.framesArea},i.prototype.getWindow=function(){var e=(this.canvasView||{}).frame;return e==null?void 0:e.getWindow()},i.prototype.getDocument=function(){var e=this.getFrameEl();return e==null?void 0:e.contentDocument},i.prototype.getBody=function(){var e=this.getDocument();return e==null?void 0:e.body},i.prototype._getLocalEl=function(e,t,n){var a=e,p=t==null?void 0:t.frameView;return a=p?p[n]():a,a},i.prototype.getGlobalToolsEl=function(){var e;return(e=this.canvasView)===null||e===void 0?void 0:e.toolsGlobEl},i.prototype.getToolsEl=function(e){return this._getLocalEl(this.getCanvasView().toolsEl,e,"getToolsEl")},i.prototype.getHighlighter=function(e){return this._getLocalEl(this.getCanvasView().hlEl,e,"getHighlighter")},i.prototype.getBadgeEl=function(e){return this._getLocalEl(this.getCanvasView().badgeEl,e,"getBadgeEl")},i.prototype.getPlacerEl=function(){return this.getCanvasView().placerEl},i.prototype.getGhostEl=function(){return this.getCanvasView().ghostEl},i.prototype.getToolbarEl=function(){return this.getCanvasView().toolbarEl},i.prototype.getResizerEl=function(){return this.getCanvasView().resizerEl},i.prototype.getOffsetViewerEl=function(e){return this._getLocalEl(this.getCanvasView().offsetEl,e,"getOffsetViewerEl")},i.prototype.getFixedOffsetViewerEl=function(){return this.getCanvasView().fixedOffsetEl},i.prototype.getSpotsEl=function(){var e;return(e=this.canvasView)===null||e===void 0?void 0:e.spotsEl},i.prototype.render=function(){var e;return(e=this.canvasView)===null||e===void 0||e.remove(),this.canvasView=new Ua(this.canvas),this.canvasView.render().el},i.prototype.getOffset=function(){var e=this.offset(this.getFrameEl()),t=this.offset(this.getElement());return{top:e.top-t.top,left:e.left-t.left}},i.prototype.offset=function(e){return this.getCanvasView().offset(e)},i.prototype.setCustomBadgeLabel=function(e){this.config.customBadgeLabel=e},i.prototype.getElementPos=function(e,t){return this.getCanvasView().getElementPos(e,t)},i.prototype.getElementOffsets=function(e){return this.getCanvasView().getElementOffsets(e)},i.prototype.getRect=function(){var e,t=(e=this.getCanvasView().getPosition())!==null&&e!==void 0?e:{},n=t.top,a=n===void 0?0:n,p=t.left,m=p===void 0?0:p;return Wo(Wo({},this.getCanvasView().getCanvasOffset()),{topScroll:a,leftScroll:m})},i.prototype.getTargetToElementDim=function(e,t,n){n===void 0&&(n={});var a=n||{},p=this.getCanvasView().getPosition();if(p){var m=a.elPos||this.getCanvasView().getElementPos(t),y=n.toRight||0,b=a.targetHeight||e.offsetHeight,O=a.targetWidth||e.offsetWidth,A=a.event||null,R=m.top-b,B=m.left;B+=y?m.width:0,B=y?B-O:B;var Q=B<p.left?p.left:B,le=R<p.top?p.top:R;le=le>m.top+m.height?m.top+m.height:le;var ue={top:le,left:Q,elementTop:m.top,elementLeft:m.left,elementWidth:m.width,elementHeight:m.height,targetWidth:e.offsetWidth,targetHeight:e.offsetHeight,canvasTop:p.top,canvasLeft:p.left,canvasWidth:p.width,canvasHeight:p.height};return A&&this.em&&this.em.trigger(A,ue),ue}},i.prototype.canvasRectOffset=function(e,t,n){var a=this;n===void 0&&(n={});var p=function(y){var b=y.defaultView;return b==null?void 0:b.frameElement},m=function(y,b,O){b===void 0&&(b=1);var A=a.em.getZoomDecimal(),R=b?"top":"left",B=y.ownerDocument,Q=n.offset?p(B):{},le=Q.offsetTop,ue=le===void 0?0:le,ke=Q.offsetLeft,Be=ke===void 0?0:ke,He=B.body||{},ot=He.scrollTop,Ot=ot===void 0?0:ot,Gt=He.scrollLeft,er=Gt===void 0?0:Gt,ft=b?Ot:er,Jt=b?ue:Be;return O[R]-(ft-Jt)*A};return{top:m(e,1,t),left:m(e,0,t)}},i.prototype.getTargetToElementFixed=function(e,t,n){n===void 0&&(n={});var a=n.pos||this.getElementPos(e,{noScroll:!0}),p=n.canvasOff||this.canvasRectOffset(e,a),m=t.offsetHeight||0,y=t.offsetWidth||0,b=a.left+a.width,O=this.getCanvasView(),A=O.getPosition(),R=O.getFrameOffset(e),B=n.event,Q=-m,le=(0,r.isUndefined)(n.left)?a.width-y:n.left;if(le=a.left<-le?-a.left:le,le=b>A.width?le-(b-A.width):le,p.top<m){var ue=a.height+m,ke=ue<R.height;ke?Q=Q+ue:Q=-p.top<a.height?-p.top:a.height}var Be={top:Q,left:le,canvasOffsetTop:p.top,canvasOffsetLeft:p.left,elRect:a,canvasOffset:p,canvasRect:A,targetWidth:y,targetHeight:m};return B&&this.em.trigger(B,Be),Be},i.prototype.getMouseRelativePos=function(e,t){t===void 0&&(t={});var n=t.subWinOffset,a=e.target.ownerDocument,p=a.defaultView||a.parentWindow,m=p.frameElement,y=n?p.pageYOffset:0,b=n?p.pageXOffset:0,O=this.getZoomMultiplier(),A=0,R=0;if(m){var B=m.getBoundingClientRect();A=B.top||0,R=B.left||0}return{y:(e.clientY+A-y)*O,x:(e.clientX+R-b)*O}},i.prototype.getMouseRelativeCanvas=function(e,t){var n,a=this.getZoomDecimal(),p=(n=this.getCanvasView().getPosition(t))!==null&&n!==void 0?n:{},m=p.top,y=m===void 0?0:m,b=p.left,O=b===void 0?0:b;return{y:e.clientY*a+y,x:e.clientX*a+O}},i.prototype.hasFocus=function(){return this.getDocument().hasFocus()},i.prototype.isInputFocused=function(){var e=this.getDocument(),t=this.getFrameEl(),n=Mu(["body"],this.config.notTextable,!0),a=t&&document.activeElement===t,p=a?e&&e.activeElement:document.activeElement;return p&&!n.some(function(m){return p.matches(m)})},i.prototype.scrollTo=function(e,t){t===void 0&&(t={});var n=(0,o.getElement)(e),a=n&&(0,o.getViewEl)(n);a&&a.scrollIntoView(t)},i.prototype.startAutoscroll=function(e){var t=e&&e.view||this.em.getCurrentFrame();t&&t.startAutoscroll()},i.prototype.stopAutoscroll=function(e){var t=e&&e.view||this.em.getCurrentFrame();t&&t.stopAutoscroll()},i.prototype.setZoom=function(e){return this.canvas.set("zoom",typeof e=="string"?parseFloat(e):e),this},i.prototype.getZoom=function(){return parseFloat(this.canvas.get("zoom"))},i.prototype.setCoords=function(e,t,n){var a;n===void 0&&(n={});var p=e||e===0,m=t||t===0,y={x:this.canvas.get("x"),y:this.canvas.get("y")};if(p&&(y.x=parseFloat("".concat(e))),m&&(y.y=parseFloat("".concat(t))),n.toWorld){var b=(a=this.canvasView)===null||a===void 0?void 0:a.getViewportDelta();b&&(p&&(y.x=y.x-b.x),m&&(y.y=y.y-b.y))}return this.canvas.set(y),this},i.prototype.getCoords=function(){var e=this.canvas.attributes,t=e.x,n=e.y;return{x:t,y:n}},i.prototype.getPointer=function(e){var t=this.canvas.attributes,n=t.pointer,a=t.pointerScreen;return e?a:n},i.prototype.getZoomDecimal=function(){return this.getZoom()/100},i.prototype.getZoomMultiplier=function(){var e=this.getZoomDecimal();return e?1/e:1},i.prototype.fitViewport=function(e){var t;(t=this.canvasView)===null||t===void 0||t.fitViewport(e)},i.prototype.toggleFramesEvents=function(e){var t=this.getFramesEl().style;t.pointerEvents=e?"":"none"},i.prototype.getFrames=function(){return this.canvas.frames.map(function(e){return e})},i.prototype.addFrame=function(e,t){return e===void 0&&(e={}),t===void 0&&(t={}),this.canvas.frames.add(new Oe(this,Wo({},e)),t)},i.prototype.getLastDragResult=function(){return this.em.get("dragResult")},i.prototype.addSpot=function(e,t){var n;t===void 0&&(t={});var a=e,p=this.getSpots(a);if(p.length){var m=p[0];return m.set(a),m}var y=a.componentView||((n=a.component)===null||n===void 0?void 0:n.view),b=new Sr.Z(this,Wo(Wo({},a),{id:a.id||"cs_".concat(a.type,"_").concat(y==null?void 0:y.cid),type:a.type||""}));return this.spots.add(b,t),b},i.prototype.getSpots=function(e){return e===void 0&&(e={}),this.spots.where(e.id?{id:e.id}:e)},i.prototype.removeSpots=function(e){e===void 0&&(e={});var t=(0,r.isArray)(e)?e:this.getSpots(e),n=this.spots.remove(t);return n},i.prototype.hasCustomSpot=function(e){var t=this.config.customSpots;return!!(t===!0||t&&e&&t[e])},i.prototype.getWorldRectToScreen=function(e){var t;return(t=this.canvasView)===null||t===void 0?void 0:t.getRectToScreen(e)},i.prototype.refresh=function(e){e===void 0&&(e={});var t=this,n=t.em,a=t.events,p=t.canvasView;p==null||p.clearOff(),(e.spots||e.all)&&(this.refreshSpots(),n.trigger("canvas:updateTools")),n.set("canvasOffset",this.getOffset()),n.trigger(a.refresh,e)},i.prototype.refreshSpots=function(){this.spots.refresh()},i.prototype.destroy=function(){var e=this,t;this.canvas.stopListening(),(t=this.canvasView)===null||t===void 0||t.remove(),["model","droppable"].forEach(function(n){return e[n]={}})},i}(z);const Ru=Du,$o={stylePrefix:"comp-",components:[],draggableComponents:!0,disableTextInnerChilds:!1,processor:void 0,useFrameDoc:!1,voidElements:["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]};var Eo=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),To=function(){return To=Object.assign||function(u){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(u[n]=i[n])}return u},To.apply(this,arguments)},Nu=function(u){Eo(i,u);function i(){return u!==null&&u.apply(this,arguments)||this}return Object.defineProperty(i.prototype,"defaults",{get:function(){return To(To({},u.prototype.defaults),{tagName:"",droppable:!1,layerable:!1,selectable:!1,editable:!0})},enumerable:!1,configurable:!0}),i.prototype.toHTML=function(){var e=this.content,t=this.parent();return t!=null&&t.is("script")?e:this.__escapeContent(e)},i.prototype.__escapeContent=function(e){return(0,o.escapeNodeContent)(e)},i.isComponent=function(e){var t;if(e.nodeType===3)return{type:"textnode",content:(t=e.textContent)!==null&&t!==void 0?t:""}},i}($n);const V=Nu;var Y=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),he=function(){return he=Object.assign||function(u){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(u[n]=i[n])}return u},he.apply(this,arguments)},Ce=function(u){Y(i,u);function i(){return u!==null&&u.apply(this,arguments)||this}return Object.defineProperty(i.prototype,"defaults",{get:function(){return he({},u.prototype.defaults)},enumerable:!1,configurable:!0}),i.prototype.toHTML=function(){return"<!--".concat(this.content,"-->")},i.isComponent=function(e){var t;if(e.nodeType==8)return{type:"comment",content:(t=e.textContent)!==null&&t!==void 0?t:""}},i}(V);const Fe=Ce;var Ne=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),tt=function(){return tt=Object.assign||function(u){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(u[n]=i[n])}return u},tt.apply(this,arguments)},St="iframe",fr=function(u){Ne(i,u);function i(){return u!==null&&u.apply(this,arguments)||this}return Object.defineProperty(i.prototype,"defaults",{get:function(){return tt(tt({},u.prototype.defaults),{type:St,tagName:St,droppable:!1,resizable:!0,traits:["id","title","src"],attributes:{frameborder:"0"}})},enumerable:!1,configurable:!0}),i.isComponent=function(e){return(0,o.toLowerCase)(e.tagName)===St},i}($n);const ir=fr;var en=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Rn=function(){return Rn=Object.assign||function(u){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(u[n]=i[n])}return u},Rn.apply(this,arguments)},_l='xmlns="http://www.w3.org/2000/svg" width="100" viewBox="0 0 24 24" style="fill: rgba(0,0,0,0.15); transform: scale(0.75)"',of=function(u){en(i,u);function i(e,t){e===void 0&&(e={});var n=u.call(this,e,t)||this,a=n.get("attributes").src;return a&&(0,o.buildBase64UrlFromSvg)((0,r.result)(n,"defaults").src)!==a&&n.set("src",a,{silent:!0}),n}return Object.defineProperty(i.prototype,"defaults",{get:function(){return Rn(Rn({},u.prototype.defaults),{type:"image",tagName:"img",void:!0,droppable:0,editable:1,highlightable:0,resizable:{ratioDefault:1},traits:["alt"],src:"<svg ".concat(_l,`>
        <path d="M8.5 13.5l2.5 3 3.5-4.5 4.5 6H5m16 1V5a2 2 0 0 0-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2z"></path>
      </svg>`),fallback:"<svg ".concat(_l,`>
        <path d="M2.28 3L1 4.27l2 2V19c0 1.1.9 2 2 2h12.73l2 2L21 21.72 2.28 3m2.55 0L21 19.17V5a2 2 0 0 0-2-2H4.83M8.5 13.5l2.5 3 1-1.25L14.73 18H5l3.5-4.5z"></path>
      </svg>`),file:""})},enumerable:!1,configurable:!0}),i.prototype.initToolbar=function(){u.prototype.initToolbar.call(this);var e=this.em;if(e){var t=e.Commands,n="image-editor";if(t.has(n)){for(var a=!1,p=this.get("toolbar"),m=0;m<p.length;m++)if(p[m].command==="image-editor"){a=!0;break}a||(p.push({attributes:{class:"fa fa-pencil"},command:n}),this.set("toolbar",p))}}},i.prototype.getAttrToHTML=function(){var e=u.prototype.getAttrToHTML.call(this),t=this.getSrcResult();return t&&(e.src=t),e},i.prototype.getSrcResult=function(e){e===void 0&&(e={});var t=this.get(e.fallback?"fallback":"src")||"",n=t;return t&&t.substr(0,4)==="<svg"&&(n=(0,o.buildBase64UrlFromSvg)(t)),n},i.prototype.isDefaultSrc=function(){var e=this.get("src"),t=(0,r.result)(this,"defaults").src;return e===t||e===(0,o.buildBase64UrlFromSvg)(t)},i.prototype.toJSON=function(e){var t=u.prototype.toJSON.call(this,e),n=t.attributes;return n&&t.src===n.src&&delete t.src,t},i.prototype.parseUri=function(e){var t={},n=function(a){a===void 0&&(a="");for(var p={},m=a.substring(1).split("&"),y=0;y<m.length;y++){var b=m[y].split("="),O=decodeURIComponent(b[0]);O&&(p[O]=decodeURIComponent(b[1]||""))}return p};if((0,o.hasWin)())t=document.createElement("a"),t.href=e;else if(typeof URL<"u")try{t=new URL(e)}catch{}return{hostname:t.hostname||"",pathname:t.pathname||"",protocol:t.protocol||"",search:t.search||"",hash:t.hash||"",port:t.port||"",query:n(t.search)}},i.isComponent=function(e){return(0,o.toLowerCase)(e.tagName)==="img"},i}($n);const Wd=of;var v0=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ju=function(){return ju=Object.assign||function(u){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(u[n]=i[n])}return u},ju.apply(this,arguments)},cv=function(u){v0(i,u);function i(e,t){e===void 0&&(e={});var n=u.call(this,e,t)||this;return n.__checkInnerChilds(),n}return Object.defineProperty(i.prototype,"defaults",{get:function(){return ju(ju({},u.prototype.defaults),{type:"text",droppable:!1,editable:!0})},enumerable:!1,configurable:!0}),i.prototype.__checkInnerChilds=function(){var e=this.em.Components.config.disableTextInnerChilds;if(e){var t=function(n){n.isInstanceOf("textnode")||n.set({locked:!0,layerable:!1})};(0,r.isFunction)(e)?this.forEachChild(function(n){e(n)&&t(n)}):this.forEachChild(t)}},i}($n);const Ts=cv;var fv=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Iu=function(){return Iu=Object.assign||function(u){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(u[n]=i[n])}return u},Iu.apply(this,arguments)},Fu="label",af=function(u){fv(i,u);function i(){return u!==null&&u.apply(this,arguments)||this}return Object.defineProperty(i.prototype,"defaults",{get:function(){return Iu(Iu({},u.prototype.defaults),{type:Fu,tagName:Fu,traits:["id","title","for"]})},enumerable:!1,configurable:!0}),i.isComponent=function(e){return(0,o.toLowerCase)(e.tagName)===Fu},i}(Ts);const dv=af;var sf=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Fi=function(){return Fi=Object.assign||function(u){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(u[n]=i[n])}return u},Fi.apply(this,arguments)},$d="link",Kd=function(u){sf(i,u);function i(){return u!==null&&u.apply(this,arguments)||this}return Object.defineProperty(i.prototype,"defaults",{get:function(){return Fi(Fi({},u.prototype.defaults),{type:$d,tagName:"a",traits:["title","href","target"]})},enumerable:!1,configurable:!0}),i.isComponent=function(e,t){t===void 0&&(t={});var n;if((0,o.toLowerCase)(e.tagName)==="a"){var a=t.textTags||[];n={type:$d,editable:!1};var p=e.childNodes,m=p.length;m||delete n.editable,(0,r.forEach)(p,function(y){var b=y.tagName;(y.nodeType==3&&y.textContent.trim()!==""||b&&a.indexOf((0,o.toLowerCase)(b))>=0)&&delete n.editable})}return n},i}(Ts);const Gd=Kd;var pv=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Vu=function(){return Vu=Object.assign||function(u){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(u[n]=i[n])}return u},Vu.apply(this,arguments)},Zd=function(u){pv(i,u);function i(e,t){e===void 0&&(e={});var n=u.call(this,e,t)||this;return n.get("src")?n.parseFromSrc():n.updateSrc(),n.listenTo(n,"change:address change:zoom change:mapType",n.updateSrc),n}return Object.defineProperty(i.prototype,"defaults",{get:function(){var e=u.prototype.defaults;return Vu(Vu({},e),{type:"map",src:"",void:!1,mapUrl:"https://maps.google.com/maps",tagName:"iframe",mapType:"q",address:"",zoom:"1",attributes:{frameborder:0},toolbar:e.toolbar,traits:[{label:"Address",name:"address",placeholder:"eg. London, UK",changeProp:!0},{type:"select",label:"Map type",name:"mapType",changeProp:!0,options:[{id:"q",label:"Roadmap"},{id:"w",label:"Satellite"}]},{label:"Zoom",name:"zoom",type:"range",min:1,max:20,changeProp:!0}]})},enumerable:!1,configurable:!0}),i.prototype.updateSrc=function(){this.set("src",this.getMapUrl())},i.prototype.getMapUrl=function(){var e=this.get("address"),t=this.get("zoom"),n=this.get("mapType");e=e?"&q="+e:"",t=t?"&z="+t:"",n=n?"&t="+n:"";var a=this.get("mapUrl")+"?"+e+t+n;return a+="&output=embed",a},i.prototype.parseFromSrc=function(){var e=this.parseUri(this.get("src")),t=e.query;t.q&&this.set("address",t.q),t.z&&this.set("zoom",t.z),t.t&&this.set("mapType",t.t)},i.isComponent=function(e){if((0,o.toLowerCase)(e.tagName)=="iframe"&&/maps\.google\.com/.test(e.src))return{type:"map",src:e.src}},i}(Wd);const g0=Zd;var m0=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),lf=function(){return lf=Object.assign||function(u){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(u[n]=i[n])}return u},lf.apply(this,arguments)},ca="script",bl=function(u){m0(i,u);function i(){return u!==null&&u.apply(this,arguments)||this}return Object.defineProperty(i.prototype,"defaults",{get:function(){return lf(lf({},u.prototype.defaults),{type:ca,tagName:ca,droppable:!1,draggable:!1,layerable:!1,highlightable:!1})},enumerable:!1,configurable:!0}),i.isComponent=function(e){return(0,o.toLowerCase)(e.tagName)===ca},i}($n);const xl=bl;var qd=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Sl=function(){return Sl=Object.assign||function(u){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(u[n]=i[n])}return u},Sl.apply(this,arguments)},uf="svg",Yd=function(u){qd(i,u);function i(){return u!==null&&u.apply(this,arguments)||this}return Object.defineProperty(i.prototype,"defaults",{get:function(){return Sl(Sl({},u.prototype.defaults),{type:uf,tagName:uf,highlightable:!1,resizable:{ratioDefault:!0}})},enumerable:!1,configurable:!0}),i.prototype.getName=function(){var e=this.get("tagName"),t=this.get("custom-name");return e=e.charAt(0).toUpperCase()+e.slice(1),t||e},i.isComponent=function(e){return(0,o.toLowerCase)(e.tagName)===uf},i}($n);const Ba=Yd;var Ps=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ti=function(){return ti=Object.assign||function(u){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(u[n]=i[n])}return u},ti.apply(this,arguments)},Ha=function(u){Ps(i,u);function i(){return u!==null&&u.apply(this,arguments)||this}return Object.defineProperty(i.prototype,"defaults",{get:function(){return ti(ti({},u.prototype.defaults),{selectable:!1,hoverable:!1,layerable:!1})},enumerable:!1,configurable:!0}),i.isComponent=function(e,t){return t===void 0&&(t={}),!!t.inSvg},i}(Ba);const za=Ha;var cf=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ff=function(){return ff=Object.assign||function(u){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(u[n]=i[n])}return u},ff.apply(this,arguments)},df="table",Uu=function(u){cf(i,u);function i(e,t){e===void 0&&(e={});var n=u.call(this,e,t)||this,a=n.get("components");return!a.length&&a.add({type:"tbody"}),n}return Object.defineProperty(i.prototype,"defaults",{get:function(){return ff(ff({},u.prototype.defaults),{type:df,tagName:df,droppable:["tbody","thead","tfoot"]})},enumerable:!1,configurable:!0}),i.isComponent=function(e){return(0,o.toLowerCase)(e.tagName)===df},i}($n);const hv=Uu;var Xd=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ks=function(){return ks=Object.assign||function(u){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(u[n]=i[n])}return u},ks.apply(this,arguments)},Jd="tbody",Qd=function(u){Xd(i,u);function i(e,t){e===void 0&&(e={});var n=u.call(this,e,t)||this,a=n.get("components"),p=n.get("columns"),m=n.get("rows");if(!a.length){for(var y=[];m--;){for(var b=[],O=p;O--;)b.push({type:"cell",classes:["cell"]});y.push({type:"row",classes:["row"],components:b})}a.add(y)}return n}return Object.defineProperty(i.prototype,"defaults",{get:function(){return ks(ks({},u.prototype.defaults),{type:Jd,tagName:Jd,draggable:["table"],droppable:["tr"],columns:1,rows:1})},enumerable:!1,configurable:!0}),i.isComponent=function(e){return(0,o.toLowerCase)(e.tagName)===Jd},i}($n);const pf=Qd;var ep=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Cl=function(){return Cl=Object.assign||function(u){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(u[n]=i[n])}return u},Cl.apply(this,arguments)},Ol=function(u){ep(i,u);function i(){return u!==null&&u.apply(this,arguments)||this}return Object.defineProperty(i.prototype,"defaults",{get:function(){return Cl(Cl({},u.prototype.defaults),{type:"cell",tagName:"td",draggable:["tr"]})},enumerable:!1,configurable:!0}),i.isComponent=function(e){return["td","th"].indexOf((0,o.toLowerCase)(e.tagName))>=0},i}($n);const hf=Ol;var vv=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),As=function(){return As=Object.assign||function(u){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(u[n]=i[n])}return u},As.apply(this,arguments)},tp="tfoot",y0=function(u){vv(i,u);function i(){return u!==null&&u.apply(this,arguments)||this}return Object.defineProperty(i.prototype,"defaults",{get:function(){return As(As({},u.prototype.defaults),{type:tp,tagName:tp})},enumerable:!1,configurable:!0}),i.isComponent=function(e){return(0,o.toLowerCase)(e.tagName)===tp},i}(pf);const w0=y0;var rp=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),El=function(){return El=Object.assign||function(u){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(u[n]=i[n])}return u},El.apply(this,arguments)},Wa="thead",Bu=function(u){rp(i,u);function i(){return u!==null&&u.apply(this,arguments)||this}return Object.defineProperty(i.prototype,"defaults",{get:function(){return El(El({},u.prototype.defaults),{type:Wa,tagName:Wa})},enumerable:!1,configurable:!0}),i.isComponent=function(e){return(0,o.toLowerCase)(e.tagName)===Wa},i}(pf);const _0=Bu;var vf=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Hu=function(){return Hu=Object.assign||function(u){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(u[n]=i[n])}return u},Hu.apply(this,arguments)},Tl="tr",gv=function(u){vf(i,u);function i(){return u!==null&&u.apply(this,arguments)||this}return Object.defineProperty(i.prototype,"defaults",{get:function(){return Hu(Hu({},u.prototype.defaults),{tagName:Tl,draggable:["thead","tbody","tfoot"],droppable:["th","td"]})},enumerable:!1,configurable:!0}),i.isComponent=function(e){return(0,o.toLowerCase)(e.tagName)===Tl},i}($n);const Ls=gv;var zu=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Ko=function(){return Ko=Object.assign||function(u){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(u[n]=i[n])}return u},Ko.apply(this,arguments)},Ms="video",Po="yt",Ds="vi",Rs="ytnc",np="so",ip=function(u){return u&&u!=="0"},Ns=function(u){zu(i,u);function i(e,t){e===void 0&&(e={});var n=u.call(this,e,t)||this;return n.get("src")&&n.parseFromSrc(),n.updatePropsFromAttr(),n.updateTraits(),n.on("change:provider",n.updateTraits),n.on("change:videoId change:provider",n.updateSrc),n}return Object.defineProperty(i.prototype,"defaults",{get:function(){return Ko(Ko({},u.prototype.defaults),{type:Ms,tagName:Ms,videoId:"",void:!1,provider:np,ytUrl:"https://www.youtube.com/embed/",ytncUrl:"https://www.youtube-nocookie.com/embed/",viUrl:"https://player.vimeo.com/video/",loop:!1,poster:"",muted:0,autoplay:!1,controls:!0,color:"",list:"",src:"",rel:1,modestbranding:0,sources:[],attributes:{allowfullscreen:"allowfullscreen"}})},enumerable:!1,configurable:!0}),i.prototype.updatePropsFromAttr=function(){if(this.get("provider")===np){var e=this.get("attributes"),t=e.controls,n=e.autoplay,a=e.loop,p={};(0,o.isDef)(t)&&(p.controls=!!t),(0,o.isDef)(n)&&(p.autoplay=!!n),(0,o.isDef)(a)&&(p.loop=!!a),(0,o.isEmptyObj)(p)||this.set(p)}},i.prototype.updateTraits=function(){var e=this.em,t=this.get("provider"),n="iframe",a;switch(t){case Po:case Rs:a=this.getYoutubeTraits();break;case Ds:a=this.getVimeoTraits();break;default:n="video",a=this.getSourceTraits()}this.set({tagName:n},{silent:!0}),this.set({traits:a}),e.get("ready")&&e.trigger("component:toggled")},i.prototype.parseFromSrc=function(){var e=this.get("provider"),t=this.parseUri(this.get("src")),n=t.query;switch(e){case Po:case Rs:case Ds:this.set("videoId",t.pathname.split("/").pop()),n.list&&this.set("list",n.list),ip(n.autoplay)&&this.set("autoplay",!0),ip(n.loop)&&this.set("loop",!0),parseInt(n.controls)===0&&this.set("controls",!1),ip(n.color)&&this.set("color",n.color),n.rel==="0"&&this.set("rel",0),n.modestbranding==="1"&&this.set("modestbranding",1);break}},i.prototype.updateSrc=function(){var e=this.get("provider"),t="";switch(e){case Po:t=this.getYoutubeSrc();break;case Rs:t=this.getYoutubeNoCookieSrc();break;case Ds:t=this.getVimeoSrc();break}this.set({src:t})},i.prototype.getAttrToHTML=function(){var e=u.prototype.getAttrToHTML.call(this),t=this.get("provider");switch(t){case Po:case Rs:case Ds:break;default:e.loop=!!this.get("loop"),e.autoplay=!!this.get("autoplay"),e.controls=!!this.get("controls")}return e},i.prototype.getProviderTrait=function(){return{type:"select",label:"Provider",name:"provider",changeProp:!0,options:[{value:"so",name:"HTML5 Source"},{value:Po,name:"Youtube"},{value:Rs,name:"Youtube (no cookie)"},{value:Ds,name:"Vimeo"}]}},i.prototype.getSourceTraits=function(){return[this.getProviderTrait(),{label:"Source",name:"src",placeholder:"eg. ./media/video.mp4",changeProp:!0},{label:"Poster",name:"poster",placeholder:"eg. ./media/image.jpg"},this.getAutoplayTrait(),this.getLoopTrait(),this.getControlsTrait()]},i.prototype.getYoutubeTraits=function(){return[this.getProviderTrait(),{label:"Video ID",name:"videoId",placeholder:"eg. jNQXAC9IVRw",changeProp:!0},this.getAutoplayTrait(),this.getLoopTrait(),this.getControlsTrait(),{type:"checkbox",label:"Related",name:"rel",changeProp:!0},{type:"checkbox",label:"Modest",name:"modestbranding",changeProp:!0}]},i.prototype.getVimeoTraits=function(){return[this.getProviderTrait(),{label:"Video ID",name:"videoId",placeholder:"eg. 123456789",changeProp:!0},{label:"Color",name:"color",placeholder:"eg. FF0000",changeProp:!0},this.getAutoplayTrait(),this.getLoopTrait()]},i.prototype.getAutoplayTrait=function(){return{type:"checkbox",label:"Autoplay",name:"autoplay",changeProp:!0}},i.prototype.getLoopTrait=function(){return{type:"checkbox",label:"Loop",name:"loop",changeProp:!0}},i.prototype.getControlsTrait=function(){return{type:"checkbox",label:"Controls",name:"controls",changeProp:!0}},i.prototype.getYoutubeSrc=function(){var e=this.get("videoId"),t=this.get("ytUrl"),n=this.get("list");return t+=e+(e.indexOf("?")<0?"?":""),t+=n?"&list=".concat(n):"",t+=this.get("autoplay")?"&autoplay=1&mute=1":"",t+=this.get("controls")?"":"&controls=0&showinfo=0",t+=this.get("loop")?"&loop=1&playlist=".concat(e):"",t+=this.get("rel")?"":"&rel=0",t+=this.get("modestbranding")?"&modestbranding=1":"",t},i.prototype.getYoutubeNoCookieSrc=function(){var e=this.getYoutubeSrc();return e=e.replace(this.get("ytUrl"),this.get("ytncUrl")),e},i.prototype.getVimeoSrc=function(){var e=this.get("viUrl");return e+=this.get("videoId")+"?",e+=this.get("autoplay")?"&autoplay=1&muted=1":"",e+=this.get("loop")?"&loop=1":"",e+=this.get("controls")?"":"&title=0&portrait=0&badge=0",e+=this.get("color")?"&color="+this.get("color"):"",e},i.isComponent=function(e){var t=e.tagName,n=e.src,a=/youtube\.com\/embed/.test(n),p=/youtube-nocookie\.com\/embed/.test(n),m=/player\.vimeo\.com\/video/.test(n),y=a||p||m;if((0,o.toLowerCase)(t)==Ms||(0,o.toLowerCase)(t)=="iframe"&&y){var b={type:"video"};return n&&(b.src=n),y&&(a?b.provider=Po:p?b.provider=Rs:m&&(b.provider=Ds)),b}},i}(Wd);const js=Ns;var b0=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),gf=function(){return gf=Object.assign||function(u){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(u[n]=i[n])}return u},gf.apply(this,arguments)},x0=function(u){b0(i,u);function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n,a,p=u.apply(this,e)||this,m=e[1],y=(n=m==null?void 0:m.em)===null||n===void 0?void 0:n.Components,b=(a=y==null?void 0:y.getType(Oo))===null||a===void 0?void 0:a.model,O=y==null?void 0:y.getType("default").model;return b&&p.set({head:new b({},m),docEl:new O({tagName:"html"},m)},{silent:!0}),p}return Object.defineProperty(i.prototype,"defaults",{get:function(){return gf(gf({},u.prototype.defaults),{tagName:"body",removable:!1,copyable:!1,draggable:!1,components:[],traits:[],doctype:"",head:null,docEl:null,stylable:["background","background-color","background-image","background-repeat","background-attachment","background-position","background-size"]})},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"head",{get:function(){return this.get("head")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"docEl",{get:function(){return this.get("docEl")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"doctype",{get:function(){return this.attributes.doctype||""},enumerable:!1,configurable:!0}),i.prototype.toHTML=function(e){e===void 0&&(e={});var t=this.doctype,n=(0,r.isUndefined)(e.asDocument)?!!t:e.asDocument,a=this,p=a.head,m=a.docEl,y=u.prototype.toHTML.call(this,e),b=n&&(p==null?void 0:p.toHTML(e))||"",O=n&&(0,nt.nB)(m==null?void 0:m.getAttrToHTML())||"",A=O?" ".concat(O):"";return n?"".concat(t,"<html").concat(A,">").concat(b).concat(y,"</html>"):y},i.prototype.__postAdd=function(){var e,t=(e=this.em)===null||e===void 0?void 0:e.UndoManager;return!this.__hasUm&&(t==null||t.add(this)),u.prototype.__postAdd.call(this)},i.prototype.__postRemove=function(){var e,t=(e=this.em)===null||e===void 0?void 0:e.UndoManager;return t==null||t.remove(this),u.prototype.__postRemove.call(this)},i.isComponent=function(){return!1},i}($n);const S0=x0;var C0=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),O0=function(u){C0(i,u);function i(){var e=u!==null&&u.apply(this,arguments)||this;return e.compView=vn,e}return i.prototype.initialize=function(e){this.opts=e||{},this.config=e.config||{},this.em=this.config.em;var t=this.collection;this.listenTo(t,"add",this.addTo),this.listenTo(t,"reset",this.resetChildren),this.listenTo(t,"remove",this.removeChildren)},i.prototype.removeChildren=function(e,t,n){var a=this;n===void 0&&(n={}),e.views.forEach(function(m){if(m){var y=m.childrenView,b=m.scriptContainer;y&&y.stopListening(),(0,nt.L_)(b),m.remove.apply(m)}});var p=e.components();p.forEach(function(m){return a.removeChildren(m,t,n)})},i.prototype.addTo=function(e){this.addToCollection(e,null,this.collection.indexOf(e))},i.prototype.addToCollection=function(e,t,n){for(var a=this,p=a.config,m=a.opts,y=a.em,b=p.frameView,O=(b==null?void 0:b.model)&&e.getView(b.model),A=m.componentTypes||(y==null?void 0:y.Components.getTypes()),R=e.get("type")||"default",B=this.compView,Q=0;Q<A.length;Q++)if(A[Q].id==R){B=A[Q].view;break}var le=O||new B({model:e,config:p,componentTypes:A}),ue;try{ue=le.render().el}catch(ot){ue=document.createTextNode(""),y.logError(ot)}if(t)t.appendChild(ue);else{var ke=this.parentEl,Be=ke.childNodes;if((0,r.isUndefined)(n))ke.appendChild(ue);else{var He=Be.length==n;He&&n--,He||!Be.length?ke.appendChild(ue):ke.insertBefore(ue,Be[n])}}return e.opt.temporary||y==null||y.trigger("component:mount",e),ue},i.prototype.resetChildren=function(e,t){var n=this,a=t===void 0?{}:t,p=a.previousModels,m=p===void 0?[]:p;this.parentEl.innerHTML="",m.forEach(function(y){return n.removeChildren(y,n.collection)}),e.each(function(y){return n.addToCollection(y)})},i.prototype.render=function(e){var t=this,n=this.el,a=document.createDocumentFragment();return this.parentEl=e||this.el,this.collection.each(function(p){return t.addToCollection(p,a)}),n.innerHTML="",n.appendChild(a),this},i}(C.G7);const Ai=O0;var Kn=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),pn=function(){return pn=Object.assign||function(u){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(u[n]=i[n])}return u},pn.apply(this,arguments)},Gn=function(u){Kn(i,u);function i(){return u!==null&&u.apply(this,arguments)||this}return i.prototype.className=function(){return this.getClasses()},i.prototype.tagName=function(){return this.model.get("tagName")},i.prototype.preinitialize=function(e){e===void 0&&(e={}),this.opts=e},i.prototype.initialize=function(e){e===void 0&&(e={});var t=this.model,n=e.config||{},a=n.em,p=t.opt||{},m=this,y=m.$el,b=m.el;this.opts=e,this.modelOpt=p,this.config=n,this.em=a,this.pfx=n.stylePrefix||"",this.ppfx=n.pStylePrefix||"",this.attr=t.get("attributes"),this.classe=this.attr.class||[],this.listenTo(t,"change:style",this.updateStyle),this.listenTo(t,"change:attributes",this.renderAttributes),this.listenTo(t,"change:highlightable",this.updateHighlight),this.listenTo(t,"change:status change:locked",this.updateStatus),this.listenTo(t,"change:script rerender",this.reset),this.listenTo(t,"change:content",this.updateContent),this.listenTo(t,"change",this.handleChange),this.listenTo(t,"active",this.onActive),this.listenTo(t,"disable",this.onDisable),y.data("model",t),(0,o.setViewEl)(b,this),t.view=this,this.frameView&&t.views.push(this),this.initClasses(),this.initComponents({avoidRender:!0}),this.events=pn(pn({},this.constructor.getEvents()),{dragstart:"handleDragStart"}),this.delegateEvents(),!p.temporary&&this.init(this._clbObj())},Object.defineProperty(i.prototype,"__cmpStyleOpts",{get:function(){return{state:"",mediaText:""}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"frameView",{get:function(){return this.opts.config.frameView},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"createDoc",{get:function(){var e,t,n=((e=this.frameView)===null||e===void 0?void 0:e.getDoc())||document;return!((t=this.opts.config)===null||t===void 0)&&t.useFrameDoc?n:document},enumerable:!1,configurable:!0}),i.prototype.__isDraggable=function(){var e=this,t=e.model,n=e.config,a=t.attributes.draggable;return n.draggableComponents&&a},i.prototype._clbObj=function(){var e=this,t=e.em,n=e.model,a=e.el;return{editor:t==null?void 0:t.getEditor(),model:n,el:a}},i.prototype.init=function(e){},i.prototype.removed=function(e){},i.prototype.onRender=function(e){},i.prototype.onActive=function(e){},i.prototype.onDisable=function(e){},i.prototype.remove=function(){var e;u.prototype.remove.call(this);var t=this,n=t.model,a=t.$el,p=n.views,m=this.frameView||{};return n.components().forEach(function(y){var b=y.getView(m.model);b==null||b.remove()}),(e=this.childrenView)===null||e===void 0||e.remove(),p.splice(p.indexOf(this),1),this.removed(this._clbObj()),a.data({model:"",collection:"",view:""}),this},i.prototype.handleDragStart=function(e){if(!this.__isDraggable())return!1;e.stopPropagation(),e.preventDefault(),this.em.Commands.run("tlb-move",{target:this.model,event:e})},i.prototype.initClasses=function(){var e=this.model,t=e.classes,n="change:classes";t instanceof bo&&(this.stopListening(e,n,this.initClasses),this.listenTo(e,n,this.initClasses),this.listenTo(t,"add remove change reset",this.updateClasses),t.length&&this.importClasses())},i.prototype.initComponents=function(e){e===void 0&&(e={});var t=this,n=t.model,a=t.$el,p=t.childrenView,m="change:components",y=n.get("components"),b=[n,m,this.initComponents];y instanceof _o&&(a.data("collection",y),p&&p.remove(),this.stopListening.apply(this,b),!e.avoidRender&&this.renderChildren(),this.listenTo.apply(this,b))},i.prototype.handleChange=function(){var e=this.model,t=(0,r.keys)(e.changed);if(!(t.length===1&&t[0]==="status")){e.emitUpdate();for(var n in e.changed)e.emitUpdate(n)}},i.prototype.importClasses=function(){var e=this,t=e.em,n=e.model,a=t.Selectors;a&&n.classes.forEach(function(p){return a.add(p.getName())})},i.prototype.updateStatus=function(e){e===void 0&&(e={});var t=this,n=t.em,a=t.el,p=t.ppfx,m=t.model,y=n==null?void 0:n.Canvas,b=y==null?void 0:y.config.extHl,O=m.get("status"),A="".concat(p,"selected"),R="".concat(A,"-parent"),B="".concat(p,"freezed"),Q="".concat(p,"hovered"),le="".concat(p,"no-pointer"),ue="".concat(p,"pointer-init"),ke=[A,R,B,Q,le],Be=b&&!e.noExtHl?"":A;this.$el.removeClass(ke.join(" "));var He=a.getAttribute("class")||"",ot=[He],Ot=!(y!=null&&y.hasCustomSpot(Sr.q.Select)),Gt=!(y!=null&&y.hasCustomSpot(Sr.q.Target));switch(O){case"selected":Ot&&ot.push(Be);break;case"selected-parent":Gt&&ot.push(R);break;case"freezed":ot.push(B);break;case"freezed-selected":ot.push(B),Ot&&ot.push(Be);break;case"hovered":!e.avoidHover&&ot.push(Q);break}(0,r.isBoolean)(m.locked)&&ot.push(m.locked?le:ue);var er=ot.filter(Boolean).join(" ");er&&a.setAttribute("class",er)},i.prototype.updateHighlight=function(){var e=this.model,t=e.get("textable"),n=e.get("highlightable")&&(t||!e.isChildOf("text"));this.setAttribute("data-gjs-highlightable",n?!0:"")},i.prototype.updateStyle=function(e,t,n){n===void 0&&(n={});var a=this,p=a.model,m=a.em;if(la(m)&&!n.inline){var y=this.__cmpStyleOpts,b=p.getStyle(pn({inline:!0},y));!(0,r.isEmpty)(b)&&p.setStyle(b,y)}else this.setAttribute("style",p.styleToString(n))},i.prototype.updateClasses=function(){var e=this.model.classes.pluck("name").join(" ");this.setAttribute("class",e),this.updateStatus(),this.onAttrUpdate()},i.prototype.setAttribute=function(e,t){var n=this.$el;t?n.attr(e,t):n.removeAttr(e)},i.prototype.getClasses=function(){return this.model.getClasses().join(" ")},i.prototype.updateAttributes=function(){var e=[],t=this,n=t.model,a=t.$el,p=t.el,m=n.attributes,y=m.textable,b=m.type,O=pn(pn({id:n.getId(),"data-gjs-type":b||"default"},this.__isDraggable()&&{draggable:!0}),y&&{contenteditable:"false"});(0,r.each)(p.attributes,function(R){return e.push(R.nodeName)}),e.forEach(function(R){return a.removeAttr(R)}),this.updateStyle(),this.updateHighlight();var A=pn(pn({},O),n.getAttributes());(0,r.keys)(A).forEach(function(R){return A[R]===!1&&delete A[R]}),a.attr(A)},i.prototype.updateContent=function(){var e=this.model.content,t=this.model.components().length;this.getChildrenContainer().innerHTML=t?"":e},i.prototype.prevDef=function(e){e.preventDefault()},i.prototype.updateScript=function(){var e=this,t=e.model,n=e.em;t.get("script")&&(n==null||n.Canvas.getCanvasView().updateScript(this))},i.prototype.getChildrenContainer=function(){var e=this.el;return typeof this.getChildrenSelector=="function"?e=this.el.querySelector(this.getChildrenSelector()):this.getTemplate,e},i.prototype.getOffsetRect=function(){var e={top:0,left:0,bottom:0,right:0},t=this.el,n=0,a=0,p=function(m){var y=m.offsetParent;y?(n+=y.offsetTop,a+=y.offsetLeft,p(y)):(e.top=t.offsetTop+n,e.left=t.offsetLeft+a,e.bottom=e.top+t.offsetHeight,e.right=e.left+t.offsetWidth)};return p(t),e},i.prototype.isInViewport=function(){var e=this,t=e.el,n=e.em,a=e.frameView,p=n.Canvas.getCanvasView(),m=p.getElBoxRect(t,{local:!0}),y=a.el,b=y.clientHeight,O=y.clientWidth,A=m.y,R=m.x,B=A+m.height,Q=R+m.width,le=A>=0&&A<b,ue=B>0&&B<b,ke=Q>=0&&Q<O,Be=R>0&&R<=O,He=(le||ue)&&(ke||Be);return He},i.prototype.scrollIntoView=function(e){var t;e===void 0&&(e={});var n=this.isInViewport();if(!n||e.force){var a=this.el;if(e.behavior!=="smooth"){var p=this.getOffsetRect();(t=a.ownerDocument.defaultView)===null||t===void 0||t.scrollTo(0,p.top)}else a.scrollIntoView(pn({behavior:"smooth",block:"nearest"},e))}},i.prototype.reset=function(){var e=this.el;this.el="",this._ensureElement(),this._setData(),(0,nt.dL)(e,this.el),this.render()},i.prototype._setData=function(){var e=this.model,t=e.components(),n=this;this.$el.data({model:e,collection:t,view:n})},i.prototype._createElement=function(e){return this.createDoc.createElement(e)},i.prototype.renderChildren=function(){this.updateContent();var e=this.getChildrenContainer(),t=this.childrenView||new Ai({collection:this.model.get("components"),config:this.config,componentTypes:this.opts.componentTypes});t.render(e),this.childrenView=t;for(var n=Array.prototype.slice.call(t.el.childNodes),a=0,p=n.length;a<p;a++)e.appendChild(n.shift())},i.prototype.renderAttributes=function(){this.updateAttributes(),this.updateClasses()},i.prototype.onAttrUpdate=function(){},i.prototype.render=function(){return this.renderAttributes(),this.modelOpt.temporary?this:(this.renderChildren(),this.updateScript(),(0,o.setViewEl)(this.el,this),this.postRender(),this)},i.prototype.postRender=function(){this.modelOpt.temporary||this.onRender(this._clbObj())},i.getEvents=function(){return(0,r.result)(this.prototype,"events")},i}(C.G7);const vn=Gn;var E0=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),mf=function(u){E0(i,u);function i(){return u!==null&&u.apply(this,arguments)||this}return i.prototype._setAttributes=function(){},i.prototype.renderAttributes=function(){},i.prototype.updateStatus=function(){},i.prototype.updateClasses=function(){},i.prototype.setAttribute=function(){},i.prototype.updateAttributes=function(){},i.prototype.initClasses=function(){},i.prototype.initComponents=function(){},i.prototype.delegateEvents=function(){return this},i.prototype._createElement=function(){return document.createTextNode("")},i.prototype.render=function(){var e=this,t=e.model,n=e.el;return t.opt.temporary?this:(n.textContent=t.content,this)},i}(vn);const mv=mf;var T0=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),P0=function(u){T0(i,u);function i(){return u!==null&&u.apply(this,arguments)||this}return i.prototype._createElement=function(){return document.createComment(this.model.content)},i}(mv);const op=P0;var yv=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ap=function(u){yv(i,u);function i(){return u!==null&&u.apply(this,arguments)||this}return i.prototype.tagName=function(){return"div"},i.prototype.initialize=function(e){u.prototype.initialize.call(this,e),this.listenTo(this.model,"change:attributes:src",this.updateSrc)},i.prototype.updateSrc=function(){var e=(0,nt.sE)(this.el,"iframe")[0];e&&(0,nt.FW)(e,{src:this.__getSrc()})},i.prototype.render=function(){u.prototype.render.call(this);var e=(0,nt.ut)("iframe",{class:"".concat(this.ppfx,"no-pointer"),style:"width: 100%; height: 100%; border: none",src:this.__getSrc()});return this.el.appendChild(e),this},i.prototype.__getSrc=function(){return this.model.getAttributes().src||""},i}(vn);const k0=ap;var sp=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),lp=function(u){sp(i,u);function i(){return u!==null&&u.apply(this,arguments)||this}return i.prototype.tagName=function(){return"img"},i.prototype.events=function(){return{dblclick:"onActive",click:"initResize",error:"onError",load:"onLoad",dragstart:"noDrag"}},i.prototype.initialize=function(e){u.prototype.initialize.call(this,e),this.listenTo(this.model,"change:src",this.updateSrc),this.classEmpty="".concat(this.ppfx,"plh-image"),this.fetchFile()},i.prototype.fetchFile=function(){if(!this.modelOpt.temporary){var e=this,t=e.model,n=e.em,a=t.get("file");if(a&&n){var p=n.Assets.FileUploader();p==null||p.uploadFile({dataTransfer:{files:[a]}},function(m){var y=m&&m.data&&m.data[0],b=y&&((0,r.isString)(y)?y:y.src);b&&t.set({src:b})}),t.set("file","")}}},i.prototype.updateSrc=function(){var e=this.model;e.addAttributes({src:e.getSrcResult()}),this.updateClasses()},i.prototype.updateClasses=function(){u.prototype.updateClasses.call(this);var e=this,t=e.el,n=e.classEmpty,a=e.model,p=a.getSrcResult()&&!a.isDefaultSrc(),m=p?"remove":"add";t.classList[m](n)},i.prototype.onActive=function(e){e==null||e.stopPropagation();var t=this,n=t.em,a=t.model,p=n==null?void 0:n.Assets;p&&a.get("editable")&&p.open({select:function(m,y){a.set({src:m.getSrc()}),y&&p.close()},target:a,types:["image"],accept:"image/*"})},i.prototype.onError=function(){var e=this.model.getSrcResult({fallback:!0});e&&(this.el.src=e)},i.prototype.onLoad=function(){this.em.Canvas.refresh({all:!0})},i.prototype.noDrag=function(e){return e.preventDefault(),!1},i.prototype.render=function(){if(this.renderAttributes(),this.modelOpt.temporary)return this;this.updateSrc();var e=this,t=e.$el,n=e.model,a=t.attr("class")||"";return!n.get("src")&&t.attr("class","".concat(a," ").concat(this.classEmpty).trim()),this.postRender(),this},i}(vn);const yf=lp;var wv=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Is=function(){return Is=Object.assign||function(u){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(u[n]=i[n])}return u},Is.apply(this,arguments)},Wu=function(u,i,e,t){function n(a){return a instanceof e?a:new e(function(p){p(a)})}return new(e||(e=Promise))(function(a,p){function m(O){try{b(t.next(O))}catch(A){p(A)}}function y(O){try{b(t.throw(O))}catch(A){p(A)}}function b(O){O.done?a(O.value):n(O.value).then(m,y)}b((t=t.apply(u,i||[])).next())})},$a=function(u,i){var e={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,n,a,p;return p={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function m(b){return function(O){return y([b,O])}}function y(b){if(t)throw new TypeError("Generator is already executing.");for(;p&&(p=0,b[0]&&(e=0)),e;)try{if(t=1,n&&(a=b[0]&2?n.return:b[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,b[1])).done)return a;switch(n=0,a&&(b=[b[0]&2,a.value]),b[0]){case 0:case 1:a=b;break;case 4:return e.label++,{value:b[1],done:!1};case 5:e.label++,n=b[1],b=[0];continue;case 7:b=e.ops.pop(),e.trys.pop();continue;default:if(a=e.trys,!(a=a.length>0&&a[a.length-1])&&(b[0]===6||b[0]===2)){e=0;continue}if(b[0]===3&&(!a||b[1]>a[0]&&b[1]<a[3])){e.label=b[1];break}if(b[0]===6&&e.label<a[1]){e.label=a[1],a=b;break}if(a&&e.label<a[2]){e.label=a[2],e.ops.push(b);break}a[2]&&e.ops.pop(),e.trys.pop();continue}b=i.call(u,e)}catch(O){b=[6,O],n=0}finally{t=a=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}},A0=function(u){wv(i,u);function i(){return u!==null&&u.apply(this,arguments)||this}return i.prototype.events=function(){return{dblclick:"onActive",input:"onInput"}},i.prototype.initialize=function(e){u.prototype.initialize.call(this,e),(0,r.bindAll)(this,"disableEditing","onDisable");var t=this.model,n=this.em;this.listenTo(t,"focus",this.onActive),this.listenTo(t,"change:content",this.updateContentText),this.listenTo(t,"sync:content",this.syncContent),this.rte=n==null?void 0:n.RichTextEditor},i.prototype.updateContentText=function(e,t,n){n===void 0&&(n={}),!n.fromDisable&&this.disableEditing()},i.prototype.canActivate=function(){var e=this,t=e.model,n=e.rteEnabled,a=e.em,p=a==null?void 0:a.getEditing(),m=p===t,y=!0,b=!1,O;if((n||!t.get("editable")||m||(b=t.isChildOf("text")))&&(y=!1,b&&!t.get("textable"))){for(var A=t.parent();A&&!A.isInstanceOf("text");)A=A.parent();A&&A.get("editable")?O=A:y=!0}return{result:y,delegate:O}},i.prototype.onActive=function(e){var t,n;return Wu(this,void 0,void 0,function(){var a,p,m,y,b,O,A,R,B;return $a(this,function(Q){switch(Q.label){case 0:return a=this,p=a.rte,m=a.em,y=this.canActivate(),b=y.result,O=y.delegate,b?((n=e==null?void 0:e.stopPropagation)===null||n===void 0||n.call(e),A=this,[4,this.getContent()]):(O&&((t=e==null?void 0:e.stopPropagation)===null||t===void 0||t.call(e),m.setSelected(O),O.trigger("active",e)),[2]);case 1:if(A.lastContent=Q.sent(),!p)return[3,5];Q.label=2;case 2:return Q.trys.push([2,4,,5]),R=this,[4,p.enable(this,this.activeRte,{event:e})];case 3:return R.activeRte=Q.sent(),[3,5];case 4:return B=Q.sent(),m.logError(B),[3,5];case 5:return this.toggleEvents(!0),[2]}})})},i.prototype.onDisable=function(e){this.disableEditing(e)},i.prototype.disableEditing=function(e){return e===void 0&&(e={}),Wu(this,void 0,void 0,function(){var t,n,a,p,m,y,b,O;return $a(this,function(A){switch(A.label){case 0:if(t=this,n=t.model,a=t.rte,p=t.activeRte,m=t.em,y=n&&n.get("editable"),!a)return[3,8];A.label=1;case 1:return A.trys.push([1,3,,4]),[4,a.disable(this,p,e)];case 2:return A.sent(),[3,4];case 3:return b=A.sent(),m.logError(b),[3,4];case 4:return O=y,O?[4,this.getContent()]:[3,6];case 5:O=A.sent()!==this.lastContent,A.label=6;case 6:return O?[4,this.syncContent(e)]:[3,8];case 7:A.sent(),this.lastContent="",A.label=8;case 8:return this.toggleEvents(),[2]}})})},i.prototype.getContent=function(){return Wu(this,void 0,void 0,function(){var e,t,n,a;return $a(this,function(p){switch(p.label){case 0:return e=this,t=e.rte,n=e.activeRte,a="",t?[4,t.getContent(this,n)]:[3,2];case 1:a=p.sent(),p.label=2;case 2:return[2,a]}})})},i.prototype.syncContent=function(e){return e===void 0&&(e={}),Wu(this,void 0,void 0,function(){var t,n,a,p,m,y,b;return $a(this,function(O){switch(O.label){case 0:return t=this,n=t.model,a=t.rte,p=t.rteEnabled,!p&&!e.force?[2]:[4,this.getContent()];case 1:return m=O.sent(),y=n.components(),b=Is({fromDisable:1},e),n.set("content","",b),a!=null&&a.customRte&&!a.customRte.parseContent?(y.length&&y.reset(void 0,Is(Is({},e),{keepIds:ci(y)})),n.set("content",m,b)):y.resetFromString(m,e),[2]}})})},i.prototype.insertComponent=function(e,t){var n;t===void 0&&(t={});var a=this,p=a.model,m=a.el,y=m.ownerDocument,b=y.getSelection();if(b!=null&&b.rangeCount){var O=b.getRangeAt(0),A=O.startContainer,R=O.startOffset,B=(0,o.getComponentModel)(A),Q=[];if(B&&(!((n=B.is)===null||n===void 0)&&n.call(B,"textnode"))){var le=B.collection;le.forEach(function(Be){if(Be===B){var He="textnode",ot=t.useDomContent?A.textContent||"":Be.content;Q.push({type:He,content:ot.slice(0,R)}),Q.push(e),Q.push({type:He,content:ot.slice(R)})}else Q.push(Be)});var ue=Q.filter(Boolean),ke=ue.indexOf(e);return le.reset(ue,t),le.at(ke)}}return p.append(e,t)},i.prototype.onInput=function(){var e=this.em,t="component",n=["".concat(t,":update"),"".concat(t,":input")].join(" ");e&&e.trigger(n,this.model)},i.prototype.disablePropagation=function(e){e.stopPropagation()},i.prototype.toggleEvents=function(e){var t=this,n=t.em,a=t.model,p=t.$el,m={on:nt.on,off:nt.S1},y=e?"on":"off";n.setEditing(e?this:!1),this.rteEnabled=!!e;var b=[this.el.ownerDocument,document];if(m.off(b,"mousedown",this.onDisable),m[y](b,"mousedown",this.onDisable),n[y]("toolbar:run:before",this.onDisable),a&&(a[y]("removed",this.onDisable),a.trigger("rte:".concat(e?"enable":"disable"))),p==null||p.off("mousedown",this.disablePropagation),p&&p[y]("mousedown",this.disablePropagation),this.config.draggableComponents)for(var O=this.el;O;)O.draggable=!e,O=O.parentNode,O&&O.tagName=="BODY"&&(O=0)},i}(vn);const $u=A0;var fa=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),_v=function(u){fa(i,u);function i(){return u!==null&&u.apply(this,arguments)||this}return i.prototype.render=function(){return u.prototype.render.call(this),this.el.addEventListener("click",this.prevDef,!0),this},i}($u);const bv=_v;var xv=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Ki=function(u){xv(i,u);function i(){return u!==null&&u.apply(this,arguments)||this}return i}(bv);const Gr=Ki;var ko=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Ka=function(u){ko(i,u);function i(){return u!==null&&u.apply(this,arguments)||this}return i.prototype.tagName=function(){return"div"},i.prototype.events=function(){return{}},i.prototype.initialize=function(e){u.prototype.initialize.call(this,e),this.classEmpty=this.ppfx+"plh-map"},i.prototype.updateSrc=function(){this.getIframe().src=this.model.get("src")},i.prototype.getIframe=function(){if(!this.iframe){var e=document.createElement("iframe");e.src=this.model.get("src"),e.frameBorder="0",e.style.height="100%",e.style.width="100%",e.className=this.ppfx+"no-pointer",this.iframe=e}return this.iframe},i.prototype.render=function(){return u.prototype.render.call(this),this.updateClasses(),this.el.appendChild(this.getIframe()),this},i}(yf);const Ga=Ka;var Sv=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),up=function(u){Sv(i,u);function i(){return u!==null&&u.apply(this,arguments)||this}return i.prototype.tagName=function(){return"script"},i.prototype.events=function(){return{}},i}(vn);const Cv=up;var L0=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),cp=function(u){L0(i,u);function i(){return u!==null&&u.apply(this,arguments)||this}return i.prototype._createElement=function(e){return document.createElementNS("http://www.w3.org/2000/svg",e)},i}(vn);const Pl=cp;var Ov=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),fp=function(u){Ov(i,u);function i(){return u!==null&&u.apply(this,arguments)||this}return i}(vn);const Za=fp;var Ev=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Tv=function(u){Ev(i,u);function i(){return u!==null&&u.apply(this,arguments)||this}return i}(vn);const M0=Tv;var wf=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),dp=function(u){wf(i,u);function i(){return u!==null&&u.apply(this,arguments)||this}return i}(vn);const Pv=dp;var D0=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),kv=function(u){D0(i,u);function i(){return u!==null&&u.apply(this,arguments)||this}return i}(vn);const R0=kv;var N0=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),_f=function(u){N0(i,u);function i(){return u!==null&&u.apply(this,arguments)||this}return i}(vn);const Av=_f;var j0=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),I0=function(u){j0(i,u);function i(){return u!==null&&u.apply(this,arguments)||this}return i.prototype.events=function(){return{}},i}(vn);const Lv=I0;var kl=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),pp=function(u){kl(i,u);function i(){return u!==null&&u.apply(this,arguments)||this}return i.prototype.tagName=function(){return"div"},i.prototype.events=function(){return{}},i.prototype.initialize=function(){vn.prototype.initialize.apply(this,arguments);var e=this.model,t=["loop","autoplay","controls","color","rel","modestbranding","poster"],n=t.map(function(a){return"change:".concat(a)}).join(" ");this.listenTo(e,"change:provider",this.updateProvider),this.listenTo(e,"change:src",this.updateSrc),this.listenTo(e,n,this.updateVideo)},i.prototype.updateProvider=function(){var e=this.model.get("provider");this.el.innerHTML="",this.el.appendChild(this.renderByProvider(e))},i.prototype.updateSrc=function(){var e=this,t=e.model,n=e.videoEl;if(n){var a=t.get("provider"),p=t.get("src");switch(a){case"yt":p=t.getYoutubeSrc();break;case"ytnc":p=t.getYoutubeNoCookieSrc();break;case"vi":p=t.getVimeoSrc();break}n.src=p}},i.prototype.updateVideo=function(){var e=this,t=e.model,n=e.videoEl,a=t.get("provider");switch(a){case"yt":case"ytnc":case"vi":t.trigger("change:videoId");break;default:if(n){var p=n;p.loop=t.get("loop"),p.autoplay=t.get("autoplay"),p.controls=t.get("controls"),p.poster=t.get("poster")}}},i.prototype.renderByProvider=function(e){var t;switch(e){case"yt":t=this.renderYoutube();break;case"ytnc":t=this.renderYoutubeNoCookie();break;case"vi":t=this.renderVimeo();break;default:t=this.renderSource()}return this.videoEl=t,t},i.prototype.renderSource=function(){var e=document.createElement("video");return e.src=this.model.get("src"),this.initVideoEl(e),e},i.prototype.renderYoutube=function(){var e=document.createElement("iframe");return e.src=this.model.getYoutubeSrc(),e.frameBorder="0",e.setAttribute("allowfullscreen","true"),this.initVideoEl(e),e},i.prototype.renderYoutubeNoCookie=function(){var e=document.createElement("iframe");return e.src=this.model.getYoutubeNoCookieSrc(),e.frameBorder="0",e.setAttribute("allowfullscreen","true"),this.initVideoEl(e),e},i.prototype.renderVimeo=function(){var e=document.createElement("iframe");return e.src=this.model.getVimeoSrc(),e.frameBorder="0",e.setAttribute("allowfullscreen","true"),this.initVideoEl(e),e},i.prototype.initVideoEl=function(e){e.className=this.ppfx+"no-pointer",e.style.height="100%",e.style.width="100%"},i.prototype.render=function(){vn.prototype.render.apply(this),this.updateClasses();var e=this.model.get("provider");return this.el.appendChild(this.renderByProvider(e)),this.updateVideo(),this},i}(yf);const bf=pp;var Mv=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),hp=function(u){Mv(i,u);function i(){return u!==null&&u.apply(this,arguments)||this}return i.prototype.tagName=function(){return"div"},i}(vn);const Dv=hp;var F0=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Ku=function(){return Ku=Object.assign||function(u){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(u[n]=i[n])}return u},Ku.apply(this,arguments)},di=function(u){F0(i,u);function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=u.apply(this,e)||this;n.refreshDbn=(0,r.debounce)(function(){return n.refresh()},0);var a=n.events;return n.on(a.update,n.onUpdate),n.on(a.updateInside,n.onUpdateDeep),n}return i.prototype.removeChildren=function(e,t,n){var a;n===void 0&&(n={}),u.prototype.removeChildren.call(this,e,t,n),(a=Kt(e))===null||a===void 0||a.forEach(function(p){return Ze(p,{skipRefs:!0})}),this.__trgEvent(this.events.symbolMainRemove,{component:e})},i.prototype.onAdd=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];u.prototype.onAdd.apply(this,e);var n=e[0];this.__trgEvent(this.events.symbolMainAdd,{component:n})},i.prototype.onUpdate=function(e){this.__trgEvent(this.events.symbolMainUpdate,e)},i.prototype.onUpdateDeep=function(e){this.__trgEvent(this.events.symbolMainUpdateDeep,e)},i.prototype.refresh=function(){var e=this,t=e.em,n=e.events;t.trigger(n.symbol)},i.prototype.__trgEvent=function(e,t,n){n===void 0&&(n=!1);var a=this,p=a.em,m=a.events,y=n?m.symbolInstance:m.symbolMain;p.trigger(e,t),p.trigger(y,Ku(Ku({},t),{event:e})),this.refreshDbn()},i}(_o);const xf=di;var Rv=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),pi=function(){return pi=Object.assign||function(u){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(u[n]=i[n])}return u},pi.apply(this,arguments)},Nv=function(u,i){var e={};for(var t in u)Object.prototype.hasOwnProperty.call(u,t)&&i.indexOf(t)<0&&(e[t]=u[t]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(u);n<t.length;n++)i.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(u,t[n])&&(e[t[n]]=u[t[n]]);return e},Al=function(u,i,e){if(e||arguments.length===2)for(var t=0,n=i.length,a;t<n;t++)(a||!(t in i))&&(a||(a=Array.prototype.slice.call(i,0,t)),a[t]=i[t]);return u.concat(a||Array.prototype.slice.call(i))},qa;(function(u){u[u.InvalidSource=0]="InvalidSource",u[u.SourceReject=1]="SourceReject",u[u.TargetReject=2]="TargetReject"})(qa||(qa={}));var jv=function(u){Rv(i,u);function i(e){var t=u.call(this,e,"DomComponents",new _o(void 0,{em:e}))||this;t.componentTypes=[{id:"cell",model:hf,view:M0},{id:"row",model:Ls,view:Av},{id:"table",model:hv,view:Lv},{id:"thead",model:_0,view:R0},{id:"tbody",model:pf,view:Za},{id:"tfoot",model:w0,view:Pv},{id:"map",model:g0,view:Ga},{id:"link",model:Gd,view:bv},{id:"label",model:dv,view:Gr},{id:"video",model:js,view:bf},{id:"image",model:Wd,view:yf},{id:"script",model:xl,view:Cv},{id:"svg-in",model:za,view:Pl},{id:"svg",model:Ba,view:Pl},{id:"iframe",model:ir,view:k0},{id:"comment",model:Fe,view:op},{id:"textnode",model:V,view:mv},{id:Oo,model:vl,view:vn},{id:"wrapper",model:S0,view:Dv},{id:"text",model:Ts,view:$u},{id:"default",model:$n,view:vn}],t.componentsById={},t.Component=$n,t.Components=_o,t.ComponentView=vn,t.ComponentsView=Ai,t.storageKey="components",t.keySymbols="symbols",t.events=zt.g;var n=t.config;t.symbols=new xf([],{em:e,config:n,domc:t}),e&&(t.config.components=e.config.components||t.config.components);for(var a in $o)a in t.config||(t.config[a]=$o[a]);var p=t.config.pStylePrefix;if(p&&(t.config.stylePrefix=p+t.config.stylePrefix),e){e.get("Parser").compTypes=t.componentTypes,e.on("change:componentHovered",t.componentHovered,t);var m=e.get("selected");e.listenTo(m,"add",function(y,b,O){return t.selectAdd(m.getComponent(y),O)}),e.listenTo(m,"remove",function(y,b,O){return t.selectRemove(m.getComponent(y),O)})}return t}return i.prototype.postLoad=function(){var e=this,t=e.em,n=e.symbols,a=t.UndoManager;a.add(n)},i.prototype.load=function(e){var t=this,n=this.loadProjectData(e,{onResult:function(a){var p=t.getWrapper();if(p||(t.em.Pages.add({},{select:!0}),p=t.getWrapper()),(0,r.isArray)(a))a.length&&p.components(a);else{var m=a.components,y=m===void 0?[]:m,b=Nv(a,["components"]);p.set(b),p.components(y)}}});return this.symbols.reset(e[this.keySymbols]||[]),n},i.prototype.store=function(){var e;return e={},e[this.keySymbols]=this.symbols,e},i.prototype.getComponent=function(){var e=this.em.Pages.getSelected(),t=e==null?void 0:e.getMainFrame();return t==null?void 0:t.getComponent()},i.prototype.getWrapper=function(){return this.getComponent()},i.prototype.getComponents=function(){var e=this.getWrapper();return e==null?void 0:e.components()},i.prototype.addComponent=function(e,t){return t===void 0&&(t={}),this.getComponents().add(e,t)},i.prototype.render=function(){var e;return(e=this.componentView)===null||e===void 0?void 0:e.render().el},i.prototype.clear=function(e){e===void 0&&(e={});var t=this.getComponents();return t==null||t.filter(Boolean).forEach(function(n){return n.remove(e)}),this},i.prototype.setComponents=function(e,t){t===void 0&&(t={}),this.clear(t).addComponent(e,t)},i.prototype.addType=function(e,t){var n=this.em,a=t.model,p=a===void 0?{}:a,m=t.view,y=m===void 0?{}:m,b=t.isComponent,O=t.extend,A=t.extendView,R=t.extendFn,B=R===void 0?[]:R,Q=t.extendFnView,le=Q===void 0?[]:Q,ue=t.block,ke=this.getType(e),Be=this.getType(O),He=this.getType(A),ot=Be||ke||this.getType("default"),Ot=ot.model,Gt=He?He.view:ot.view,er=function(Ji,jp,Bf){return Ji.reduce(function(Hf,is){var fc=jp[is],dc=Bf.prototype[is];return fc&&dc&&(Hf[is]=function(){for(var $l=[],Kl=0;Kl<arguments.length;Kl++)$l[Kl]=arguments[Kl];dc.bind(this).apply(void 0,$l),fc.bind(this).apply(void 0,$l)}),Hf},{})};if(typeof p=="object"){var ft={defaults:p.defaults};delete p.defaults;var Jt=new Set(Ot.typeExtends);Jt.add(Ot.getDefaults().type),t.model=Ot.extend(pi(pi({},p),er(B,p,Ot)),{typeExtends:Jt,isComponent:ke&&!Be&&!b?Ot.isComponent:b||function(){return 0}}),Object.defineProperty(t.model.prototype,"defaults",{get:function(){return pi(pi({},(0,r.result)(Ot.prototype,"defaults")||{}),(0,r.result)(ft,"defaults")||{})}})}if(typeof y=="object"&&(t.view=Gt.extend(pi(pi({},y),er(le,y,Gt)))),ke?(ke.model=t.model,ke.view=t.view):(t.id=e,this.componentTypes.unshift(t)),ue){var cr={id:e,label:e,content:{type:e}},qr=ue===!0?cr:pi(pi({},cr),ue);n.Blocks.add(qr.id||e,qr)}var Et="component:type:".concat(ke?"update":"add");return n==null||n.trigger(Et,ke||t),this},i.prototype.getType=function(e){for(var t=this.componentTypes,n=0;n<t.length;n++){var a=t[n].id;if(a==e)return t[n]}},i.prototype.removeType=function(e){var t=this.componentTypes,n=this.getType(e);if(n){var a=t.indexOf(n);return t.splice(a,1),n}},i.prototype.getTypes=function(){return this.componentTypes},i.prototype.selectAdd=function(e,t){var n=this;t===void 0&&(t={}),e&&(e.set({status:"selected"}),["component:selected","component:toggled"].forEach(function(a){return n.em.trigger(a,e,t)}))},i.prototype.selectRemove=function(e,t){var n=this;t===void 0&&(t={}),e&&(this.em,e.set({status:"",state:""}),["component:deselected","component:toggled"].forEach(function(a){return n.em.trigger(a,e,t)}))},i.prototype.componentHovered=function(){var e=this.em,t=e.get("componentHovered"),n=e.previous("componentHovered"),a="hovered";n&&n.get("status")==a&&n.set({status:"",state:""}),t&&(0,r.isEmpty)(t.get("status"))&&t.set("status",a)},i.prototype.getShallowWrapper=function(){var e=this,t=e.shallow,n=e.em;if(!t&&n){var a=n.shallow;if(!a)return;var p=a.Components;if(p.componentTypes=this.componentTypes,t=p.getWrapper(),t){var m=[So,Co].join(" ");t.on(m,(0,r.debounce)(function(){return t==null?void 0:t.components("")},100))}this.shallow=t}return t},i.prototype.isComponent=function(e){return(0,o.isComponent)(e)},i.prototype.addSymbol=function(e){if(!((0,r.isSymbol)(e)&&!cn(e))){var t=e.clone({symbol:!0});return kt(t)&&this.symbols.add(t),this.em.trigger("component:toggled"),t}},i.prototype.getSymbols=function(){return Al([],this.symbols.models,!0)},i.prototype.detachSymbol=function(e){hn(e)&&Ze(e)},i.prototype.getSymbolInfo=function(e,t){t===void 0&&(t={});var n=kt(e),a=wn(e),p=!!a,m=Kt(n?e:a)||[],y=a||(n?e:void 0),b=I(e,{changed:t.withChanges}),O=n||p,A=O&&cn(e);return{isSymbol:O,isMain:n,isInstance:p,isRoot:A,main:y,instances:m,relatives:b||[]}},i.prototype.canMove=function(e,t,n){var a={result:!1,reason:qa.InvalidSource,target:e,source:null};if(!t||!e)return a;var p=(0,o.isComponent)(t)?t:null;if(!p){var m=this.getShallowWrapper();p=(m==null?void 0:m.append(t)[0])||null}if(a.source=p,!p)return a;var y=p.get("draggable");if((0,r.isFunction)(y))y=!!y(p,e,n);else{var b=e.getEl();y=(0,r.isArray)(y)?y.join(","):y,y=(0,r.isString)(y)?b==null?void 0:b.matches(y):y}if(!y)return pi(pi({},a),{reason:qa.SourceReject});var O=e.get("droppable");if((0,r.isFunction)(O))O=!!O(p,e,n);else if(O===!1&&e.isInstanceOf("text")&&p.get("textable"))O=!0;else{var b=p.getEl();O=(0,r.isArray)(O)?O.join(","):O,O=(0,r.isString)(O)?b==null?void 0:b.matches(O):O}var A=[e].concat(e.parents()).indexOf(p)>-1;return!O||A?pi(pi({},a),{reason:qa.TargetReject}):pi(pi({},a),{result:!0})},i.prototype.allById=function(){return this.componentsById},i.prototype.getById=function(e){return this.componentsById[e]||null},i.prototype.destroy=function(){var e,t=this.allById();Object.keys(t).forEach(function(n){return t[n]&&t[n].remove()}),(e=this.componentView)===null||e===void 0||e.remove(),[this.em,this.componentsById,this.componentView].forEach(function(n){return{}})},i}($);const Iv=jv;var Fv={stylePrefix:"css-",rules:[]};const Ll=Fv;var Vv=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Sf=Number.MAX_VALUE,Uv=function(u){var i=/(-?\d*\.?\d+)\w{0,}/.exec(u);return i?i[0]:""},Gu=function(u){Vv(i,u);function i(){var e=u.call(this)||this;return(0,r.bindAll)(e,"sortRules"),e.compCls=[],e.ids=[],e}return i.prototype.buildFromModel=function(e,t){var n=this;t===void 0&&(t={});var a="",p=this.em,m=p&&p.getConfig().avoidInlineStyle,y=e.styleToString(),b=e.classes;this.ids.push("#".concat(e.getId())),b.forEach(function(A){return n.compCls.push(A.getFullName())}),!m&&y&&(a="#".concat(e.getId(),"{").concat(y,"}"));var O=e.components();return O.forEach(function(A){return a+=n.buildFromModel(A,t)}),a},i.prototype.build=function(e,t){var n=this;t===void 0&&(t={});var a=t.json,p=t.em,m=t.cssc||(p==null?void 0:p.Css);this.em=p,this.compCls=[],this.ids=[],this.model=e;var y=[],b=e?this.buildFromModel(e,t):"",O=(0,r.isUndefined)(t.clearStyles)&&p?p.getConfig().clearStyles:t.clearStyles;if(m){var A=t.rules||m.getAll(),R={},B=[];t.onlyMatched&&e&&(0,o.hasWin)()&&(A=this.matchedRules(e,A)),A.forEach(function(Q){var le=Q.getAtRule();if(le){var ue=R[le];ue?ue.push(Q):R[le]=[Q];return}var ke=n.buildFromRule(Q,B,t);a?y.push(ke):b+=ke}),this.sortMediaObject(R).forEach(function(Q){var le="",ue=Q.key,ke=Q.value;ke.forEach(function(Be){var He=n.buildFromRule(Be,B,t);Be.get("singleAtRule")?b+="".concat(ue,"{").concat(He,"}"):le+=He,a&&y.push(He)}),le&&(b+="".concat(ue,"{").concat(le,"}"))}),p&&O&&A.remove&&A.remove(B)}return a?y.filter(function(Q){return Q}):b},i.prototype.buildFromRule=function(e,t,n){var a=this,p;n===void 0&&(n={});var m="",y=this.model,b=e.selectorsToString({skipAdd:1}),O=e.get("selectorsAdd"),A=e.get("singleAtRule"),R;if((p=e.get("selectors"))===null||p===void 0||p.forEach(function(Q){var le=Q.getFullName();(a.compCls.indexOf(le)>=0||a.ids.indexOf(le)>=0||n.keepUnusedStyles)&&(R=1)}),b&&R||O||A||!y){var B=e.getDeclaration({body:1});B&&(n.json?m=e:m+=B)}else t.push(e);return m},i.prototype.matchedRules=function(e,t){var n=this,a=e.getEl(),p=[];return t.forEach(function(m){try{m.selectorsToString().split(",").some(function(y){return a==null?void 0:a.matches(n.__cleanSelector(y))})&&p.push(m)}catch{}}),e.components().forEach(function(m){p=p.concat(n.matchedRules(m,t))}),p=p.filter(function(m,y){return p.indexOf(m)===y}),p},i.prototype.getQueryLength=function(e){var t=/(-?\d*\.?\d+)\w{0,}/.exec(e);return t?parseFloat(t[1]):Sf},i.prototype.sortMediaObject=function(e){var t=this;e===void 0&&(e={});var n=[];return(0,r.each)(e,function(a,p){return n.push({key:p,value:a})}),n.sort(function(a,p){var m=[a.key,p.key].every(function(O){return O.indexOf("min-width")!==-1}),y=m?a.key:p.key,b=m?p.key:a.key;return t.getQueryLength(y)-t.getQueryLength(b)})},i.prototype.sortRules=function(e,t){var n=function(y){return y.get("mediaText")||""},a=[n(e),n(t)].every(function(y){return y.indexOf("min-width")!==-1}),p=n(a?e:t),m=n(a?t:e);return this.getQueryLength(p)-this.getQueryLength(m)},i.prototype.__cleanSelector=function(e){return e.split(" ").map(function(t){return t.split(":")[0]}).join(" ")},i}(C.Hn);const V0=Gu;var Ml=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Dl=function(){return Dl=Object.assign||function(u){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(u[n]=i[n])}return u},Dl.apply(this,arguments)},Bv=function(u,i,e){if(e||arguments.length===2)for(var t=0,n=i.length,a;t<n;t++)(a||!(t in i))&&(a||(a=Array.prototype.slice.call(i,0,t)),a[t]=i[t]);return u.concat(a||Array.prototype.slice.call(i))},Cf=((0,o.hasWin)()?window:{}).CSS,Zu=function(u){Ml(i,u);function i(e,t){t===void 0&&(t={});var n=u.call(this,e)||this;return n.config=e||{},n.opt=t,n.em=t.em,n.ensureSelectors(null,null,{}),n.on("change",n.__onChange),n}return i.prototype.defaults=function(){return{selectors:[],selectorsAdd:"",style:{},mediaText:"",state:"",stylable:!0,atRuleType:"",singleAtRule:!1,important:!1,group:"",shallow:!1,_undo:!0}},i.prototype.__onChange=function(e,t){var n=this.em,a=this.changedAttributes();a&&!(0,o.isEmptyObj)(a)&&(n==null||n.changesUp(t))},i.prototype.clone=function(){var e=Dl({},this.opt),t=Dl({},this.attributes);return t.selectors=this.get("selectors").map(function(n){return n.clone()}),new this.constructor(t,e)},i.prototype.ensureSelectors=function(e,t,n){var a=this.em,p=a==null?void 0:a.get("SelectorManager"),m=[this,"change:selectors",this.ensureSelectors],y=this.getSelectors();if(this.stopListening.apply(this,m),y.models&&(y=Bv([],y.models,!0)),y=(0,r.isString)(y)?[y]:y,Array.isArray(y)){var b=y.filter(function(O){return O}).map(function(O){return p?p.add(O):O});y=new bo(b)}this.set("selectors",y,n),this.listenTo.apply(this,m)},i.prototype.getAtRule=function(){var e=this.get("atRuleType"),t=this.get("mediaText"),n=e?"@".concat(e):t?"@media":"";return n+(t&&n?" ".concat(t):"")},i.prototype.selectorsToString=function(e){e===void 0&&(e={});var t=[],n=this.get("state"),a=this.get("selectorsAdd"),p={escape:function(b){return Cf&&Cf.escape?Cf.escape(b):b}},m=this.get("selectors").getFullString(0,p),y=n&&!e.skipState?":".concat(n):"";return m&&t.push("".concat(m).concat(y)),a&&!e.skipAdd&&t.push(a),t.join(", ")},i.prototype.getDeclaration=function(e){e===void 0&&(e={});var t="",n=this.attributes.important,a=this.selectorsToString(e),p=this.styleToString(Dl({important:n},e)),m=this.get("singleAtRule");return(a||m)&&(p||e.allowEmpty)&&(t=m?p:"".concat(a,"{").concat(p,"}")),t},i.prototype.getDevice=function(){var e=this.em,t=this.attributes,n=t.atRuleType,a=t.mediaText,p=(e==null?void 0:e.get("DeviceManager").getDevices())||[],m=p.filter(function(y){return y.getWidthMedia()===""})[0];return n!=="media"||!a?m||null:p.filter(function(y){return y.getWidthMedia()===Uv(a)})[0]||null},i.prototype.getState=function(){var e=this.em,t=this.get("state"),n=(e==null?void 0:e.get("SelectorManager").getStates())||[];return n.filter(function(a){return a.getName()===t})[0]||null},i.prototype.getComponent=function(){var e,t=this.getSelectors(),n=t.length==1&&t.at(0),a=n&&n.isId()&&n.get("name");return a&&((e=this.em)===null||e===void 0?void 0:e.Components.getById(a))||null},i.prototype.toCSS=function(e){e===void 0&&(e={});var t="",n=this.getAtRule(),a=this.getDeclaration(e);return(a||e.allowEmpty)&&(t=a),n&&t&&(t="".concat(n,"{").concat(t,"}")),t},i.prototype.toJSON=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var a=C.Hn.prototype.toJSON.apply(this,t);if(!((e=this.em)===null||e===void 0)&&e.getConfig().avoidDefaults){var p=this.defaults();(0,r.forEach)(p,function(m,y){a[y]===m&&delete a[y]}),delete a.style.__p,(0,r.isEmpty)(a.selectors)&&delete a.selectors,(0,r.isEmpty)(a.style)&&delete a.style}return a},i.prototype.compare=function(e,t,n,a){var p;a===void 0&&(a={});var m=t||"",y=n||"",b=a.selectorsAdd||"",O=a.atRuleType||"",A=!(0,r.isArray)(e)&&!e.models?[e]:e.models||e;y&&!O&&(O="media");var R=A.map(function(ue){return ue.getFullName()}),B=(p=this.get("selectors"))===null||p===void 0?void 0:p.map(function(ue){return ue.getFullName()}),Q=R.slice().sort(),le=B.slice().sort();return!(R.length!==B.length||!Q.every(function(ue,ke){return ue===le[ke]})||this.get("state")!==m||this.get("mediaText")!==y||this.get("selectorsAdd")!==b||this.get("atRuleType")!==O)},i}(Mn);const Rl=Zu;var qu=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Nl=function(u){qu(i,u);function i(e,t){var n=u.call(this,e)||this;return n.editor=t==null?void 0:t.em,setTimeout(function(){n.on("remove",n.onRemove),n.on("add",n.onAdd)}),n}return i.prototype.toJSON=function(e){var t=C.FE.prototype.toJSON.call(this,e);return t.filter(function(n){return n.style&&!n.shallow})},i.prototype.onAdd=function(e,t,n){e.ensureSelectors(e,t,n)},i.prototype.onRemove=function(e){var t=this.editor;t.stopListening(e),t.UndoManager.remove(e)},i.prototype.add=function(e,t){return t===void 0&&(t={}),typeof e=="string"&&(e=this.editor.get("Parser").parseCss(e)),t.em=this.editor,C.FE.prototype.add.apply(this,[e,t])},i}(C.FE);const Hv=Nl;Nl.prototype.model=Rl;var U0=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Ya=function(){return Ya=Object.assign||function(u){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(u[n]=i[n])}return u},Ya.apply(this,arguments)},Xa=function(u,i,e){if(e||arguments.length===2)for(var t=0,n=i.length,a;t<n;t++)(a||!(t in i))&&(a||(a=Array.prototype.slice.call(i,0,t)),a[t]=i[t]);return u.concat(a||Array.prototype.slice.call(i))},jl=function(u){U0(i,u);function i(e){var t=u.call(this,e,"CssComposer",null,{},Ll)||this;t.Selectors=bo,t.storageKey="styles";var n=t.config,a=n.pStylePrefix;return a&&(n.stylePrefix=a+n.stylePrefix),n.rules=t.em.config.style||n.rules||"",t.rules=new Hv([],n),t}return i.prototype.onLoad=function(){this.rules.add(this.config.rules,{silent:!0})},i.prototype.postLoad=function(){var e,t=(e=this.em)===null||e===void 0?void 0:e.get("UndoManager");t&&t.add(this.getAll())},i.prototype.store=function(){return this.getProjectData()},i.prototype.load=function(e){return this.loadProjectData(e,{all:this.rules})},i.prototype.add=function(e,t,n,a,p){a===void 0&&(a={}),p===void 0&&(p={});var m=t||"",y=n||"",b=Ya({},a),O=this.get(e,m,y,b);return O&&O.config&&!O.config.singleAtRule||(b.state=m,b.mediaText=y,b.selectors=[],y&&!b.atRuleType&&(b.atRuleType="media"),O=new Rl(b,this.config),O.get("selectors").add(e,p),this.rules.add(O,p)),O},i.prototype.get=function(e,t,n,a){var p=e;if((0,r.isString)(e)){var m=this.em.Selectors,y=e.split(",")[0].trim(),b=this.em.Parser.parserCss.checkNode({selectors:y})[0];p=m.get(b.selectors)}return this.rules.find(function(O){return O.compare(p,t,n,a)})||null},i.prototype.getAll=function(){return this.rules},i.prototype.addCollection=function(e,t,n){t===void 0&&(t={}),n===void 0&&(n={});var a=this.em,p=[];(0,r.isString)(e)&&(e=a.Parser.parseCss(e));for(var m=e instanceof Array?e:[e],y=0,b=m.length;y<b;y++){var O=m[y]||{};if(O.selectors){var A=a==null?void 0:a.Selectors;A||console.warn("Selector Manager not found");for(var R=O.selectors,B=R instanceof Array?R:[R],Q=[],le=0,ue=B.length;le<ue;le++){var ke=A.add(B[le]);Q.push(ke)}var Be=this.get(Q,O.state,O.mediaText,O),He=this.add(Q,O.state,O.mediaText,O,t),ot=!Be||!t.avoidUpdateStyle,Ot=O.style||{};if((0,o.isObject)(n)&&He.set(n,t),ot){var Gt=t.extend?Ya(Ya({},He.get("style")),Ot):Ot;He.set("style",Gt,t)}p.push(He)}}return p},i.prototype.addRules=function(e){return this.addCollection(e)},i.prototype.setRule=function(e,t,n){t===void 0&&(t={}),n===void 0&&(n={});var a=n.atRuleType,p=n.atRuleParams,m=this.em.Parser.parserCss.checkNode({selectors:e,style:t})[0],y=m.state,b=m.selectorsAdd,O=this.em.Selectors,A=O.add(m.selectors),R=this.add(A,y,p,{selectorsAdd:b,atRule:a});return n.addStyles?R.addStyle(t,n):R.setStyle(t,n),R},i.prototype.getRule=function(e,t){t===void 0&&(t={});var n=this.em,a=n.Selectors,p=n.Parser.parserCss.checkNode({selectors:e})[0],m=a.get(p.selectors),y=p.state,b=p.selectorsAdd,O=t.atRuleType,A=t.atRuleParams;return m?this.get(m,y,A,{selectorsAdd:b,atRuleType:O}):void 0},i.prototype.getRules=function(e){var t=this.getAll();if(!e)return Xa([],t.models,!0);var n={sort:!0},a=(0,r.isString)(e)?e.split(",").map(function(m){return m.trim()}):e,p=t.filter(function(m){return a.indexOf(m.getSelectors().getFullString(null,n))>=0});return p},i.prototype.setIdRule=function(e,t,n){t===void 0&&(t={}),n===void 0&&(n={});var a=n.addOpts,p=a===void 0?{}:a,m=n.mediaText,y=n.state||"",b=(0,r.isUndefined)(m)?this.em.getCurrentMedia():m,O=this.em.Selectors,A=O.add({name:e,type:Tn.TYPE_ID},p),R=this.add(A,y,b,{},p);return R.setStyle(t,Ya(Ya({},n),p)),R},i.prototype.getIdRule=function(e,t){t===void 0&&(t={});var n=t.mediaText,a=t.state||"",p=(0,r.isUndefined)(n)?this.em.getCurrentMedia():n,m=this.em.Selectors.get(e,Tn.TYPE_ID);return m&&this.get(m,a,p)},i.prototype.setClassRule=function(e,t,n){t===void 0&&(t={}),n===void 0&&(n={});var a=n.state||"",p=n.mediaText||this.em.getCurrentMedia(),m=this.em.Selectors,y=m.add({name:e,type:Tn.TYPE_CLASS}),b=this.add(y,a,p);return b.setStyle(t,n),b},i.prototype.getClassRule=function(e,t){t===void 0&&(t={});var n=t.state||"",a=t.mediaText||this.em.getCurrentMedia(),p=this.em.Selectors.get(e,Tn.TYPE_CLASS);return p&&this.get(p,n,a)},i.prototype.remove=function(e,t){var n=(0,r.isString)(e)?this.getRules(e):e,a=this.getAll().remove(n,t);return(0,r.isArray)(a)?a:[a]},i.prototype.clear=function(e){return e===void 0&&(e={}),this.getAll().reset([],e),this},i.prototype.getComponentRules=function(e,t){t===void 0&&(t={});var n=t.state,a=t.mediaText,p=t.current;p&&(n=this.em.get("state")||"",a=this.em.getCurrentMedia());var m=e.getId(),y=this.getAll().filter(function(b){return!(0,r.isUndefined)(n)&&b.get("state")!==n||!(0,r.isUndefined)(a)&&b.get("mediaText")!==a?!1:b.getSelectorsString()==="#".concat(m)});return y},i.prototype.render=function(){var e;return(e=this.rulesView)===null||e===void 0||e.remove(),this.rulesView=new Xe({collection:this.rules,config:this.config}),this.rulesView.render().el},i.prototype.checkId=function(e,t){t===void 0&&(t={});var n=t.idMap,a=n===void 0?{}:n,p=[];if(!Object.keys(a).length)return p;var m=Array.isArray(e)?e:[e];return m.forEach(function(y){var b=y.selectors;if(b&&b.length==1){var O=b[0];if((0,r.isString)(O)){if(O[0]==="#"){var A=O.substring(1),R=a[A];A&&R&&(b[0]="#".concat(R),p.push(y))}}else if(O.name&&O.type===Tn.TYPE_ID){var R=a[O.name];R&&(O.name=R,p.push(y))}}}),p},i.prototype.destroy=function(){var e;this.rules.reset(),this.rules.stopListening(),(e=this.rulesView)===null||e===void 0||e.remove()},i}($);const Yu=jl;var B0={appendTo:"",blocks:[],appendOnClick:!1,custom:!1};const zv=B0;var H0=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),z0=function(u){H0(i,u);function i(){return u!==null&&u.apply(this,arguments)||this}return i.prototype.defaults=function(){return{label:"",content:"",media:"",category:"",activate:!1,select:void 0,resetId:!1,disable:!1,onClick:void 0,attributes:{}}},Object.defineProperty(i.prototype,"category",{get:function(){var e=this.get("category");return e instanceof La?e:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){return this.collection},enumerable:!1,configurable:!0}),i.prototype.getId=function(){return this.id},i.prototype.getLabel=function(){return this.get("label")},i.prototype.getMedia=function(){return this.get("media")},i.prototype.getContent=function(){return this.get("content")},i.prototype.getCategoryLabel=function(){var e=this.get("category");return(0,r.isFunction)(e==null?void 0:e.get)?e.get("label"):e!=null&&e.label?e==null?void 0:e.label:e},i}(C.Hn);const Wv=z0;var Li=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),vp=function(u){Li(i,u);function i(e,t){var n=u.call(this,e)||this;return n.em=t.em,n.on("add",n.handleAdd),n}return i.prototype.getCategories=function(){return this.em.Blocks.getCategories()},i.prototype.handleAdd=function(e){this.initCategory(e)},i}(Eu);const Of=vp;vp.prototype.model=Wv;var Xu;(function(u){u.add="block:add",u.remove="block:remove",u.removeBefore="block:remove:before",u.update="block:update",u.dragStart="block:drag:start",u.drag="block:drag",u.dragEnd="block:drag:stop",u.categoryUpdate="block:category:update",u.custom="block:custom",u.all="block"})(Xu||(Xu={}));var W0=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),$v=function(u){W0(i,u);function i(e,t){t===void 0&&(t={});var n=u.call(this,e)||this,a=n.model;return n.em=t.em,n.config=t,n.endDrag=n.endDrag.bind(n),n.ppfx=t.pStylePrefix||"",n.listenTo(a,"destroy remove",n.remove),n.listenTo(a,"change",n.render),n}return i.prototype.events=function(){return{click:"handleClick",mousedown:"startDrag",dragstart:"handleDragStart",drag:"handleDrag",dragend:"handleDragEnd"}},i.prototype.__getModule=function(){return this.em.Blocks},i.prototype.handleClick=function(e){var t=this,n=t.config,a=t.model,p=t.em,m=a.get("onClick")||n.appendOnClick;if(p.trigger("block:click",a,e),m){if((0,r.isFunction)(m))return m(a,p==null?void 0:p.getEditor(),{event:e})}else return;var y=n.getSorter(),b=a.get("content"),O=p.getSelected();y.setDropContent(b);var A,R,B;if(O)if(R=y.validTarget(O.getEl(),b),R.valid)A=O;else{var Q=O.parent();Q&&(R=y.validTarget(Q.getEl(),b),R.valid&&(A=Q,B=Q.components().indexOf(O)+1))}if(!A){var le=p.getWrapper();R=y.validTarget(le.getEl(),b),R.valid&&(A=le)}var ue=A&&A.append(b,{at:B})[0];ue&&p.setSelected(ue,{scroll:1})},i.prototype.startDrag=function(e){var t=this,n=t.config,a=t.em,p=t.model,m=p.get("disable");if(!(e.button!==0||!n.getSorter||this.el.draggable||m)){a.refreshCanvas();var y=n.getSorter();y.__currentBlock=p,y.setDragHelper(this.el,e),y.setDropContent(this.model.get("content")),y.startSort(this.el),(0,nt.on)(document,"mouseup",this.endDrag)}},i.prototype.handleDragStart=function(e){this.__getModule().__startDrag(this.model,e)},i.prototype.handleDrag=function(e){this.__getModule().__drag(e)},i.prototype.handleDragEnd=function(){this.__getModule().__endDrag()},i.prototype.endDrag=function(){(0,nt.S1)(document,"mouseup",this.endDrag);var e=this.config.getSorter();e.moved=0,e.endMove()},i.prototype.render=function(){var e,t=this,n=t.em,a=t.el,p=t.$el,m=t.ppfx,y=t.model,b=y.get("disable"),O=y.get("attributes")||{},A=O.class||"",R="".concat(m,"block"),B=n&&n.t("blockManager.labels.".concat(y.id))||y.get("label"),Q=y.get("render"),le=y.get("media"),ue=b?"".concat(R,"--disable"):"".concat(m,"four-color-h");p.attr(O),a.className="".concat(A," ").concat(R," ").concat(m,"one-bg ").concat(ue).trim(),a.innerHTML=`
      `.concat(le?'<div class="'.concat(R,'__media">').concat(le,"</div>"):"",`
      <div class="`).concat(R,'-label">').concat(B,`</div>
    `),a.title=O.title||((e=a.textContent)===null||e===void 0?void 0:e.trim()),a.setAttribute("draggable","".concat(!!((0,o.hasDnd)(n)&&!b)));var ke=Q&&Q({el:a,model:y,className:R,prefix:m});return ke&&(a.innerHTML=ke),this},i}(C.G7);const Kv=$v;var Gv=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),$0=function(u,i){return Object.defineProperty?Object.defineProperty(u,"raw",{value:i}):u.raw=i,u},K0=function(u){Gv(i,u);function i(e,t,n){var a=u.call(this,e)||this;a.config=t;var p=t.pStylePrefix||"";return a.em=t.em,a.catName=n,a.pfx=p,a.caretR="fa fa-caret-right",a.caretD="fa fa-caret-down",a.iconClass="".concat(p,"caret-icon"),a.activeClass="".concat(p,"open"),a.className="".concat(p).concat(n,"-category"),a.listenTo(a.model,"change:open",a.updateVisibility),a.model.view=a,a}return i.prototype.events=function(){return{"click [data-title]":"toggle"}},i.prototype.template=function(e){var t=e.pfx,n=e.label,a=e.catName;return s(da||(da=$0([`
      <div class="`,`title" data-title>
        <i class="`,`caret-icon"></i>
        `,`
      </div>
      <div class="`,"",`s-c"></div>
    `],[`
      <div class="`,`title" data-title>
        <i class="`,`caret-icon"></i>
        `,`
      </div>
      <div class="`,"",`s-c"></div>
    `])),t,t,n,t,a)},i.prototype.attributes=function(){return this.model.get("attributes")||{}},i.prototype.updateVisibility=function(){this.model.get("open")?this.open():this.close()},i.prototype.open=function(){this.$el.addClass(this.activeClass),this.getIconEl().className="".concat(this.iconClass," ").concat(this.caretD),this.getTypeEl().style.display=""},i.prototype.close=function(){this.$el.removeClass(this.activeClass),this.getIconEl().className="".concat(this.iconClass," ").concat(this.caretR),this.getTypeEl().style.display="none"},i.prototype.toggle=function(){var e=this.model;e.set("open",!e.get("open"))},i.prototype.getIconEl=function(){return this.iconEl||(this.iconEl=this.el.querySelector(".".concat(this.iconClass))),this.iconEl},i.prototype.getTypeEl=function(){return this.typeEl||(this.typeEl=this.el.querySelector(".".concat(this.pfx).concat(this.catName,"s-c"))),this.typeEl},i.prototype.append=function(e){this.getTypeEl().appendChild(e)},i.prototype.render=function(){var e=this,t=e.em,n=e.el,a=e.$el,p=e.model,m=e.pfx,y=e.catName,b=t.t("".concat(y,"Manager.categories.").concat(p.id))||p.get("label");return n.innerHTML=this.template({pfx:m,label:b,catName:y}),a.addClass(this.className),a.css({order:p.get("order")}),this.updateVisibility(),this},i}(C.G7);const Zv=K0;var da,Ju=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Fs=function(){return Fs=Object.assign||function(u){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(u[n]=i[n])}return u},Fs.apply(this,arguments)},Qu=function(u){Ju(i,u);function i(e,t){var n=u.call(this,e)||this;n.renderedCategories=new Map,(0,r.bindAll)(n,"getSorter","onDrag","onDrop","onMove"),n.config=t||{},n.categories=e.categories||"";var a=n.config.pStylePrefix||"";n.ppfx=a,n.noCatClass="".concat(a,"blocks-no-cat"),n.blockContClass="".concat(a,"blocks-c"),n.catsClass="".concat(a,"block-categories");var p=n.collection;return n.listenTo(p,"add",n.addTo),n.listenTo(p,"reset",n.render),n.em=n.config.em,n.em&&(n.config.getSorter=n.getSorter),n}return i.prototype.__getModule=function(){return this.em.Blocks},i.prototype.updateConfig=function(e){e===void 0&&(e={}),this.config=Fs(Fs({},this.config),e)},i.prototype.getSorter=function(){var e=this.em;if(e){if(!this.sorter){var t=e.Utils,n=e.Canvas;this.sorter=new t.Sorter({container:n.getBody(),placer:n.getPlacerEl(),containerSel:"*",itemSel:"*",pfx:this.ppfx,onStart:this.onDrag,onEndMove:this.onDrop,onMove:this.onMove,document:n.getFrameEl().contentDocument,direction:"a",wmargin:1,nested:1,em:e,canvasRelative:1})}return this.sorter}},i.prototype.onDrag=function(e){this.em.stopDefault(),this.__getModule().__startDrag(this.sorter.__currentBlock,e)},i.prototype.onMove=function(e){this.__getModule().__drag(e)},i.prototype.onDrop=function(e){this.em.runDefault(),this.__getModule().__endDrag({component:e}),delete this.sorter.__currentBlock},i.prototype.addTo=function(e){this.add(e)},i.prototype.add=function(e,t){var n=this,a=n.config,p=n.renderedCategories,m=e.get("attributes"),y=new Kv({model:e,attributes:m},a),b=y.render().el,O=e.parent.initCategory(e);if(O&&this.categories&&!a.ignoreCategories){var A=O.getId(),R=this.getCategoriesEl(),B=p.get(A);!B&&R&&(B=new Zv({model:O},a,"block").render(),p.set(A,B),R.appendChild(B.el)),B==null||B.append(b);return}t?t.appendChild(b):this.append(b)},i.prototype.getCategoriesEl=function(){return this.catsEl||(this.catsEl=this.el.querySelector(".".concat(this.catsClass))),this.catsEl},i.prototype.getBlocksEl=function(){return this.blocksEl||(this.blocksEl=this.el.querySelector(".".concat(this.noCatClass," .").concat(this.blockContClass))),this.blocksEl},i.prototype.append=function(e){var t=this.getBlocksEl();t&&t.appendChild(e)},i.prototype.render=function(){var e=this,t=this.ppfx,n=document.createDocumentFragment();delete this.catsEl,delete this.blocksEl,this.renderedCategories=new Map,this.el.innerHTML=`
      <div class="`.concat(this.catsClass,`"></div>
      <div class="`).concat(this.noCatClass,`">
        <div class="`).concat(this.blockContClass,`"></div>
      </div>
    `),this.collection.each(function(p){return e.add(p,n)}),this.append(n);var a="".concat(this.blockContClass,"s ").concat(t,"one-bg ").concat(t,"two-color");return this.$el.addClass(a),this.rendered=!0,this},i}(C.G7);const Go=Qu;var G0=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Ja=function(){return Ja=Object.assign||function(u){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(u[n]=i[n])}return u},Ja.apply(this,arguments)},Il=function(u){G0(i,u);function i(e){var t,n=u.call(this,e,"BlockManager",new Of(((t=e.config.blockManager)===null||t===void 0?void 0:t.blocks)||[],{em:e}),Xu,zv)||this;return n.events=Xu,n.Block=Wv,n.Blocks=Of,n.Category=La,n.Categories=oa,n.storageKey="",n.blocks=n.all,n.blocksVisible=new Of(n.blocks.models,{em:e}),n.categories=new oa([],{em:e,events:{update:Xu.categoryUpdate}}),n.blocks.on("add",function(a){return n.blocksVisible.add(a)}),n.blocks.on("remove",function(a){return n.blocksVisible.remove(a)}),n.blocks.on("reset",function(a){return n.blocksVisible.reset(a.models)}),n.__onAllEvent=(0,r.debounce)(function(){return n.__trgCustom()},0),n}return i.prototype.__trgCustom=function(){this.em.trigger(this.events.custom,this.__customData())},i.prototype.__customData=function(){var e=this,t=this.__getBehaviour();return{bm:this,blocks:this.getAll().models,container:t.container,dragStart:function(n,a){return e.startDrag(n,a)},drag:function(n){return e.__drag(n)},dragStop:function(n){return e.endDrag(n)}}},i.prototype.__startDrag=function(e,t){var n=this,a=n.em,p=n.events,m=n.blocks,y=e.getContent?e.getContent():e;this._dragBlock=e,a.set({dragResult:null,dragContent:y}),[a,m].map(function(b){return b.trigger(p.dragStart,e,t)})},i.prototype.__drag=function(e){var t=this,n=t.em,a=t.events,p=t.blocks,m=this._dragBlock;[n,p].map(function(y){return y.trigger(a.drag,m,e)})},i.prototype.__endDrag=function(e){e===void 0&&(e={});var t=this,n=t.em,a=t.events,p=t.blocks,m=this._dragBlock,y=e.component||n.get("dragResult");if(delete this._dragBlock,y&&m){var b="activeOnRender",O=y.get&&y.get(b),A=m.get("activate")||O,R=m.get("select"),B=(0,r.isArray)(y)?y[0]:y;(R||A&&R!==!1)&&n.setSelected(B),A&&(B.trigger("active"),O&&B.unset(b)),m.get("resetId")&&B.onAll(function(Q){return Q.resetId()})}n.set({dragResult:null,dragContent:null}),m&&[n,p].map(function(Q){return Q.trigger(a.dragEnd,y,m)})},i.prototype.__getFrameViews=function(){return this.em.Canvas.getFrames().map(function(e){return e.view}).filter(Boolean)},i.prototype.__behaviour=function(e){return e===void 0&&(e={}),this._bhv=Ja(Ja({},this._bhv||{}),e)},i.prototype.__getBehaviour=function(){return this._bhv||{}},i.prototype.startDrag=function(e,t){this.__startDrag(e,t),this.__getFrameViews().forEach(function(n){var a;return(a=n.droppable)===null||a===void 0?void 0:a.startCustom()})},i.prototype.endDrag=function(e){this.__getFrameViews().forEach(function(t){var n;return(n=t.droppable)===null||n===void 0?void 0:n.endCustom(e)}),this.__endDrag()},i.prototype.postRender=function(){var e=this,t=e.categories,n=e.config,a=e.em,p=this.blocksVisible;this.blocksView=new Go({collection:p,categories:t},Ja(Ja({},n),{em:a})),this.__appendTo(p.models),this.__trgCustom()},i.prototype.add=function(e,t,n){n===void 0&&(n={});var a=t||{};return a.id=e,this.blocks.add(a,n)},i.prototype.get=function(e){return this.blocks.get(e)},i.prototype.getAll=function(){return this.blocks},i.prototype.getAllVisible=function(){return this.blocksVisible},i.prototype.remove=function(e,t){return t===void 0&&(t={}),this.__remove(e,t)},i.prototype.getCategories=function(){return this.categories},i.prototype.getContainer=function(){var e;return(e=this.blocksView)===null||e===void 0?void 0:e.el},i.prototype.getDragBlock=function(){return this._dragBlock},i.prototype.getBlocksByCategory=function(e){return Ma(e||this.getAll().models)},i.prototype.render=function(e,t){t===void 0&&(t={});var n=this,a=n.categories,p=n.config,m=n.em,y=e||this.getAll().models;if(t.external){var b=new Of(y,{em:m});return new Go({collection:b,categories:a},Ja(Ja({em:m},p),t)).render().el}return this.blocksView&&(this.blocksView.updateConfig(t),this.blocksView.collection.reset(y),this.blocksView.rendered||(this.blocksView.render(),this.blocksView.rendered=!0)),this.getContainer()},i.prototype.destroy=function(){var e,t=[this.blocks,this.blocksVisible,this.categories];t.map(function(n){return n.stopListening()}),t.map(function(n){return n.reset()}),(e=this.blocksView)===null||e===void 0||e.remove()},i}($);const qv=Il;var Yv={stylePrefix:"clm-",appendTo:"",selectors:[],states:[{name:"hover"},{name:"active"},{name:"nth-of-type(2n)"}],iconAdd:'<svg viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"></path></svg>',iconSync:'<svg viewBox="0 0 24 24"><path d="M12 18c-3.31 0-6-2.69-6-6 0-1 .25-1.97.7-2.8L5.24 7.74A7.93 7.93 0 0 0 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4m0-11V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1-.25 1.97-.7 2.8l1.46 1.46A7.93 7.93 0 0 0 20 12c0-4.42-3.58-8-8-8z"></path></svg>',iconTagOn:'<svg viewBox="0 0 24 24"><path d="M19 19H5V5h10V3H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-8h-2m-11.09-.92L6.5 11.5 11 16 21 6l-1.41-1.42L11 13.17l-3.09-3.09z"></path></svg>',iconTagOff:'<svg viewBox="0 0 24 24"><path d="M19 3H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5a2 2 0 0 0-2-2m0 2v14H5V5h14z"></path></svg>',iconTagRemove:'<svg viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>',componentFirst:!1,custom:!1};const Xv=Yv;var Ef=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Vs=function(u){Ef(i,u);function i(){return u!==null&&u.apply(this,arguments)||this}return i.prototype.defaults=function(){return{name:"",label:""}},i.prototype.getName=function(){return this.get("name")},i.prototype.getLabel=function(){return this.get("label")||this.getName()},i}(C.Hn);const ec=Vs;Vs.prototype.idAttribute="name";var gp=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),mp=function(u,i){return Object.defineProperty?Object.defineProperty(u,"raw",{value:i}):u.raw=i,u},Jv="contentEditable",tc=function(u){gp(i,u);function i(e){e===void 0&&(e={});var t=u.call(this,e)||this,n=e.config||{};return t.config=n,t.module=e.module,t.coll=e.coll||null,t.pfx=n.stylePrefix||"",t.ppfx=n.pStylePrefix||"",t.em=n.em,t.listenTo(t.model,"change:active",t.updateStatus),t}return i.prototype.template=function(){var e=this,t=e.pfx,n=e.model,a=e.config,p=n.get("label")||"";return s(eg||(eg=mp([`
      <span id="`,'checkbox" class="',`tag-status" data-tag-status></span>
      <span id="`,'tag-label" data-tag-name>',`</span>
      <span id="`,'close" class="','tag-close" data-tag-remove> $',` </span>
    `],[`
      <span id="`,'checkbox" class="',`tag-status" data-tag-status></span>
      <span id="`,'tag-label" data-tag-name>',`</span>
      <span id="`,'close" class="','tag-close" data-tag-remove> $',` </span>
    `])),t,t,t,p,t,t,a.iconTagRemove)},i.prototype.events=function(){return{"click [data-tag-remove]":"removeTag","click [data-tag-status]":"changeStatus","dblclick [data-tag-name]":"startEditTag","focusout [data-tag-name]":"endEditTag"}},i.prototype.getInputEl=function(){return this.inputEl||(this.inputEl=this.el.querySelector("[data-tag-name]")),this.inputEl},i.prototype.startEditTag=function(){var e=this.em,t=this.getInputEl();t[Jv]="true",t.focus(),e==null||e.setEditing(!0)},i.prototype.endEditTag=function(){var e=this,t=e.model,n=e.em,a=this.getInputEl(),p=a.textContent||"",m=n==null?void 0:n.Selectors;a[Jv]="false",n==null||n.setEditing(!1),m&&m.rename(t,p)!==t&&(a.innerText=t.getLabel())},i.prototype.changeStatus=function(){var e=this.model;e.set("active",!e.getActive())},i.prototype.removeTag=function(){this.module.removeSelected(this.model)},i.prototype.updateStatus=function(){var e=this,t=e.model,n=e.$el,a=e.config,p=a.iconTagOn,m=a.iconTagOff,y=n.find("[data-tag-status]");t.get("active")?(y.html(p),n.removeClass("opac50")):(y.html(m),n.addClass("opac50"))},i.prototype.render=function(){var e=this,t=e.pfx,n=e.ppfx,a=e.$el,p=e.model,m="".concat(t,"tag"),y=["".concat(m," ").concat(n,"three-bg")];return p.get("protected")&&y.push("".concat(m,"-protected")),a.html(this.template()),a.attr("class",y.join(" ")),this.updateStatus(),this},i}(C.G7);const Qv=tc;var eg,tg=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Qa=function(u,i){return Object.defineProperty?Object.defineProperty(u,"raw",{value:i}):u.raw=i,u},Z0=function(u){tg(i,u);function i(e){e===void 0&&(e={});var t=u.call(this,e)||this;t.config=e.config||{},t.pfx=t.config.stylePrefix||"",t.ppfx=t.config.pStylePrefix||"",t.className=t.pfx+"tags",t.stateInputId=t.pfx+"states",t.stateInputC=t.pfx+"input-c",t.states=t.config.states||[];var n=t.config.em,a=t.collection;t.target=n;var p=n.Selectors;t.module=p,t.em=n,t.componentChanged=(0,r.debounce)(t.componentChanged.bind(t),0),t.checkSync=(0,r.debounce)(t.checkSync.bind(t),0);var m=zt.g.update,y="".concat(m,":classes"),b="component:toggled ".concat(y),O="".concat(y," ").concat(m,":attributes:id change:state");return t.listenTo(n,b,t.componentChanged),t.listenTo(n,"styleManager:update",t.componentChanged),t.listenTo(n,O,t.__handleStateChange),t.listenTo(n,"styleable:change change:device",t.checkSync),t.listenTo(a,"add",t.addNew),t.listenTo(a,"reset",t.renderClasses),t.listenTo(a,"remove",t.tagRemoved),t.listenTo(p.getAll(),p.events.state,(0,r.debounce)(function(){return t.renderStates()},0)),t.delegateEvents(),t}return i.prototype.template=function(e){var t=e.labelInfo,n=e.labelHead,a=e.iconSync,p=e.iconAdd,m=e.pfx,y=e.ppfx;return s(Fl||(Fl=Qa([' <div id="','up" class="',`header">
        <div id="`,'label" class="','header-label">',`</div>
        <div id="`,'status-c" class="',`header-status">
          <span id="`,`input-c" data-states-c>
            <div class="`,"field ",`select">
              <span id="`,`input-holder">
                <select id="`,`states" data-states></select>
              </span>
              <div class="`,`sel-arrow">
                <div class="`,`d-s-arrow"></div>
              </div>
            </div>
          </span>
        </div>
      </div>
      <div id="`,'tags-field" class="',`field">
        <div id="`,`tags-c" data-selectors></div>
        <input id="`,`new" data-input />
        <span id="`,'add-tag" class="',"tags-btn ",'tags-btn__add" data-add> $',` </span>
        <span class="`,"tags-btn ",'tags-btn__sync" style="display: none" data-sync-style> $',` </span>
      </div>
      <div class="`,`sels-info">
        <div class="`,'label-sel">',`:</div>
        <div class="`,`sels" data-selected></div>
      </div>`],[' <div id="','up" class="',`header">
        <div id="`,'label" class="','header-label">',`</div>
        <div id="`,'status-c" class="',`header-status">
          <span id="`,`input-c" data-states-c>
            <div class="`,"field ",`select">
              <span id="`,`input-holder">
                <select id="`,`states" data-states></select>
              </span>
              <div class="`,`sel-arrow">
                <div class="`,`d-s-arrow"></div>
              </div>
            </div>
          </span>
        </div>
      </div>
      <div id="`,'tags-field" class="',`field">
        <div id="`,`tags-c" data-selectors></div>
        <input id="`,`new" data-input />
        <span id="`,'add-tag" class="',"tags-btn ",'tags-btn__add" data-add> $',` </span>
        <span class="`,"tags-btn ",'tags-btn__sync" style="display: none" data-sync-style> $',` </span>
      </div>
      <div class="`,`sels-info">
        <div class="`,'label-sel">',`:</div>
        <div class="`,`sels" data-selected></div>
      </div>`])),m,m,m,m,n,m,m,m,y,y,y,m,y,y,m,y,m,m,m,m,m,p,m,m,a,m,m,t,m)},i.prototype.events=function(){return{"change [data-states]":"stateChanged","click [data-add]":"startNewTag","focusout [data-input]":"endNewTag","keyup [data-input]":"onInputKeyUp","click [data-sync-style]":"syncStyle"}},i.prototype.syncStyle=function(){var e=this.em,t=this.getTarget(),n=e.Css,a={noDisabled:1},p=this.getCommonSelectors({opts:a}),m=e.get("state"),y=e.getCurrentMedia(),b=[],O=n.get(p,m,y)||n.add(p,m,y),A;this.getTargets().forEach(function(R){var B=n.getIdRule(R.getId(),{state:m,mediaText:y});A=B.getStyle(),B.setStyle({}),b.push(B)}),A&&O.addStyle(A),e.trigger("component:toggled"),e.trigger("component:sync-style",{component:t,selectors:p,mediaText:y,rule:O,ruleComponents:b,state:m})},i.prototype.tagRemoved=function(e){this.updateStateVis()},i.prototype.addNew=function(e){this.addToClasses(e)},i.prototype.startNewTag=function(){var e,t;(e=this.$addBtn)===null||e===void 0||e.css({display:"none"}),(t=this.$input)===null||t===void 0||t.show().focus()},i.prototype.endNewTag=function(){var e,t;(e=this.$addBtn)===null||e===void 0||e.css({display:""}),(t=this.$input)===null||t===void 0||t.hide().val("")},i.prototype.onInputKeyUp=function(e){var t;e.keyCode===13?(e.preventDefault(),this.addNewTag((t=this.$input)===null||t===void 0?void 0:t.val())):e.keyCode===27&&this.endNewTag()},i.prototype.checkStates=function(){var e=this.em.getState(),t=this.getStates();t&&t.val(e)},i.prototype.componentChanged=function(e){var t=e===void 0?{}:e,n=t.targets;this.updateSelection(n)},i.prototype.updateSelection=function(e){var t=e||this.getTargets();t=(0,r.isArray)(t)?t:[t];var n=[];return t&&t.length&&(n=this.getCommonSelectors({targets:t}),this.checkSync({validSelectors:n})),this.collection.reset(n),this.updateStateVis(t),this.module.__trgCustom(),n},i.prototype.getCommonSelectors=function(e){var t=e===void 0?{}:e,n=t.targets,a=t.opts,p=a===void 0?{}:a,m=n||this.getTargets();return this.module.__getCommonSelectors(m,p)},i.prototype._commonSelectors=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(e=this.module).__common.apply(e,t)},i.prototype.checkSync=function(){var e=this,t=e.$btnSyncEl,n=e.config,a=e.collection,p=this.getTarget(),m;if(p&&n.componentFirst&&a.length){var y=p.getStyle();m=!(0,r.isEmpty)(y)}t&&t[m?"show":"hide"]()},i.prototype.getTarget=function(){return this.target.getSelected()},i.prototype.getTargets=function(){return this.target.getSelectedAll()},i.prototype.updateStateVis=function(e){var t=this.em,n=t&&t.getConfig().avoidInlineStyle,a=this.collection.length||n?"":"none";this.getStatesC().css("display",a),this.updateSelector(e)},i.prototype.__handleStateChange=function(){this.updateSelector(this.getTargets())},i.prototype.updateSelector=function(e){var t=this,n=this.el.querySelector("[data-selected]"),a=[],p=e||this.getTargets();p=(0,r.isArray)(p)?p:[p],p.forEach(function(m){return a.push(t.__getName(m))}),n&&(n.innerHTML=a.join(", ")),this.checkStates()},i.prototype.__getName=function(e){var t=this,n=t.pfx,a=t.config,p=t.em,m=a.selectedName,y=a.componentFirst,b;if((0,r.isString)(e))b=s(yp||(yp=Qa(['<span class="','sel-gen">',"</span>"],['<span class="','sel-gen">',"</span>"])),n,e);else{var O=e==null?void 0:e.getSelectors();if(!O)return"";var A=O.getStyleable(),R=p.get("state"),B=e.getId?s(wp||(wp=Qa(['<span class="','sel-cmp">',`</span>
            <span class="`,'sel-id">#',"</span>"],['<span class="','sel-cmp">',`</span>
            <span class="`,'sel-id">#',"</span>"])),n,e.getName(),n,e.getId()):"";b=this.collection.getFullString(A),b=b?s(rg||(rg=Qa(['<span class="','sel-rule">',"</span>"],['<span class="','sel-rule">',"</span>"])),n,b):e.get("selectorsAdd")||B,b=y&&B?B:b,b+=R?s(Tf||(Tf=Qa(['<span class="','sel-state">:',"</span>"],['<span class="','sel-state">:',"</span>"])),n,R):"",b=m?m({result:b,state:R,target:e}):b}return b&&'<span class="'.concat(n,'sel">').concat(b,"</span>")},i.prototype.stateChanged=function(e){var t=this.em,n=e.target.value;t.set("state",n)},i.prototype.addNewTag=function(e){var t=e.trim();t&&(this.module.addSelected({label:t}),this.endNewTag())},i.prototype.addToClasses=function(e,t){var n=t,a=this.getClasses(),p=new Qv({model:e,config:this.config,coll:this.collection,module:this.module}).render().el;return n?n.appendChild(p):a.append(p),p},i.prototype.renderClasses=function(){var e=this,t=document.createDocumentFragment(),n=this.getClasses();n.empty(),this.collection.each(function(a){return e.addToClasses(a,t)}),n.append(t)},i.prototype.getClasses=function(){return this.$el.find("[data-selectors]")},i.prototype.getStates=function(){if(!this.$states){var e=this.$el.find("[data-states]");this.$states=e[0]&&e}return this.$states},i.prototype.getStatesC=function(){return this.$statesC||(this.$statesC=this.$el.find("#"+this.stateInputC)),this.$statesC},i.prototype.renderStates=function(){var e=this,t=e.module,n=e.em,a=n.t("selectorManager.emptyState"),p=t.getStates().map(function(y){var b=n.t("selectorManager.states.".concat(y.id))||y.getLabel()||y.id;return'<option value="'.concat(y.id,'">').concat(b,"</option>")}).join(""),m=this.getStates();m&&m.html('<option value="">'.concat(a,"</option>").concat(p)),this.checkStates()},i.prototype.render=function(){var e=this,t=e.em,n=e.pfx,a=e.ppfx,p=e.config,m=e.$el,y=e.el,b=p.render,O=p.iconSync,A=p.iconAdd,R={iconSync:O,iconAdd:A,labelHead:t.t("selectorManager.label"),labelInfo:t.t("selectorManager.selected"),ppfx:a,pfx:n,el:y};m.html(this.template(R));var B=b&&b(R);return B&&B!==y&&m.empty().append(B),this.$input=m.find("[data-input]"),this.$addBtn=m.find("[data-add]"),this.$classes=m.find("#"+n+"tags-c"),this.$btnSyncEl=m.find("[data-sync-style]"),this.$input.hide(),this.renderStates(),this.renderClasses(),m.attr("class","".concat(this.className," ").concat(a,"one-bg ").concat(a,"two-color")),this},i}(C.G7);const q0=Z0;var Fl,yp,wp,rg,Tf,ng=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),rc=function(){return rc=Object.assign||function(u){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(u[n]=i[n])}return u},rc.apply(this,arguments)},Pf=function(u,i,e){if(e||arguments.length===2)for(var t=0,n=i.length,a;t<n;t++)(a||!(t in i))&&(a||(a=Array.prototype.slice.call(i,0,t)),a[t]=i[t]);return u.concat(a||Array.prototype.slice.call(i))},_p=function(u){return(0,r.isString)(u)&&u[0]=="#"},ig=function(u){return(0,r.isString)(u)&&u[0]=="."},kf="selector",pa="".concat(kf,":"),nc="".concat(pa,"add"),Y0="".concat(pa,"update"),bp="".concat(pa,"remove"),X0="".concat(bp,":before"),J0="".concat(pa,"custom"),og="".concat(pa,"state"),Q0={all:kf,update:Y0,add:nc,remove:bp,removeBefore:X0,state:og,custom:J0},ag=function(u){ng(i,u);function i(e){var t=u.call(this,e,"SelectorManager",new bo([]),Q0,Xv,{skipListen:!0})||this;t.Selector=Tn,t.Selectors=bo,t.storageKey="",(0,r.bindAll)(t,"__updateSelectedByComponents");var n=t.config,a=n.pStylePrefix;a&&(n.stylePrefix=a+n.stylePrefix),t.all=new bo(n.selectors),t.selected=new bo([],{em:e,config:n}),t.states=new C.FE(n.states.map(function(y){return new ec(y)}),{model:ec}),t.model=new C.Hn({cFirst:n.componentFirst,_undo:!0}),t.__update=(0,r.debounce)(function(){return t.__trgCustom()},0),t.__initListen({collections:[t.states,t.selected],propagate:[{entity:t.states,event:t.events.state}]}),e.on("change:state",function(y,b){return e.trigger(og,b)}),t.model.on("change:cFirst",function(y,b){return e.trigger("selector:type",b)});var p="".concat(zt.g.update,":classes");e.on("component:toggled ".concat(p),t.__updateSelectedByComponents);var m="component:toggled ".concat(p," change:device styleManager:update selector:state selector:type style:target");return t.model.listenTo(e,m,function(){return t.__update()}),t}return i.prototype.__trgCustom=function(e){this.em.trigger(this.events.custom,this.__customData(e))},i.prototype.getAll=function(e){return e===void 0&&(e={}),this.all?e.array?Pf([],this.all.models,!0):this.all:[]},i.prototype.__customData=function(e){return e===void 0&&(e={}),this.__ctn=this.__ctn||e.container,{states:this.getStates(),selected:this.getSelected(),container:this.__ctn}},i.prototype.postRender=function(){this.__appendTo(),this.__trgCustom()},i.prototype.select=function(e,t){t===void 0&&(t={});var n=Array.isArray(e)?e:[e],a=this.em.Styles.select(n,t);this.selected.reset(this.__getCommonSelectors(a));var p=this.selectorTags,m=a.filter(function(y){return y}).map(function(y){return(0,o.isComponent)(y)||(0,o.isRule)(y)&&!y.get("selectorsAdd")?y:y.getSelectorsString()});return p&&p.componentChanged({targets:m}),this},i.prototype.addSelector=function(e,t,n){t===void 0&&(t={}),n===void 0&&(n={});var a=rc({},t);(0,r.isObject)(e)?a=e:a.name=e,_p(a.name)?(a.name=a.name.substr(1),a.type=Tn.TYPE_ID):ig(a.name)&&(a.name=a.name.substr(1)),a.label&&!a.name&&(a.name=this.escapeName(a.label));var p=a.name,m=this.getConfig(),y=this,b=y.all,O=y.em,A=p?this.get(p,a.type):b.where(a)[0];if(!A){var R=a instanceof Tn?a:new Tn(a,rc(rc({},n),{config:m,em:O}));return b.add(R,n)}return A},i.prototype.getSelector=function(e,t){return t===void 0&&(t=Tn.TYPE_CLASS),_p(e)?(e=e.substr(1),t=Tn.TYPE_ID):ig(e)&&(e=e.substr(1)),this.all.where({name:e,type:t})[0]},i.prototype.add=function(e,t){var n=this;t===void 0&&(t={});var a=(0,r.isString)(e)?{}:t;return(0,r.isArray)(e)?e.map(function(p){return n.addSelector(p,t,a)}):this.addSelector(e,t,a)},i.prototype.addClass=function(e){var t=this,n=[];return(0,r.isString)(e)&&(e=e.trim().split(" ")),e.forEach(function(a){return n.push(t.addSelector(a))}),n},i.prototype.get=function(e,t){var n=this;if((0,r.isArray)(e)){var a=[],p=e.map(function(m){return n.getSelector(m)}).filter(Boolean);return p.forEach(function(m){return a.indexOf(m)<0&&a.push(m)}),a}else return this.getSelector(e,t)},i.prototype.remove=function(e,t){return this.__remove(e,t)},i.prototype.rename=function(e,t,n){var a=this.escapeName(t),p=this.get(a);return p||e.set({name:a,label:t},n)},i.prototype.setState=function(e){return this.em.setState(e),this},i.prototype.getState=function(){return this.em.getState()},i.prototype.getStates=function(){return Pf([],this.states.models,!0)},i.prototype.setStates=function(e,t){return this.states.reset(e.map(function(n){return new ec(n)}),t)},i.prototype.getSelected=function(){return this.__getCommon()},i.prototype.getSelectedAll=function(){return Pf([],this.selected.models,!0)},i.prototype.addSelected=function(e){var t=this.add(e);this.em.getSelectedAll().forEach(function(n){n.getSelectors().add(t)})},i.prototype.removeSelected=function(e){this.em.getSelectedAll().forEach(function(t){!e.get("protected")&&t&&t.getSelectors().remove(e)})},i.prototype.duplicateSelected=function(e,t){var n=this;t===void 0&&(t={});var a=this.em,p=this.getSelected();if(!(p.indexOf(e)<0)){var m=this.getState(),y=a.getCurrentMedia(),b=a.Css.get(p,m,y),O=b==null?void 0:b.getStyle();if(a.getSelectedAll().forEach(function(R){var B=R.getSelectors();if(B.includes(e)){var Q=t.suffix||" copy",le=e.getLabel(),ue=n.addSelector("".concat(le).concat(Q)),ke=B.indexOf(e);B.remove(e),B.add(ue,{at:ke})}}),O){var A=a.Css.add(this.getSelected(),m,y);A.setStyle(O)}}},i.prototype.getSelectedTargets=function(){return this.em.Styles.getSelectedAll()},i.prototype.setComponentFirst=function(e){this.getConfig().componentFirst=e,this.model.set({cFirst:e})},i.prototype.getComponentFirst=function(){return this.getConfig().componentFirst},i.prototype.escapeName=function(e){var t=this.getConfig().escapeName;return t?t(e):Tn.escapeName(e)},i.prototype.render=function(e){var t=this.selectorTags,n=this.getConfig(),a=t==null?void 0:t.el;return this.selected.reset(e),this.selectorTags=new q0({el:a,collection:this.selected,module:this,config:n}),this.selectorTags.render().el},i.prototype.destroy=function(){var e=this,t=e.selectorTags,n=e.model;n.stopListening(),this.__update.cancel(),this.__destroy(),t==null||t.remove(),this.selectorTags=void 0},i.prototype.__getCommon=function(){return this.__getCommonSelectors(this.em.getSelectedAll())},i.prototype.__getCommonSelectors=function(e,t){t===void 0&&(t={});var n=e.map(function(a){return a.getSelectors&&a.getSelectors().getValid(t)}).filter(Boolean);return this.__common.apply(this,n)},i.prototype.__common=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t.length?t.length===1?t[0]:t.length===2?t[0].filter(function(a){return t[1].indexOf(a)>=0}):t.slice(1).reduce(function(a,p){return e.__common(a,p)},t[0]):[]},i.prototype.__updateSelectedByComponents=function(){this.selected.reset(this.__getCommon())},i}($);const ew=ag;var tw={textTags:["br","b","i","u","a","ul","ol"],textTypes:["text","textnode","comment"],parserCss:void 0,parserHtml:void 0,optionsHtml:{htmlType:"text/html",allowScripts:!1,allowUnsafeAttr:!1,allowUnsafeAttrValue:!1,keepEmptyTextNodes:!1}};const sg=tw;var Gi,Vi={STYLE_RULE:1,CHARSET_RULE:2,IMPORT_RULE:3,MEDIA_RULE:4,FONT_FACE_RULE:5,PAGE_RULE:6,KEYFRAMES_RULE:7,KEYFRAME_RULE:8,NAMESPACE_RULE:10,COUNTER_STYLE_RULE:11,SUPPORTS_RULE:12,DOCUMENT_RULE:13,FONT_FEATURE_VALUES_RULE:14,VIEWPORT_RULE:15,REGION_STYLE_RULE:16},Vl=(Gi={},Gi[Vi.MEDIA_RULE]="media",Gi[Vi.FONT_FACE_RULE]="font-face",Gi[Vi.PAGE_RULE]="page",Gi[Vi.KEYFRAMES_RULE]="keyframes",Gi[Vi.COUNTER_STYLE_RULE]="counter-style",Gi[Vi.SUPPORTS_RULE]="supports",Gi[Vi.DOCUMENT_RULE]="document",Gi[Vi.FONT_FEATURE_VALUES_RULE]="font-feature-values",Gi[Vi.VIEWPORT_RULE]="viewport",Gi),xp=(0,r.keys)(Vl),es=[Vi.FONT_FACE_RULE,Vi.PAGE_RULE,Vi.COUNTER_STYLE_RULE,Vi.VIEWPORT_RULE],lg=xp.filter(function(u){return es.indexOf(Number(u))<0}).map(function(u){return Vl[u]}).concat(["container","layer"]),Af=es.map(function(u){return Vl[u]}),ug=function(u){u===void 0&&(u="");for(var i=[],e=[],t=u.split(","),n=0,a=t.length;n<a;n++){var p=t[n].trim();if(/^(\.{1}[\w\-]+)+(:{1,2}[\w\-()]+)?$/gi.test(p)||/^(#{1}[\w\-]+){1}(:{1,2}[\w\-()]+)?$/gi.test(p)){var m=p.split(".").filter(Boolean);e.push(m)}else i.push(p)}return{result:e,add:i}},rw=function(u){for(var i=u.style,e={},t=0,n=i.length;t<n;t++){var a=i[t],p=i.getPropertyValue(a),m=i.getPropertyPriority(a);e[a]="".concat(p).concat(m?" !".concat(m):"")}return e},cg=function(u){var i=u.conditionText||u.media&&u.media.mediaText||u.name||u.selectorText||"";return i.trim()},sn=function(u,i,e){i===void 0&&(i={}),e===void 0&&(e={});var t={},n=u.length,a=u[n-1],p=a?a.split(/:(.+)/):[],m=p[1],y=e.atRule,b=e.selectorsAdd,O=e.mediaText,A=Af.indexOf(y)>=0;return A&&(t.singleAtRule=!0),y&&(t.atRuleType=y),b&&(t.selectorsAdd=b),O&&(t.mediaText=O),m&&(u[n-1]=p[0],t.state=m,p.splice(p.length-1,1)),t.selectors=u,t.style=i,t},fg=function(u){var i=u.cssText,e=i===void 0?"":i;return lg.find(function(t){return e.indexOf("@".concat(t))===0})},Lf=function(u){for(var i=[],e=u.cssRules||[],t=0,n=e.length;t<n;t++){var a=e[t],p=a.type,m=!1,y="",b="",O=a.selectorText||a.keyText||"",A=es.indexOf(p)>=0;if(A)m=!0,y=Vl[p],b=cg(a);else if(xp.indexOf("".concat(p))>=0||!p&&fg(a)){var R=Lf(a),B=Vl[p]||fg(a);b=cg(a);for(var Q=0,le=R.length;Q<le;Q++){var ue=R[Q];b&&(ue.mediaText=b),ue.atRuleType=B}i=i.concat(R)}if(!(!O&&!A)){for(var ke=rw(a),Be=ug(O),He=Be.add,ot=Be.result,Ot=void 0,Gt=0,er=ot.length;Gt<er;Gt++){var ft=sn(ot[Gt],ke,{atRule:Vl[p]});i.push(ft),Ot=ft}if(He.length){var Jt=He.join(", ");if(Ot)Ot.selectorsAdd=Jt;else{var ft={selectors:[],selectorsAdd:Jt,style:ke};m&&(ft.singleAtRule=m),y&&(ft.atRuleType=y),b&&(ft.mediaText=b),i.push(ft)}}}}return i};const ic=function(u){var i=document.createElement("style");i.innerHTML=u,document.head.appendChild(i);var e=i.sheet;return document.head.removeChild(i),e?Lf(e):[]};var Ao=function(u,i){return i===void 0&&(i={}),{parse:function(e){var t=this,n=[],a=i.parserCss,p=u==null?void 0:u.Editor,m=a?a(e,p):ic(e);return m.forEach(function(y){return n=n.concat(t.checkNode(y))}),u==null||u.trigger("parse:css",{input:e,output:n,nodes:m}),n},checkNode:function(e){var t=e.selectors,n=e.style,a=[e];if((0,r.isString)(t)){var p=[],m=e,y=ug(t),b=y.result,O=y.add.join(", "),A={atRule:m.atRule,mediaText:m.params};if(b.length?b.forEach(function(B){p.push(sn(B,n,A))}):p.push(sn([],n,A)),O){var R=p[p.length-1];R.selectorsAdd=O}a=p}return a}}};const Mf=Ao;var Sp=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),dg=function(u){Sp(i,u);function i(e){var t=u.call(this,e,"Parser",sg)||this,n=t.config;return t.parserCss=Mf(e,n),t.parserHtml=jr(e,n),t}return i.prototype.parseHtml=function(e,t){t===void 0&&(t={});var n=this,a=n.em,p=n.parserHtml;return p.compTypes=a.Components.getTypes()||[],p.parse(e,this.parserCss,t)},i.prototype.parseCss=function(e){return this.parserCss.parse(e)},i.prototype.destroy=function(){},i}(z);const pg=dg;var hg={id:"gjs-",type:"local",autosave:!0,autoload:!0,stepsBeforeSave:1,recovery:!1,onStore:function(u){return u},onLoad:function(u){return u},options:{local:{key:"gjsProject",checkLocal:!0},remote:{headers:{},urlStore:"",urlLoad:"",contentTypeJson:!0,fetchOptions:"",credentials:"include",onStore:function(u){return u},onLoad:function(u){return u}}}};const Cp=hg;var Op=function(u,i,e,t){function n(a){return a instanceof e?a:new e(function(p){p(a)})}return new(e||(e=Promise))(function(a,p){function m(O){try{b(t.next(O))}catch(A){p(A)}}function y(O){try{b(t.throw(O))}catch(A){p(A)}}function b(O){O.done?a(O.value):n(O.value).then(m,y)}b((t=t.apply(u,i||[])).next())})},vg=function(u,i){var e={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,n,a,p;return p={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function m(b){return function(O){return y([b,O])}}function y(b){if(t)throw new TypeError("Generator is already executing.");for(;p&&(p=0,b[0]&&(e=0)),e;)try{if(t=1,n&&(a=b[0]&2?n.return:b[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,b[1])).done)return a;switch(n=0,a&&(b=[b[0]&2,a.value]),b[0]){case 0:case 1:a=b;break;case 4:return e.label++,{value:b[1],done:!1};case 5:e.label++,n=b[1],b=[0];continue;case 7:b=e.ops.pop(),e.trys.pop();continue;default:if(a=e.trys,!(a=a.length>0&&a[a.length-1])&&(b[0]===6||b[0]===2)){e=0;continue}if(b[0]===3&&(!a||b[1]>a[0]&&b[1]<a[3])){e.label=b[1];break}if(b[0]===6&&e.label<a[1]){e.label=a[1],a=b;break}if(a&&e.label<a[2]){e.label=a[2],e.ops.push(b);break}a[2]&&e.ops.pop(),e.trys.pop();continue}b=i.call(u,e)}catch(O){b=[6,O],n=0}finally{t=a=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}},Ep=function(){function u(){}return u.prototype.store=function(i,e){return e===void 0&&(e={}),Op(this,void 0,void 0,function(){return vg(this,function(t){return this.hasLocal(e,!0)&&localStorage.setItem(e.key,JSON.stringify(i)),[2,i]})})},u.prototype.load=function(i){return i===void 0&&(i={}),Op(this,void 0,void 0,function(){var e;return vg(this,function(t){return e={},this.hasLocal(i,!0)&&(e=JSON.parse(localStorage.getItem(i.key)||"{}")),[2,e]})})},u.prototype.hasLocal=function(i,e){if(i===void 0&&(i={}),i.checkLocal&&(!(0,o.hasWin)()||!localStorage)){if(e)throw new Error("localStorage not available");return!1}return!0},u}();const gg=Ep;function Ir(u){"@babel/helpers - typeof";return Ir=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},Ir(u)}function mg(u){var i=this.constructor;return this.then(function(e){return i.resolve(u()).then(function(){return e})},function(e){return i.resolve(u()).then(function(){return i.reject(e)})})}const nw=mg;function Ul(u){var i=this;return new i(function(e,t){if(!(u&&typeof u.length<"u"))return t(new TypeError(Ir(u)+" "+u+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var n=Array.prototype.slice.call(u);if(n.length===0)return e([]);var a=n.length;function p(y,b){if(b&&(Ir(b)==="object"||typeof b=="function")){var O=b.then;if(typeof O=="function"){O.call(b,function(A){p(y,A)},function(A){n[y]={status:"rejected",reason:A},--a===0&&e(n)});return}}n[y]={status:"fulfilled",value:b},--a===0&&e(n)}for(var m=0;m<n.length;m++)p(m,n[m])})}const iw=Ul;function oc(u,i){this.name="AggregateError",this.errors=u,this.message=i||""}oc.prototype=Error.prototype;function ow(u){var i=this;return new i(function(e,t){if(!(u&&typeof u.length<"u"))return t(new TypeError("Promise.any accepts an array"));var n=Array.prototype.slice.call(u);if(n.length===0)return t();for(var a=[],p=0;p<n.length;p++)try{i.resolve(n[p]).then(e).catch(function(m){a.push(m),a.length===n.length&&t(new oc(a,"All promises were rejected"))})}catch(m){t(m)}})}const kn=ow;var aw=setTimeout;function yg(u){return!!(u&&typeof u.length<"u")}function sw(){}function Df(u,i){return function(){u.apply(i,arguments)}}function l(u){if(!(this instanceof l))throw new TypeError("Promises must be constructed via new");if(typeof u!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],k(u,this)}function f(u,i){for(;u._state===3;)u=u._value;if(u._state===0){u._deferreds.push(i);return}u._handled=!0,l._immediateFn(function(){var e=u._state===1?i.onFulfilled:i.onRejected;if(e===null){(u._state===1?g:v)(i.promise,u._value);return}var t;try{t=e(u._value)}catch(n){v(i.promise,n);return}g(i.promise,t)})}function g(u,i){try{if(i===u)throw new TypeError("A promise cannot be resolved with itself.");if(i&&(Ir(i)==="object"||typeof i=="function")){var e=i.then;if(i instanceof l){u._state=3,u._value=i,w(u);return}else if(typeof e=="function"){k(Df(e,i),u);return}}u._state=1,u._value=i,w(u)}catch(t){v(u,t)}}function v(u,i){u._state=2,u._value=i,w(u)}function w(u){u._state===2&&u._deferreds.length===0&&l._immediateFn(function(){u._handled||l._unhandledRejectionFn(u._value)});for(var i=0,e=u._deferreds.length;i<e;i++)f(u,u._deferreds[i]);u._deferreds=null}function E(u,i,e){this.onFulfilled=typeof u=="function"?u:null,this.onRejected=typeof i=="function"?i:null,this.promise=e}function k(u,i){var e=!1;try{u(function(t){e||(e=!0,g(i,t))},function(t){e||(e=!0,v(i,t))})}catch(t){if(e)return;e=!0,v(i,t)}}l.prototype.catch=function(u){return this.then(null,u)},l.prototype.then=function(u,i){var e=new this.constructor(sw);return f(this,new E(u,i,e)),e},l.prototype.finally=nw,l.all=function(u){return new l(function(i,e){if(!yg(u))return e(new TypeError("Promise.all accepts an array"));var t=Array.prototype.slice.call(u);if(t.length===0)return i([]);var n=t.length;function a(m,y){try{if(y&&(Ir(y)==="object"||typeof y=="function")){var b=y.then;if(typeof b=="function"){b.call(y,function(O){a(m,O)},e);return}}t[m]=y,--n===0&&i(t)}catch(O){e(O)}}for(var p=0;p<t.length;p++)a(p,t[p])})},l.any=kn,l.allSettled=iw,l.resolve=function(u){return u&&Ir(u)==="object"&&u.constructor===l?u:new l(function(i){i(u)})},l.reject=function(u){return new l(function(i,e){e(u)})},l.race=function(u){return new l(function(i,e){if(!yg(u))return e(new TypeError("Promise.race accepts an array"));for(var t=0,n=u.length;t<n;t++)l.resolve(u[t]).then(i,e)})},l._immediateFn=typeof setImmediate=="function"&&function(u){setImmediate(u)}||function(u){aw(u,0)},l._unhandledRejectionFn=function(i){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",i)};const D=l;(0,o.hasWin)()&&(window.Promise=window.Promise||D);const j=typeof fetch=="function"?fetch.bind():function(u,i){return new D(function(e,t){var n=new XMLHttpRequest;n.open(i.method||"get",u),n.withCredentials=i.credentials=="include";for(var a in i.headers||{})n.setRequestHeader(a,i.headers[a]);n.onload=function(p){return e({status:n.status,statusText:n.statusText,text:function(){return D.resolve(n.responseText)}})},n.onerror=t,n.upload&&i.onProgress&&(n.upload.onprogress=i.onProgress),i.body?n.send(i.body):n.send()})};var H=function(){return H=Object.assign||function(u){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(u[n]=i[n])}return u},H.apply(this,arguments)},ce=function(u,i,e,t){function n(a){return a instanceof e?a:new e(function(p){p(a)})}return new(e||(e=Promise))(function(a,p){function m(O){try{b(t.next(O))}catch(A){p(A)}}function y(O){try{b(t.throw(O))}catch(A){p(A)}}function b(O){O.done?a(O.value):n(O.value).then(m,y)}b((t=t.apply(u,i||[])).next())})},me=function(u,i){var e={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,n,a,p;return p={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function m(b){return function(O){return y([b,O])}}function y(b){if(t)throw new TypeError("Generator is already executing.");for(;p&&(p=0,b[0]&&(e=0)),e;)try{if(t=1,n&&(a=b[0]&2?n.return:b[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,b[1])).done)return a;switch(n=0,a&&(b=[b[0]&2,a.value]),b[0]){case 0:case 1:a=b;break;case 4:return e.label++,{value:b[1],done:!1};case 5:e.label++,n=b[1],b=[0];continue;case 7:b=e.ops.pop(),e.trys.pop();continue;default:if(a=e.trys,!(a=a.length>0&&a[a.length-1])&&(b[0]===6||b[0]===2)){e=0;continue}if(b[0]===3&&(!a||b[1]>a[0]&&b[1]<a[3])){e.label=b[1];break}if(b[0]===6&&e.label<a[1]){e.label=a[1],a=b;break}if(a&&e.label<a[2]){e.label=a[2],e.ops.push(b);break}a[2]&&e.ops.pop(),e.trys.pop();continue}b=i.call(u,e)}catch(O){b=[6,O],n=0}finally{t=a=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}},je=function(){function u(){}return u.prototype.store=function(i,e){return e===void 0&&(e={}),ce(this,void 0,void 0,function(){return me(this,function(t){switch(t.label){case 0:return[4,this.request(e.urlStore,this.__props(e,i),e)];case 1:return[2,t.sent()]}})})},u.prototype.load=function(i){return i===void 0&&(i={}),ce(this,void 0,void 0,function(){return me(this,function(e){switch(e.label){case 0:return[4,this.request(i.urlLoad,this.__props(i),i)];case 1:return[2,e.sent()]}})})},u.prototype.request=function(i,e,t){return e===void 0&&(e={}),t===void 0&&(t={}),j(i,e).then(function(n){var a=n.text(),p=(n.status/200|0)===1;return p?a:a.then(Promise.reject)}).then(function(n){var a=n&&(0,r.isString)(n);return t.contentTypeJson&&a?JSON.parse(n):n})},u.prototype.__props=function(i,e){i===void 0&&(i={});var t=i.contentTypeJson,n=i.headers||{},a=i.fetchOptions||{},p="X-Requested-With",m="Content-Type",y;if((0,r.isUndefined)(n[p])&&(n[p]="XMLHttpRequest"),(0,r.isUndefined)(n[m])&&t&&(n[m]="application/json; charset=utf-8"),e)if(t)y=JSON.stringify(e);else{y=new FormData;for(var b in e)y.append(b,e[b])}var O={method:y?"POST":"GET",credentials:i.credentials,headers:n,body:y};return H(H({},O),(0,r.isFunction)(a)?a(O):a)},u}();const De=je;var Ge;(function(u){u.start="storage:start",u.startStore="storage:start:store",u.startLoad="storage:start:load",u.load="storage:load",u.store="storage:store",u.after="storage:after",u.afterStore="storage:after:store",u.afterLoad="storage:after:load",u.end="storage:end",u.endStore="storage:end:store",u.endLoad="storage:end:load",u.error="storage:error",u.errorStore="storage:error:store",u.errorLoad="storage:error:load"})(Ge||(Ge={}));const Je=Ge;var ct=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),gt=function(){return gt=Object.assign||function(u){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(u[n]=i[n])}return u},gt.apply(this,arguments)},Pt=function(u,i,e,t){function n(a){return a instanceof e?a:new e(function(p){p(a)})}return new(e||(e=Promise))(function(a,p){function m(O){try{b(t.next(O))}catch(A){p(A)}}function y(O){try{b(t.throw(O))}catch(A){p(A)}}function b(O){O.done?a(O.value):n(O.value).then(m,y)}b((t=t.apply(u,i||[])).next())})},bt=function(u,i){var e={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,n,a,p;return p={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function m(b){return function(O){return y([b,O])}}function y(b){if(t)throw new TypeError("Generator is already executing.");for(;p&&(p=0,b[0]&&(e=0)),e;)try{if(t=1,n&&(a=b[0]&2?n.return:b[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,b[1])).done)return a;switch(n=0,a&&(b=[b[0]&2,a.value]),b[0]){case 0:case 1:a=b;break;case 4:return e.label++,{value:b[1],done:!1};case 5:e.label++,n=b[1],b=[0];continue;case 7:b=e.ops.pop(),e.trys.pop();continue;default:if(a=e.trys,!(a=a.length>0&&a[a.length-1])&&(b[0]===6||b[0]===2)){e=0;continue}if(b[0]===3&&(!a||b[1]>a[0]&&b[1]<a[3])){e.label=b[1];break}if(b[0]===6&&e.label<a[1]){e.label=a[1],a=b;break}if(a&&e.label<a[2]){e.label=a[2],e.ops.push(b);break}a[2]&&e.ops.pop(),e.trys.pop();continue}b=i.call(u,e)}catch(O){b=[6,O],n=0}finally{t=a=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}},At="local",Xt="remote",Zt=function(u){ct(i,u);function i(e){var t=u.call(this,e,"StorageManager",Cp)||this;t.storages={},t.events=Je;var n=t.config;return n._disable&&(n.type=void 0),t.storages={},t.add(At,new gg),t.add(Xt,new De),t.setCurrent(n.type),t}return i.prototype.isAutosave=function(){return!!this.config.autosave},i.prototype.setAutosave=function(e){return this.config.autosave=!!e,this},i.prototype.getStepsBeforeSave=function(){return this.config.stepsBeforeSave},i.prototype.setStepsBeforeSave=function(e){return this.config.stepsBeforeSave=e,this},i.prototype.add=function(e,t){return this.storages[e]=t,this},i.prototype.get=function(e){return this.storages[e]},i.prototype.getStorages=function(){return this.storages},i.prototype.getCurrent=function(){return this.config.currentStorage},i.prototype.setCurrent=function(e){return this.getConfig().currentStorage=e,this},i.prototype.getCurrentStorage=function(){return this.get(this.getCurrent())},i.prototype.getStorageOptions=function(e){return this.getCurrentOptions(e)},i.prototype.store=function(e,t){return t===void 0&&(t={}),Pt(this,void 0,void 0,function(){var n,a,p,m,y,b;return bt(this,function(O){switch(O.label){case 0:n=this.getCurrentStorage(),a=gt(gt({},this.getCurrentOptions()),t),p=this.getRecoveryStorage(),m=this.getCurrentOptions(At),O.label=1;case 1:return O.trys.push([1,5,,9]),[4,this.__exec(n,a,e)];case 2:return O.sent(),y=p,y?[4,this.__exec(p,m,{})]:[3,4];case 3:y=O.sent(),O.label=4;case 4:return[3,9];case 5:return b=O.sent(),p?[4,this.__exec(p,m,e)]:[3,7];case 6:return O.sent(),[3,8];case 7:throw b;case 8:return[3,9];case 9:return[2,e]}})})},i.prototype.load=function(e){return e===void 0&&(e={}),Pt(this,void 0,void 0,function(){var t,n,a,p,m;return bt(this,function(y){switch(y.label){case 0:return t=this.getCurrentStorage(),n=gt(gt({},this.getCurrentOptions()),e),a=this.getRecoveryStorage(),a?[4,this.__exec(a,this.getCurrentOptions(At))]:[3,5];case 1:if(m=y.sent(),(0,r.isEmpty)(m))return[3,5];y.label=2;case 2:return y.trys.push([2,4,,5]),[4,this.__askRecovery()];case 3:return y.sent(),p=m,[3,5];case 4:return y.sent(),[3,5];case 5:return p?[3,7]:[4,this.__exec(t,n)];case 6:p=y.sent(),y.label=7;case 7:return[2,p||{}]}})})},i.prototype.__askRecovery=function(){var e=this.em,t=this.getRecovery();return new Promise(function(n,a){(0,r.isFunction)(t)?t(n,a,e==null?void 0:e.getEditor()):confirm(e==null?void 0:e.t("storageManager.recover"))?n(null):a()})},i.prototype.getRecovery=function(){return this.config.recovery},i.prototype.getRecoveryStorage=function(){var e=this.getRecovery();return e&&this.getCurrent()===Xt&&this.get(At)},i.prototype.__exec=function(e,t,n){var a;return Pt(this,void 0,void 0,function(){var p,m,y,b,O,A,R,B,Q,le,ue,ke,Be;return bt(this,function(He){switch(He.label){case 0:if(p=n?"store":"load",m=this.getConfig(),y=m.onStore,b=m.onLoad,this.onStart(p,n),!e)return[2,n||{}];He.label=1;case 1:return He.trys.push([1,14,,15]),A=(a=this.em)===null||a===void 0?void 0:a.getEditor(),R=void 0,n?(Q=y,Q?[4,y(n,A)]:[3,3]):[3,7];case 2:Q=He.sent(),He.label=3;case 3:return B=Q||n,le=t.onStore,le?[4,t.onStore(B,A)]:[3,5];case 4:le=He.sent(),He.label=5;case 5:return B=le||B,[4,e.store(B,t)];case 6:return R=He.sent(),O=n,[3,13];case 7:return[4,e.load(t)];case 8:return R=He.sent(),O=this.__clearKeys(R),ue=t.onLoad,ue?[4,t.onLoad(O,A)]:[3,10];case 9:ue=He.sent(),He.label=10;case 10:return O=ue||O,ke=b,ke?[4,b(O,A)]:[3,12];case 11:ke=He.sent(),He.label=12;case 12:O=ke||O,He.label=13;case 13:return this.onAfter(p,O,R),this.onEnd(p,O,R),[3,15];case 14:throw Be=He.sent(),this.onError(p,Be),Be;case 15:return[2,O]}})})},i.prototype.__clearKeys=function(e){e===void 0&&(e={});var t=this.getConfig(),n=new RegExp("^".concat(t.id)),a={};for(var p in e){var m=p.replace(n,"");a[m]=e[p]}return a},i.prototype.getCurrentOptions=function(e){var t=this.getConfig(),n=e||this.getCurrent();return t.options[n]||{}},i.prototype.onStart=function(e,t){var n=this.em;if(n){var a=e==="load"?Je.startLoad:Je.startStore;n.trigger(Je.start,e,t),n.trigger(a,t)}},i.prototype.onAfter=function(e,t,n){var a=this.em;if(a){var p=e==="load"?Je.afterLoad:Je.afterStore;a.trigger(Je.after),a.trigger(p,t,n);var m=e==="load"?Je.load:Je.store;a.trigger(m,t,n)}},i.prototype.onEnd=function(e,t,n){var a=this.em;if(a){var p=e==="load"?Je.endLoad:Je.endStore;a.trigger(Je.end,e,t,n),a.trigger(p,t,n)}},i.prototype.onError=function(e,t){var n=this.em;if(n){var a=e==="load"?Je.errorLoad:Je.errorStore;n.trigger(Je.error,t,e),n.trigger(a,t),this.onEnd(e,t)}},i.prototype.canAutoload=function(){var e=this.getCurrentStorage();return!!e&&!!this.config.autoload},i.prototype.destroy=function(){this.storages={}},i}(z);const br=Zt;var on={stylePrefix:"trt-",appendTo:"",optionsTarget:[{value:!1},{value:"_blank"}],custom:!1};const Zn=on;var gn=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ri=function(){return ri=Object.assign||function(u){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(u[n]=i[n])}return u},ri.apply(this,arguments)},Ci=function(u){gn(i,u);function i(e){e===void 0&&(e={});var t=u.call(this,e)||this;t.events={},t.appendInput=!0;var n=e.config,a=n===void 0?{}:n,p=t,m=p.model,y=p.eventCapture,b=m.target,O=m.attributes.type;t.config=a,t.em=a.em,t.pfx=a.stylePrefix||"",t.ppfx=a.pStylePrefix||"",t.target=b,t.className=t.pfx+"trait",t.clsField="".concat(t.ppfx,"field ").concat(t.ppfx,"field-").concat(O);var A=[["change:value",t.onValueChange],["remove",t.removeView]];return A.forEach(function(R){var B=R[0],Q=R[1];m.off(B,Q),t.listenTo(m,B,Q)}),m.view=t,t.listenTo(m,"change:label",t.render),t.listenTo(m,"change:placeholder",t.rerender),t.events={},y.forEach(function(R){return t.events[R]="onChange"}),t.delegateEvents(),t.init(),t}return i.prototype.attributes=function(){return this.model.get("attributes")||{}},i.prototype.templateLabel=function(e){var t=this.ppfx,n=this.getLabel();return'<div class="'.concat(t,'label" title="').concat(n,'">').concat(n,"</div>")},i.prototype.templateInput=function(e){var t=this.clsField;return'<div class="'.concat(t,'" data-input></div>')},i.prototype.getClbOpts=function(){return{component:this.target,trait:this.model,elInput:this.getInputElem()}},i.prototype.removeView=function(){this.remove(),this.removed()},i.prototype.init=function(){},i.prototype.removed=function(){},i.prototype.onRender=function(e){},i.prototype.onUpdate=function(e){},i.prototype.onEvent=function(e){},i.prototype.onChange=function(e){var t=this.getInputElem();t&&!(0,r.isUndefined)(t.value)&&this.model.set("value",t.value),this.onEvent(ri(ri({},this.getClbOpts()),{event:e}))},i.prototype.getValueForTarget=function(){return this.model.get("value")},i.prototype.setInputValue=function(e){var t=this.getInputElem();t&&(t.value=e)},i.prototype.onValueChange=function(e,t,n){if(n===void 0&&(n={}),n.fromTarget)this.setInputValue(e.get("value")),this.postUpdate();else{var a=this.getValueForTarget();e.setTargetValue(a,n)}},i.prototype.renderLabel=function(){var e=this,t=e.$el,n=e.target,a=this.getLabel(),p=this.templateLabel(n);this.createLabel&&(p=this.createLabel({label:a,component:n,trait:this})||""),t.find("[data-label]").append(p)},i.prototype.getLabel=function(){var e=this.em,t=this.model.attributes,n=t.label,a=t.name;return e.t("traitManager.traits.labels.".concat(a))||(0,o.capitalize)(n||a).replace(/-/g," ")},i.prototype.getComponent=function(){return this.target},i.prototype.getInputEl=function(){if(!this.$input){var e=this,t=e.em,n=e.model,a=n,p=n.attributes.name,m=a.get("placeholder")||a.get("default")||"",y=a.get("type")||"text",b=a.get("min"),O=a.get("max"),A=this.getModelValue(),R=(0,x.default)('<input type="'.concat(y,'">')),B=t.t("traitManager.traits.attributes.".concat(p))||{};R.attr(ri({placeholder:m},B)),(0,r.isUndefined)(A)||(a.set({value:A},{silent:!0}),R.prop("value",A)),b&&R.prop("min",b),O&&R.prop("max",O),this.$input=R}return this.$input.get(0)},i.prototype.getInputElem=function(){var e=this,t=e.input,n=e.$input;return t||n&&n.get&&n.get(0)||this.getElInput()},i.prototype.getModelValue=function(){return this.model.getValue()},i.prototype.getElInput=function(){return this.elInput},i.prototype.renderField=function(){var e=this,t=e.$el,n=e.appendInput,a=e.model,p=t.find("[data-input]"),m=p[p.length-1],y=a.el;y||(y=this.createInput?this.createInput(this.getClbOpts()):this.getInputEl()),(0,r.isString)(y)?(m.innerHTML=y,this.elInput=m.firstChild):(n?m.appendChild(y):m.insertBefore(y,m.firstChild),this.elInput=y),a.el=this.elInput},i.prototype.hasLabel=function(){var e=this.model.attributes.label;return!this.noLabel&&e!==!1},i.prototype.rerender=function(){delete this.model.el,this.render()},i.prototype.postUpdate=function(){this.onUpdate(this.getClbOpts())},i.prototype.render=function(){var e=this,t=e.$el,n=e.pfx,a=e.ppfx,p=e.model,m=p.attributes,y=m.type,b=m.id,O=this.hasLabel&&this.hasLabel(),A="".concat(n,"trait");delete this.$input;var R='<div class="'.concat(A," ").concat(A,"--").concat(y,`">
      `).concat(O?'<div class="'.concat(a,'label-wrp" data-label></div>'):"",`
      <div class="`).concat(a,"field-wrp ").concat(a,"field-wrp--").concat(y,`" data-input>
        `).concat(this.templateInput?(0,r.isFunction)(this.templateInput)?this.templateInput(this.getClbOpts()):this.templateInput:"",`
      </div>
    </div>`);return t.empty().append(R),O&&this.renderLabel(),this.renderField(),this.el.className="".concat(A,"__wrp ").concat(A,"__wrp-").concat(b),this.postUpdate(),this.onRender(this.getClbOpts()),this},i}(C.G7);const tn=Ci;Ci.prototype.eventCapture=["change"];var Mi=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),qn=function(u){Mi(i,u);function i(){return u!==null&&u.apply(this,arguments)||this}return i.prototype.templateInput=function(){return""},i.prototype.onChange=function(){this.handleClick()},i.prototype.handleClick=function(){this.model.runCommand()},i.prototype.renderLabel=function(){this.model.get("label")&&tn.prototype.renderLabel.apply(this)},i.prototype.getInputEl=function(){var e=this,t=e.model,n=e.ppfx,a=t.props(),p=a.labelButton,m=a.text,y=a.full,b=p||m,O="".concat(n,"btn"),A='<button type="button" class="'.concat(O,"-prim").concat(y?" ".concat(O,"--full"):"",'">').concat(b,"</button>");return A},i}(tn);const Bn=qn;qn.prototype.eventCapture=["click button"];var Nn=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),_n=function(u){Nn(i,u);function i(){var e=u!==null&&u.apply(this,arguments)||this;return e.appendInput=!1,e}return i.prototype.templateInput=function(){var e=this,t=e.ppfx,n=e.clsField;return'<label class="'.concat(n,`" data-input>
    <i class="`).concat(t,`chk-icon"></i>
  </label>`)},i.prototype.onChange=function(){this.model.set("value",this.getInputElem().checked)},i.prototype.setInputValue=function(e){var t=this.getInputElem();t&&(t.checked=!!e)},i.prototype.getInputEl=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=!this.$input,a=tn.prototype.getInputEl.apply(this,e);if(n){var p=void 0,m=void 0,y=this,b=y.model,O=y.target,A=b.attributes.valueFalse,R=b.getName();b.changeProp?(p=O.get(R),m=p):(m=O.get("attributes")[R],p=!!(m||m==="")),!(0,r.isUndefined)(A)&&m===A&&(p=!1),a.checked=p}return a},i}(tn);const Di=_n;function Bl(u,i){if(!(0,o.hasWin)())return;var e={beforeShow:B,move:B,change:B,show:B,hide:B,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},t=[],n=!!/msie/i.exec(window.navigator.userAgent),a=function(){function de(st,ht){return!!~(""+st).indexOf(ht)}var Ie=document.createElement("div"),oe=Ie.style;return oe.cssText="background-color:rgba(0,0,0,.5)",de(oe.backgroundColor,"rgba")||de(oe.backgroundColor,"hsla")}(),p=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),m=function(){var de="";if(n)for(var Ie=1;Ie<=6;Ie++)de+="<div class='sp-"+Ie+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",de,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}();function y(de,Ie,oe,st){for(var ht=[],Lt=0;Lt<de.length;Lt++){var mr=de[Lt];if(mr){var xr=Et(mr),ur=xr.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";ur+=Et.equals(Ie,mr)?" sp-thumb-active":"";var jn=xr.toString(st.preferredFormat||"rgb"),ii=a?"background-color:"+xr.toRgbString():"filter:"+xr.toFilter();ht.push('<span title="'+jn+'" data-color="'+xr.toRgbString()+'" class="'+ur+'"><span class="sp-thumb-inner" style="'+ii+';"></span></span>')}else{var Xn="sp-clear-display";ht.push(u("<div />").append(u('<span data-color="" style="background-color:transparent;" class="'+Xn+'"></span>').attr("title",st.noColorSelectedText)).html())}}return"<div class='sp-cf "+oe+"'>"+ht.join("")+"</div>"}function b(){for(var de=0;de<t.length;de++)t[de]&&t[de].hide()}function O(de,Ie){var oe=u.extend({},e,de);return oe.callbacks={move:le(oe.move,Ie),change:le(oe.change,Ie),show:le(oe.show,Ie),hide:le(oe.hide,Ie),beforeShow:le(oe.beforeShow,Ie)},oe}function A(de,Ie){var oe=O(Ie,de),st=oe.flat,ht=oe.showSelectionPalette,Lt=oe.localStorageKey,mr=oe.theme,xr=oe.callbacks,ur=ke(wc,10),jn=!1,ii=!1,Xn=!0,Ks=0,ha=0,as=0,xn=0,ss=0,zg=0,Wg=0,hc=0,vc=0,Fp=0,ls=1,$g=[],Vp=[],Kg={},us=oe.selectionPalette.slice(0),XN=oe.maxSelectionSize,BC="sp-dragging",Gl=null,Up=de.ownerDocument;Up.body;var oi=u(de),Bw=!1,Dr=u(m,Up).addClass(mr),JN=Dr.find(".sp-picker-container"),Gg=Dr.find(".sp-color"),Zg=Dr.find(".sp-dragger"),Hw=Dr.find(".sp-hue"),qg=Dr.find(".sp-slider"),Bp=Dr.find(".sp-alpha-inner"),HC=Dr.find(".sp-alpha"),Yg=Dr.find(".sp-alpha-handle"),cs=Dr.find(".sp-input"),zC=Dr.find(".sp-palette"),WC=Dr.find(".sp-initial"),$C=Dr.find(".sp-cancel"),zw=Dr.find(".sp-clear"),KC=Dr.find(".sp-choose"),Ww=Dr.find(".sp-palette-toggle"),Xg=oi.is("input"),QN=Xg&&oi.attr("type")==="color"&&Be(),$w=Xg&&!st,zf=$w?u(p).addClass(mr).addClass(oe.className).addClass(oe.replacerClassName):u([]),Hp=$w?zf:oi,Wf=zf.find(".sp-preview-inner"),zp=oe.color||Xg&&oi.val(),$f=!1,Kf=oe.preferredFormat,e2=!oe.showButtons||oe.clickoutFiresChange,Zl=!zp,gc=oe.allowEmpty&&!QN;function Kw(){if(oe.showPaletteOnly&&(oe.showPalette=!0),Ww.text(oe.showPaletteOnly?oe.togglePaletteMoreText:oe.togglePaletteLessText),oe.palette){$g=oe.palette.slice(0),Vp=u.isArray($g[0])?$g:[$g],Kg={};for(var or=0;or<Vp.length;or++)for(var lr=0;lr<Vp[or].length;lr++){var Qr=Et(Vp[or][lr]).toRgbString();Kg[Qr]=!0}}Dr.toggleClass("sp-flat",st),Dr.toggleClass("sp-input-disabled",!oe.showInput),Dr.toggleClass("sp-alpha-enabled",oe.showAlpha),Dr.toggleClass("sp-clear-enabled",gc),Dr.toggleClass("sp-buttons-disabled",!oe.showButtons),Dr.toggleClass("sp-palette-buttons-disabled",!oe.togglePaletteOnly),Dr.toggleClass("sp-palette-disabled",!oe.showPalette),Dr.toggleClass("sp-palette-only",oe.showPaletteOnly),Dr.toggleClass("sp-initial-disabled",!oe.showInitial),Dr.addClass(oe.className).addClass(oe.containerClassName),wc()}function t2(){if(n&&Dr.find("*:not(input)").attr("unselectable","on"),Kw(),$w&&oi.after(zf).hide(),gc||zw.hide(),st)oi.after(Dr).hide();else{var or=oe.appendTo==="parent"?oi.parent():u(oe.appendTo);or.length!==1&&(or=u("body")),or.append(Dr)}GC(),Hp.bind("click.spectrum touchstart.spectrum",function(_r){Bw||YC(),_r.stopPropagation(),u(_r.target).is("input")||_r.preventDefault()}),(oi.is(":disabled")||oe.disabled===!0)&&t1(),Dr.click(Q),cs.change(Yw),cs.bind("paste",function(){setTimeout(Yw,1)}),cs.keydown(function(_r){_r.keyCode==13&&Yw()}),$C.text(oe.cancelText),$C.bind("click.spectrum",function(_r){_r.stopPropagation(),_r.preventDefault(),QC(),ql()}),zw.attr("title",oe.clearText),zw.bind("click.spectrum",function(_r){_r.stopPropagation(),_r.preventDefault(),Zl=!0,Gf(),st&&yc(!0)}),KC.text(oe.chooseText),KC.bind("click.spectrum",function(_r){_r.stopPropagation(),_r.preventDefault(),n&&cs.is(":focus")&&cs.trigger("change"),n2()&&(yc(!0),ql())}),Ww.text(oe.showPaletteOnly?oe.togglePaletteMoreText:oe.togglePaletteLessText),Ww.bind("click.spectrum",function(_r){_r.stopPropagation(),_r.preventDefault(),oe.showPaletteOnly=!oe.showPaletteOnly,!oe.showPaletteOnly&&!st&&Dr.css("left","-="+(JN.outerWidth(!0)+5)),Kw()}),ue(HC,function(_r,va,_c){ls=_r/ss,Zl=!1,_c.shiftKey&&(ls=Math.round(ls*10)/10),Gf()},Zw,qw),ue(Hw,function(_r,va){hc=parseFloat(va/xn),Zl=!1,oe.showAlpha||(ls=1),Gf()},Zw,qw),ue(Gg,function(_r,va,_c){if(!_c.shiftKey)Gl=null;else if(!Gl){var Qg=vc*Ks,Wp=ha-Fp*ha,$p=Math.abs(_r-Qg)>Math.abs(va-Wp);Gl=$p?"x":"y"}var l2=!Gl||Gl==="x",u2=!Gl||Gl==="y";l2&&(vc=parseFloat(_r/Ks)),u2&&(Fp=parseFloat((ha-va)/ha)),Zl=!1,oe.showAlpha||(ls=1),Gf()},Zw,qw),zp?(mc(zp),Zf(),Kf=oe.preferredFormat||Et(zp).getFormat(),Gw(zp)):Zf(),st&&Xw();function lr(_r){return _r.data&&_r.data.ignore?(mc(u(_r.target).closest(".sp-thumb-el").data("color")),Gf()):(mc(u(_r.target).closest(".sp-thumb-el").data("color")),Gf(),oe.hideAfterPaletteSelect&&(yc(!0),ql())),!1}var Qr=n?"mousedown.spectrum":"click.spectrum touchstart.spectrum";zC.delegate(".sp-thumb-el",Qr,lr),WC.delegate(".sp-thumb-el:nth-child(1)",Qr,{ignore:!0},lr)}function GC(){if(Lt&&window.localStorage){try{var or=window.localStorage[Lt].split(",#");or.length>1&&(delete window.localStorage[Lt],u.each(or,function(lr,Qr){Gw(Qr)}))}catch{}try{us=window.localStorage[Lt].split(";")}catch{}}}function Gw(or){if(ht){var lr=Et(or).toRgbString();if(!Kg[lr]&&u.inArray(lr,us)===-1)for(us.push(lr);us.length>XN;)us.shift();if(Lt&&window.localStorage)try{window.localStorage[Lt]=us.join(";")}catch{}}}function r2(){var or=[];if(oe.showPalette)for(var lr=0;lr<us.length;lr++){var Qr=Et(us[lr]).toRgbString();Kg[Qr]||or.push(us[lr])}return or.reverse().slice(0,oe.maxSelectionSize)}function ZC(){var or=Qi(),lr=u.map(Vp,function(Qr,_r){return y(Qr,or,"sp-palette-row sp-palette-row-"+_r,oe)});GC(),us&&lr.push(y(r2(),or,"sp-palette-row sp-palette-row-selection",oe)),zC.html(lr.join(""))}function qC(){if(oe.showInitial){var or=$f,lr=Qi();WC.html(y([or,lr],lr,"sp-palette-row-initial",oe))}}function Zw(){(ha<=0||Ks<=0||xn<=0)&&wc(),ii=!0,Dr.addClass(BC),Gl=null,oi.trigger("dragstart.spectrum",[Qi()])}function qw(){ii=!1,Dr.removeClass(BC),oi.trigger("dragstop.spectrum",[Qi()])}function Yw(){var or=cs.val();if((or===null||or==="")&&gc)mc(null),yc(!0);else{var lr=Et(or);lr.isValid()?(mc(lr),yc(!0)):cs.addClass("sp-validation-error")}}function YC(){jn?ql():Xw()}function Xw(){var or=u.Event("beforeShow.spectrum");if(jn){wc();return}if(oi.trigger("beforeShow.spectrum",[Qi()]),!(xr.beforeShow(Qi())===!1||or.isDefaultPrevented())){b(),jn=!0;var lr=u(Up);lr.bind("keydown.spectrum",XC),lr.bind("click.spectrum",JC),u(window).bind("resize.spectrum",ur),zf.addClass("sp-active"),Dr.removeClass("sp-hidden"),wc(),Zf(),$f=Qi(),qC(),xr.show($f),oi.trigger("show.spectrum",[$f])}}function XC(or){or.keyCode===27&&ql()}function JC(or){or.button!=2&&(ii||(e2?yc(!0):QC(),ql()))}function ql(){!jn||st||(jn=!1,u(Up).unbind("keydown.spectrum",XC),u(Up).unbind("click.spectrum",JC),u(window).unbind("resize.spectrum",ur),zf.removeClass("sp-active"),Dr.addClass("sp-hidden"),xr.hide(Qi()),oi.trigger("hide.spectrum",[Qi()]))}function QC(){mc($f,!0)}function mc(or,lr){if(Et.equals(or,Qi())){Zf();return}var Qr,_r;!or&&gc?Zl=!0:(Zl=!1,Xn=!or,Qr=Et(or),_r=Qr.toHsv(),hc=_r.h%360/360,vc=_r.s,Fp=_r.v,ls=_r.a),Zf(),Qr&&Qr.isValid()&&!lr&&(Kf=oe.preferredFormat||Qr.getFormat())}function Qi(or){return or=or||{},gc&&Zl?null:Et.fromRatio({h:hc,s:vc,v:Fp,a:Math.round(ls*100)/100},{format:or.format||Kf})}function n2(){return!cs.hasClass("sp-validation-error")}function Gf(){Zf(),xr.move(Qi()),oi.trigger("move.spectrum",[Qi()])}function Zf(){cs.removeClass("sp-validation-error"),e1();var or=Et.fromRatio({h:hc,s:1,v:1});Gg.css("background-color",or.toHexString());var lr=Kf;ls<1&&!(ls===0&&lr==="name")&&(lr==="hex"||lr==="hex3"||lr==="hex6"||lr==="name")&&(lr="rgb");var Qr=Qi({format:lr}),_r="";if(Wf.removeClass("sp-clear-display"),Wf.css("background-color","transparent"),!Qr&&gc)Wf.addClass("sp-clear-display");else{var va=Qr.toHexString(),_c=Qr.toRgbString();if(a||Qr.alpha===1?Wf.css("background-color",_c):(Wf.css("background-color","transparent"),Wf.css("filter",Qr.toFilter())),oe.showAlpha){var Qg=Qr.toRgb();Qg.a=0;var Wp=Et(Qg).toRgbString(),$p="linear-gradient(left, "+Wp+", "+va+")";n?Bp.css("filter",Et(Wp).toFilter({gradientType:1},va)):(Bp.css("background","-webkit-"+$p),Bp.css("background","-moz-"+$p),Bp.css("background","-ms-"+$p),Bp.css("background","linear-gradient(to right, "+Wp+", "+va+")"))}_r=Qr.toString(lr)}oe.showInput&&cs.val(_r),oe.showPalette&&ZC(),qC()}function e1(){var or=vc,lr=Fp;if(gc&&Zl)Yg.hide(),qg.hide(),Zg.hide();else{Yg.show(),qg.show(),Zg.show();var Qr=or*Ks,_r=ha-lr*ha;Qr=Math.max(-as,Math.min(Ks-as,Qr-as)),_r=Math.max(-as,Math.min(ha-as,_r-as)),Zg.css({top:_r+"px",left:Qr+"px"});var va=ls*ss;Yg.css({left:va-zg/2+"px"});var _c=hc*xn;qg.css({top:_c-Wg+"px"})}}function yc(or){var lr=Qi(),Qr="",_r=Xn?!0:!Et.equals(lr,$f);lr&&(Qr=lr.toString(Kf),!jn&&Gw(lr)),Xg&&oi.val(Qr),or&&_r&&(xr.change(lr),oi.trigger("change",[lr]))}function wc(){jn&&(Ks=Gg.width(),ha=Gg.height(),as=Zg.height(),Hw.width(),xn=Hw.height(),Wg=qg.height(),ss=HC.width(),zg=Yg.width(),st||(Dr.css("position","absolute"),oe.offset?Dr.offset(oe.offset):Dr.offset(R(Dr,Hp))),e1(),oe.showPalette&&ZC(),oi.trigger("reflow.spectrum"))}function i2(){oi.show(),Hp.unbind("click.spectrum touchstart.spectrum"),Dr.remove(),zf.remove(),t[Jg.id]=null}function o2(or,lr){if(or===i)return u.extend({},oe);if(lr===i)return oe[or];oe[or]=lr,or==="preferredFormat"&&(Kf=oe.preferredFormat),Kw()}function a2(){Bw=!1,oi.attr("disabled",!1),Hp.removeClass("sp-disabled")}function t1(){ql(),Bw=!0,oi.attr("disabled",!0),Hp.addClass("sp-disabled")}function s2(or){oe.offset=or,wc()}t2();var Jg={show:Xw,hide:ql,toggle:YC,reflow:wc,option:o2,enable:a2,disable:t1,offset:s2,set:function(or){mc(or),yc()},get:Qi,destroy:i2,container:Dr};return Jg.id=t.push(Jg)-1,Jg}function R(de,Ie){for(var oe=Ie[0],st=de[0],ht=st.parentElement,Lt=oe.getBoundingClientRect(),mr=st.offsetWidth,xr=st.offsetHeight,ur={top:0,left:0,width:oe.offsetWidth,height:oe.offsetHeight};oe&&(ur.top+=oe.offsetTop-oe.scrollTop,ur.left+=oe.offsetLeft-oe.scrollLeft,!(oe===ht||!ht.contains(oe.offsetParent)));)oe=oe.offsetParent;return Lt.right+mr>window.innerWidth-window.scrollX&&Lt.right-mr>0&&(ur.left-=mr-ur.width),Lt.bottom+xr<window.innerHeight-window.scrollY?ur.top+=ur.height:ur.top-=xr,ur}function B(){}function Q(de){de.stopPropagation()}function le(de,Ie){var oe=Array.prototype.slice,st=oe.call(arguments,2);return function(){return de.apply(Ie,st.concat(oe.call(arguments)))}}function ue(de,Ie,oe,st){Ie=Ie||function(){},oe=oe||function(){},st=st||function(){};var ht=document,Lt=!1,mr={},xr=0,ur=0,jn="ontouchstart"in window,ii={};ii.selectstart=Xn,ii.dragstart=Xn,ii["touchmove mousemove"]=Ks,ii["touchend mouseup"]=as;function Xn(xn){xn.stopPropagation&&xn.stopPropagation(),xn.preventDefault&&xn.preventDefault(),xn.returnValue=!1}function Ks(xn){if(Lt){if(n&&ht.documentMode<9&&!xn.button)return as();var ss=xn&&xn.touches&&xn.touches[0],zg=ss&&ss.pageX||xn.pageX,Wg=ss&&ss.pageY||xn.pageY,hc=Math.max(0,Math.min(zg-mr.left,ur)),vc=Math.max(0,Math.min(Wg-mr.top,xr));jn&&Xn(xn),Ie.apply(de,[hc,vc,xn])}}function ha(xn){var ss=xn.which?xn.which==3:xn.button==2;!ss&&!Lt&&oe.apply(de,arguments)!==!1&&(Lt=!0,xr=u(de).height(),ur=u(de).width(),mr=u(de).offset(),u(ht).bind(ii),u(ht.body).addClass("sp-dragging"),Ks(xn),Xn(xn))}function as(){Lt&&(u(ht).unbind(ii),u(ht.body).removeClass("sp-dragging"),setTimeout(function(){st.apply(de,arguments)},0)),Lt=!1}u(de).bind("touchstart mousedown",ha)}function ke(de,Ie,oe){var st;return function(){var ht=this,Lt=arguments,mr=function(){st=null,de.apply(ht,Lt)};st||(st=setTimeout(mr,Ie))}}function Be(){return u.fn.spectrum.inputTypeColorSupport()}var He="spectrum.id";u.fn.spectrum=function(de,Ie){if(typeof de=="string"){var oe=this,st=Array.prototype.slice.call(arguments,1);return this.each(function(){var ht=t[u(this).data(He)];if(ht){var Lt=ht[de];if(!Lt)throw new Error("Spectrum: no such method: '"+de+"'");de=="get"?oe=ht.get():de=="container"?oe=ht.container:de=="option"?oe=ht.option.apply(ht,st):de=="destroy"?(ht.destroy(),u(this).removeData(He)):Lt.apply(ht,st)}}),oe}return this.spectrum("destroy").each(function(){var ht=u.extend({},de,u(this).data()),Lt=A(this,ht);u(this).data(He,Lt.id)})},u.fn.spectrum.load=!0,u.fn.spectrum.loadOpts={},u.fn.spectrum.draggable=ue,u.fn.spectrum.defaults=e,u.fn.spectrum.inputTypeColorSupport=function de(){if(typeof de._cachedResult>"u"){var Ie=u("<input type='color'/>")[0];de._cachedResult=Ie.type==="color"&&Ie.value!==""}return de._cachedResult},u.spectrum={},u.spectrum.localization={},u.spectrum.palettes={},u.fn.spectrum.processNativeColorInputs=function(){var de=u("input[type=color]");de.length&&!Be()&&de.spectrum({preferredFormat:"hex6"})};var ot=/^[\s,#]+/,Ot=/\s+$/,Gt=0,er=Math,ft=er.round,Jt=er.min,cr=er.max,qr=er.random,Et=function(de,Ie){if(de=de||"",Ie=Ie||{},de instanceof Et)return de;if(!(this instanceof Et))return new Et(de,Ie);var oe=Ji(de);this._originalInput=de,this._r=oe.r,this._g=oe.g,this._b=oe.b,this._a=oe.a,this._roundA=ft(100*this._a)/100,this._format=Ie.format||oe.format,this._gradientType=Ie.gradientType,this._r<1&&(this._r=ft(this._r)),this._g<1&&(this._g=ft(this._g)),this._b<1&&(this._b=ft(this._b)),this._ok=oe.ok,this._tc_id=Gt++};Et.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var de=this.toRgb();return(de.r*299+de.g*587+de.b*114)/1e3},setAlpha:function(de){return this._a=UC(de),this._roundA=ft(100*this._a)/100,this},toHsv:function(){var de=is(this._r,this._g,this._b);return{h:de.h*360,s:de.s,v:de.v,a:this._a}},toHsvString:function(){var de=is(this._r,this._g,this._b),Ie=ft(de.h*360),oe=ft(de.s*100),st=ft(de.v*100);return this._a==1?"hsv("+Ie+", "+oe+"%, "+st+"%)":"hsva("+Ie+", "+oe+"%, "+st+"%, "+this._roundA+")"},toHsl:function(){var de=Bf(this._r,this._g,this._b);return{h:de.h*360,s:de.s,l:de.l,a:this._a}},toHslString:function(){var de=Bf(this._r,this._g,this._b),Ie=ft(de.h*360),oe=ft(de.s*100),st=ft(de.l*100);return this._a==1?"hsl("+Ie+", "+oe+"%, "+st+"%)":"hsla("+Ie+", "+oe+"%, "+st+"%, "+this._roundA+")"},toHex:function(de){return dc(this._r,this._g,this._b,de)},toHexString:function(de){return"#"+this.toHex(de)},toHex8:function(){return $l(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:ft(this._r),g:ft(this._g),b:ft(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+ft(this._r)+", "+ft(this._g)+", "+ft(this._b)+")":"rgba("+ft(this._r)+", "+ft(this._g)+", "+ft(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:ft(An(this._r,255)*100)+"%",g:ft(An(this._g,255)*100)+"%",b:ft(An(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+ft(An(this._r,255)*100)+"%, "+ft(An(this._g,255)*100)+"%, "+ft(An(this._b,255)*100)+"%)":"rgba("+ft(An(this._r,255)*100)+"%, "+ft(An(this._g,255)*100)+"%, "+ft(An(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:WN[dc(this._r,this._g,this._b,!0)]||!1},toFilter:function(de){var Ie="#"+$l(this._r,this._g,this._b,this._a),oe=Ie,st=this._gradientType?"GradientType = 1, ":"";if(de){var ht=Et(de);oe=ht.toHex8String()}return"progid:DXImageTransform.Microsoft.gradient("+st+"startColorstr="+Ie+",endColorstr="+oe+")"},toString:function(de){var Ie=!!de;de=de||this._format;var oe=!1,st=this._a<1&&this._a>=0,ht=!Ie&&st&&(de==="hex"||de==="hex6"||de==="hex3"||de==="name");return ht?de==="name"&&this._a===0?this.toName():this.toRgbString():(de==="rgb"&&(oe=this.toRgbString()),de==="prgb"&&(oe=this.toPercentageRgbString()),(de==="hex"||de==="hex6")&&(oe=this.toHexString()),de==="hex3"&&(oe=this.toHexString(!0)),de==="hex8"&&(oe=this.toHex8String()),de==="name"&&(oe=this.toName()),de==="hsl"&&(oe=this.toHslString()),de==="hsv"&&(oe=this.toHsvString()),oe||this.toHexString())},_applyModification:function(de,Ie){var oe=de.apply(null,[this].concat([].slice.call(Ie)));return this._r=oe._r,this._g=oe._g,this._b=oe._b,this.setAlpha(oe._a),this},lighten:function(){return this._applyModification(RN,arguments)},brighten:function(){return this._applyModification(NN,arguments)},darken:function(){return this._applyModification(jN,arguments)},desaturate:function(){return this._applyModification(Kl,arguments)},saturate:function(){return this._applyModification(MN,arguments)},greyscale:function(){return this._applyModification(DN,arguments)},spin:function(){return this._applyModification(IN,arguments)},_applyCombination:function(de,Ie){return de.apply(null,[this].concat([].slice.call(Ie)))},analogous:function(){return this._applyCombination(HN,arguments)},complement:function(){return this._applyCombination(FN,arguments)},monochromatic:function(){return this._applyCombination(zN,arguments)},splitcomplement:function(){return this._applyCombination(BN,arguments)},triad:function(){return this._applyCombination(VN,arguments)},tetrad:function(){return this._applyCombination(UN,arguments)}},Et.fromRatio=function(de,Ie){if(typeof de=="object"){var oe={};for(var st in de)de.hasOwnProperty(st)&&(st==="a"?oe[st]=de[st]:oe[st]=Ip(de[st]));de=oe}return Et(de,Ie)};function Ji(de){var Ie={r:0,g:0,b:0},oe=1,st=!1,ht=!1;return typeof de=="string"&&(de=YN(de)),typeof de=="object"&&(de.hasOwnProperty("r")&&de.hasOwnProperty("g")&&de.hasOwnProperty("b")?(Ie=jp(de.r,de.g,de.b),st=!0,ht=String(de.r).substr(-1)==="%"?"prgb":"rgb"):de.hasOwnProperty("h")&&de.hasOwnProperty("s")&&de.hasOwnProperty("v")?(de.s=Ip(de.s),de.v=Ip(de.v),Ie=fc(de.h,de.s,de.v),st=!0,ht="hsv"):de.hasOwnProperty("h")&&de.hasOwnProperty("s")&&de.hasOwnProperty("l")&&(de.s=Ip(de.s),de.l=Ip(de.l),Ie=Hf(de.h,de.s,de.l),st=!0,ht="hsl"),de.hasOwnProperty("a")&&(oe=de.a)),oe=UC(oe),{ok:st,format:de.format||ht,r:Jt(255,cr(Ie.r,0)),g:Jt(255,cr(Ie.g,0)),b:Jt(255,cr(Ie.b,0)),a:oe}}function jp(de,Ie,oe){return{r:An(de,255)*255,g:An(Ie,255)*255,b:An(oe,255)*255}}function Bf(de,Ie,oe){de=An(de,255),Ie=An(Ie,255),oe=An(oe,255);var st=cr(de,Ie,oe),ht=Jt(de,Ie,oe),Lt,mr,xr=(st+ht)/2;if(st==ht)Lt=mr=0;else{var ur=st-ht;switch(mr=xr>.5?ur/(2-st-ht):ur/(st+ht),st){case de:Lt=(Ie-oe)/ur+(Ie<oe?6:0);break;case Ie:Lt=(oe-de)/ur+2;break;case oe:Lt=(de-Ie)/ur+4;break}Lt/=6}return{h:Lt,s:mr,l:xr}}function Hf(de,Ie,oe){var st,ht,Lt;de=An(de,360),Ie=An(Ie,100),oe=An(oe,100);function mr(jn,ii,Xn){return Xn<0&&(Xn+=1),Xn>1&&(Xn-=1),Xn<1/6?jn+(ii-jn)*6*Xn:Xn<1/2?ii:Xn<2/3?jn+(ii-jn)*(2/3-Xn)*6:jn}if(Ie===0)st=ht=Lt=oe;else{var xr=oe<.5?oe*(1+Ie):oe+Ie-oe*Ie,ur=2*oe-xr;st=mr(ur,xr,de+1/3),ht=mr(ur,xr,de),Lt=mr(ur,xr,de-1/3)}return{r:st*255,g:ht*255,b:Lt*255}}function is(de,Ie,oe){de=An(de,255),Ie=An(Ie,255),oe=An(oe,255);var st=cr(de,Ie,oe),ht=Jt(de,Ie,oe),Lt,mr,xr=st,ur=st-ht;if(mr=st===0?0:ur/st,st==ht)Lt=0;else{switch(st){case de:Lt=(Ie-oe)/ur+(Ie<oe?6:0);break;case Ie:Lt=(oe-de)/ur+2;break;case oe:Lt=(de-Ie)/ur+4;break}Lt/=6}return{h:Lt,s:mr,v:xr}}function fc(de,Ie,oe){de=An(de,360)*6,Ie=An(Ie,100),oe=An(oe,100);var st=er.floor(de),ht=de-st,Lt=oe*(1-Ie),mr=oe*(1-ht*Ie),xr=oe*(1-(1-ht)*Ie),ur=st%6,jn=[oe,mr,Lt,Lt,xr,oe][ur],ii=[xr,oe,oe,mr,Lt,Lt][ur],Xn=[Lt,Lt,xr,oe,oe,mr][ur];return{r:jn*255,g:ii*255,b:Xn*255}}function dc(de,Ie,oe,st){var ht=[pc(ft(de).toString(16)),pc(ft(Ie).toString(16)),pc(ft(oe).toString(16))];return st&&ht[0].charAt(0)==ht[0].charAt(1)&&ht[1].charAt(0)==ht[1].charAt(1)&&ht[2].charAt(0)==ht[2].charAt(1)?ht[0].charAt(0)+ht[1].charAt(0)+ht[2].charAt(0):ht.join("")}function $l(de,Ie,oe,st){var ht=[pc(ZN(st)),pc(ft(de).toString(16)),pc(ft(Ie).toString(16)),pc(ft(oe).toString(16))];return ht.join("")}Et.equals=function(de,Ie){return!de||!Ie?!1:Et(de).toRgbString()==Et(Ie).toRgbString()},Et.random=function(){return Et.fromRatio({r:qr(),g:qr(),b:qr()})};function Kl(de,Ie){Ie=Ie===0?0:Ie||10;var oe=Et(de).toHsl();return oe.s-=Ie/100,oe.s=Hg(oe.s),Et(oe)}function MN(de,Ie){Ie=Ie===0?0:Ie||10;var oe=Et(de).toHsl();return oe.s+=Ie/100,oe.s=Hg(oe.s),Et(oe)}function DN(de){return Et(de).desaturate(100)}function RN(de,Ie){Ie=Ie===0?0:Ie||10;var oe=Et(de).toHsl();return oe.l+=Ie/100,oe.l=Hg(oe.l),Et(oe)}function NN(de,Ie){Ie=Ie===0?0:Ie||10;var oe=Et(de).toRgb();return oe.r=cr(0,Jt(255,oe.r-ft(255*-(Ie/100)))),oe.g=cr(0,Jt(255,oe.g-ft(255*-(Ie/100)))),oe.b=cr(0,Jt(255,oe.b-ft(255*-(Ie/100)))),Et(oe)}function jN(de,Ie){Ie=Ie===0?0:Ie||10;var oe=Et(de).toHsl();return oe.l-=Ie/100,oe.l=Hg(oe.l),Et(oe)}function IN(de,Ie){var oe=Et(de).toHsl(),st=(ft(oe.h)+Ie)%360;return oe.h=st<0?360+st:st,Et(oe)}function FN(de){var Ie=Et(de).toHsl();return Ie.h=(Ie.h+180)%360,Et(Ie)}function VN(de){var Ie=Et(de).toHsl(),oe=Ie.h;return[Et(de),Et({h:(oe+120)%360,s:Ie.s,l:Ie.l}),Et({h:(oe+240)%360,s:Ie.s,l:Ie.l})]}function UN(de){var Ie=Et(de).toHsl(),oe=Ie.h;return[Et(de),Et({h:(oe+90)%360,s:Ie.s,l:Ie.l}),Et({h:(oe+180)%360,s:Ie.s,l:Ie.l}),Et({h:(oe+270)%360,s:Ie.s,l:Ie.l})]}function BN(de){var Ie=Et(de).toHsl(),oe=Ie.h;return[Et(de),Et({h:(oe+72)%360,s:Ie.s,l:Ie.l}),Et({h:(oe+216)%360,s:Ie.s,l:Ie.l})]}function HN(de,Ie,oe){Ie=Ie||6,oe=oe||30;var st=Et(de).toHsl(),ht=360/oe,Lt=[Et(de)];for(st.h=(st.h-(ht*Ie>>1)+720)%360;--Ie;)st.h=(st.h+ht)%360,Lt.push(Et(st));return Lt}function zN(de,Ie){Ie=Ie||6;for(var oe=Et(de).toHsv(),st=oe.h,ht=oe.s,Lt=oe.v,mr=[],xr=1/Ie;Ie--;)mr.push(Et({h:st,s:ht,v:Lt})),Lt=(Lt+xr)%1;return mr}Et.mix=function(de,Ie,oe){oe=oe===0?0:oe||50;var st=Et(de).toRgb(),ht=Et(Ie).toRgb(),Lt=oe/100,mr=Lt*2-1,xr=ht.a-st.a,ur;mr*xr==-1?ur=mr:ur=(mr+xr)/(1+mr*xr),ur=(ur+1)/2;var jn=1-ur,ii={r:ht.r*ur+st.r*jn,g:ht.g*ur+st.g*jn,b:ht.b*ur+st.b*jn,a:ht.a*Lt+st.a*(1-Lt)};return Et(ii)},Et.readability=function(de,Ie){var oe=Et(de),st=Et(Ie),ht=oe.toRgb(),Lt=st.toRgb(),mr=oe.getBrightness(),xr=st.getBrightness(),ur=Math.max(ht.r,Lt.r)-Math.min(ht.r,Lt.r)+Math.max(ht.g,Lt.g)-Math.min(ht.g,Lt.g)+Math.max(ht.b,Lt.b)-Math.min(ht.b,Lt.b);return{brightness:Math.abs(mr-xr),color:ur}},Et.isReadable=function(de,Ie){var oe=Et.readability(de,Ie);return oe.brightness>125&&oe.color>500},Et.mostReadable=function(de,Ie){for(var oe=null,st=0,ht=!1,Lt=0;Lt<Ie.length;Lt++){var mr=Et.readability(de,Ie[Lt]),xr=mr.brightness>125&&mr.color>500,ur=3*(mr.brightness/125)+mr.color/500;(xr&&!ht||xr&&ht&&ur>st||!xr&&!ht&&ur>st)&&(ht=xr,st=ur,oe=Et(Ie[Lt]))}return oe};var Uw=Et.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},WN=Et.hexNames=$N(Uw);function $N(de){var Ie={};for(var oe in de)de.hasOwnProperty(oe)&&(Ie[de[oe]]=oe);return Ie}function UC(de){return de=parseFloat(de),(isNaN(de)||de<0||de>1)&&(de=1),de}function An(de,Ie){KN(de)&&(de="100%");var oe=GN(de);return de=Jt(Ie,cr(0,parseFloat(de))),oe&&(de=parseInt(de*Ie,10)/100),er.abs(de-Ie)<1e-6?1:de%Ie/parseFloat(Ie)}function Hg(de){return Jt(1,cr(0,de))}function os(de){return parseInt(de,16)}function KN(de){return typeof de=="string"&&de.indexOf(".")!=-1&&parseFloat(de)===1}function GN(de){return typeof de=="string"&&de.indexOf("%")!=-1}function pc(de){return de.length==1?"0"+de:""+de}function Ip(de){return de<=1&&(de=de*100+"%"),de}function ZN(de){return Math.round(parseFloat(de)*255).toString(16)}function qN(de){return os(de)/255}var $s=function(){var de="[-\\+]?\\d+%?",Ie="[-\\+]?\\d*\\.\\d+%?",oe="(?:"+Ie+")|(?:"+de+")",st="[\\s|\\(]+("+oe+")[,|\\s]+("+oe+")[,|\\s]+("+oe+")\\s*\\)?",ht="[\\s|\\(]+("+oe+")[,|\\s]+("+oe+")[,|\\s]+("+oe+")[,|\\s]+("+oe+")\\s*\\)?";return{rgb:new RegExp("rgb"+st),rgba:new RegExp("rgba"+ht),hsl:new RegExp("hsl"+st),hsla:new RegExp("hsla"+ht),hsv:new RegExp("hsv"+st),hsva:new RegExp("hsva"+ht),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function YN(de){de=de.replace(ot,"").replace(Ot,"").toLowerCase();var Ie=!1;if(Uw[de])de=Uw[de],Ie=!0;else if(de=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var oe;return(oe=$s.rgb.exec(de))?{r:oe[1],g:oe[2],b:oe[3]}:(oe=$s.rgba.exec(de))?{r:oe[1],g:oe[2],b:oe[3],a:oe[4]}:(oe=$s.hsl.exec(de))?{h:oe[1],s:oe[2],l:oe[3]}:(oe=$s.hsla.exec(de))?{h:oe[1],s:oe[2],l:oe[3],a:oe[4]}:(oe=$s.hsv.exec(de))?{h:oe[1],s:oe[2],v:oe[3]}:(oe=$s.hsva.exec(de))?{h:oe[1],s:oe[2],v:oe[3],a:oe[4]}:(oe=$s.hex8.exec(de))?{a:qN(oe[1]),r:os(oe[2]),g:os(oe[3]),b:os(oe[4]),format:Ie?"name":"hex8"}:(oe=$s.hex6.exec(de))?{r:os(oe[1]),g:os(oe[2]),b:os(oe[3]),format:Ie?"name":"hex"}:(oe=$s.hex3.exec(de))?{r:os(oe[1]+""+oe[1]),g:os(oe[2]+""+oe[2]),b:os(oe[3]+""+oe[3]),format:Ie?"name":"hex"}:!1}window.tinycolor=Et,u(function(){u.fn.spectrum.load&&u.fn.spectrum.processNativeColorInputs()})}var ts=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ni=function(u){ts(i,u);function i(e){e===void 0&&(e={});var t=u.call(this,e)||this,n=e.ppfx||"";return t.opts=e,t.ppfx=n,t.em=e.target||{},!e.onChange&&t.listenTo(t.model,"change:value",t.handleModelChange),t}return i.prototype.template=function(){return'<span class="'.concat(this.holderClass(),'"></span>')},i.prototype.inputClass=function(){return"".concat(this.ppfx,"field")},i.prototype.holderClass=function(){return"".concat(this.ppfx,"input-holder")},i.prototype.elementUpdated=function(){this.model.trigger("el:change")},i.prototype.setValue=function(e,t){var n=this.model,a=e||n.get("defaults"),p=this.getInputEl();p&&(p.value=a)},i.prototype.handleModelChange=function(e,t,n){this.setValue(t,n)},i.prototype.handleChange=function(e){e.stopPropagation();var t=this.getInputEl().value;this.__onInputChange(t),this.elementUpdated()},i.prototype.__onInputChange=function(e){this.model.set({value:e},{fromInput:1})},i.prototype.getInputEl=function(){if(!this.inputEl){var e=this,t=e.model,n=e.opts,a=n.type||"text",p=t.get("placeholder")||t.get("defaults")||t.get("default")||"";this.inputEl=(0,x.default)('<input type="'.concat(a,'" placeholder="').concat(p,'">'))}return this.inputEl.get(0)},i.prototype.render=function(){this.inputEl=null;var e=this.$el;return e.addClass(this.inputClass()),e.html(this.template()),e.find(".".concat(this.holderClass())).append(this.getInputEl()),this},i}(C.G7);const Zi=ni;ni.prototype.events={change:"handleChange"};var Yn=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Us=function(){return Us=Object.assign||function(u){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(u[n]=i[n])}return u},Us.apply(this,arguments)};x.default&&Bl(x.default);var lo=function(u){var i=u.getFormat()==="name"&&u.toName(),e=u.getAlpha()==1?u.toHexString():u.toRgbString();return i||e.replace(/ /g,"")},Bs=function(u){Yn(i,u);function i(){return u!==null&&u.apply(this,arguments)||this}return i.prototype.template=function(){var e=this.ppfx;return`
      <div class="`.concat(this.holderClass(),`"></div>
      <div class="`).concat(e,`field-colorp">
        <div class="`).concat(e,`field-colorp-c" data-colorp-c>
          <div class="`).concat(e,`checker-bg"></div>
        </div>
      </div>
    `)},i.prototype.inputClass=function(){var e=this.ppfx;return"".concat(e,"field ").concat(e,"field-color")},i.prototype.holderClass=function(){return"".concat(this.ppfx,"input-holder")},i.prototype.remove=function(){return u.prototype.remove.call(this),this.colorEl.spectrum("destroy"),this},i.prototype.handleChange=function(e){e.stopPropagation();var t=e.target.value;(0,r.isUndefined)(t)||this.__onInputChange(t)},i.prototype.__onInputChange=function(e){var t=this,n=t.model,a=t.opts,p=a.onChange,m=e,y=this.getColorEl();if(y){y.spectrum("set",m);var b=y.spectrum("get"),O=m&&lo(b);O&&(m=O)}p?p(m):n.set({value:m},{fromInput:1})},i.prototype.setValue=function(e,t){t===void 0&&(t={});var n=this.model,a=(0,r.isUndefined)(t.def)?n.get("defaults"):t.def,p=(0,r.isUndefined)(e)?(0,r.isUndefined)(a)?"":a:e,m=this.getInputEl(),y=this.getColorEl(),b=p!="none"?p:"";m.value=p,y.get(0).style.backgroundColor=b,(t.fromTarget||t.fromInput&&!t.avoidStore)&&(y.spectrum("set",b),this.noneColor=p=="none",this.movedColor=b)},i.prototype.getColorEl=function(){var e=this;if(!this.colorEl){var t=this,n=t.em,a=t.model,p=t.opts,m=this.ppfx,y=p.onChange,b=(0,x.default)('<div class="'.concat(this.ppfx,'field-color-picker"></div>')),O=b.get(0).style,A=n&&n.getConfig&&n.getConfig().colorPicker||{};this.movedColor="";var R=!1,B;this.$el.find("[data-colorp-c]").append(b);var Q=function(le,ue){ue===void 0&&(ue=!0),y?y(le,!ue):(ue&&a.setValueFromInput(0,!1),a.setValueFromInput(le,ue))};b.spectrum(Us(Us(Us({color:a.getValue()||!1,containerClassName:"".concat(m,"one-bg ").concat(m,"two-color ").concat(m,"editor-sp"),maxSelectionSize:8,showPalette:!0,showAlpha:!0,chooseText:"Ok",cancelText:"",palette:[]},A),a.get("colorPicker")||{}),{move:function(le){var ue=lo(le);e.movedColor=ue,O.backgroundColor=ue,Q(ue,!1)},change:function(le){R=!0;var ue=lo(le);O.backgroundColor=ue,Q(ue),e.noneColor=!1},show:function(le){R=!1,e.movedColor="",B=y?a.getValue({noDefault:!0}):lo(le)},hide:function(){!R&&(B||y)&&(e.noneColor&&(B=""),O.backgroundColor=B,b.spectrum("set",B),Q(B,!1))}})),n&&n.on&&this.listenTo(n,"component:selected",function(){e.movedColor&&Q(e.movedColor),R=!0,e.movedColor="",b.spectrum("hide")}),this.colorEl=b}return this.colorEl},i.prototype.render=function(){return Zi.prototype.render.call(this),this.getColorEl(),this},i}(Zi);const rs=Bs;var Oi=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Hl=function(u){Oi(i,u);function i(){return u!==null&&u.apply(this,arguments)||this}return i.prototype.templateInput=function(){return""},i.prototype.getInputEl=function(){if(!this.input){var e=this.model,t=this.getModelValue(),n=new rs({model:e,target:this.config.em,contClass:this.ppfx+"field-color",ppfx:this.ppfx}),a=n.render();a.setValue(t,{fromTarget:1}),this.input=a.el}return this.input},i}(tn);const Tp=Hl;var mA=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),SS=function(u){mA(i,u);function i(e){e===void 0&&(e={});var t=u.call(this,e)||this;return(0,r.bindAll)(t,"moveIncrement","upIncrement"),t.doc=document,t.listenTo(t.model,"change:unit",t.handleModelChange),t}return i.prototype.template=function(){var e=this.ppfx;return`
      <span class="`.concat(e,`input-holder"></span>
      <span class="`).concat(e,`field-units"></span>
      <div class="`).concat(e,`field-arrows" data-arrows>
        <div class="`).concat(e,`field-arrow-u" data-arrow-up></div>
        <div class="`).concat(e,`field-arrow-d" data-arrow-down></div>
      </div>
    `)},i.prototype.inputClass=function(){var e=this.ppfx;return this.opts.contClass||"".concat(e,"field ").concat(e,"field-integer")},i.prototype.setValue=function(e,t){var n=t||{},a=this.validateInputValue(e,{deepCheck:1}),p={value:a.value,unit:""};(a.unit||a.force)&&(p.unit=a.unit),this.model.set(p,n),n.silent&&this.handleModelChange()},i.prototype.handleChange=function(e){e.stopPropagation(),this.setValue(this.getInputEl().value),this.elementUpdated()},i.prototype.handleUnitChange=function(e){e.stopPropagation();var t=this.getUnitEl().value;this.model.set("unit",t),this.elementUpdated()},i.prototype.handleKeyDown=function(e){e.key==="ArrowUp"&&(e.preventDefault(),this.upArrowClick()),e.key==="ArrowDown"&&(e.preventDefault(),this.downArrowClick())},i.prototype.elementUpdated=function(){this.model.trigger("el:change")},i.prototype.handleModelChange=function(){var e=this.model;this.getInputEl().value=e.get("value");var t=this.getUnitEl();t&&(t.value=e.get("unit")||"")},i.prototype.getUnitEl=function(){if(!this.unitEl){var e=this.model,t=e.get("units")||[];if(t.length){var n=['<option value="" disabled hidden>-</option>'];t.forEach(function(p){var m=p==e.get("unit")?"selected":"";n.push("<option ".concat(m,">").concat(p,"</option>"))});var a=document.createElement("div");a.innerHTML='<select class="'.concat(this.ppfx,'input-unit">').concat(n.join(""),"</select>"),this.unitEl=a.firstChild}}return this.unitEl},i.prototype.upArrowClick=function(){var e=this.model,t=e.get("step"),n=parseFloat(e.get("value"));this.setValue(this.normalizeValue(n+t)),this.elementUpdated()},i.prototype.downArrowClick=function(){var e=this.model,t=e.get("step"),n=parseFloat(e.get("value"));this.setValue(this.normalizeValue(n-t)),this.elementUpdated()},i.prototype.downIncrement=function(e){e.preventDefault(),this.moved=!1;var t=this.model.get("value")||0;t=this.normalizeValue(t),this.current={y:e.pageY,val:t},(0,nt.on)(this.doc,"mousemove",this.moveIncrement),(0,nt.on)(this.doc,"mouseup",this.upIncrement)},i.prototype.moveIncrement=function(e){this.moved=!0;var t=this.model,n=t.get("step"),a=this.current,p=this.normalizeValue(a.val+(a.y-e.pageY)*n),m=this.validateInputValue(p),y=m.value,b=m.unit;return this.prValue=y,t.set({value:y,unit:b},{avoidStore:1}),!1},i.prototype.upIncrement=function(){var e=this.model,t=e.get("step");if((0,nt.S1)(this.doc,"mouseup",this.upIncrement),(0,nt.S1)(this.doc,"mousemove",this.moveIncrement),this.prValue&&this.moved){var n=this.prValue-t;e.set("value",n,{avoidStore:1}).set("value",n+t),this.elementUpdated()}},i.prototype.normalizeValue=function(e,t){t===void 0&&(t=0);var n=this.model,a=n.get("step"),p=0;if(isNaN(e))return t;if(e=parseFloat(e),Math.floor(e)!==e){var m=a.toString().split(".")[1];p=m?m.length:0}return p?parseFloat(e.toFixed(p)):e},i.prototype.validateInputValue=function(e,t){t===void 0&&(t={});var n=0,a=t||{},p=this.model,m="",y=(0,r.isUndefined)(e)?m:e,b=t.units||p.get("units")||[],O=p.get("unit")||b.length&&b[0]||"",A=(0,r.isUndefined)(t.max)?p.get("max"):t.max,R=(0,r.isUndefined)(t.min)?p.get("min"):t.min,B=!!p.get("limitlessMax"),Q=!!p.get("limitlessMin");if(a.deepCheck){var le=p.get("fixedValues")||[];if(y===""&&(O=""),y){var ue=new RegExp("^"+le.join("|"),"g");if(le.length&&ue.test(y))y=y.match(ue)[0],O="",n=1;else{var ke=y+"";y+="",y=parseFloat(y.replace(",",".")),y=isNaN(y)?m:y;var Be=ke.replace(y,"");(0,r.indexOf)(b,Be)>=0&&(O=Be)}}}return!B&&!(0,r.isUndefined)(A)&&A!==""&&(y=y>A?A:y),!Q&&!(0,r.isUndefined)(R)&&R!==""&&(y=y<R?R:y),{force:n,value:y,unit:O}},i.prototype.render=function(){Zi.prototype.render.call(this),this.unitEl=null;var e=this.getUnitEl();return e&&this.$el.find(".".concat(this.ppfx,"field-units")).get(0).appendChild(e),this},i}(Zi);const CS=SS;SS.prototype.events={"change input":"handleChange","change select":"handleUnitChange","click [data-arrow-up]":"upArrowClick","click [data-arrow-down]":"downArrowClick","mousedown [data-arrows]":"downIncrement",keydown:"handleKeyDown"};var yA=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),wA=function(u){yA(i,u);function i(){return u!==null&&u.apply(this,arguments)||this}return i.prototype.getValueForTarget=function(){var e=this.model,t=e.attributes,n=t.value,a=t.unit;return!(0,r.isUndefined)(n)&&n!==""?n+a:e.get("default")},i.prototype.getInputEl=function(){if(!this.input){var e=this,t=e.ppfx,n=e.model,a=this.getModelValue(),p=new CS({contClass:"".concat(t,"field-int"),type:"number",model:n,ppfx:t});p.render(),this.$input=p.inputEl,this.$unit=p.unitEl,n.set("value",a,{fromTarget:!0}),this.$input.val(a),this.input=p.el}return this.input},i}(tn);const _A=wA;var bA=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),xA=function(u){bA(i,u);function i(e){e===void 0&&(e={});var t=u.call(this,e)||this;return t.listenTo(t.model,"change:options",t.rerender),t}return i.prototype.templateInput=function(){var e=this,t=e.ppfx,n=e.clsField;return'<div class="'.concat(n,`">
      <div data-input></div>
      <div class="`).concat(t,`sel-arrow">
        <div class="`).concat(t,`d-s-arrow"></div>
      </div>
    </div>`)},i.prototype.getInputEl=function(){if(!this.$input){var e=this,t=e.model,n=e.em,a=t.get("name"),p=t.get("options")||[],m=[],y="<select>";p.forEach(function(A){var R="",B,Q,le;(0,r.isString)(A)?(B=A,Q=A):(B=A.name||A.label||A.value,Q="".concat((0,r.isUndefined)(A.value)?A.id:A.value).replace(/"/g,"&quot;"),le=A.style?A.style.replace(/"/g,"&quot;"):"",R+=le?' style="'.concat(le,'"'):"");var ue=n.t("traitManager.traits.options.".concat(a,".").concat(Q))||B;y+='<option value="'.concat(Q,'"').concat(R,">").concat(ue,"</option>"),m.push(Q)}),y+="</select>",this.$input=(0,x.default)(y);var b=t.getTargetValue(),O=m.indexOf(b)>=0?b:t.get("default");!(0,r.isUndefined)(O)&&this.$input.val(O)}return this.$input.get(0)},i}(tn);const SA=xA;var CA=rn(330),OA=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),OS="data-categories",ES="data-no-categories",TS=function(u){OA(i,u);function i(e,t){var n=u.call(this,e)||this;n.reuseView=!0,n.renderedCategories=new Map,n.itemsView=t;var a=e.config||{};n.config=a;var p=e.editor;n.em=p;var m=a.pStylePrefix||"";return n.ppfx=m,n.pfx=m+a.stylePrefix||"",n.className="".concat(n.pfx,"traits"),n.traitContClass="".concat(m,"traits-c"),n.classNoCat="".concat(m,"traits-empty-c"),n.catsClass="".concat(m,"trait-categories"),n.collection=new bi([],{em:p}),n.listenTo(p,"component:toggled",n.updatedCollection),n.updatedCollection(),n}return i.prototype.updatedCollection=function(){var e=this,t=e.ppfx,n=e.em,a=n.getSelected();this.el.className="".concat(this.traitContClass,"s ").concat(t,"one-bg ").concat(t,"two-color"),this.collection=(a==null?void 0:a.traits)||new bi([],{em:n}),this.render()},i.prototype.add=function(e,t){var n=this,a=n.config,p=n.renderedCategories,m=this.itemView,y=e.get(this.itemType);this.itemsView&&this.itemsView[y]&&(m=this.itemsView[y]);var b=new m({config:a,model:e,attributes:e.get("attributes")}),O=b.render().el,A=e.parent.initCategory(e);if(A){var R=A.getId(),B=this.getCategoriesEl(),Q=p.get(R);!Q&&B&&(Q=new Zv({model:A},a,"trait").render(),p.set(R,Q),B.appendChild(Q.el)),Q==null||Q.append(O);return}t?t.appendChild(O):this.append(O)},i.prototype.getCategoriesEl=function(){return this.catsEl||(this.catsEl=this.el.querySelector("[".concat(OS,"]"))),this.catsEl},i.prototype.getTraitsEl=function(){return this.traitsEl||(this.traitsEl=this.el.querySelector("[".concat(ES,"]"))),this.traitsEl},i.prototype.append=function(e){var t=this.getTraitsEl();t==null||t.appendChild(e)},i.prototype.render=function(){var e=this,t=this,n=t.el,a=t.ppfx,p=t.catsClass,m=t.traitContClass,y=t.classNoCat,b=document.createDocumentFragment();delete this.catsEl,delete this.traitsEl,this.renderedCategories=new Map,n.innerHTML=`
      <div class="`.concat(p,'" ').concat(OS,`></div>
      <div class="`).concat(y," ").concat(m,'" ').concat(ES,`></div>
    `),this.collection.forEach(function(A){return e.add(A,b)}),this.append(b);var O="".concat(m,"s ").concat(a,"one-bg ").concat(a,"two-color");return this.$el.addClass(O),this.rendered=!0,this},i}(CA.Z);const PS=TS;TS.prototype.itemView=tn;var EA=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),TA=function(u,i,e){if(e||arguments.length===2)for(var t=0,n=i.length,a;t<n;t++)(a||!(t in i))&&(a||(a=Array.prototype.slice.call(i,0,t)),a[t]=i[t]);return u.concat(a||Array.prototype.slice.call(i))},PA=function(u){EA(i,u);function i(e){var t=u.call(this,e,"TraitManager",Zn)||this;t.TraitsView=PS,t.events=aa,t.state=new C.Hn({traits:[]}),t.types={text:tn,number:_A,select:SA,checkbox:Di,color:Tp,button:Bn};var n=t,a=n.state,p=n.config,m=n.events,y=p.pStylePrefix;y&&(p.stylePrefix="".concat(y).concat(p.stylePrefix)),(0,r.bindAll)(t,"__onSelect");var b=(0,r.debounce)(function(){return t.__upSel()},0),O=(0,r.debounce)(function(){return t.__onUp()},0);return a.listenTo(e,"component:toggled",b),a.listenTo(e,m.value,O),a.on("change:traits",t.__onSelect),t.debounced=[b,O],t}return i.prototype.select=function(e){var t=(e==null?void 0:e.getTraits())||[];this.state.set({component:e,traits:t}),this.__trgCustom()},i.prototype.getCategories=function(){var e,t=this.getComponent(),n=((e=t==null?void 0:t.traits.categories)===null||e===void 0?void 0:e.models)||[];return TA([],n,!0)},i.prototype.getTraits=function(){return this.getCurrent()},i.prototype.getTraitsByCategory=function(e){return Ma(e||this.getTraits())},i.prototype.getComponent=function(){return this.state.attributes.component},i.prototype.addType=function(e,t){var n=this.getType("text");this.types[e]=n.extend(t)},i.prototype.getType=function(e){return this.getTypes()[e]},i.prototype.getTypes=function(){return this.types},i.prototype.getTraitsViewer=function(){return this.view},i.prototype.getCurrent=function(){return this.state.get("traits")||[]},i.prototype.render=function(){var e=this.view,t=this.em;return e=new PS({el:e==null?void 0:e.el,collection:[],editor:t,config:this.getConfig()},this.getTypes()),this.view=e,e.el},i.prototype.postRender=function(){this.__appendTo()},i.prototype.__onSelect=function(){var e=this,t=e.em,n=e.events,a=e.state,p=a.attributes,m=p.component,y=p.traits;t.trigger(n.select,{component:m,traits:y})},i.prototype.__trgCustom=function(e){e===void 0&&(e={});var t=this,n=t.em,a=t.events,p=t.__ctn;this.__ctn=p||e.container,n.trigger(a.custom,this.__customData())},i.prototype.__customData=function(){return{container:this.__ctn}},i.prototype.__upSel=function(){this.select(this.em.getSelected())},i.prototype.__onUp=function(){this.select(this.getComponent())},i}(z);const kA=PA;var AA={stylePrefix:"",appendTo:"",sortable:!0,hidable:!0,hideTextnode:!0,root:"",showWrapper:!0,showHover:!0,scrollCanvas:{behavior:"smooth",block:"nearest"},scrollLayers:{behavior:"auto",block:"nearest"},highlightHover:!0,custom:!1,onInit:function(){},onRender:function(){},extend:{}};const LA=AA;var MA=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),DA=function(u){MA(i,u);function i(e){e===void 0&&(e={});var t=u.call(this,e)||this;t.items=[],t.opt=e;var n=e.config||{};t.config=n,t.parentView=e.parentView;var a=n.stylePrefix||"",p=n.pStylePrefix||"",m=t.collection;t.listenTo(m,"add",t.addTo),t.listenTo(m,"reset resetNavigator",t.render),t.listenTo(m,"remove",t.removeChildren),t.className="".concat(a,"layers");var y=n.em;if(n.sortable&&!t.opt.sorter){var b=y.Utils;t.opt.sorter=new b.Sorter({container:n.sortContainer||t.el,containerSel:".".concat(t.className),itemSel:".".concat(a,"layer"),ignoreViewChildren:1,avoidSelectOnEnd:1,nested:1,ppfx:p,pfx:a,em:y})}return t.$el.data("collection",m),e.parent&&t.$el.data("model",e.parent),t}return i.prototype.removeChildren=function(e){var t=e.viewLayer;t&&(t.remove(),delete e.viewLayer)},i.prototype.addTo=function(e){this.addToCollection(e,null,this.collection.indexOf(e))},i.prototype.addToCollection=function(e,t,n){var a=this,p=a.parentView,m=a.opt,y=a.config,b=a.el,O=m.ItemView,A=m.opened,R=m.module,B=m.level,Q=m.sorter,le=e.viewLayer||new O({ItemView:O,level:B,model:e,parentView:p,config:y,sorter:Q,opened:A,module:R}),ue=le.render().el;if(t)t.appendChild(ue);else{var ke=b,Be=ke.childNodes;if((0,r.isUndefined)(n))ke.appendChild(ue);else{var He=Be.length==n;He&&n--,He||!Be.length?ke.appendChild(ue):ke.insertBefore(ue,Be[n])}}return this.items.push(le),ue},i.prototype.remove=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return C.G7.prototype.remove.apply(this,e),this.items.map(function(n){return n.remove()}),this},i.prototype.render=function(){var e=this,t=document.createDocumentFragment(),n=this.el;return n.innerHTML="",this.collection.each(function(a){return e.addToCollection(a,t)}),n.appendChild(t),n.className=this.className,this},i}(C.G7);const RA=DA;var lw=rn(790),NA={stylePrefix:"com-",defaults:{},strict:!0};const jA=NA;var IA=rn(713),FA=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),wg=function(){return wg=Object.assign||function(u){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(u[n]=i[n])}return u},wg.apply(this,arguments)},kS=function(u,i,e){if(e||arguments.length===2)for(var t=0,n=i.length,a;t<n;t++)(a||!(t in i))&&(a||(a=Array.prototype.slice.call(i,0,t)),a[t]=i[t]);return u.concat(a||Array.prototype.slice.call(i))},AS=[["preview","Preview","preview"],["resize","Resize","resize"],["fullscreen","Fullscreen","fullscreen"],["copy","CopyComponent"],["paste","PasteComponent"],["canvas-move","CanvasMove"],["canvas-clear","CanvasClear"],["open-code","ExportTemplate","export-template"],["open-layers","OpenLayers","open-layers"],["open-styles","OpenStyleManager","open-sm"],["open-traits","OpenTraitManager","open-tm"],["open-blocks","OpenBlocks","open-blocks"],["open-assets","OpenAssets","open-assets"],["component-select","SelectComponent","select-comp"],["component-outline","SwitchVisibility","sw-visibility"],["component-offset","ShowOffset","show-offset"],["component-move","MoveComponent","move-comp"],["component-next","ComponentNext"],["component-prev","ComponentPrev"],["component-enter","ComponentEnter"],["component-exit","ComponentExit","select-parent"],["component-delete","ComponentDelete"],["component-style-clear","ComponentStyleClear"],["component-drag","ComponentDrag"]],LS={preserveSelected:1},MS=function(u){return function(i){return u.trigger("".concat(ki,":start"),i)}},DS=function(u){return function(i){return u.trigger(ki,i)}},RS=function(u,i,e){return e===void 0&&(e={}),function(t,n,a){i.forEach(function(p){return p.set("status",p.get("selectable")?"selected":"")}),u.setSelected(i),i[0].emitUpdate(),u.trigger("".concat(ki,":end"),a),setTimeout(function(){return u.runDefault(LS)}),(e.altMode||a.cancelled)&&u.set("_cmpDrag",1)}},VA=function(u){FA(i,u);function i(e){var t=u.call(this,e,"Commands",jA)||this;t.CommandAbstract=lw.default,t.defaultCommands={},t.commands={},t.active={},t.events=IA.Z;var n=t.config,a=n.pStylePrefix,p=t.defaultCommands;a&&(n.stylePrefix=a+n.stylePrefix),Object.keys(n.defaults).forEach(function(y){var b=n.defaults[y];b.id&&t.add(b.id,b)}),p["tlb-delete"]={run:function(y){return y.runCommand("core:component-delete")}},p["tlb-clone"]={run:function(y){y.runCommand("core:copy"),y.runCommand("core:paste",{action:"clone-component"})}},p["tlb-move"]={run:function(y,b,O){var A;O===void 0&&(O={});var R=y.getModel(),B=O.event,Q=O.target,le=Q?[Q]:kS([],y.getSelectedAll(),!0),ue=le.map(function(qr){var Et,Ji;return((Ji=(Et=qr.delegate)===null||Et===void 0?void 0:Et.move)===null||Ji===void 0?void 0:Ji.call(Et,qr))||qr}).filter(Boolean),ke=ue[ue.length-1],Be=(B==null?void 0:B.type)==="dragstart",He=["absolute","translate"];if(!(ke!=null&&ke.get("draggable")))return R.logWarning("The element is not draggable");var ot=ke.get("dmode")||R.get("dmode"),Ot=function(){return R.stopDefault(LS)},Gt=(0,r.includes)(He,ot);ue.forEach(function(qr){return qr.trigger("disable",{fromMove:!0})}),Be?setTimeout(Ot,0):Ot();var er=MS(R),ft=DS(R),Jt=RS(R,ue,{altMode:Gt});if(Gt)y.runCommand("core:component-drag",{guidesInfo:1,mode:ot,target:ke,onStart:er,onDrag:ft,onEnd:Jt,event:B});else{Be&&B.dataTransfer.setDragImage((A=ke.view)===null||A===void 0?void 0:A.el,0,0);var cr=y.Commands.get("move-comp");cr.onStart=er,cr.onDrag=ft,cr.onEndMoveFromModel=Jt,cr.initSorterFromModels(ue)}ue.filter(function(qr){return qr.get("selectable")}).forEach(function(qr){return qr.set("status","freezed-selected")})}},p["core:undo"]=function(y){return y.UndoManager.undo()},p["core:redo"]=function(y){return y.UndoManager.redo()},AS.forEach(function(y){var b=y[2],O=rn(828)("./".concat(y[1])).default,A="core:".concat(y[0]);p[A]=O,b&&(p[b]=O,["run","stop"].forEach(function(R){e.on("".concat(R,":").concat(b),function(){for(var B=[],Q=0;Q<arguments.length;Q++)B[Q]=arguments[Q];return e.trigger.apply(e,kS(["".concat(R,":").concat(A)],B,!1))})}))}),n.model=e.Canvas;for(var m in p)t.add(m,p[m]);return t}return i.prototype.add=function(e,t){var n=(0,r.isFunction)(t)?{run:t}:t;return n.stop||(n.noStop=!0),delete n.initialize,n.id=e,this.commands[e]=lw.default.extend(n),this},i.prototype.get=function(e){var t=this.commands[e];return(0,r.isFunction)(t)?(t=new t(this.config),this.commands[e]=t):t||this.em.logWarning("'".concat(e,"' command not found")),t},i.prototype.extend=function(e,t){t===void 0&&(t={});var n=this.get(e);if(n){var a=wg(wg({},n.constructor.prototype),t);this.add(e,a);var p=AS.filter(function(m){return"core:".concat(m[0])===e&&m[2]})[0];p&&this.add(p[2],a)}return this},i.prototype.has=function(e){return!!this.commands[e]},i.prototype.getAll=function(){return this.commands},i.prototype.run=function(e,t){return t===void 0&&(t={}),this.runCommand(this.get(e),t)},i.prototype.stop=function(e,t){return t===void 0&&(t={}),this.stopCommand(this.get(e),t)},i.prototype.isActive=function(e){return this.getActive().hasOwnProperty(e)},i.prototype.getActive=function(){return this.active},i.prototype.runCommand=function(e,t){t===void 0&&(t={});var n;if(e&&e.run){var a=this,p=a.em,m=a.config,y=e.id,b=p.Editor;(!this.isActive(y)||t.force||!m.strict)&&(n=b&&e.callRun(b,t),y&&e.stop&&!e.noStop&&!t.abort&&(this.active[y]=n))}return n},i.prototype.stopCommand=function(e,t){t===void 0&&(t={});var n;if(e&&e.run){var a=this,p=a.em,m=a.config,y=e.id,b=p.Editor;(this.isActive(y)||t.force||!m.strict)&&(y&&delete this.active[y],n=e.callStop(b,t))}return n},i.prototype.create=function(e){e.stop||(e.noStop=!0);var t=lw.default.extend(e);return new t(this.config)},i.prototype.__onRun=function(e,t){var n=this,a=n.em,p=n.events;a.on("".concat(p.runCommand).concat(e),t)},i.prototype.__onStop=function(e,t){var n=this,a=n.em,p=n.events;a.on("".concat(p.stopCommand).concat(e),t)},i.prototype.destroy=function(){this.defaultCommands={},this.commands={},this.active={}},i}(z);const UA=VA;var BA=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),NS="contentEditable",_g="data-toggle-move",HA=function(u){BA(i,u);function i(e){var t=u.call(this,e)||this;(0,r.bindAll)(t,"__render"),t.opt=e,t.module=e.module,t.config=e.config||{},t.sorter=e.sorter||"",t.parentView=e.parentView;var n=t,a=n.model,p=n.pfx,m=n.ppfx,y=a.get("type")||"default";return t.className="".concat(p,"layer ").concat(p,"layer__t-").concat(y," no-select ").concat(m,"two-color"),t.inputNameCls="".concat(m,"layer-name"),t.clsTitleC="".concat(p,"layer-title-c"),t.clsTitle="".concat(p,"layer-title"),t.clsCaret="".concat(p,"layer-caret"),t.clsCount="".concat(p,"layer-count"),t.clsMove="".concat(p,"layer-move"),t.clsChildren="".concat(p,"layer-children"),t.clsNoChild="".concat(p,"layer-no-chld"),t.clsEdit="".concat(t.inputNameCls,"--edit"),t.clsNoEdit="".concat(t.inputNameCls,"--no-edit"),t.initComponent(),t}return i.prototype.events=function(){var e;return e={},e["mousedown [".concat(_g,"]")]="startSort",e["touchstart [".concat(_g,"]")]="startSort",e["click [data-toggle-visible]"]="toggleVisibility",e["click [data-toggle-open]"]="toggleOpening",e["click [data-toggle-select]"]="handleSelect",e["mouseover [data-toggle-select]"]="handleHover",e["mouseout [data-toggle-select]"]="handleHoverOut",e["dblclick [data-name]"]="handleEdit",e["keydown [data-name]"]="handleEditKey",e["focusout [data-name]"]="handleEditEnd",e},i.prototype.template=function(e){var t=this,n=t.pfx,a=t.ppfx,p=t.config,m=t.clsNoEdit,y=t.module,b=t.opt,O=t.em,A=p.hidable,R=y.getComponents(e).length,B=R?"":this.clsNoChild,Q="".concat(this.clsTitle," ").concat(B),le="".concat(this.clsTitleC),ue="".concat(this.inputNameCls," ").concat(m," ").concat(a,"no-app"),ke=b.level||0,Be="".concat(ke*10,"px"),He=e.getName(),ot=e.getIcon(),Ot="".concat(n,"layer"),Gt=(O==null?void 0:O.getConfig()).icons,er=Gt,ft=er.move,Jt=er.eye,cr=er.eyeOff,qr=er.chevron;return`
      <div class="`.concat(n,"layer-item ").concat(a,`one-bg" data-toggle-select>
        <div class="`).concat(n,`layer-item-left">
          `).concat(A?'<i class="'.concat(n,`layer-vis" data-toggle-visible>
                <i class="`).concat(n,'layer-vis-on">').concat(Jt,`</i>
                <i class="`).concat(n,'layer-vis-off">').concat(cr,`</i>
              </i>`):"",`
          <div class="`).concat(le,`">
            <div class="`).concat(Q,'" style="padding-left: ').concat(Be,`">
              <div class="`).concat(n,'layer-title-inn" title="').concat(He,`">
                <i class="`).concat(this.clsCaret,'" data-toggle-open>').concat(qr,`</i>
                  `).concat(ot?'<span class="'.concat(Ot,'__icon">').concat(ot,"</span>"):"",`
                <span class="`).concat(ue,'" data-name>').concat(He,`</span>
              </div>
            </div>
          </div>
        </div>
        <div class="`).concat(n,`layer-item-right">
          <div class="`).concat(this.clsCount,'" data-count>').concat(R||"",`</div>
          <div class="`).concat(this.clsMove,'" ').concat(_g,">").concat(ft||"",`</div>
        </div>
      </div>
      <div class="`).concat(this.clsChildren,`"></div>
    `)},Object.defineProperty(i.prototype,"em",{get:function(){return this.module.em},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"ppfx",{get:function(){return this.em.getConfig().stylePrefix},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"pfx",{get:function(){return this.config.stylePrefix},enumerable:!1,configurable:!0}),i.prototype.initComponent=function(){var e=this,t=this,n=t.model,a=t.config,p=a.onInit,m=n.components();this.listenTo(m,"remove add reset",this.checkChildren),[["change:status",this.updateStatus],["change:open",this.updateOpening],["change:layerable",this.updateLayerable],["change:style:display",this.updateVisibility],["change:draggable",this.updateMove],["rerender:layer",this.render],["change:name change:custom-name",this.updateName]].forEach(function(y){return e.listenTo(n,y[0],y[1])}),this.$el.data("model",n),this.$el.data("collection",m),n.viewLayer=this,p.bind(this)({component:n,render:this.__render,listenTo:this.listenTo})},i.prototype.updateName=function(){this.getInputName().innerText=this.model.getName()},i.prototype.getVisibilityEl=function(){return this.getItemContainer().find("[data-toggle-visible]")},i.prototype.updateVisibility=function(){var e=this,t=e.pfx,n=e.model,a=e.module,p="".concat(t,"layer-hidden"),m=!a.isVisible(n),y=m?"addClass":"removeClass";this.$el[y](p),this.getVisibilityEl()[y]("".concat(t,"layer-off"))},i.prototype.updateMove=function(){var e=this,t=e.model,n=e.config,a=this.getItemContainer().find("[".concat(_g,"]"))[0];if(a){var p=t.get("draggable")&&n.sortable;a.style.display=p?"":"none"}},i.prototype.toggleVisibility=function(e){e==null||e.stopImmediatePropagation();var t=this,n=t.module,a=t.model;n.setVisible(a,!n.isVisible(a))},i.prototype.handleEdit=function(e){e==null||e.stopPropagation();var t=this,n=t.em,a=t.$el,p=t.clsNoEdit,m=t.clsEdit,y=this.getInputName();y[NS]="true",y.focus(),document.execCommand("selectAll",!1),n.setEditing(!0),a.find(".".concat(this.inputNameCls)).removeClass(p).addClass(m)},i.prototype.handleEditKey=function(e){e.stopPropagation(),((0,nt.kl)(e)||(0,nt.r$)(e))&&this.handleEditEnd(e)},i.prototype.handleEditEnd=function(e){e==null||e.stopPropagation();var t=this,n=t.em,a=t.$el,p=t.clsNoEdit,m=t.clsEdit,y=t.model,b=this.getInputName(),O=b.textContent;b.scrollLeft=0,b[NS]="false",y.setName(O),n.setEditing(!1),a.find(".".concat(this.inputNameCls)).addClass(p).removeClass(m),this.updateName()},i.prototype.getInputName=function(){return this.inputName||(this.inputName=this.el.querySelector(".".concat(this.inputNameCls))),this.inputName},i.prototype.updateOpening=function(){var e=this,t=e.$el,n=e.model,a=e.pfx,p="open",m="".concat(a,"layer-open"),y=this.getCaret();this.module.isOpen(n)?(t.addClass(p),y.addClass(m)):(t.removeClass(p),y.removeClass(m))},i.prototype.toggleOpening=function(e){var t=this,n=t.model,a=t.module;e==null||e.stopImmediatePropagation(),n.get("components").length&&a.setOpen(n,!a.isOpen(n))},i.prototype.handleSelect=function(e){e==null||e.stopPropagation();var t=this,n=t.module,a=t.model;n.setLayerData(a,{selected:!0},{event:e})},i.prototype.handleHover=function(e){e==null||e.stopPropagation();var t=this,n=t.module,a=t.model;n.setLayerData(a,{hovered:!0})},i.prototype.handleHoverOut=function(e){e==null||e.stopPropagation();var t=this,n=t.module,a=t.model;n.setLayerData(a,{hovered:!1})},i.prototype.startSort=function(e){var t,n,a;e.stopPropagation();var p=this,m=p.em,y=p.sorter,b=p.model;if(!(e.button&&e.button!==0)&&y){var O=((n=(t=b.delegate)===null||t===void 0?void 0:t.move)===null||n===void 0?void 0:n.call(t,b))||b;y.onStart=MS(m),y.onMoveClb=DS(m),y.onEndMove=RS(m,[O]);var A=((a=O.viewLayer)===null||a===void 0?void 0:a.el)||e.target;y.startSort(A)}},i.prototype.updateStatus=function(){vn.prototype.updateStatus.apply(this,[{avoidHover:!this.config.highlightHover,noExtHl:!0}])},i.prototype.getItemContainer=function(){return this.$el.children("[data-toggle-select]")},i.prototype.checkChildren=function(){var e=this,t=e.model,n=e.clsNoChild,a=e.module,p=a.getComponents(t).length,m=this.getItemContainer(),y=m.find(".".concat(this.clsTitle)),b=m.find("[data-count]");y[p?"removeClass":"addClass"](n),b.html("".concat(p||"")),!p&&a.setOpen(t,!1)},i.prototype.getCaret=function(){return(!this.caret||!this.caret.length)&&(this.caret=this.getItemContainer().find(".".concat(this.clsCaret))),this.caret},i.prototype.setRoot=function(e){var t,n=(0,r.isString)(e)?(t=this.em.getWrapper())===null||t===void 0?void 0:t.find(e)[0]:e;n&&(this.stopListening(),this.model=n,this.initComponent(),this._rendered&&this.render())},i.prototype.updateLayerable=function(){var e=this.parentView,t=e||this;t.render()},i.prototype.__clearItems=function(){var e;(e=this.items)===null||e===void 0||e.remove()},i.prototype.remove=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return C.G7.prototype.remove.apply(this,e),this.__clearItems(),this},i.prototype.render=function(){var e=this,t=e.model,n=e.config,a=e.pfx,p=e.ppfx,m=e.opt,y=e.sorter;this.__clearItems();var b=m.opened,O=m.module,A=m.ItemView,R=!O.__isLayerable(t),B=this.$el.empty(),Q=m.level+1;delete this.inputName,this.items=new RA({ItemView:A,collection:t.get("components"),config:n,sorter:y,opened:b,parentView:this,parent:t,level:Q,module:O});var le=this.items.render().$el;return!n.showWrapper&&Q===1?B.append(le):(B.html(this.template(t)),B.find(".".concat(this.clsChildren)).append(le)),!O.isVisible(t)&&(this.className+=" ".concat(a,"hide")),R&&(this.className+=" ".concat(p,"hidden")),B.attr("class",this.className),this.updateStatus(),this.updateOpening(),this.updateVisibility(),this.updateMove(),this.__render(),this._rendered=!0,this},i.prototype.__render=function(){var e=this,t=e.model,n=e.config,a=e.el,p=n.onRender,m={component:t,el:a};p.bind(this)(m),this.em.trigger("layer:render",m)},i}(C.G7);const zA=HA;var WA=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),uw=function(){return uw=Object.assign||function(u){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(u[n]=i[n])}return u},uw.apply(this,arguments)},jS="layer",cw="".concat(jS,":"),IS="".concat(cw,"root"),FS="".concat(cw,"component"),$A="".concat(cw,"custom"),KA={all:jS,root:IS,component:FS,custom:$A},fw={mediaText:""},GA=["open","status","locked","custom-name","components","classes"].map(function(u){return"".concat(zt.g.update,":").concat(u)}).join(" "),ZA=function(u){return u===void 0&&(u={}),(u.display||"").trim().indexOf("none")===0},qA=function(u){WA(i,u);function i(e){var t=u.call(this,e,"LayerManager",LA)||this;return t.events=KA,(0,r.bindAll)(t,"componentChanged","__onRootChange","__onComponent"),t.model=new ie.Z(t,{opened:{}}),t.config.stylePrefix=t.config.pStylePrefix,t}return i.prototype.onLoad=function(){var e=this,t=this,n=t.em,a=t.config,p=t.model;p.listenTo(n,"component:selected",this.componentChanged),p.on("change:root",this.__onRootChange),p.listenTo(n,GA,this.__onComponent),this.componentChanged(),p.listenToOnce(n,"load",function(){e.setRoot(a.root),e.__appendTo()})},i.prototype.setRoot=function(e){var t=this.em.getWrapper(),n=(0,o.isComponent)(e)?e:t;return e&&(0,r.isString)(e)&&(0,o.hasWin)()&&(n=t.find(e)[0]||t),this.model.set("root",n),n},i.prototype.getRoot=function(){return this.model.get("root")},i.prototype.getComponents=function(e){var t=this;return e.components().filter(function(n){return t.__isLayerable(n)})},i.prototype.setOpen=function(e,t){e.set("open",t)},i.prototype.isOpen=function(e){return!!e.get("open")},i.prototype.setVisible=function(e,t){var n="__prev-display",a=e.getStyle(fw),p=a.display;if(t){var m=e.get(n);delete a.display,m&&(a.display=m,e.unset(n))}else p&&e.set(n,p),a.display="none";e.setStyle(a,fw),this.updateLayer(e),this.em.trigger("component:toggled")},i.prototype.isVisible=function(e){return!ZA(e.getStyle(fw))},i.prototype.setLocked=function(e,t){e.set("locked",t)},i.prototype.isLocked=function(e){return!!e.get("locked")},i.prototype.setName=function(e,t){e.set("custom-name",t)},i.prototype.getName=function(e){return e.getName()},i.prototype.getLayerData=function(e){var t=e.get("status");return{name:e.getName(),open:this.isOpen(e),selected:t==="selected",hovered:t==="hovered",visible:this.isVisible(e),locked:this.isLocked(e),components:this.getComponents(e)}},i.prototype.setLayerData=function(e,t,n){var a;n===void 0&&(n={});var p=this,m=p.em,y=p.config,b=t.open,O=t.selected,A=t.hovered,R=t.visible,B=t.locked,Q=t.name,le=uw({fromLayers:!0},n);if((0,o.isDef)(b)&&this.setOpen(e,b),(0,o.isDef)(O))if(O){m.setSelected(e,le);var ue=y.scrollCanvas;ue&&((a=e.views)===null||a===void 0||a.forEach(function(ke){return ke.scrollIntoView(ue)}))}else m.removeSelected(e,le);(0,o.isDef)(A)&&y.showHover&&(A?m.setHovered(e,le):m.setHovered(null,le)),(0,o.isDef)(R)&&R!==this.isVisible(e)&&this.setVisible(e,R),(0,o.isDef)(B)&&this.setLocked(e,B),(0,o.isDef)(Q)&&this.setName(e,Q)},i.prototype.componentChanged=function(e,t){var n;if(t===void 0&&(t={}),!t.fromLayers){var a=this,p=a.em,m=a.config,y=m.scrollLayers,b=this.model.get("opened"),O=p.getSelected(),A=O==null?void 0:O.parent();for(var R in b)b[R].set("open",!1),delete b[R];for(;A;)A.set("open",!0),b[A.cid]=A,A=A.parent();if(O&&y){var B=(n=O.viewLayer)===null||n===void 0?void 0:n.el;B==null||B.scrollIntoView(y)}}},i.prototype.getAll=function(){return this.view},i.prototype.render=function(){var e,t,n=this,a=n.config,p=n.model,m=zA.extend(a.extend);return this.view=new m({el:(e=this.view)===null||e===void 0?void 0:e.el,ItemView:m,level:0,config:a,opened:p.get("opened"),model:this.getRoot(),module:this}),(t=this.view)===null||t===void 0?void 0:t.render().el},i.prototype.destroy=function(){var e;(e=this.view)===null||e===void 0||e.remove()},i.prototype.__onRootChange=function(){var e,t=this.getRoot();(e=this.view)===null||e===void 0||e.setRoot(t),this.em.trigger(IS,t),this.__trgCustom()},i.prototype.__onComponent=function(e){this.updateLayer(e)},i.prototype.__isLayerable=function(e){var t=e.get("tagName"),n=this.config.hideTextnode,a=!n||!e.isInstanceOf("textnode")&&t!=="br";return a&&e.get("layerable")},i.prototype.__trgCustom=function(e){var t=this,n=t.__ctn,a=t.em,p=t.events;this.__ctn=n||(e==null?void 0:e.container),a.trigger(p.custom,{container:this.__ctn,root:this.getRoot()})},i.prototype.updateLayer=function(e,t){this.em.trigger(FS,e,t)},i}(z);const YA=qA;var XA={assets:[],noAssets:"",stylePrefix:"am-",upload:"",uploadName:"files",headers:{},params:{},credentials:"include",multiUpload:!0,multiUploadSuffix:"[]",autoAdd:!0,customFetch:void 0,uploadFile:void 0,embedAsBase64:!0,handleAdd:void 0,beforeUpload:void 0,showUrlInput:!0,custom:!1,dropzone:!1,openAssetsOnDrop:!0,dropzoneContent:""};const JA=XA;var QA=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),VS=function(u){QA(i,u);function i(){return u!==null&&u.apply(this,arguments)||this}return i.getDefaults=function(){return(0,r.result)(this.prototype,"defaults")},i.prototype.defaults=function(){return{type:"",src:""}},i.prototype.getType=function(){return this.get("type")},i.prototype.getSrc=function(){return this.get("src")},i.prototype.getFilename=function(){return this.get("src").split("/").pop().split("?").shift()},i.prototype.getExtension=function(){return this.getFilename().split(".").pop()},i}(C.Hn);const dw=VS;VS.prototype.idAttribute="src";var eL=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),bg=function(){return bg=Object.assign||function(u){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(u[n]=i[n])}return u},bg.apply(this,arguments)},tL=function(u){eL(i,u);function i(){return u!==null&&u.apply(this,arguments)||this}return i.prototype.defaults=function(){return bg(bg({},dw.getDefaults()),{type:"image",unitDim:"px",height:0,width:0})},i}(dw);const rL=tL;var nL=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),iL=function(u){nL(i,u);function i(e){var t=u.call(this,e)||this;t.options=e,t.collection=e.collection;var n=e.config||{};t.config=n,t.pfx=n.stylePrefix||"",t.ppfx=n.pStylePrefix||"",t.em=n.em,t.className=t.pfx+"asset",t.listenTo(t.model,"destroy remove",t.remove),t.model.view=t;var a=t.init&&t.init.bind(t);return a&&a(e),t}return i.prototype.__getBhv=function(){var e=this.em,t=e==null?void 0:e.Assets;return(t==null?void 0:t.__getBehaviour())||{}},i.prototype.template=function(e,t){var n=this.pfx;return`
      <div class="`.concat(n,`preview-cont">
        `).concat(this.getPreview(),`
      </div>
      <div class="`).concat(n,`meta">
        `).concat(this.getInfo(),`
      </div>
      <div class="`).concat(n,`close" data-toggle="asset-remove">
        &Cross;
      </div>
    `)},i.prototype.updateTarget=function(e){e&&e.set&&(e.set("attributes",(0,r.clone)(e.get("attributes"))),e.set("src",this.model.get("src")))},i.prototype.getPreview=function(){return""},i.prototype.getInfo=function(){return""},i.prototype.render=function(){var e=this.el;return e.innerHTML=this.template(this,this.model),e.className=this.className,this},i}(C.G7);const oL=iL;var aL=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),US=function(u,i){return Object.defineProperty?Object.defineProperty(u,"raw",{value:i}):u.raw=i,u},BS=function(u){aL(i,u);function i(){return u!==null&&u.apply(this,arguments)||this}return i.prototype.getPreview=function(){var e=this,t=e.pfx,n=e.ppfx,a=e.model,p=a.get("src");return s(HS||(HS=US([`
      <div class="`,`preview" style="background-image: url('`,`');"></div>
      <div class="`,"preview-bg ",`checker-bg"></div>
    `],[`
      <div class="`,`preview" style="background-image: url('`,`');"></div>
      <div class="`,"preview-bg ",`checker-bg"></div>
    `])),t,p,t,n)},i.prototype.getInfo=function(){var e=this,t=e.pfx,n=e.model,a=n.get("name"),p=n.get("width"),m=n.get("height"),y=n.get("unitDim"),b=p&&m?"".concat(p,"x").concat(m).concat(y):"";return a=a||n.getFilename(),s(zS||(zS=US([`
      <div class="`,'name">',`</div>
      <div class="`,'dimensions">',`</div>
    `],[`
      <div class="`,'name">',`</div>
      <div class="`,'dimensions">',`</div>
    `])),t,a,t,b)},i.prototype.init=function(e){var t=this.pfx;this.className+=" ".concat(t,"asset-image")},i.prototype.onClick=function(){var e=this,t=e.model,n=e.pfx,a=this.__getBhv().select,p=this.config.onClick,m=this.collection;m.trigger("deselectAll"),this.$el.addClass(n+"highlight"),(0,r.isFunction)(a)?a(t,!1):(0,r.isFunction)(p)?p(t):this.updateTarget(m.target)},i.prototype.onDblClick=function(){var e=this,t=e.em,n=e.model,a=this.__getBhv().select,p=this.config.onDblClick,m=this.collection,y=m.target,b=m.onSelect;(0,r.isFunction)(a)?a(n,!0):(0,r.isFunction)(p)?p(n):(this.updateTarget(y),t==null||t.Modal.close()),(0,r.isFunction)(b)&&b(n)},i.prototype.onRemove=function(e){e.stopImmediatePropagation(),this.model.collection.remove(this.model)},i}(oL);const sL=BS;BS.prototype.events={"click [data-toggle=asset-remove]":"onRemove",click:"onClick",dblclick:"onDblClick"};var HS,zS,xg=function(){return xg=Object.assign||function(u){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(u[n]=i[n])}return u},xg.apply(this,arguments)},lL={types:[],initialize:function(u,i){var e=this;i===void 0&&(i={});var t=i.em;this.em=t,this.opts=i,this.model=function(a,p){a===void 0&&(a={}),p===void 0&&(p={});var m,y,b;if(a&&a.type){var O=e.getBaseType();b=e.getType(a.type),m=b?b.model:O.model,y=b?b.view:O.view}else{var A=e.recognizeType(a);b=A.type,m=b.model,y=b.view,a=A.attributes}var R=new m(a,xg(xg({},p),{em:t}));return R.typeView=y,R};var n=this.init&&this.init.bind(this);n&&n()},recognizeType:function(u){for(var i=this.getTypes(),e=0;e<i.length;e++){var t=i[e],n=t.isType(u);if(n=typeof n=="boolean"&&n?{type:t.id}:n,n)return{type:t,attributes:n}}return{type:this.getBaseType(),attributes:u}},getBaseType:function(){var u=this.getTypes();return u[u.length-1]},getTypes:function(){return this.types},getType:function(u){for(var i=this.getTypes(),e=0;e<i.length;e++){var t=i[e];if(t.id===u)return t}},addType:function(u,i){var e=this.getType(u),t=this.getBaseType(),n=e?e.model:t.model,a=e?e.view:t.view,p=i.model,m=i.view,y=i.isType;p=p instanceof C.Hn||(0,r.isFunction)(p)?p:n.extend(p||{}),m=m instanceof C.G7||(0,r.isFunction)(m)?m:a.extend(m||{}),this.extendViewApi&&!i.model&&!i.view&&(m=m.extend(i)),e?(e.model=p,e.view=m,e.isType=y||e.isType):(i.id=u,i.model=p,i.view=m,i.isType=y||function(b){if(b&&b.type==u)return!0},this.getTypes().unshift(i))}};const WS=lL;var uL=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),cL=C.FE.extend(WS),$S=function(u){uL(i,u);function i(){return u!==null&&u.apply(this,arguments)||this}return i}(cL);const pw=$S;$S.prototype.types=[{id:"image",model:rL,view:sL,isType:function(u){return typeof u=="string"?{type:"image",src:u}:u}}];var hw;(function(u){u.add="asset:add",u.remove="asset:remove",u.removeBefore="asset:remove:before",u.update="asset:update",u.open="asset:open",u.close="asset:close",u.uploadStart="asset:upload:start",u.uploadEnd="asset:upload:end",u.uploadError="asset:upload:error",u.uploadResponse="asset:upload:response",u.custom="asset:custom",u.all="asset"})(hw||(hw={}));const KS=hw;var fL=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),GS=function(u){fL(i,u);function i(e){e===void 0&&(e={});var t=u.call(this,e)||this;t.options=e,t.config=e.config,t.pfx=t.config.stylePrefix||"",t.ppfx=t.config.pStylePrefix||"",t.em=t.config.em;var n=t.collection;return t.listenTo(n,"reset",t.renderAssets),t.listenTo(n,"add",t.addToAsset),t.listenTo(n,"remove",t.removedAsset),t.listenTo(n,"deselectAll",t.deselectAll),t}return i.prototype.template=function(e){var t=e.pfx,n=e.ppfx,a=e.em,p="";return this.config.showUrlInput&&(p=`
          <form class="`.concat(t,`add-asset">
            <div class="`).concat(n,"field ").concat(t,`add-field">
              <input placeholder="`).concat(a==null?void 0:a.t("assetManager.inputPlh"),`"/>
            </div>
            <button class="`).concat(n,'btn-prim">').concat(a==null?void 0:a.t("assetManager.addButton"),`</button>
            <div style="clear:both"></div>
          </form>
      `)),`
    <div class="`.concat(t,`assets-cont">
      <div class="`).concat(t,`assets-header">
        `).concat(p,`
      </div>
      <div class="`).concat(t,`assets" data-el="assets"></div>
      <div style="clear:both"></div>
    </div>
    `)},i.prototype.handleSubmit=function(e){e.preventDefault();var t=this.getAddInput(),n=t&&t.value.trim(),a=this.config.handleAdd;if(n){t.value="";var p=this.getAssetsEl();p&&(p.scrollTop=0),a?a.bind(this)(n):this.options.globalCollection.add(n,{at:0})}},i.prototype.getAssetsEl=function(){return this.el.querySelector(".".concat(this.pfx,"assets"))},i.prototype.getAddInput=function(){return(!this.inputUrl||!this.inputUrl.value)&&(this.inputUrl=this.el.querySelector(".".concat(this.pfx,"add-asset input"))),this.inputUrl},i.prototype.removedAsset=function(e){this.collection.length||this.toggleNoAssets()},i.prototype.addToAsset=function(e){this.collection.length==1&&this.toggleNoAssets(!0),this.addAsset(e)},i.prototype.addAsset=function(e,t){t===void 0&&(t=null);var n=t,a=this.collection,p=this.config,m=new e.typeView({model:e,collection:a,config:p}).render().el;if(n)n.appendChild(m);else{var y=this.getAssetsEl();y&&y.insertBefore(m,y.firstChild)}return m},i.prototype.toggleNoAssets=function(e){e===void 0&&(e=!1);var t=this.$el.find(".".concat(this.pfx,"assets"));if(e)t.empty();else{var n=this.config.noAssets;n&&t.append(n)}},i.prototype.deselectAll=function(){var e=this.pfx;this.$el.find(".".concat(e,"highlight")).removeClass("".concat(e,"highlight"))},i.prototype.renderAssets=function(){var e=this,t=document.createDocumentFragment(),n=this.$el.find(".".concat(this.pfx,"assets"));n.empty(),this.toggleNoAssets(!!this.collection.length),this.collection.each(function(a){return e.addAsset(a,t)}),n.append(t)},i.prototype.render=function(){var e=this.options.fu.render().el;return this.$el.empty(),this.$el.append(e).append(this.template(this)),this.el.className="".concat(this.ppfx,"asset-manager"),this.renderAssets(),this},i}(C.G7);const dL=GS;GS.prototype.events={submit:"handleSubmit"};var pL=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),hL=function(u,i){return Object.defineProperty?Object.defineProperty(u,"raw",{value:i}):u.raw=i,u},vL=function(u){pL(i,u);function i(e){e===void 0&&(e={});var t=u.call(this,e)||this;t.options=e;var n=e.config||{};t.module=e.module,t.config=n,t.em=t.config.em,t.pfx=n.stylePrefix||"",t.ppfx=n.pStylePrefix||"",t.target=t.options.globalCollection||{},t.uploadId=t.pfx+"uploadFile",t.disabled=n.disableUpload!==void 0?n.disableUpload:!n.upload&&!n.embedAsBase64,t.multiUpload=n.multiUpload!==void 0?n.multiUpload:!0;var a=n.uploadFile;return a?t.uploadFile=a.bind(t):!n.upload&&n.embedAsBase64&&(t.uploadFile=i.embedAsBase64),t.delegateEvents(),t}return i.prototype.template=function(e){var t=e.pfx,n=e.title,a=e.uploadId,p=e.disabled,m=e.multiUpload;return s(ZS||(ZS=hL([`
      <form>
        <div id="`,'title">',`</div>
        <input
          data-input
          type="file"
          id="`,`"
          name="file"
          accept="*/*"
          `,`
          `,`
        />
        <div style="clear:both;"></div>
      </form>
    `],[`
      <form>
        <div id="`,'title">',`</div>
        <input
          data-input
          type="file"
          id="`,`"
          name="file"
          accept="*/*"
          `,`
          `,`
        />
        <div style="clear:both;"></div>
      </form>
    `])),t,n,a,p?"disabled":"",m?"multiple":"")},i.prototype.events=function(){return{"change [data-input]":"uploadFile"}},i.prototype.onUploadStart=function(){var e=this.module;e==null||e.__propEv(e.events.uploadStart)},i.prototype.onUploadEnd=function(e){var t=this,n=t.$el,a=t.module;a==null||a.__propEv(a.events.uploadEnd,e);var p=n.find("input");p&&p.val("")},i.prototype.onUploadError=function(e){var t=this.module;console.error(e),this.onUploadEnd(e),t==null||t.__propEv(t.events.uploadError,e)},i.prototype.onUploadResponse=function(e,t){var n=this,a=n.module,p=n.config,m=n.target,y;try{y=typeof e=="string"?JSON.parse(e):e}catch{y=e}a==null||a.__propEv(a.events.uploadResponse,y),p.autoAdd&&m&&m.add(y.data,{at:0}),this.onUploadEnd(e),t==null||t(y)},i.prototype.uploadFile=function(e,t){var n=this,a=e.dataTransfer?e.dataTransfer.files:e.target.files,p=this.config,m=p.beforeUpload,y=m&&m(a);if(y!==!1){var b=new FormData,O=p.params,A=p.customFetch,R=p.fetchOptions;for(var B in O)b.append(B,O[B]);if(this.multiUpload)for(var Q=0;Q<a.length;Q++)b.append("".concat(p.uploadName).concat(p.multiUploadSuffix),a[Q]);else a.length&&b.append(p.uploadName,a[0]);var le=p.upload,ue=p.headers,ke="X-Requested-With";if(typeof ue[ke]>"u"&&(ue[ke]="XMLHttpRequest"),le){this.onUploadStart();var Be={method:"post",credentials:p.credentials||"include",headers:ue,body:b},He=(R==null?void 0:R(Be))||Be,ot=A?A(le,He):j(le,He).then(function(Ot){return(Ot.status/200|0)==1?Ot.text():Ot.text().then(function(Gt){return Promise.reject(Gt)})});return ot.then(function(Ot){return n.onUploadResponse(Ot,t)}).catch(function(Ot){return n.onUploadError(Ot)})}}},i.prototype.initDrop=function(){var e=this;if(!this.uploadForm){this.uploadForm=this.$el.find("form").get(0);var t=this.uploadForm;"draggable"in t&&(this.uploadForm.ondragover=function(){return t.className=e.pfx+"hover",!1},this.uploadForm.ondragleave=function(){return t.className="",!1},this.uploadForm.ondrop=function(n){t.className="",n.preventDefault(),e.uploadFile(n)})}},i.prototype.initDropzone=function(e){var t=this,n=0,a=this.config,p=e.model,m=e.el,y=p.Editor,b=p.Canvas.getBody(),O=this.ppfx,A="".concat(O,"dropzone-active"),R="".concat(O,"dropzone"),B=function(){m.className=m.className.replace(A,"").trim(),n=0},Q=function(){return n||(m.className+=" ".concat(A),n=1),!1},le=function(){return B(),!1},ue=function(ke){if(B(),ke.preventDefault(),ke.stopPropagation(),t.uploadFile(ke),a.openAssetsOnDrop&&y){var Be=y.getSelected();y.runCommand("open-assets",{target:Be,onSelect:function(){y.Modal.close(),y.AssetManager.setTarget(null)}})}return!1};e.$el.append('<div class="'.concat(R,'">').concat(a.dropzoneContent,"</div>")),B(),"draggable"in m&&[m,b].forEach(function(ke){ke.ondragover=Q,ke.ondragleave=le,ke.ondrop=ue})},i.prototype.render=function(){var e=this,t=e.$el,n=e.pfx,a=e.em;return t.html(this.template({title:a&&a.t("assetManager.uploadTitle"),uploadId:this.uploadId,disabled:this.disabled,multiUpload:this.multiUpload,pfx:n})),this.initDrop(),t.attr("class",n+"file-uploader"),this},i.embedAsBase64=function(e,t){var n=this,a=e.dataTransfer?e.dataTransfer.files:e.target.files,p={data:[]};if(!FileReader){this.onUploadError(new Error("Unsupported platform, FileReader is not defined"));return}for(var m=[],y=/^(.+)\/(.+)$/,b=function(B){var Q=new Promise(function(le,ue){var ke=new FileReader;ke.addEventListener("load",function(Be){var He,ot=B.name,Ot=y.exec(B.type);if(Ot?He=Ot[1]:He=B.type,He==="image"){var Gt={src:ke.result,name:ot,type:He,height:0,width:0},er=new Image;er.addEventListener("error",function(ft){ue(ft)}),er.addEventListener("load",function(){Gt.height=er.height,Gt.width=er.width,le(Gt)}),er.src=Gt.src}else le(He?{src:ke.result,name:ot,type:He}:ke.result)}),ke.addEventListener("error",function(Be){ue(Be)}),ke.addEventListener("abort",function(Be){ue("Aborted")}),ke.readAsDataURL(B)});m.push(Q)},O=0,A=a;O<A.length;O++){var R=A[O];b(R)}return Promise.all(m).then(function(B){p.data=B,n.onUploadResponse(p,t)},function(B){n.onUploadError(B)})},i}(C.G7);const gL=vL;var ZS,mL=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Rf=function(){return Rf=Object.assign||function(u){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(u[n]=i[n])}return u},Rf.apply(this,arguments)},qS=function(u,i,e){if(e||arguments.length===2)for(var t=0,n=i.length,a;t<n;t++)(a||!(t in i))&&(a||(a=Array.prototype.slice.call(i,0,t)),a[t]=i[t]);return u.concat(a||Array.prototype.slice.call(i))},Pp="open-assets",yL=function(u){mL(i,u);function i(e){var t=u.call(this,e,"AssetManager",new pw([],e),KS,JA)||this;t.storageKey="assets",t.Asset=dw,t.Assets=pw,t.events=KS;var n=t,a=n.all,p=n.config;t.assetsVis=new pw([]);var m=p.pStylePrefix;return m&&(p.stylePrefix="".concat(m).concat(p.stylePrefix)),a.on("add",function(y){return t.getAllVisible().add(y)}),a.on("remove",function(y){return t.getAllVisible().remove(y)}),t.__onAllEvent=(0,r.debounce)(function(){return t.__trgCustom()},0),t}return i.prototype.open=function(e){e===void 0&&(e={});var t=this.em.Commands;t.run(Pp,Rf({types:["image"],select:function(){}},e))},i.prototype.close=function(){var e=this.em.Commands;e.stop(Pp)},i.prototype.isOpen=function(){var e=this.em.Commands;return!!(e!=null&&e.isActive(Pp))},i.prototype.add=function(e,t){return t===void 0&&(t={}),typeof t.at>"u"&&(t.at=0),this.all.add(e,t)},i.prototype.get=function(e){return this.all.where({src:e})[0]||null},i.prototype.getAll=function(){return this.all},i.prototype.getAllVisible=function(){return this.assetsVis},i.prototype.remove=function(e,t){return this.__remove(e,t)},i.prototype.store=function(){return this.getProjectData()},i.prototype.load=function(e){return this.loadProjectData(e)},i.prototype.getContainer=function(){var e,t=this.__getBehaviour();return t.container||((e=this.am)===null||e===void 0?void 0:e.el)},i.prototype.getAssetsEl=function(){var e;return(e=this.am)===null||e===void 0?void 0:e.el.querySelector("[data-el=assets]")},i.prototype.render=function(e){if(!this.getConfig().custom){var t=e||this.getAll().models;if(!this.am){var n=this.__viewParams();n.fu=this.FileUploader(),this.am=new dL(Rf({},n)),this.am.render()}return this.assetsVis.reset(t),this.getContainer()}},i.prototype.__viewParams=function(){return{collection:this.assetsVis,globalCollection:this.all,config:this.config,module:this,fu:void 0}},i.prototype.addType=function(e,t){this.getAll().addType(e,t)},i.prototype.getType=function(e){return this.getAll().getType(e)},i.prototype.getTypes=function(){return this.getAll().getTypes()},i.prototype.AssetsView=function(){return this.am},i.prototype.FileUploader=function(){return this.fu||(this.fu=new gL(this.__viewParams())),this.fu},i.prototype.onLoad=function(){var e=this;this.getAll().reset(this.config.assets);var t=this,n=t.em,a=t.events;n.Commands.__onRun(Pp,function(){return e.__propEv(a.open)}),n.Commands.__onStop(Pp,function(){return e.__propEv(a.close)})},i.prototype.postRender=function(e){var t;this.config.dropzone&&((t=this.fu)===null||t===void 0||t.initDropzone(e))},i.prototype.setTarget=function(e){this.assetsVis.target=e},i.prototype.onSelect=function(e){this.assetsVis.onSelect=e},i.prototype.onClick=function(e){this.config.onClick=e},i.prototype.onDblClick=function(e){this.config.onDblClick=e},i.prototype.__propEv=function(e){for(var t,n,a=[],p=1;p<arguments.length;p++)a[p-1]=arguments[p];(t=this.em).trigger.apply(t,qS([e],a,!1)),(n=this.getAll()).trigger.apply(n,qS([e],a,!1))},i.prototype.__trgCustom=function(){var e=this.__getBehaviour(),t=this.getConfig().custom;!e.container&&!t.open||this.em.trigger(this.events.custom,this.__customData())},i.prototype.__customData=function(){var e=this,t=this.__getBehaviour();return{am:this,open:this.isOpen(),assets:this.getAll().models,types:t.types||[],container:t.container,close:function(){return e.close()},remove:function(n,a){return e.remove(n,a)},select:function(n,a){var p=e.add(n);(0,r.isFunction)(t.select)&&t.select(p,a)},options:t.options||{}}},i.prototype.__behaviour=function(e){return e===void 0&&(e={}),this._bhv=Rf(Rf({},this._bhv||{}),e)},i.prototype.__getBehaviour=function(e){return this._bhv||{}},i.prototype.destroy=function(){var e,t;this.all.stopListening(),this.all.reset(),this.assetsVis.stopListening(),this.assetsVis.reset(),(e=this.fu)===null||e===void 0||e.remove(),(t=this.am)===null||t===void 0||t.remove(),this._bhv={}},i}($);const wL=yL;var _L=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),bL=function(u){_L(i,u);function i(e,t){t===void 0&&(t={});var n=u.call(this,e,t)||this,a=t.em,p={};n.em=a,e.frames||(p.component=e.component,p.styles=e.styles,["component","styles"].map(function(b){return n.unset(b)}));var m=e.frames||[p],y=new Vt(a.Canvas,m);return y.page=n,n.set("frames",y),!n.getId()&&n.set("id",a==null?void 0:a.Pages._createId()),a==null||a.UndoManager.add(y),n}return i.prototype.defaults=function(){return{name:"",frames:[],_undo:!0}},i.prototype.onRemove=function(){this.getFrames().reset()},i.prototype.getFrames=function(){return this.get("frames")},i.prototype.getId=function(){return this.id},i.prototype.getName=function(){return this.get("name")},i.prototype.setName=function(e){return this.set({name:e})},i.prototype.getAllFrames=function(){return this.getFrames().models||[]},i.prototype.getMainFrame=function(){return this.getFrames().at(0)},i.prototype.getMainComponent=function(){var e=this.getMainFrame();return e==null?void 0:e.getComponent()},i.prototype.toJSON=function(e){e===void 0&&(e={});var t=C.Hn.prototype.toJSON.call(this,e),n=(0,r.result)(this,"defaults");return(0,r.forEach)(t,function(a,p){p.indexOf("_")===0&&delete t[p]}),(0,r.forEach)(n,function(a,p){t[p]===a&&delete t[p]}),t},i}(C.Hn);const vw=bL;var xL=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Sg=function(){return Sg=Object.assign||function(u){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(u[n]=i[n])}return u},Sg.apply(this,arguments)},SL=function(u){xL(i,u);function i(e,t){var n=u.call(this,e)||this;return n.on("reset",n.onReset),n.on("remove",n.onRemove),n.model=function(a,p){return p===void 0&&(p={}),new vw(a,Sg(Sg({},p),{em:t}))},n}return i.prototype.onReset=function(e,t){var n=this,a;(a=t==null?void 0:t.previousModels)===null||a===void 0||a.map(function(p){return n.onRemove(p)})},i.prototype.onRemove=function(e){e==null||e.onRemove()},i}(C.FE);const CL=SL;var OL=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),EL=function(u,i,e){if(e||arguments.length===2)for(var t=0,n=i.length,a;t<n;t++)(a||!(t in i))&&(a||(a=Array.prototype.slice.call(i,0,t)),a[t]=i[t]);return u.concat(a||Array.prototype.slice.call(i))},YS="change:selected",XS="main",TL=function(u){OL(i,u);function i(e){var t=u.call(this,e,"PageManager",new CL([],e),zr)||this;t.events=zr,t.storageKey="pages",(0,r.bindAll)(t,"_onPageChange");var n=new ie.Z({_undo:!0});return t.model=n,t.pages.on("reset",function(a){return a.at(0)&&t.select(a.at(0))}),t.pages.on("all",t.__onChange,t),n.on(YS,t._onPageChange),t}return Object.defineProperty(i.prototype,"pages",{get:function(){return this.all},enumerable:!1,configurable:!0}),i.prototype.getAll=function(){return EL([],this.all.models,!0)},i.prototype.__onChange=function(e,t,n,a){var p=this,m=p.em,y=p.events,b=a||n;m.trigger(y.all,{event:e,page:t,options:b})},i.prototype.onLoad=function(){var e,t=this,n=t.pages,a=t.config,p=t.em,m={silent:!0},y=((e=a.pages)===null||e===void 0?void 0:e.map(function(O){return new vw(O,{em:p,config:a})}))||[];n.add(y,m);var b=n.length?this._initPage():this.add({type:XS},m);b&&this.select(b,m)},i.prototype._onPageChange=function(e,t,n){var a=this,p=a.em,m=a.events,y=p.Layers,b=t.getMainComponent();y&&b&&y.setRoot(b),p.trigger(m.select,t,e.previous("selected")),this.__onChange(YS,t,n)},i.prototype.postLoad=function(){var e=this,t=e.em,n=e.model,a=e.pages,p=t.UndoManager;p.add(n),p.add(a),a.on("add remove reset change",function(m,y,b){return t.changesUp(b||y)})},i.prototype.add=function(e,t){var n=this;t===void 0&&(t={});var a=this,p=a.em,m=a.events;e.id=e.id||this._createId();var y=function(){var b=n.pages.add(new vw(e,{em:n.em,config:n.config}),t);return t.select&&n.select(b),b};return!t.silent&&p.trigger(m.addBefore,e,y,t),t.abort?void 0:y()},i.prototype.remove=function(e,t){var n=this;t===void 0&&(t={});var a=this,p=a.em,m=a.events,y=(0,r.isString)(e)?this.get(e):e,b=function(){return y&&n.pages.remove(y,t),y};return!t.silent&&p.trigger(m.removeBefore,y,b,t),!t.abort&&b()},i.prototype.get=function(e){return this.pages.filter(function(t){return t.get(t.idAttribute)===e})[0]},i.prototype.getMain=function(){var e=this.pages;return e.filter(function(t){return t.get("type")===XS})[0]||e.at(0)},i.prototype.getAllWrappers=function(){var e=this.getAll();return(0,r.unique)((0,r.flatten)(e.map(function(t){return t.getAllFrames().map(function(n){return n.getComponent()})})))},i.prototype.select=function(e,t){t===void 0&&(t={});var n=this,a=n.em,p=n.model,m=n.events,y=(0,r.isString)(e)?this.get(e):e;return y&&(a.trigger(m.selectBefore,y,t),p.set("selected",y,t)),this},i.prototype.getSelected=function(){return this.model.get("selected")},i.prototype.destroy=function(){var e=this;this.pages.off().reset(),this.model.stopListening(),this.model.clear({silent:!0}),["selected","model"].map(function(t){return e[t]=0})},i.prototype.store=function(){return this.getProjectData()},i.prototype.load=function(e){var t=this.loadProjectData(e,{all:this.pages,reset:!0});return this.pages.forEach(function(n){return n.getFrames().initRefs()}),t},i.prototype._initPage=function(){return this.get(this.config.selected)||this.getMain()},i.prototype._createId=function(){var e=this.getAll(),t=e.length+16,n=this.getAllMap(),a;do a=(0,o.createId)(t);while(n[a]);return a},i}($);const PL=TL;var gw={placeholder:"eg. Text here"},kL={locale:"en",localeFallback:"en",detectLocale:!0,debug:!1,messages:{en:{assetManager:{addButton:"Add image",inputPlh:"http://path/to/the/image.jpg",modalTitle:"Select Image",uploadTitle:"Drop files here or click to upload"},blockManager:{labels:{},categories:{}},domComponents:{names:{"":"Box",wrapper:"Body",text:"Text",comment:"Comment",image:"Image",video:"Video",label:"Label",link:"Link",map:"Map",tfoot:"Table foot",tbody:"Table body",thead:"Table head",table:"Table",row:"Table row",cell:"Table cell"}},deviceManager:{device:"Device",devices:{desktop:"Desktop",tablet:"Tablet",mobileLandscape:"Mobile Landscape",mobilePortrait:"Mobile Portrait"}},panels:{buttons:{titles:{preview:"Preview",fullscreen:"Fullscreen","sw-visibility":"View components","export-template":"View code","open-sm":"Open Style Manager","open-tm":"Settings","open-layers":"Open Layer Manager","open-blocks":"Open Blocks"}}},selectorManager:{label:"Classes",selected:"Selected",emptyState:"- State -",states:{hover:"Hover",active:"Click","nth-of-type(2n)":"Even/Odd"}},styleManager:{empty:"Select an element before using Style Manager",layer:"Layer",fileButton:"Images",sectors:{general:"General",layout:"Layout",typography:"Typography",decorations:"Decorations",extra:"Extra",flex:"Flex",dimension:"Dimension"},properties:{"text-shadow-h":"X","text-shadow-v":"Y","text-shadow-blur":"Blur","text-shadow-color":"Color","box-shadow-h":"X","box-shadow-v":"Y","box-shadow-blur":"Blur","box-shadow-spread":"Spread","box-shadow-color":"Color","box-shadow-type":"Type","margin-top-sub":"Top","margin-right-sub":"Right","margin-bottom-sub":"Bottom","margin-left-sub":"Left","padding-top-sub":"Top","padding-right-sub":"Right","padding-bottom-sub":"Bottom","padding-left-sub":"Left","border-width-sub":"Width","border-style-sub":"Style","border-color-sub":"Color","border-top-left-radius-sub":"Top Left","border-top-right-radius-sub":"Top Right","border-bottom-right-radius-sub":"Bottom Right","border-bottom-left-radius-sub":"Bottom Left","transform-rotate-x":"Rotate X","transform-rotate-y":"Rotate Y","transform-rotate-z":"Rotate Z","transform-scale-x":"Scale X","transform-scale-y":"Scale Y","transform-scale-z":"Scale Z","transition-property-sub":"Property","transition-duration-sub":"Duration","transition-timing-function-sub":"Timing","background-image-sub":"Image","background-repeat-sub":"Repeat","background-position-sub":"Position","background-attachment-sub":"Attachment","background-size-sub":"Size"}},traitManager:{empty:"Select an element before using Trait Manager",label:"Component settings",categories:{},traits:{labels:{},attributes:{id:gw,alt:gw,title:gw,href:{placeholder:"eg. https://google.com"}},options:{target:{false:"This window",_blank:"New window"}}}},storageManager:{recover:"Do you want to recover unsaved changes?"}}},messagesAdd:void 0};const AL=kL;var mw;(function(u){u.add="i18n:add",u.update="i18n:update",u.locale="i18n:locale"})(mw||(mw={}));const LL=mw;var ML=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),DL=function(u){ML(i,u);function i(e){var t=u.call(this,e,"I18n",AL)||this;t.events=LL;var n=t.config.messagesAdd;return n&&t.addMessages(n),t.config.detectLocale&&(t.config.locale=t._localLang()),t}return i.prototype.setLocale=function(e){var t=this,n=t.em,a=t.config,p=t.events;return n.trigger(p.locale,{value:e,valuePrev:a.locale}),a.locale=e,this},i.prototype.getLocale=function(){return this.config.locale},i.prototype.getMessages=function(e,t){t===void 0&&(t={});var n=this.config.messages;return e&&!n[e]&&this._debug("'".concat(e,"' i18n lang not found"),t),e?n[e]:n},i.prototype.setMessages=function(e){var t=this,n=t.em,a=t.config,p=t.events;return a.messages=e,n.trigger(p.update,e),this},i.prototype.addMessages=function(e){var t=this,n=t.em,a=t.events,p=t.config,m=p.messages;return n.trigger(a.add,e),this.setMessages((0,o.deepMerge)(m,e)),this},i.prototype.t=function(e,t){t===void 0&&(t={});var n=this.config,a=t.params||{},p=t.l||this.getLocale(),m=t.lFlb||n.localeFallback,y=this._getMsg(e,p,t);return y||(y=this._getMsg(e,m,t)),!y&&this._debug("'".concat(e,"' i18n key not found in '").concat(p,"' lang"),t),y=y&&(0,r.isString)(y)?this._addParams(y,a):y,y},i.prototype._localLang=function(){var e=(0,o.hasWin)()&&window.navigator||{},t=e.language||e.userLanguage;return t?t.split("-")[0]:"en"},i.prototype._addParams=function(e,t){var n=new RegExp("{([\\w\\d-]*)}","g");return e.replace(n,function(a,p){return t[p]||""}).trim()},i.prototype._getMsg=function(e,t,n){n===void 0&&(n={});var a=this.getMessages(t,n);if(a){var p=a[e];return!p&&e.indexOf(".")>0&&(p=e.split(".").reduce(function(m,y){if(!(0,r.isUndefined)(m))return m[y]},a)),p}},i.prototype._debug=function(e,t){t===void 0&&(t={});var n=this,a=n.em,p=n.config;(t.debug||p.debug)&&a&&a.logWarning(e)},i.prototype.destroy=function(){},i}(z);const RL=DL;var NL=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ns=function(){return ns=Object.assign||function(u){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(u[n]=i[n])}return u},ns.apply(this,arguments)},jL=function(){},IL=Sr.q.Target,JS={id:"sorter-target",type:IL},FL=function(u){NL(i,u);function i(){return u!==null&&u.apply(this,arguments)||this}return i.prototype.initialize=function(e){e===void 0&&(e={}),this.opt=e||{},(0,r.bindAll)(this,"startSort","onMove","endMove","rollback","updateOffset","moveDragHelper");var t=e||{};this.elT=0,this.elL=0,this.borderOffset=t.borderOffset||10;var n=t.container;this.el=typeof n=="string"?document.querySelector(n):n,this.$el=(0,x.default)(this.el),this.containerSel=t.containerSel||"div",this.itemSel=t.itemSel||"div",this.draggable=t.draggable||!0,this.nested=!!t.nested,this.pfx=t.pfx||"",this.ppfx=t.ppfx||"",this.freezeClass=t.freezeClass||this.pfx+"freezed",this.onStart=t.onStart||jL,this.onEndMove=t.onEndMove,this.customTarget=t.customTarget,this.onEnd=t.onEnd,this.direction=t.direction||"v",this.onMoveClb=t.onMove,this.relative=t.relative||!1,this.ignoreViewChildren=!!t.ignoreViewChildren,this.plh=t.placer,this.wmargin=t.wmargin||0,this.offTop=t.offsetTop||0,this.offLeft=t.offsetLeft||0,this.document=t.document||document,this.em=t.em,this.canvasRelative=!!t.canvasRelative,this.selectOnEnd=!t.avoidSelectOnEnd,this.scale=t.scale;var a=this.em;a!=null&&a.on&&(a.on(a.Canvas.events.refresh,this.updateOffset),this.updateOffset())},i.prototype.getScale=function(){return(0,r.result)(this,"scale")||1},i.prototype.getContainerEl=function(e){if(e&&(this.el=e),!this.el){var t=this.opt.container;this.el=typeof t=="string"?document.querySelector(t):t,this.$el=(0,x.default)(this.el)}return this.el},i.prototype.getDocuments=function(e){var t=this.em,n=e?e.ownerDocument:t==null?void 0:t.Canvas.getBody().ownerDocument,a=[document];return n&&a.push(n),a},i.prototype.updateOffset=function(){var e,t=((e=this.em)===null||e===void 0?void 0:e.get("canvasOffset"))||{};this.offTop=t.top,this.offLeft=t.left},i.prototype.setDropContent=function(e){delete this.dropModel,this.dropContent=e},i.prototype.updateTextViewCursorPosition=function(e){var t=this.em;if(t){var n=t.Canvas,a=n.getDocument(),p=null;if(a.caretRangeFromPoint){var m=(0,nt.VB)(e);p=a.caretRangeFromPoint(m.clientX,m.clientY)}else e.rangeParent&&(p=a.createRange(),p.setStart(e.rangeParent,e.rangeOffset));var y=n.getWindow().getSelection();n.getFrameEl().focus(),y==null||y.removeAllRanges(),p&&(y==null||y.addRange(p)),this.setContentEditable(this.activeTextModel,!0)}},i.prototype.setContentEditable=function(e,t){if(e){var n=e.getEl();n.contentEditable!=t&&(n.contentEditable=t)}},i.prototype.toggleSortCursor=function(e){var t=this.em,n=t==null?void 0:t.Canvas;n&&(e?n.startAutoscroll():n.stopAutoscroll())},i.prototype.setDragHelper=function(e,t){for(var n=t||"",a=e.cloneNode(!0),p=e.getBoundingClientRect(),m=getComputedStyle(e),y="",b=0;b<m.length;b++){var O=m[b];y+="".concat(O,":").concat(m.getPropertyValue(O),";")}if(document.body.appendChild(a),a.className+=" ".concat(this.pfx,"bdrag"),a.setAttribute("style",y),this.dragHelper=a,a.style.width="".concat(p.width,"px"),a.style.height="".concat(p.height,"px"),n&&this.moveDragHelper(n),this.em){var A=(0,x.default)(this.em.Canvas.getBody().ownerDocument);A.off("mousemove",this.moveDragHelper).on("mousemove",this.moveDragHelper)}(0,x.default)(document).off("mousemove",this.moveDragHelper).on("mousemove",this.moveDragHelper)},i.prototype.moveDragHelper=function(e){var t=e.target.ownerDocument;if(!(!this.dragHelper||!t)){var n=e.pageY,a=e.pageX,p=0,m=0,y=t.defaultView||t.parentWindow,b=y.frameElement,O=this.dragHelper.style;if(b){var A=b.getBoundingClientRect();p=A.top+document.documentElement.scrollTop,m=A.left+document.documentElement.scrollLeft,n=e.clientY,a=e.clientX}O.top=n+p+"px",O.left=a+m+"px"}},i.prototype.matches=function(e,t){return o.matches.call(e,t)},i.prototype.closest=function(e,t){if(e)for(var n=e.parentNode;n&&n.nodeType===1;){if(this.matches(n,t))return n;n=n.parentNode}},i.prototype.offset=function(e){var t=e.getBoundingClientRect();return{top:t.top+document.body.scrollTop,left:t.left+document.body.scrollLeft}},i.prototype.createPlaceholder=function(){var e=this.pfx,t=document.createElement("div"),n=document.createElement("div");return t.className=e+"placeholder",t.style.display="none",t.style.pointerEvents="none",n.className=e+"placeholder-int",t.appendChild(n),t},i.prototype.startSort=function(e,t){var n,a;t===void 0&&(t={});var p=this,m=p.em,y=p.itemSel,b=p.containerSel,O=p.plh,A=this.getContainerEl(t.container),R=this.getDocuments(e),B;delete this.dropModel,delete this.target,delete this.prevTarget,this.moved=!1,e&&!this.matches(e,"".concat(y,", ").concat(b))&&(e=this.closest(e,y)),this.sourceEl=e,O||(this.plh=this.createPlaceholder(),A.appendChild(this.plh)),e&&(B=this.getSourceModel(e),B!=null&&B.set&&B.set("status","freezed"),this.srcModel=B),(0,nt.on)(A,"mousemove dragover",this.onMove),(0,nt.on)(R,"mouseup dragend touchend",this.endMove),(0,nt.on)(R,"keydown",this.rollback),this.onStart({sorter:this,target:B,parent:B&&((n=B.parent)===null||n===void 0?void 0:n.call(B)),index:B&&((a=B.index)===null||a===void 0?void 0:a.call(B))}),m==null||m.clearSelection(),this.toggleSortCursor(!0),m==null||m.trigger("sorter:drag:start",e,B)},i.prototype.getTargetModel=function(e){var t=e||this.target;return(0,x.default)(t).data("model")},i.prototype.getSourceModel=function(e,t){var n=this,a=t===void 0?{}:t,p=a.target,m=a.avoidChildren,y=m===void 0?1:m,b=this,O=b.em,A=b.sourceEl,R=e||A,B=this,Q=B.dropModel,le=B.dropContent,ue=function(ot){return ot&&p&&ot.opt&&ot.opt.avoidChildren&&n.isTextableActive(ot,p)};if(le&&O){if(ue(Q)&&(Q=void 0),!Q){var ke=O.Components.getComponents(),Be={avoidChildren:y,avoidStore:1,avoidUpdateStyle:1},He=ke.add(le,ns(ns({},Be),{temporary:!0}));if(Q=ke.remove(He,Be),Q=Q instanceof Array?Q[0]:Q,this.dropModel=Q,ue(Q))return this.getSourceModel(R,{target:p,avoidChildren:0})}return Q}return R&&(0,x.default)(R).data("model")},i.prototype.selectTargetModel=function(e,t){if(!(e instanceof C.FE)&&!(t&&t===e)){var n=this.targetModel;if(n&&n!==this.srcModel&&n.set("status",""),e!=null&&e.set){var a=this.em.Canvas,p=Sr.q.Select,m=Sr.q.Hover,y=Sr.q.Spacing;[p,m,y].forEach(function(b){return a.removeSpots({type:b})}),a.addSpot(ns(ns({},JS),{component:e})),e.set("status","selected-parent"),this.targetModel=e}}},i.prototype.onMove=function(e){var t=e,n=this,a=n.em,p=n.onMoveClb,m=n.plh,y=n.customTarget;this.moved=!0;var b=m.style.display;(!b||b==="none")&&(m.style.display="block");var O=this.offset(this.el);this.elT=this.wmargin?Math.abs(O.top):O.top,this.elL=this.wmargin?Math.abs(O.left):O.left;var A=e.pageY-this.elT+this.el.scrollTop,R=e.pageX-this.elL+this.el.scrollLeft;if(this.canvasRelative&&a){var B=a.Canvas.getMouseRelativeCanvas(e,{noScroll:1});R=B.x,A=B.y}this.rX=R,this.rY=A,this.eventMove=e;var Q=this.getSourceModel(),le=y?y({sorter:this,event:e}):e.target,ue=this.dimsFromTarget(le,R,A),ke=this.target,Be=ke&&this.getTargetModel(ke);if(this.selectTargetModel(Be,Q),Be||(m.style.display="none"),!!ke){this.lastDims=ue;var He=this.findPosition(ue,R,A);this.isTextableActive(Q,Be)?(this.activeTextModel=Be,m.style.display="none",this.lastPos=He,this.updateTextViewCursorPosition(t)):(this.disableTextable(),delete this.activeTextModel,(!this.lastPos||this.lastPos.index!=He.index||this.lastPos.method!=He.method)&&(this.movePlaceholder(this.plh,ue,He,this.prevTargetDim),this.$plh||(this.$plh=(0,x.default)(this.plh)),this.canvasRelative||(this.offTop&&this.$plh.css("top","+="+this.offTop+"px"),this.offLeft&&this.$plh.css("left","+="+this.offLeft+"px")),this.lastPos=He)),(0,r.isFunction)(p)&&p({event:e,target:Q,parent:Be,index:He.index+(He.method=="after"?1:0)}),a&&a.trigger("sorter:drag",{target:ke,targetModel:Be,sourceModel:Q,dims:ue,pos:He,x:R,y:A})}},i.prototype.isTextableActive=function(e,t){var n;return((n=e==null?void 0:e.get)===null||n===void 0?void 0:n.call(e,"textable"))&&(t==null?void 0:t.isInstanceOf("text"))},i.prototype.disableTextable=function(){var e=this.activeTextModel;e==null||e.getView().disableEditing(),this.setContentEditable(e,!1)},i.prototype.isInFlow=function(e,t){if(!e)return!1;t=t||document.body;var n=e;return n.offsetHeight,!!this.styleInFlow(n,t)},i.prototype.styleInFlow=function(e,t){if(!(0,nt.BM)(e)){var n=e.style||{},a=(0,x.default)(e),p=t&&(0,x.default)(t);if(!(n.overflow&&n.overflow!=="visible")){var m=a.css("float");if(!(m&&m!=="none")&&!(p&&p.css("display")=="flex"&&p.css("flex-direction")!=="column")){switch(n.position){case"static":case"relative":case"":break;default:return}switch(e.tagName){case"TR":case"TBODY":case"THEAD":case"TFOOT":return!0}switch(a.css("display")){case"block":case"list-item":case"table":case"flex":case"grid":return!0}}}}},i.prototype.validTarget=function(e,t){var n,a,p=this.lastPos,m=this.getTargetModel(e),y=this.getSourceModel(t,{target:m});t=(n=y==null?void 0:y.view)===null||n===void 0?void 0:n.el,e=(a=m==null?void 0:m.view)===null||a===void 0?void 0:a.el;var b={valid:!0,src:t,srcModel:y,trg:e,trgModel:m,draggable:!1,droppable:!1,dragInfo:"",dropInfo:""};if(!t||!e)return b.valid=!1,b;var O=p?p.method==="after"?p.indexEl+1:p.indexEl:m.components().length,A=y.get("draggable");if((0,r.isFunction)(A)){var R=A(y,m,O);b.dragInfo=R,b.draggable=R,A=R}else A=A instanceof Array?A.join(", "):A,b.dragInfo=A,A=(0,r.isString)(A)?this.matches(e,A):A,b.draggable=A;var B=m.get("droppable");if((0,r.isFunction)(B)){var R=B(y,m,O);b.droppable=R,b.dropInfo=R,B=R}else B=B instanceof C.FE?1:B,B=B instanceof Array?B.join(", "):B,b.dropInfo=B,B=(0,r.isString)(B)?this.matches(t,B):B,B=A&&this.isTextableActive(y,m)?1:B,b.droppable=B;return(!B||!A)&&(b.valid=!1),b},i.prototype.dimsFromTarget=function(e,t,n){t===void 0&&(t=0),n===void 0&&(n=0);var a=this.em,p=[];if(!e||(this.matches(e,"".concat(this.itemSel,", ").concat(this.containerSel))||(e=this.closest(e,this.itemSel)),this.draggable instanceof Array&&(e=this.closest(e,this.draggable.join(","))),!e))return p;if(this.prevTarget&&this.prevTarget!=e&&delete this.prevTarget,!this.prevTarget){this.targetP=this.closest(e,this.containerSel);var m=this.validTarget(e);if(a&&a.trigger("sorter:drag:validation",m),!m.valid&&this.targetP)return this.dimsFromTarget(this.targetP,t,n);this.prevTarget=e,this.prevTargetDim=this.getDim(e),this.cacheDimsP=this.getChildrenDim(this.targetP),this.cacheDims=this.getChildrenDim(e)}if(this.prevTarget==e&&(p=this.cacheDims),this.target=this.prevTarget,this.nearBorders(this.prevTargetDim,t,n)||!this.nested&&!this.cacheDims.length){var y=this.targetP;y&&this.validTarget(y).valid&&(p=this.cacheDimsP,this.target=y)}return delete this.lastPos,p},i.prototype.getTargetFromEl=function(e){var t=e,n,a=this.targetPrev,p=this.em,m=this.containerSel,y=this.itemSel;if(this.matches(t,"".concat(y,", ").concat(m))||(t=this.closest(t,y)),this.draggable instanceof Array&&(t=this.closest(t,this.draggable.join(","))),a&&a!=t&&delete this.targetPrev,!this.targetPrev){n=this.closest(t,m);var b=this.validTarget(t);if(p&&p.trigger("sorter:drag:validation",b),!b.valid&&n)return this.getTargetFromEl(n);this.targetPrev=t}return this.nearElBorders(t)&&(n=this.closest(t,m),n&&this.validTarget(n).valid&&(t=n)),t},i.prototype.nearElBorders=function(e){var t=10,n=e.getBoundingClientRect(),a=e.ownerDocument.body,p=this.getCurrentPos(),m=p.x,y=p.y,b=n.top+a.scrollTop,O=n.left+a.scrollLeft,A=n.width,R=n.height;if(y<b+t||y>b+R-t||m<O+t||m>O+A-t)return 1},i.prototype.getCurrentPos=function(){var e=this.eventMove,t=(e==null?void 0:e.pageX)||0,n=(e==null?void 0:e.pageY)||0;return{x:t,y:n}},i.prototype.getDim=function(e){var t=this,n=t.em,a=t.canvasRelative,p=n==null?void 0:n.Canvas,m=p?p.getElementOffsets(e):{},y,b,O,A;if(a&&n){var R=p.getElementPos(e,{noScroll:1});y=R.top,b=R.left,O=R.height,A=R.width}else{var B=this.offset(e);y=this.relative?e.offsetTop:B.top-(this.wmargin?-1:1)*this.elT,b=this.relative?e.offsetLeft:B.left-(this.wmargin?-1:1)*this.elL,O=e.offsetHeight,A=e.offsetWidth}return{top:y,left:b,height:O,width:A,offsets:m}},i.prototype.getChildrenDim=function(e){var t=this,n=[];if(!e)return n;var a=this.getTargetModel(e);if(a&&a.view&&!this.ignoreViewChildren){var p=a.getCurrentView?a.getCurrentView():a.view;e=p.getChildrenContainer()}return(0,r.each)(e.children,function(m,y){var b=m,O=(0,o.getModel)(b,x.default),A=O&&O.index?O.index():y;if(!(!(0,nt.BM)(b)&&!t.matches(b,t.itemSel))){var R=t.getDim(b),B=t.direction,Q;B=="v"?Q=!0:B=="h"?Q=!1:Q=t.isInFlow(b,e),R.dir=Q,R.el=b,R.indexEl=A,n.push(R)}}),n},i.prototype.nearBorders=function(e,t,n){var a=!1,p=this.borderOffset,m=t||0,y=n||0,b=e.top,O=e.left,A=e.height,R=e.width;return(b+p>y||y>b+A-p||O+p>m||m>O+R-p)&&(a=!0),a},i.prototype.findPosition=function(e,t,n){for(var a={index:0,indexEl:0,method:"before"},p=0,m=0,y=0,b=0,O=0,A=0,R=0,B,Q=0,le=e.length;Q<le;Q++){B=e[Q];var ue=B.top,ke=B.left,Be=B.height,He=B.width;if(y=ke+He,R=ue+Be,O=ke+He/2,A=ue+Be/2,!(m&&ke>m||b&&A>=b||p&&y<p))if(a.index=Q,a.indexEl=B.indexEl,!B.dir)n<R&&(b=R),t<O?(m=O,a.method="before"):(p=O,a.method="after");else if(n<A){a.method="before";break}else a.method="after"}return a},i.prototype.movePlaceholder=function(e,t,n,a){var p=0,m=0,y=0,b="",O="",A="px",R=5,B=n.method,Q=t[n.index];if(e.classList.remove("vertical"),e.classList.add("horizontal"),Q){var le=Q.top,ue=Q.left,ke=Q.height,Be=Q.width;Q.dir?(b=Be+A,O="auto",m=B=="before"?le-p:le+ke-p,y=ue):(b="auto",O=ke-p*2+A,m=le+p,y=B=="before"?ue-p:ue+Be-p,e.classList.remove("horizontal"),e.classList.add("vertical"))}else{if(!this.nested){e.style.display="none";return}if(a){var He=a.offsets||{},ot=He.paddingTop||R,Ot=He.paddingLeft||R,Gt=He.borderTopWidth||0,er=He.borderLeftWidth||0,ft=He.borderRightWidth||0,Jt=er+ft;m=a.top+ot+Gt,y=a.left+Ot+er,b=parseInt("".concat(a.width))-Ot*2-Jt+A,O="auto"}}e.style.top=m+A,e.style.left=y+A,b&&(e.style.width=b),O&&(e.style.height=O)},i.prototype.parents=function(e){return e?[e].concat(this.parents(e.parent())):[]},i.prototype.sort=function(e,t){var n=e.parents.filter(function(y){return t.parents.includes(y)}),a=n[0];if(!a)return t.model.index()-e.model.index();var p=e.parents[e.parents.indexOf(a)-1],m=t.parents[t.parents.indexOf(a)-1];return m.index()-p.index()},i.prototype.endMove=function(){var e=this,t,n=this.sourceEl,a=[],p=this.getDocuments(),m=this.getContainerEl(),y=this.onEndMove,b=this.onEnd,O=this,A=O.target,R=O.lastPos,B;if((0,nt.S1)(m,"mousemove dragover",this.onMove),(0,nt.S1)(p,"mouseup dragend touchend",this.endMove),(0,nt.S1)(p,"keydown",this.rollback),this.plh.style.display="none",n&&(B=this.getSourceModel()),this.moved&&A){var Q=this.toMove,le=(0,r.isArray)(Q)?Q:Q?[Q]:[n],ue=0;le.length===1?a.push(this.move(A,le[0],R)):le.map(function(He){return{model:He,parents:e.parents(He)}}).sort(this.sort).forEach(function(He){var ot=He.model,Ot=ot.index(),Gt=ot.parent().getEl();a.push(e.move(A,ot,ns(ns({},R),{indexEl:R.indexEl-ue,index:R.index-ue}))),Gt===A&&Ot<=R.index&&ue++})}this.plh&&(this.plh.style.display="none");var ke=this.dragHelper;if(ke&&(ke.parentNode.removeChild(ke),delete this.dragHelper),this.disableTextable(),this.selectTargetModel(),this.toggleSortCursor(),(t=this.em)===null||t===void 0||t.Canvas.removeSpots(JS),delete this.toMove,delete this.eventMove,delete this.dropModel,(0,r.isFunction)(y)){var Be={target:B,parent:B&&B.parent(),index:B&&B.index()};a.length?a.forEach(function(He){return y(He,e,Be)}):y(null,this,ns(ns({},Be),{cancelled:1}))}(0,r.isFunction)(b)&&b({sorter:this})},i.prototype.move=function(e,t,n){var a=this,p=a.em,m=a.dropContent,y=(0,o.getElement)(t),b=[],O=n.method==="after"?n.indexEl+1:n.indexEl,A=this.validTarget(e,y),R=(0,x.default)(e).data("collection"),B=A.trgModel,Q=A.srcModel,le=A.draggable,ue=B instanceof C.FE?1:A.droppable,ke,Be;if(R&&ue&&le){var He={at:O,action:"move-component"},ot=this.isTextableActive(Q,B);if(m)ke=(0,r.isFunction)(m)?m():m,He.avoidUpdateStyle=!0,He.action="add-component";else{var Ot=Q.collection.indexOf(Q),Gt=R===Q.collection,er=Ot===O||Ot===O-1,ft=!Gt||!er||ot;ft&&(ke=Q.collection.remove(Q,{temporary:!0}),Gt&&O>Ot&&(He.at=O-1))}ke&&(ot?(delete He.at,Be=B.getView().insertComponent(ke,He)):Be=R.add(ke,He)),delete this.dropContent,delete this.prevTarget}else if(p){var Jt=A.dropInfo||(B==null?void 0:B.get("droppable")),cr=A.dragInfo||(Q==null?void 0:Q.get("draggable"));!R&&b.push("Target collection not found"),!ue&&Jt&&b.push("Target is not droppable, accepts [".concat(Jt,"]")),!le&&cr&&b.push("Component not draggable, acceptable by [".concat(cr,"]")),p.logWarning("Invalid target position",{errors:b,model:Q,context:"sorter",target:B})}return p==null||p.trigger("sorter:drag:end",{targetCollection:R,modelToDrop:ke,warns:b,validResult:A,dst:e,srcEl:y}),Be},i.prototype.rollback=function(e){(0,nt.S1)(this.getDocuments(),"keydown",this.rollback);var t=e.which||e.keyCode;t==27&&(this.moved=!1,this.endMove())},i}(C.G7);const VL=FL;var ac=function(){return ac=Object.assign||function(u){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(u[n]=i[n])}return u},ac.apply(this,arguments)},UL=function(u,i){i===void 0&&(i={});var e=i.prefix||"",t=document.createElement("i");return t.className=e+"resizer-h "+e+"resizer-h-"+u,t.setAttribute("data-"+e+"handler",u),t},BL=function(u,i){var e=window,t=u.getBoundingClientRect();return{left:t.left+e.pageXOffset,top:t.top+e.pageYOffset,width:t.width,height:t.height}},HL=function(){function u(i){i===void 0&&(i={}),this.defOpts={ratioDefault:!1,onUpdateContainer:function(){},step:1,minDim:10,maxDim:1/0,unitHeight:"px",unitWidth:"px",keyHeight:"height",keyWidth:"width",currentUnit:!0,silentFrames:!1,avoidContainerUpdate:!1,keepAutoHeight:!1,keepAutoWidth:!1,autoHeight:!1,autoWidth:!1,tl:!0,tc:!0,tr:!0,cl:!0,cr:!0,bl:!0,bc:!0,br:!0},this.opts=ac({},this.defOpts),this.setOptions(i),(0,r.bindAll)(this,"handleKeyDown","handleMouseDown","move","stop")}return u.prototype.getConfig=function(){return this.opts},u.prototype.setOptions=function(i,e){i===void 0&&(i={}),this.opts=ac(ac({},e?this.defOpts:this.opts),i),this.setup()},u.prototype.setup=function(){var i=this.opts,e=i.prefix||"",t=i.appendTo||document.body,n=this.container;for(n||(n=document.createElement("div"),n.className="".concat(e,"resizer-c"),t.appendChild(n),this.container=n);n.firstChild;)n.removeChild(n.firstChild);var a={};["tl","tc","tr","cl","cr","bl","bc","br"].forEach(function(y){return a[y]=i[y]?UL(y,i):null});for(var p in a){var m=a[p];m&&n.appendChild(m)}this.handlers=a,this.mousePosFetcher=i.mousePosFetcher,this.updateTarget=i.updateTarget,this.posFetcher=i.posFetcher,this.onStart=i.onStart,this.onMove=i.onMove,this.onEnd=i.onEnd,this.onUpdateContainer=i.onUpdateContainer},u.prototype.toggleFrames=function(i){if(this.opts.silentFrames){var e=document.querySelectorAll("iframe");(0,r.each)(e,function(t){return t.style.pointerEvents=i?"none":""})}},u.prototype.isHandler=function(i){var e=this.handlers;for(var t in e)if(e[t]===i)return!0;return!1},u.prototype.getFocusedEl=function(){return this.el},u.prototype.getParentEl=function(){var i;return(i=this.el)===null||i===void 0?void 0:i.parentElement},u.prototype.getDocumentEl=function(){return[this.el.ownerDocument,document]},u.prototype.getElementPos=function(i,e){e===void 0&&(e={});var t=this.posFetcher;return t?t(i,e):BL(i)},u.prototype.focus=function(i){i&&i===this.el||(this.el=i,this.updateContainer({forceShow:!0}),(0,nt.on)(this.getDocumentEl(),"pointerdown",this.handleMouseDown))},u.prototype.blur=function(){this.container.style.display="none",this.el&&((0,nt.S1)(this.getDocumentEl(),"pointerdown",this.handleMouseDown),delete this.el)},u.prototype.start=function(i){var e=i;if(e.button===0){e.preventDefault(),e.stopPropagation();var t=this.el,n=this.getParentEl(),a=this,p=this.opts||{},m=this.mousePosFetcher,y="data-"+p.prefix+"handler",b=this.getElementPos(t,{avoidFrameZoom:!0,avoidFrameOffset:!0}),O=this.getElementPos(n),A=e.target;this.handlerAttr=A.getAttribute(y),this.clickedHandler=A,this.startDim={t:b.top,l:b.left,w:b.width,h:b.height},this.rectDim={t:b.top,l:b.left,w:b.width,h:b.height},this.startPos=m?m(e):{x:e.clientX,y:e.clientY},this.parentDim={t:O.top,l:O.left,w:O.width,h:O.height};var R=this.getDocumentEl();this.docs=R,(0,nt.on)(R,"pointermove",this.move),(0,nt.on)(R,"keydown",this.handleKeyDown),(0,nt.on)(R,"pointerup",this.stop),(0,r.isFunction)(this.onStart)&&this.onStart(e,{docs:R,config:p,el:t,resizer:a}),this.toggleFrames(!0),this.move(e)}},u.prototype.move=function(i){var e=i,t=this.onMove,n=this.mousePosFetcher,a=n?n(e):{x:e.clientX,y:e.clientY};this.currentPos=a,this.delta={x:a.x-this.startPos.x,y:a.y-this.startPos.y},this.keys={shift:e.shiftKey,ctrl:e.ctrlKey,alt:e.altKey},this.rectDim=this.calc(this),this.updateRect(!1),t&&t(e)},u.prototype.stop=function(i){var e=this.el,t=this.opts,n=this.docs||this.getDocumentEl();(0,nt.S1)(n,"pointermove",this.move),(0,nt.S1)(n,"keydown",this.handleKeyDown),(0,nt.S1)(n,"pointerup",this.stop),this.updateRect(!0),this.toggleFrames(),(0,r.isFunction)(this.onEnd)&&this.onEnd(i,{docs:n,config:t,el:e,resizer:this}),delete this.docs},u.prototype.updateRect=function(i){var e=this.el,t=this,n=this.opts,a=this.rectDim,p=this.updateTarget,m=this.getSelectedHandler(),y=n.unitHeight,b=n.unitWidth,O=n.keyWidth,A=n.keyHeight;if((0,r.isFunction)(p))p(e,a,{store:i,selectedHandler:m,resizer:t,config:n});else{var R=e.style;R[O]=a.w+b,R[A]=a.h+y}this.updateContainer()},u.prototype.updateContainer=function(i){var e;i===void 0&&(i={});var t=this,n=t.opts,a=t.container,p=t.el,m=a.style;!n.avoidContainerUpdate&&p&&i.forceShow&&(m.display="block"),(e=this.onUpdateContainer)===null||e===void 0||e.call(this,{el:a,resizer:this,opts:ac(ac({},n),i)})},u.prototype.getSelectedHandler=function(){var i=this.handlers;if(this.selectedHandler){for(var e in i)if(i[e]===this.selectedHandler)return e}},u.prototype.handleKeyDown=function(i){i.keyCode===27&&(this.rectDim=this.startDim,this.stop(i))},u.prototype.handleMouseDown=function(i){var e=i.target;this.isHandler(e)?(this.selectedHandler=e,this.start(i)):e!==this.el&&(delete this.selectedHandler,this.blur())},u.prototype.calc=function(i){var e,t=this.opts||{},n=t.step,a=this.startDim,p=t.minDim,m=t.maxDim,y=i.delta.x,b=i.delta.y,O=this.parentDim.w,A=this.parentDim.h,R=this.opts.unitWidth,B=this.opts.unitHeight,Q=R==="%"?a.w/100*O:a.w,le=B==="%"?a.h/100*A:a.h,ue={t:a.t,l:a.l,w:Q,h:le};if(i){var ke=i.handlerAttr;~ke.indexOf("r")&&(e=R==="%"?(0,o.normalizeFloat)((Q+y*n)/O*100,.01):(0,o.normalizeFloat)(Q+y*n,n),e=Math.max(p,e),m&&(e=Math.min(m,e)),ue.w=e),~ke.indexOf("b")&&(e=B==="%"?(0,o.normalizeFloat)((le+b*n)/A*100,.01):(0,o.normalizeFloat)(le+b*n,n),e=Math.max(p,e),m&&(e=Math.min(m,e)),ue.h=e),~ke.indexOf("l")&&(e=R==="%"?(0,o.normalizeFloat)((Q-y*n)/O*100,.01):(0,o.normalizeFloat)(Q-y*n,n),e=Math.max(p,e),m&&(e=Math.min(m,e)),ue.w=e),~ke.indexOf("t")&&(e=B==="%"?(0,o.normalizeFloat)((le-b*n)/A*100,.01):(0,o.normalizeFloat)(le-b*n,n),e=Math.max(p,e),m&&(e=Math.min(m,e)),ue.h=e);var Be=t.ratioDefault?!i.keys.shift:i.keys.shift;if(ke.indexOf("c")<0&&Be){var He=a.w/a.h;ue.w/ue.h>He?ue.h=Math.round(ue.w/He):ue.w=Math.round(ue.h*He)}~ke.indexOf("l")&&(ue.l+=a.w-ue.w),~ke.indexOf("t")&&(ue.t+=a.h-ue.h);for(var ot in ue){var Ot=ot;ue[Ot]=parseInt("".concat(ue[Ot]),10)}return ue}},u}();const zL=HL;var WL=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),yw=function(){return yw=Object.assign||function(u){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(u[n]=i[n])}return u},yw.apply(this,arguments)},$L=function(u){WL(i,u);function i(e){var t=u.call(this,e,"Utils")||this;return t.Sorter=VL,t.Resizer=zL,t.Dragger=yl.Z,t.helpers=yw({},o),t}return i.prototype.destroy=function(){},i}(z);const KL=$L;var uo,Lo={},qi={16:!1,18:!1,17:!1,91:!1},QS="all",sc={"":16,shift:16,"":18,alt:18,option:18,"":17,ctrl:17,control:17,"":91,command:91},eC={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220},ww=function(u){return eC[u]||u.toUpperCase().charCodeAt(0)},Nf=[];for(uo=1;uo<20;uo++)eC["f"+uo]=111+uo;function kp(u,i){for(var e=u.length;e--;)if(u[e]===i)return e;return-1}function GL(u,i){if(u.length!=i.length)return!1;for(var e=0;e<u.length;e++)if(u[e]!==i[e])return!1;return!0}var ZL={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"};function qL(u){for(uo in qi)qi[uo]=u[ZL[uo]]}function YL(u){var i,e,t,n,a,p;if(i=u.keyCode,kp(Nf,i)==-1&&Nf.push(i),(i==93||i==224)&&(i=91),i in qi){qi[i]=!0;for(t in sc)sc[t]==i&&(Yi[t]=!0);return}if(qL(u),!!Yi.filter.call(this,u)&&i in Lo){for(p=_w(),n=0;n<Lo[i].length;n++)if(e=Lo[i][n],e.scope==p||e.scope=="all"){a=e.mods.length>0;for(t in qi)(!qi[t]&&kp(e.mods,+t)>-1||qi[t]&&kp(e.mods,+t)==-1)&&(a=!1);(e.mods.length==0&&!qi[16]&&!qi[18]&&!qi[17]&&!qi[91]||a)&&e.method(u,e)===!1&&(u.preventDefault?u.preventDefault():u.returnValue=!1,u.stopPropagation&&u.stopPropagation(),u.cancelBubble&&(u.cancelBubble=!0))}}}function XL(u){var i=u.keyCode,e,t=kp(Nf,i);if(t>=0&&Nf.splice(t,1),(i==93||i==224)&&(i=91),i in qi){qi[i]=!1;for(e in sc)sc[e]==i&&(Yi[e]=!1)}}function JL(){for(uo in qi)qi[uo]=!1;for(uo in sc)Yi[uo]=!1}function Yi(u,i,e){var t,n;t=tC(u),e===void 0&&(e=i,i="all");for(var a=0;a<t.length;a++)n=[],u=t[a].split("+"),u.length>1&&(n=rC(u),u=[u[u.length-1]]),u=u[0],u=ww(u),u in Lo||(Lo[u]=[]),Lo[u].push({shortcut:t[a],scope:i,method:e,key:t[a],mods:n})}function QL(u,i){var e,t,n=[],a,p,m;for(e=tC(u),p=0;p<e.length;p++){if(t=e[p].split("+"),t.length>1&&(n=rC(t)),u=t[t.length-1],u=ww(u),i===void 0&&(i=_w()),!Lo[u])return;for(a=0;a<Lo[u].length;a++)m=Lo[u][a],m.scope===i&&GL(m.mods,n)&&(Lo[u][a]={})}}function eM(u){return typeof u=="string"&&(u=ww(u)),kp(Nf,u)!=-1}function tM(){return Nf.slice(0)}function rM(u){var i=(u.target||u.srcElement).tagName;return!(i=="INPUT"||i=="SELECT"||i=="TEXTAREA")}for(uo in sc)Yi[uo]=!1;function nM(u){QS=u||"all"}function _w(){return QS||"all"}function iM(u){var i,e,t;for(i in Lo)for(e=Lo[i],t=0;t<e.length;)e[t].scope===u?e.splice(t,1):t++}function tC(u){var i;return u=u.replace(/\s/g,""),i=u.split(","),i[i.length-1]==""&&(i[i.length-2]+=","),i}function rC(u){for(var i=u.slice(0,u.length-1),e=0;e<i.length;e++)i[e]=sc[i[e]];return i}function bw(u,i,e){u.addEventListener?u.addEventListener(i,e,!1):u.attachEvent&&u.attachEvent("on"+i,function(){e(window.event)})}Yi.setScope=nM,Yi.getScope=_w,Yi.deleteScope=iM,Yi.filter=rM,Yi.isPressed=eM,Yi.getPressedKeyCodes=tM,Yi.unbind=QL,Yi.handlers=Lo,Yi.init=function(u){bw(u.document,"keydown",function(i){YL(i)}),bw(u.document,"keyup",XL),bw(u,"focus",JL)};const Ap=Yi;var oM={defaults:{"core:undo":{keys:"+z, ctrl+z",handler:"core:undo",opts:{prevent:!0}},"core:redo":{keys:"+shift+z, ctrl+shift+z",handler:"core:redo",opts:{prevent:!0}},"core:copy":{keys:"+c, ctrl+c",handler:"core:copy"},"core:paste":{keys:"+v, ctrl+v",handler:"core:paste"},"core:component-next":{keys:"s",handler:"core:component-next"},"core:component-prev":{keys:"w",handler:"core:component-prev"},"core:component-enter":{keys:"d",handler:"core:component-enter"},"core:component-exit":{keys:"a",handler:"core:component-exit"},"core:component-delete":{keys:"backspace, delete",handler:"core:component-delete",opts:{prevent:!0}}}};const aM=oM;var sM=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),nC=function(u,i,e){if(e||arguments.length===2)for(var t=0,n=i.length,a;t<n;t++)(a||!(t in i))&&(a||(a=Array.prototype.slice.call(i,0,t)),a[t]=i[t]);return u.concat(a||Array.prototype.slice.call(i))};(0,o.hasWin)()&&Ap.init(window);var lM=function(u){sM(i,u);function i(e){var t=u.call(this,e,"Keymaps",aM)||this;return t.keymaster=Ap,t.keymaps={},t}return i.prototype.onLoad=function(){var e=this.config.defaults;for(var t in e){var n=e[t];this.add(t,n.keys,n.handler,n.opts||{})}},i.prototype.add=function(e,t,n,a){a===void 0&&(a={});var p=this.em,m=p.Commands,y=p.getEditor(),b=p.Canvas,O={id:e,keys:t,handler:n},A=this.keymaps[e];return A&&this.remove(e),this.keymaps[e]=O,Ap(t,function(R,B){var Q={event:R,h:B},le=(0,r.isString)(n)?m.get(n):n,ue=!p.isEditing()&&!y.Canvas.isInputFocused();if(ue||a.force){a.prevent&&b.getCanvasView().preventDefault(R),(0,r.isFunction)(le)?le(y,0,Q):m.runCommand(le,Q);var ke=[e,B.shortcut,R];p.trigger.apply(p,nC(["keymap:emit"],ke,!1)),p.trigger.apply(p,nC(["keymap:emit:".concat(e)],ke,!1))}},void 0),p.trigger("keymap:add",O),O},i.prototype.get=function(e){return this.keymaps[e]},i.prototype.getAll=function(){return this.keymaps},i.prototype.remove=function(e){var t=this.em,n=this.get(e);if(n)return delete this.keymaps[e],n.keys.split(", ").forEach(function(a){Ap.unbind(a.trim())}),t==null||t.trigger("keymap:remove",n),n},i.prototype.removeAll=function(){var e=this;return Object.keys(this.keymaps).forEach(function(t){return e.remove(t)}),Ap.handlers={},this},i.prototype.destroy=function(){this.removeAll(),this.keymaps={}},i}(z);const uM=lM;var cM={stylePrefix:"mdl-",title:"",content:"",backdrop:!0,custom:!1,extend:{}};const fM=cM;var dM=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),pM=function(u){dM(i,u);function i(){return u!==null&&u.apply(this,arguments)||this}return i.prototype.defaults=function(){return{title:"",content:"",attributes:{},open:!1}},i.prototype.open=function(){this.set("open",!0)},i.prototype.close=function(){this.set("open",!1)},i}(ie.Z);const hM=pM;var vM=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Cg=function(){return Cg=Object.assign||function(u){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(u[n]=i[n])}return u},Cg.apply(this,arguments)},gM=function(u){vM(i,u);function i(e){var t=u.call(this,e)||this,n=t.model;return t.listenTo(n,"change:open",t.updateOpen),t.listenTo(n,"change:title",t.updateTitle),t.listenTo(n,"change:content",t.updateContent),t}return i.prototype.template=function(e){var t=e.pfx,n=e.ppfx,a=e.content,p=e.title;return'<div class="'.concat(t,"dialog ").concat(n,"one-bg ").concat(n,`two-color">
      <div class="`).concat(t,`header">
        <div class="`).concat(t,'title">').concat(p,`</div>
        <div class="`).concat(t,`btn-close" data-close-modal>&Cross;</div>
      </div>
      <div class="`).concat(t,`content">
        <div id="`).concat(t,'c">').concat(a,`</div>
        <div style="clear:both"></div>
      </div>
    </div>
    <div class="`).concat(t,'collector" style="display: none"></div>')},i.prototype.events=function(){return{click:"onClick","click [data-close-modal]":"hide"}},i.prototype.onClick=function(e){var t=this.config.backdrop;t&&e.target===this.el&&this.hide()},i.prototype.getCollector=function(){return this.$collector||(this.$collector=this.$el.find("."+this.pfx+"collector")),this.$collector},i.prototype.getContent=function(){var e=this.pfx;return this.$content||(this.$content=this.$el.find(".".concat(e,"content #").concat(e,"c"))),this.$content},i.prototype.getTitle=function(e){return e===void 0&&(e={}),this.$title||(this.$title=this.$el.find("."+this.pfx+"title")),e.$?this.$title:this.$title.get(0)},i.prototype.updateContent=function(){var e=this.getContent(),t=e.children(),n=this.getCollector(),a=this.model.get("content");t.length&&n.append(t),e.empty().append(a)},i.prototype.updateTitle=function(){var e=this.getTitle({$:!0});e&&e.empty().append(this.model.get("title"))},i.prototype.updateOpen=function(){this.el.style.display=this.model.get("open")?"":"none"},i.prototype.hide=function(){this.model.close()},i.prototype.show=function(){this.model.open()},i.prototype.updateAttr=function(e){var t=this,n=t.pfx,a=t.$el,p=t.el,m=[].slice.call(p.attributes).map(function(y){return y.name});a.removeAttr(m.join(" ")),a.attr(Cg(Cg({},e||{}),{class:"".concat(n,"container ").concat(e&&e.class||"").trim()}))},i.prototype.render=function(){var e=this.$el,t=this.model.toJSON();return t.pfx=this.pfx,t.ppfx=this.ppfx,e.html(this.template(t)),this.updateAttr(),this.updateOpen(),this},i}($r);const mM=gM;var yM=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),wM=function(u){yM(i,u);function i(e){var t=u.call(this,e,"Modal",fM)||this;return t.model=new hM(t),t.model.on("change:open",function(n,a){e.trigger("modal:".concat(a?"open":"close"))}),t.model.on("change",(0,r.debounce)(function(){var n=t._evData(),a=t.config.custom;(0,r.isFunction)(a)&&a(n),e.trigger("modal",n)},0)),t}return i.prototype._evData=function(){var e=this,t=this.getTitle(),n=this.getContent(),a=this.model.attributes,p=a.open,m=a.attributes;return{open:p,attributes:m,title:(0,r.isString)(t)?(0,nt.rw)(t):t,content:(0,r.isString)(n)?(0,nt.rw)(n):n.get?n.get(0):n,close:function(){e.close()}}},i.prototype.postRender=function(e){var t=e.model.config.el||e.el,n=this.render();n&&(t==null||t.appendChild(n))},i.prototype.open=function(e){e===void 0&&(e={});var t=e.attributes||{};return e.title&&this.setTitle(e.title),e.content&&this.setContent(e.content),this.model.set("attributes",t),this.model.open(),this.modal&&this.modal.updateAttr(t),this},i.prototype.close=function(){return this.model.close(),this},i.prototype.onceClose=function(e){return this.em.once("modal:close",e),this},i.prototype.onceOpen=function(e){return this.em.once("modal:open",e),this},i.prototype.isOpen=function(){return!!this.model.get("open")},i.prototype.setTitle=function(e){return this.model.set("title",e),this},i.prototype.getTitle=function(){return this.model.get("title")},i.prototype.setContent=function(e){return this.model.set("content"," "),this.model.set("content",e),this},i.prototype.getContent=function(){return this.model.get("content")},i.prototype.getContentEl=function(){var e;return(e=this.modal)===null||e===void 0?void 0:e.getContent().get(0)},i.prototype.getModel=function(){return this.model},i.prototype.render=function(){var e;if(!this.config.custom){var t=mM.extend(this.config.extend),n=this.modal&&this.modal.el;return this.modal=new t({el:n,model:this.model,config:this.config}),(e=this.modal)===null||e===void 0?void 0:e.render().el}},i.prototype.destroy=function(){var e;(e=this.modal)===null||e===void 0||e.remove()},i}(z);const _M=wM;var iC="sw-visibility",oC="export-template",aC="open-sm",sC="open-tm",lC="open-layers",uC="open-blocks",xw="fullscreen",Sw="preview",bM={stylePrefix:"pn-",defaults:[{id:"commands",buttons:[{}]},{id:"options",buttons:[{active:!0,id:iC,className:"fa fa-square-o",command:"core:component-outline",context:iC,attributes:{title:"View components"}},{id:Sw,className:"fa fa-eye",command:Sw,context:Sw,attributes:{title:"Preview"}},{id:xw,className:"fa fa-arrows-alt",command:xw,context:xw,attributes:{title:"Fullscreen"}},{id:oC,className:"fa fa-code",command:oC,attributes:{title:"View code"}}]},{id:"views",buttons:[{id:aC,className:"fa fa-paint-brush",command:aC,active:!0,togglable:!1,attributes:{title:"Open Style Manager"}},{id:sC,className:"fa fa-cog",command:sC,togglable:!1,attributes:{title:"Settings"}},{id:lC,className:"fa fa-bars",command:lC,togglable:!1,attributes:{title:"Open Layer Manager"}},{id:uC,className:"fa fa-th-large",command:uC,togglable:!1,attributes:{title:"Open Blocks"}}]}]};const Cw=bM;var xM=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),SM=function(u){xM(i,u);function i(e,t){var n=u.call(this,e,t)||this;return n.get("buttons").length&&n.set("buttons",new dC(n.module,n.get("buttons"))),n}return i.prototype.defaults=function(){return{id:"",label:"",tagName:"span",className:"",command:"",context:"",buttons:[],attributes:{},options:{},active:!1,dragDrop:!1,togglable:!0,runDefaultCommand:!0,stopDefaultCommand:!1,disable:!1}},Object.defineProperty(i.prototype,"className",{get:function(){return this.get("className")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"command",{get:function(){return this.get("command")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"active",{get:function(){return this.get("active")},set:function(e){this.set("active",e)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"togglable",{get:function(){return this.get("togglable")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"runDefaultCommand",{get:function(){return this.get("runDefaultCommand")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"stopDefaultCommand",{get:function(){return this.get("stopDefaultCommand")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"disable",{get:function(){return this.get("disable")},enumerable:!1,configurable:!0}),i}(ie.Z);const cC=SM;var CM=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),fC=function(u){CM(i,u);function i(e,t){return u.call(this,e,t,cC)||this}return i.prototype.deactivateAllExceptOne=function(e,t){this.forEach(function(n,a){n!==e&&(n.set("active",!1),t&&n.get("buttons").length&&n.get("buttons").deactivateAllExceptOne(e,t))})},i.prototype.deactivateAll=function(e,t){var n=e||"";this.forEach(function(a){a.get("context")==n&&a!==t&&a.set("active",!1,{fromCollection:!0})})},i.prototype.disableAllButtons=function(e){var t=e||"";this.forEach(function(n,a){n.get("context")==t&&n.set("disable",!0)})},i.prototype.disableAllButtonsExceptOne=function(e,t){this.forEach(function(n,a){n!==e&&(n.set("disable",!0),t&&n.get("buttons").length&&n.get("buttons").disableAllButtonsExceptOne(e,t))})},i}(Ct);const dC=fC;fC.prototype.model=cC;var OM=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),EM=function(u){OM(i,u);function i(e,t){var n=u.call(this,e,t)||this,a=n.get("buttons")||[];return n.buttons=new dC(e,a),n}return i.prototype.defaults=function(){return{id:"",content:"",visible:!0,buttons:[],attributes:{}}},Object.defineProperty(i.prototype,"buttons",{get:function(){return this.get("buttons")},set:function(e){this.set("buttons",e)},enumerable:!1,configurable:!0}),i}(ie.Z);const pC=EM;var TM=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),hC=function(u){TM(i,u);function i(e,t){return u.call(this,e,t,pC)||this}return i}(Ct);const PM=hC;hC.prototype.model=pC;var kM=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),jf=function(){return jf=Object.assign||function(u){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(u[n]=i[n])}return u},jf.apply(this,arguments)},AM=function(u){kM(i,u);function i(e){var t=u.call(this,e)||this,n=t,a=n.model,p=n.em,m=n.pfx,y=n.ppfx,b=a.className,O=a.attributes,A=O.command,R=O.listen;if(t.id=m+a.get("id"),t.activeCls="".concat(m,"active ").concat(y,"four-color"),t.disableCls="".concat(y,"disabled"),t.btnsVisCls="".concat(m,"visible"),t.className=m+"btn"+(b?" "+b:""),t.listenTo(a,"change",t.render),t.listenTo(a,"change:active updateActive",t.updateActive),t.listenTo(a,"checkActive",t.checkActive),t.listenTo(a,"change:bntsVis",t.updateBtnsVis),t.listenTo(a,"change:attributes",t.updateAttributes),t.listenTo(a,"change:className",t.updateClassName),t.listenTo(a,"change:disable",t.updateDisable),p&&(0,r.isString)(A)&&R){var B={fromListen:!0};t.listenTo(p,"run:".concat(A),function(){return a.set("active",!0,B)}),t.listenTo(p,"stop:".concat(A),function(){return a.set("active",!1,B)})}return p&&p.get&&(t.commands=p.get("Commands")),t}return i.prototype.tagName=function(){return this.model.get("tagName")},i.prototype.events=function(){return{click:"clicked"}},i.prototype.updateClassName=function(){var e=this,t=e.model,n=e.pfx,a=t.className,p=t.get("attributes").class,m="".concat(p||""," ").concat(n,"btn ").concat(a||"");this.$el.attr("class",m.trim())},i.prototype.updateAttributes=function(){var e=this,t=e.em,n=e.model,a=e.$el,p=n.get("attributes")||{},m=t&&t.t&&t.t("panels.buttons.titles.".concat(n.id));a.attr(p),m&&a.attr({title:m}),this.updateClassName()},i.prototype.updateBtnsVis=function(){this.$buttons&&(this.model.get("bntsVis")?this.$buttons.addClass(this.btnsVisCls):this.$buttons.removeClass(this.btnsVisCls))},i.prototype.updateActive=function(e,t,n){var a;n===void 0&&(n={});var p=this,m=p.model,y=p.commands,b=p.$el,O=p.activeCls,A=n.fromCollection,R=n.fromListen,B=m.get("context"),Q=m.get("options"),le=m.command,ue={};le&&(y&&(0,r.isString)(le)?ue=y.get(le)||{}:(0,r.isFunction)(le)?ue=y.create({run:le}):le!==null&&(0,r.isObject)(le)&&(ue=y.create(le)),m.active?(!A&&((a=m.collection)===null||a===void 0||a.deactivateAll(B,m)),m.set("active",!0,{silent:!0}).trigger("checkActive"),!R&&y.runCommand(ue,jf(jf({},Q),{sender:m})),ue.noStop&&m.set("active",!1)):(b.removeClass(O),!R&&y.stopCommand(ue,jf(jf({},Q),{sender:m,force:1}))))},i.prototype.updateDisable=function(){var e=this,t=e.disableCls,n=e.model,a=n.disable;this.$el[a?"addClass":"removeClass"](t)},i.prototype.checkActive=function(){var e=this,t=e.model,n=e.$el,a=e.activeCls;t.active?n.addClass(a):n.removeClass(a)},i.prototype.clicked=function(){var e=this.model;e.get("bntsVis")||e.disable||!e.command||this.toggleActive()},i.prototype.toggleActive=function(){var e=this,t=e.model,n=e.em,a=t.active,p=t.togglable;a&&!p||(t.active=!a,a?t.runDefaultCommand&&n.runDefault():t.stopDefaultCommand&&n.stopDefault())},i.prototype.render=function(){var e=this.model,t=e.get("label"),n=this.$el;return!e.get("el")&&n.empty(),this.updateAttributes(),t&&n.append(t),this.checkActive(),this.updateDisable(),this},i}($r);const LM=AM;var MM=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),DM=function(u){MM(i,u);function i(e){var t=u.call(this,{collection:e})||this;return t.listenTo(t.collection,"add",t.addTo),t.listenTo(t.collection,"reset remove",t.render),t.className=t.pfx+"buttons",t}return i.prototype.addTo=function(e){this.addToCollection(e)},i.prototype.addToCollection=function(e,t){var n=t||null,a=e.get("el"),p=new LM({el:a,model:e}),m=p.render().el;return n?n.appendChild(m):this.$el.append(m),m},i.prototype.render=function(){var e=this,t=document.createDocumentFragment();return this.$el.empty(),this.collection.each(function(n){return e.addToCollection(n,t)}),this.$el.append(t),this.$el.attr("class",(0,r.result)(this,"className")),this},i}($r);const RM=DM;var NM=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Ow=function(){return Ow=Object.assign||function(u){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(u[n]=i[n])}return u},Ow.apply(this,arguments)},jM=function(u){NM(i,u);function i(e){var t=u.call(this,{model:e,el:e.get("el")})||this;return t.className=t.pfx+"panel",t.id=t.pfx+e.get("id"),t.listenTo(e,"change:appendContent",t.appendContent),t.listenTo(e,"change:content",t.updateContent),t.listenTo(e,"change:visible",t.toggleVisible),e.view=t,t}return i.prototype.appendContent=function(){this.$el.append(this.model.get("appendContent"))},i.prototype.updateContent=function(){this.$el.html(this.model.get("content"))},i.prototype.toggleVisible=function(){if(!this.model.get("visible")){this.$el.addClass("".concat(this.ppfx,"hidden"));return}this.$el.removeClass("".concat(this.ppfx,"hidden"))},i.prototype.attributes=function(){return this.model.get("attributes")},i.prototype.initResize=function(){var e=this.em,t=e==null?void 0:e.Editor,n=this.model.get("resizable");if(t&&n){var a=n===!0?[!0,!0,!0,!0]:n,p=a.length,m=void 0,y=void 0,b=void 0,O=!1;if(p==2){var A=a;m=A[0],b=A[0],y=A[1],O=A[1]}else if(p==4){var A=a;m=A[0],y=A[1],b=A[2],O=A[3]}var R=new t.Utils.Resizer(Ow({tc:m,cr:y,bc:b,cl:O,tl:!1,tr:!1,bl:!1,br:!1,appendTo:this.el,silentFrames:!0,avoidContainerUpdate:!0,prefix:t.getConfig().stylePrefix,onEnd:function(){e.Canvas.refresh({all:!0})},posFetcher:function(B,Q){var le=Q.target,ue=B.style,ke=R.getConfig(),Be=ke.keyWidth,He=ke.keyHeight,ot=B.getBoundingClientRect(),Ot=le=="container",Gt=ue[Be],er=ue[He],ft=Gt&&!Ot?parseFloat(Gt):ot.width,Jt=er&&!Ot?parseFloat(er):ot.height;return{left:0,top:0,width:ft,height:Jt}}},n&&typeof n!="boolean"?n:{}));R.blur=function(){},R.focus(this.el)}},i.prototype.render=function(){var e=this.model.buttons,t=this.$el,n=this.ppfx,a="".concat(this.className," ").concat(this.id," ").concat(n,"one-bg ").concat(n,"two-color");if(t.addClass(a),this.toggleVisible(),e.length){var p=new RM(e);t.append(p.render().el)}return t.append(this.model.get("content")),this},i}($r);const IM=jM;var FM=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),VM=function(u){FM(i,u);function i(e){var t=u.call(this,{collection:e})||this;return t.listenTo(e,"add",t.addTo),t.listenTo(e,"reset",t.render),t.listenTo(e,"remove",t.onRemove),t.className=t.pfx+"panels",t}return i.prototype.onRemove=function(e){var t=e.view;t&&t.remove()},i.prototype.addTo=function(e){this.addToCollection(e)},i.prototype.addToCollection=function(e,t){var n=t||null,a=e.get("el"),p=new IM(e),m=p.render().el,y=e.get("appendTo");if(!a)if(y){var b=document.querySelector(y);b==null||b.appendChild(m)}else n?n.appendChild(m):this.$el.append(m);return p.initResize(),m},i.prototype.render=function(){var e=this,t=this.$el,n=document.createDocumentFragment();return t.empty(),this.collection.each(function(a){return e.addToCollection(a,n)}),t.append(n),t.attr("class",this.className),this},i}($r);const UM=VM;var BM=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),HM=function(u){BM(i,u);function i(e){var t=u.call(this,e,"Panels",Cw)||this;t.panels=new PM(t,t.config.defaults);for(var n in Cw)n in t.config||(t.config[n]=Cw[n]);return t}return i.prototype.getPanels=function(){return this.panels},i.prototype.getPanelsEl=function(){var e;return(e=this.PanelsViewObj)===null||e===void 0?void 0:e.el},i.prototype.addPanel=function(e){return this.panels.add(e)},i.prototype.removePanel=function(e){return this.panels.remove(e)},i.prototype.getPanel=function(e){var t=this.panels.where({id:e});return t.length?t[0]:null},i.prototype.addButton=function(e,t){var n=this.getPanel(e);return n?n.buttons.add(t):null},i.prototype.removeButton=function(e,t){var n=this.getPanel(e);return n&&n.buttons.remove(t)},i.prototype.getButton=function(e,t){var n=this.getPanel(e);if(n){var a=n.buttons.where({id:t});return a.length?a[0]:null}return null},i.prototype.render=function(){var e;return(e=this.PanelsViewObj)===null||e===void 0||e.remove(),this.PanelsViewObj=new UM(this.panels),this.PanelsViewObj.render().el},i.prototype.active=function(){this.getPanels().each(function(e){e.buttons.each(function(t){t.get("active")&&t.trigger("updateActive")})})},i.prototype.disableButtons=function(){this.getPanels().each(function(e){e.buttons.each(function(t){t.get("disable")&&t.trigger("change:disable")})})},i.prototype.destroy=function(){this.panels.reset(),this.panels.stopListening(),this.PanelsViewObj&&this.PanelsViewObj.remove()},i}(z);const zM=HM;var WM={stylePrefix:"cm-",optsCodeViewer:{}};const $M=WM;var KM=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),GM=function(u,i){var e={};for(var t in u)Object.prototype.hasOwnProperty.call(u,t)&&i.indexOf(t)<0&&(e[t]=u[t]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(u);n<t.length;n++)i.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(u,t[n])&&(e[t[n]]=u[t[n]]);return e},ZM=function(u){KM(i,u);function i(){return u!==null&&u.apply(this,arguments)||this}return i.prototype.build=function(e,t){t===void 0&&(t={});var n=t.em,a=GM(t,["em"]),p=a;if(t.cleanId&&n){var m=n.Css.getAll(),y=m.toJSON().map(function(b){var O=b.selectors,A=O&&O.length===1&&O.models[0];return A&&A.isId()&&A.get("name")}).filter(Boolean);p.attributes||(p.attributes=function(b,O){var A=O.id;return A&&A[0]==="i"&&!b.get("script")&&!b.get("attributes").id&&y.indexOf(A)<0&&delete O.id,O})}return e.toHTML(p)},i}(C.Hn);const qM=ZM;var YM=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),XM=function(u){YM(i,u);function i(){return u!==null&&u.apply(this,arguments)||this}return i.prototype.build=function(e){var t=this,n=e.toJSON();return this.beforeEach(n),(0,r.each)(n,function(a,p){var m=n[p];if(m instanceof C.Hn)n[p]=t.build(m);else if(m instanceof C.FE){var y=m;n[p]=[],y.length&&y.forEach(function(b,O){n[p][O]=t.build(b)})}}),n},i.prototype.beforeEach=function(e){delete e.status},i}(C.Hn);const JM=XM;var QM=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}();function eD(u){var i,e=((i=u.toString().match(/\{([\s\S]*)\}/m))===null||i===void 0?void 0:i[1])||"";return e.replace(/^\s*\/\/.*$/gm,"").trim().length===0}var tD=function(u){QM(i,u);function i(){return u!==null&&u.apply(this,arguments)||this}return i.prototype.mapModel=function(e){var t,n=this,a="",p=e.get("script-export")||e.get("script"),m=e.get("type"),y=e.get("components"),b=e.getId();if(p){var O=e.get("attributes");O=(0,r.extend)({},O,{id:b}),e.set("attributes",O,{silent:!0});var A=e.getScriptString(p),R=e.get("script-props");if(e.get("scriptUpdated")&&!R)this.mapJs[m+"-"+b]={ids:[b],code:A};else{var B=void 0,Q=this.mapJs[m];if(R&&(B=e.__getScriptProps()),Q)Q.ids.push(b),B&&(Q.props[b]=B);else{var le={ids:[b],code:A};B&&(le.props=(t={},t[b]=B,t)),this.mapJs[m]=le}}}return y.forEach(function(ue){a+=n.mapModel(ue)}),a},i.prototype.build=function(e){this.mapJs={},this.mapModel(e);var t="";for(var n in this.mapJs){var a=this.mapJs[n];if(a.code)if(a.props){if(eD(a.code))continue;t+=`
          var props = `.concat(JSON.stringify(a.props),`;
          var ids = Object.keys(props).map(function(id) { return '#'+id }).join(',');
          var els = document.querySelectorAll(ids);
          for (var i = 0, len = els.length; i < len; i++) {
            var el = els[i];
            (`).concat(a.code,`.bind(el))(props[el.id]);
          }`)}else{var p="#"+a.ids.join(", #");t+=`
          var items = document.querySelectorAll('`.concat(p,`');
          for (var i = 0, len = items.length; i < len; i++) {
            (function(){
`).concat(a.code,`
}.bind(items[i]))();
          }`)}}return t},i}(C.Hn);const rD=tD;var nD=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Ew=function(){return Ew=Object.assign||function(u){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(u[n]=i[n])}return u},Ew.apply(this,arguments)},Lp;(0,o.hasWin)()&&(Lp=rn(631),rn(531),rn(629),rn(210));var vC=function(u){nD(i,u);function i(){return u!==null&&u.apply(this,arguments)||this}return i.prototype.defaults=function(){return{input:"",label:"",codeName:"",theme:"hopscotch",readOnly:!0,lineNumbers:!0,autoFormat:!0}},i.prototype.init=function(e){return(0,r.bindAll)(this,"onChange"),this.editor=Lp.fromTextArea(e,Ew({dragDrop:!1,lineWrapping:!0,mode:this.get("codeName")},this.attributes)),this.element=e,this.editor.on("change",this.onChange),this},i.prototype.onChange=function(){this.trigger("update",this)},i.prototype.getEditor=function(){return this.editor},i.prototype.getElement=function(){return this.element},i.prototype.setElement=function(e){return this.element=e,this},i.prototype.refresh=function(){return this.getEditor().refresh(),this},i.prototype.focus=function(){return this.getEditor().focus(),this},i.prototype.getContent=function(){var e=this.getEditor();return e&&e.getValue()},i.prototype.setContent=function(e,t){var n=this;t===void 0&&(t={});var a=this.editor;if(a){a.setValue(e);var p=this.get("autoFormat"),m=a.autoFormatRange&&(p===!0||Array.isArray(p)&&p.includes(this.get("codeName")));m&&(Lp.commands.selectAll(a),a.autoFormatRange(a.getCursor(!0),a.getCursor(!1)),Lp.commands.goDocStart(a)),!t.noRefresh&&setTimeout(function(){return n.refresh()})}},i}(C.Hn);const iD=vC;vC.prototype.CodeMirror=Lp;var oD=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),aD=function(u,i){return Object.defineProperty?Object.defineProperty(u,"raw",{value:i}):u.raw=i,u},sD=function(u){oD(i,u);function i(){return u!==null&&u.apply(this,arguments)||this}return i.prototype.template=function(e){var t=e.pfx,n=e.codeName,a=e.label;return s(gC||(gC=aD([`
      <div class="`,'editor" id="',"",`">
        <div id="`,'title">',`</div>
        <div id="`,`code"></div>
      </div>
    `],[`
      <div class="`,'editor" id="',"",`">
        <div id="`,'title">',`</div>
        <div id="`,`code"></div>
      </div>
    `])),t,t,n,t,a,t)},i.prototype.initialize=function(e){this.config=e.config||{},this.pfx=this.config.stylePrefix},i.prototype.render=function(){var e,t,n=this,a=n.model,p=n.pfx,m=n.$el,y=a.toJSON(),b=a.get("input")||((t=(e=a).getElement)===null||t===void 0?void 0:t.call(e));return y.pfx=p,m.html(this.template(y)),m.attr("class","".concat(p,"editor-c")),m.find("#".concat(p,"code")).append(b),this},i}(C.G7);const lD=sD;var gC,uD=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Og=function(){return Og=Object.assign||function(u){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(u[n]=i[n])}return u},Og.apply(this,arguments)},cD="CodeMirror",fD=function(u){uD(i,u);function i(e){var t=u.call(this,e,"CodeManager",$M)||this;t.EditorView=lD;var n=t.config,a=n.pStylePrefix;return a&&(n.stylePrefix=a+n.stylePrefix),t.generators={},t.viewers={},t.defGenerators={html:new qM,css:new V0,json:new JM,js:new rD},t.defViewers={CodeMirror:new iD},t.loadDefaultGenerators().loadDefaultViewers(),t}return i.prototype.addGenerator=function(e,t){return this.generators[e]=t,this},i.prototype.getGenerator=function(e){return this.generators[e]},i.prototype.getGenerators=function(){return this.generators},i.prototype.addViewer=function(e,t){return this.viewers[e]=t,this},i.prototype.getViewer=function(e){return this.viewers[e]},i.prototype.getViewers=function(){return this.viewers},i.prototype.createViewer=function(e){e===void 0&&(e={});var t=(0,r.isUndefined)(e.type)?cD:e.type,n=this.getViewer(t)&&this.getViewer(t).clone(),a=document.createElement("div"),p=document.createElement("textarea");return a.appendChild(p),n.set(Og(Og({},this.config.optsCodeViewer),e)),n.init(p),n.setElement(a),n},i.prototype.updateViewer=function(e,t){e.setContent(t)},i.prototype.getCode=function(e,t,n){n===void 0&&(n={}),n.em=this.em;var a=this.getGenerator(t);return a?a.build(e,n):""},i.prototype.loadDefaultGenerators=function(){for(var e in this.defGenerators)this.addGenerator(e,this.defGenerators[e]);return this},i.prototype.loadDefaultViewers=function(){for(var e in this.defViewers)this.addViewer(e,this.defViewers[e]);return this},i.prototype.destroy=function(){},i}(z);const dD=fD;var pD=rn(410),hD=rn.n(pD),vD={maximumStackLength:500,trackSelection:!0};const gD=vD;var mD=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Hs=function(){return Hs=Object.assign||function(u){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(u[n]=i[n])}return u},Hs.apply(this,arguments)},yD=function(u,i,e){if(e||arguments.length===2)for(var t=0,n=i.length,a;t<n;t++)(a||!(t in i))&&(a||(a=Array.prototype.slice.call(i,0,t)),a[t]=i[t]);return u.concat(a||Array.prototype.slice.call(i))},Eg=function(u){return u.avoidStore||u.noUndo},mC=function(u){return Object.keys(u.changedAttributes())},wD=function(u){mD(i,u);function i(e){var t=u.call(this,e,"UndoManager",gD)||this;t.config._disable&&(t.config.maximumStackLength=0);var n=!0;return t.um=new(hD())(Hs({track:!0,register:[]},t.config)),t.um.changeUndoType("change",{condition:function(a){var p=a.get("_undo");if(p){var m=a.get("_undoexc");if((0,r.isArray)(m)&&mC(a).some(function(y){return m.indexOf(y)>=0}))return!1;if((0,r.isBoolean)(p)||(0,r.isArray)(p)&&mC(a).some(function(y){return p.indexOf(y)>=0}))return!0}return!1},on:function(a,p,m){var y=this;!this.beforeCache&&(this.beforeCache=a.previousAttributes());var b=m||p||{};if(b.noUndo&&setTimeout(function(){y.beforeCache=null}),!Eg(b)){var O=a.toJSON({fromUndo:n}),A={object:a,before:this.beforeCache,after:O};return this.beforeCache=null,(0,r.isEmpty)(O)?void 0:A}}}),t.um.changeUndoType("add",{on:function(a,p,m){if(m===void 0&&(m={}),!(Eg(m)||!t.isRegistered(p)))return{object:p,before:void 0,after:a,options:Hs(Hs({},m),{fromUndo:n})}}}),t.um.changeUndoType("remove",{on:function(a,p,m){if(m===void 0&&(m={}),!(Eg(m)||!t.isRegistered(p)))return{object:p,before:a,after:void 0,options:Hs(Hs({},m),{fromUndo:n})}}}),t.um.changeUndoType("reset",{undo:function(a,p){a.reset(p,{fromUndo:n})},redo:function(a,p,m){a.reset(m,{fromUndo:n})},on:function(a,p){if(p===void 0&&(p={}),!(Eg(p)||!t.isRegistered(a)))return{object:a,before:p.previousModels,after:yD([],a.models,!0),options:Hs(Hs({},p),{fromUndo:n})}}}),t.um.on("undo redo",function(){e.getSelectedAll().map(function(a){return a.trigger("rerender:layer")})}),["undo","redo"].forEach(function(a){return t.um.on(a,function(){return e.trigger(a)})}),t}return i.prototype.postLoad=function(){var e=this,t=e.config,n=e.em;t.trackSelection&&n&&this.add(n.get("selected"))},i.prototype.add=function(e){return this.um.register(e),this},i.prototype.remove=function(e){return this.um.unregister(e),this},i.prototype.removeAll=function(){return this.um.unregisterAll(),this},i.prototype.start=function(){return this.um.startTracking(),this},i.prototype.stop=function(){return this.um.stopTracking(),this},i.prototype.undo=function(e){e===void 0&&(e=!0);var t=this,n=t.em,a=t.um;return!n.isEditing()&&a.undo(e),this},i.prototype.undoAll=function(){return this.um.undoAll(),this},i.prototype.redo=function(e){e===void 0&&(e=!0);var t=this,n=t.em,a=t.um;return!n.isEditing()&&a.redo(e),this},i.prototype.redoAll=function(){return this.um.redoAll(),this},i.prototype.hasUndo=function(){return!!this.um.isAvailable("undo")},i.prototype.hasRedo=function(){return!!this.um.isAvailable("redo")},i.prototype.isRegistered=function(e){return!!this.getInstance().objectRegistry.isRegistered(e)},i.prototype.getStack=function(){return this.um.stack},i.prototype.getStackGroup=function(){var e=[],t=[];return this.getStack().forEach(function(n){var a=n.get("magicFusionIndex");t.indexOf(a)<0&&(t.push(a),e.push(n))}),e},i.prototype.skip=function(e){var t=!!this.um.isTracking();t&&this.stop(),e(),t&&this.start()},i.prototype.getGroupedStack=function(){var e={},t=this.getStack(),n=function(a,p){var m=a.attributes,y=m.type,b=m.after,O=m.before,A=m.object,R=m.options,B=R===void 0?{}:R;return{index:p,type:y,after:b,before:O,object:A,options:B}};return t.forEach(function(a,p){var m=a.get("magicFusionIndex"),y=n(a,p);e[m]?e[m].push(y):e[m]=[y]}),Object.keys(e).map(function(a){var p=e[a];return{index:p[p.length-1].index,actions:p,labels:(0,r.unique)(p.reduce(function(m,y){var b,O=(b=y.options)===null||b===void 0?void 0:b.action;return O&&m.push(O),m},[]))}})},i.prototype.goToGroup=function(e){var t=this;if(e){var n=this.getPointer(),a=e.index-n;(0,r.times)(Math.abs(a),function(){t[a<0?"undo":"redo"](!1)})}},i.prototype.getPointer=function(){return this.getStack().pointer},i.prototype.clear=function(){return this.um.clear(),this},i.prototype.getInstance=function(){return this.um},i.prototype.destroy=function(){this.clear().removeAll()},i}(z);const _D=wD;var bD={stylePrefix:"rte-",adjustToolbar:!0,actions:["bold","italic","underline","strikethrough","link","wrap"],custom:!1};const xD=bD;var If=function(){return If=Object.assign||function(u){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(u[n]=i[n])}return u},If.apply(this,arguments)},Tg;(function(u){u[u.ACTIVE=1]="ACTIVE",u[u.INACTIVE=0]="INACTIVE",u[u.DISABLED=-1]="DISABLED"})(Tg||(Tg={}));var Tw="_rte",lc={ACTIVE:1,INACTIVE:0,DISABLED:-1},Pg=function(u,i){i===void 0&&(i="A");var e=u.selection()||{},t=e.anchorNode,n=e.focusNode,a=t==null?void 0:t.parentNode,p=n==null?void 0:n.parentNode;return(a==null?void 0:a.nodeName)==i||(p==null?void 0:p.nodeName)==i},kg="data-selectme",Mp={bold:{name:"bold",icon:"<b>B</b>",attributes:{title:"Bold"},result:function(u){return u.exec("bold")}},italic:{name:"italic",icon:"<i>I</i>",attributes:{title:"Italic"},result:function(u){return u.exec("italic")}},underline:{name:"underline",icon:"<u>U</u>",attributes:{title:"Underline"},result:function(u){return u.exec("underline")}},strikethrough:{name:"strikethrough",icon:"<s>S</s>",attributes:{title:"Strike-through"},result:function(u){return u.exec("strikeThrough")}},link:{icon:`<svg viewBox="0 0 24 24">
          <path fill="currentColor" d="M3.9,12C3.9,10.29 5.29,8.9 7,8.9H11V7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H11V15.1H7C5.29,15.1 3.9,13.71 3.9,12M8,13H16V11H8V13M17,7H13V8.9H17C18.71,8.9 20.1,10.29 20.1,12C20.1,13.71 18.71,15.1 17,15.1H13V17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7Z" />
        </svg>`,name:"link",attributes:{style:"font-size:1.4rem;padding:0 4px 2px;",title:"Link"},state:function(u){return u&&u.selection()&&Pg(u)?lc.ACTIVE:lc.INACTIVE},result:function(u){Pg(u)?u.exec("unlink"):u.insertHTML('<a href="" '.concat(kg,">").concat(u.selection(),"</a>"),{select:!0})}},wrap:{name:"wrap",icon:`<svg viewBox="0 0 24 24">
            <path fill="currentColor" d="M20.71,4.63L19.37,3.29C19,2.9 18.35,2.9 17.96,3.29L9,12.25L11.75,15L20.71,6.04C21.1,5.65 21.1,5 20.71,4.63M7,14A3,3 0 0,0 4,17C4,18.31 2.84,19 2,19C2.92,20.22 4.5,21 6,21A4,4 0 0,0 10,17A3,3 0 0,0 7,14Z" />
        </svg>`,attributes:{title:"Wrap for style"},state:function(u){return u!=null&&u.selection()&&Pg(u,"SPAN")?lc.DISABLED:lc.INACTIVE},result:function(u){!Pg(u,"SPAN")&&u.insertHTML("<span ".concat(kg,">").concat(u.selection(),"</span>"),{select:!0})}}},SD=function(){function u(i,e,t){var n=this;if(t===void 0&&(t={}),this.em=i,this.settings=t,e[Tw])return e[Tw];e[Tw]=this,this.setEl(e),this.updateActiveActions=this.updateActiveActions.bind(this),this.__onKeydown=this.__onKeydown.bind(this),this.__onPaste=this.__onPaste.bind(this);var a=(t.actions||[]).map(function(O){var A=O;return(0,r.isString)(O)?A=If({},Mp[O]):Mp[O.name]&&(A=If(If({},Mp[O.name]),O)),A}),p=a.length?a:Object.keys(Mp).map(function(O){return Mp[O]});t.classes=If({actionbar:"actionbar",button:"action",active:"active",disabled:"disabled",inactive:"inactive"},t.classes);var m=t.classes,y=t.actionbar;if(this.actionbar=y,this.classes=m,this.actions=p,!y){if(!this.isCustom(t.module)){var b=t.actionbarContainer;y=document.createElement("div"),y.className=m.actionbar,b==null||b.appendChild(y),this.actionbar=y}p.forEach(function(O){return n.addAction(O)})}return t.styleWithCSS&&this.exec("styleWithCSS"),this}return u.prototype.isCustom=function(i){var e=i||this.em.RichTextEditor;return!!(e!=null&&e.config.custom||e!=null&&e.customRte)},u.prototype.destroy=function(){},u.prototype.setEl=function(i){this.el=i,this.doc=i.ownerDocument},u.prototype.updateActiveActions=function(){var i=this,e=this.getActions();e.forEach(function(t){var n=t.update,a=t.btn,p=i.classes,m=p.active,y=p.inactive,b=p.disabled,O=t.state,A=t.name,R=i.doc,B=Tg.INACTIVE;if(a&&(a.className=a.className.replace(m,"").trim(),a.className=a.className.replace(y,"").trim(),a.className=a.className.replace(b,"").trim()),O){var Q=O(i,R);if(B=Q,a)switch(Q){case lc.ACTIVE:a.className+=" ".concat(m);break;case lc.INACTIVE:a.className+=" ".concat(y);break;case lc.DISABLED:a.className+=" ".concat(b);break}}else R.queryCommandSupported(A)&&R.queryCommandState(A)&&(a&&(a.className+=" ".concat(m)),B=Tg.ACTIVE);t.currentState=B,n==null||n(i,t)}),e.length&&this.em.RichTextEditor.__dbdTrgCustom()},u.prototype.enable=function(i){return this.enabled?this:this.__toggleEffects(!0,i)},u.prototype.disable=function(){return this.__toggleEffects(!1)},u.prototype.__toggleEffects=function(i,e){i===void 0&&(i=!1),e===void 0&&(e={});var t=i?nt.on:nt.S1,n=this,a=n.el,p=n.doc,m=this.actionbarEl();if(m&&(m.style.display=i?"":"none"),a.contentEditable="".concat(!!i),t(a,"mouseup keyup",this.updateActiveActions),t(p,"keydown",this.__onKeydown),t(p,"paste",this.__onPaste),this.enabled=i,i){var y=e.event;if(this.syncActions(),this.updateActiveActions(),y){var b=null;if(p.caretRangeFromPoint){var O=(0,nt.VB)(y);b=p.caretRangeFromPoint(O.clientX,O.clientY)}else y.rangeParent&&(b=p.createRange(),b.setStart(y.rangeParent,y.rangeOffset));var A=p.getSelection();A==null||A.removeAllRanges(),b&&(A==null||A.addRange(b))}a.focus()}return this},u.prototype.__onKeydown=function(i){var e=this.em,t=e.RichTextEditor.getConfig().onKeydown;if(t)return t({ev:i,rte:this,editor:e.getEditor()});var n=this.doc,a=["insertOrderedList","insertUnorderedList"];i.key==="Enter"&&!a.some(function(p){return n.queryCommandState(p)})&&(n.execCommand("insertLineBreak"),i.preventDefault())},u.prototype.__onPaste=function(i){var e=this.em,t=e.RichTextEditor.getConfig().onPaste;if(t)return t({ev:i,rte:this,editor:e.getEditor()});var n=i.clipboardData,a=n.getData("text"),p=n.getData("text/html");if(a&&!p){i.preventDefault();var m=a.replace(/(?:\r\n|\r|\n)/g,"<br/>");this.doc.execCommand("insertHTML",!1,m)}},u.prototype.syncActions=function(){var i=this;this.getActions().forEach(function(e){if(i.actionbar&&(!e.state||e.state&&e.state(i,i.doc)>=0)){var t=e.event||"click",n=e.btn;n&&(n["on".concat(t)]=function(){e.result(i,e),i.updateActiveActions()})}})},u.prototype.addAction=function(i,e){e===void 0&&(e={});var t=e.sync,n=this.actionbarEl();if(n){var a=i.icon,p=i.attributes,m=p===void 0?{}:p,y=document.createElement("span");y.className=this.classes.button,i.btn=y;for(var b in m)y.setAttribute(b,m[b]);typeof a=="string"?y.innerHTML=a:y.appendChild(a),n.appendChild(y)}t&&(this.actions.push(i),this.syncActions())},u.prototype.getActions=function(){return this.actions},u.prototype.selection=function(){return this.doc.getSelection()},u.prototype.exec=function(i,e){this.doc.execCommand(i,!1,e)},u.prototype.actionbarEl=function(){return this.actionbar},u.prototype.insertHTML=function(i,e){var t=e===void 0?{}:e,n=t.select,a=this,p=a.em,m=a.doc,y=a.el,b=m.getSelection();if(b&&b.rangeCount){var O=(0,o.getComponentModel)(y)||p.getSelected(),A=m.createElement("div"),R=b.getRangeAt(0);R.deleteContents(),(0,r.isString)(i)?A.innerHTML=i:i&&A.appendChild(i),Array.prototype.slice.call(A.childNodes).forEach(function(B){R.insertNode(B)}),b.removeAllRanges(),b.addRange(R),y.focus(),n&&O&&(O.once("rte:disable",function(){var B=O.find("[".concat(kg,"]"))[0];B&&(p.setSelected(B),B.removeAttributes(kg))}),O.trigger("disable"))}},u}();const CD=SD;var OD=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),yC=function(u,i,e,t){function n(a){return a instanceof e?a:new e(function(p){p(a)})}return new(e||(e=Promise))(function(a,p){function m(O){try{b(t.next(O))}catch(A){p(A)}}function y(O){try{b(t.throw(O))}catch(A){p(A)}}function b(O){O.done?a(O.value):n(O.value).then(m,y)}b((t=t.apply(u,i||[])).next())})},wC=function(u,i){var e={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,n,a,p;return p={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function m(b){return function(O){return y([b,O])}}function y(b){if(t)throw new TypeError("Generator is already executing.");for(;p&&(p=0,b[0]&&(e=0)),e;)try{if(t=1,n&&(a=b[0]&2?n.return:b[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,b[1])).done)return a;switch(n=0,a&&(b=[b[0]&2,a.value]),b[0]){case 0:case 1:a=b;break;case 4:return e.label++,{value:b[1],done:!1};case 5:e.label++,n=b[1],b=[0];continue;case 7:b=e.ops.pop(),e.trys.pop();continue;default:if(a=e.trys,!(a=a.length>0&&a[a.length-1])&&(b[0]===6||b[0]===2)){e=0;continue}if(b[0]===3&&(!a||b[1]>a[0]&&b[1]<a[3])){e.label=b[1];break}if(b[0]===6&&e.label<a[1]){e.label=a[1],a=b;break}if(a&&e.label<a[2]){e.label=a[2],e.ops.push(b);break}a[2]&&e.ops.pop(),e.trys.pop();continue}b=i.call(u,e)}catch(O){b=[6,O],n=0}finally{t=a=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}},ED=function(u,i,e){if(e||arguments.length===2)for(var t=0,n=i.length,a;t<n;t++)(a||!(t in i))&&(a||(a=Array.prototype.slice.call(i,0,t)),a[t]=i[t]);return u.concat(a||Array.prototype.slice.call(i))},Pw="".concat(Qt.refresh," frame:scroll ").concat(zt.g.update),TD="rte:enable",PD="rte:disable",kD="rte:custom",AD={enable:TD,disable:PD,custom:kD},LD=function(u){OD(i,u);function i(e){var t=u.call(this,e,"RichTextEditor",xD)||this;t.events=AD;var n=t.config,a=n.pStylePrefix;a&&(n.stylePrefix=a+n.stylePrefix),t.pfx=n.stylePrefix,t.actions=n.actions||[];var p=new C.Hn;return t.model=p,p.on("change:currentView",t.__trgCustom,t),t.__dbdTrgCustom=(0,r.debounce)(function(){return t.__trgCustom()},0),t}return i.prototype.onLoad=function(){if((0,o.hasWin)()){var e=this.config,t=e.pStylePrefix,n=e.custom,a=(0,nt.ut)("div",{class:(0,nt.cx)("".concat(t,"rte-toolbar"),!n&&"".concat(t,"one-bg ").concat(t,"rte-toolbar-ui"))});this.toolbar=a,this.initRte((0,nt.ut)("div")),(0,nt.on)(a,"mousedown",function(p){return p.stopPropagation()})}},i.prototype.__trgCustom=function(){var e=this,t=e.model,n=e.em,a=e.events;n.trigger(a.custom,{enabled:!!t.get("currentView"),container:this.getToolbarEl(),actions:this.getAll()})},i.prototype.destroy=function(){var e,t,n;(e=this.globalRte)===null||e===void 0||e.destroy(),(n=(t=this.customRte)===null||t===void 0?void 0:t.destroy)===null||n===void 0||n.call(t),this.model.stopListening().clear({silent:!0}),this.__dbdTrgCustom.cancel(),(0,nt.L_)(this.toolbar)},i.prototype.postRender=function(e){var t=e.model.get("Canvas");this.toolbar.style.pointerEvents="all",this.hideToolbar(),t.getToolsEl().appendChild(this.toolbar)},i.prototype.initRte=function(e){var t=this.globalRte,n=this,a=n.em,p=n.pfx,m=n.actionbar,y=n.config,b=this.actions||ED([],y.actions,!0),O={actionbar:"".concat(p,"actionbar"),button:"".concat(p,"action"),active:"".concat(p,"active"),inactive:"".concat(p,"inactive"),disabled:"".concat(p,"disabled")};return t?(t.em=a,t.setEl(e)):(t=new CD(a,e,{classes:O,actions:b,actionbar:m,actionbarContainer:this.toolbar,module:this}),this.globalRte=t),t.actionbar&&(this.actionbar=t.actionbar),t.actions&&(this.actions=t.actions),t},i.prototype.add=function(e,t){var n;t===void 0&&(t={}),t.name=e,(n=this.globalRte)===null||n===void 0||n.addAction(t,{sync:!0})},i.prototype.get=function(e){var t,n;return(t=this.globalRte)===null||t===void 0||t.getActions().forEach(function(a){a.name==e&&(n=a)}),n},i.prototype.getAll=function(){var e;return((e=this.globalRte)===null||e===void 0?void 0:e.getActions())||[]},i.prototype.remove=function(e){var t,n=this.getAll(),a=this.get(e);if(a){var p=a.btn,m=n.indexOf(a);(t=p==null?void 0:p.parentNode)===null||t===void 0||t.removeChild(p),n.splice(m,1)}return a},i.prototype.run=function(e){var t=this.globalRte,n=(0,r.isString)(e)?this.get(e):e;t&&n&&(n.result(t,n),t.updateActiveActions())},i.prototype.getToolbarEl=function(){return this.toolbar},i.prototype.updatePosition=function(){var e=this,t=e.em,n=e.toolbar,a="px",p=t.Canvas,m=n.style,y=p.getTargetToElementFixed(this.lastEl,n,{event:"rteToolbarPosUpdate",left:0});["top","left","bottom","right"].forEach(function(b){var O=y[b];(0,o.isDef)(O)&&(m[b]=(0,r.isString)(O)?O:(O||0)+a)})},i.prototype.enable=function(e,t,n){return n===void 0&&(n={}),yC(this,void 0,void 0,function(){var a,p,m,y,b;return wC(this,function(O){switch(O.label){case 0:return this.lastEl=e.el,a=this,p=a.customRte,m=a.em,y=e.getChildrenContainer(),this.toolbar.style.display="",[4,p?p.enable(y,t):this.initRte(y).enable(n)];case 1:return b=O.sent(),m&&(setTimeout(this.updatePosition.bind(this),0),m.off(Pw,this.updatePosition,this),m.on(Pw,this.updatePosition,this),m.trigger("rte:enable",e,b)),this.model.set({currentView:e}),[2,b]}})})},i.prototype.getContent=function(e,t){return yC(this,void 0,void 0,function(){var n;return wC(this,function(a){switch(a.label){case 0:return n=this.customRte,n&&t&&(0,r.isFunction)(n.getContent)?[4,n.getContent(e.el,t)]:[3,2];case 1:return[2,a.sent()];case 2:return[2,e.getChildrenContainer().innerHTML]}})})},i.prototype.hideToolbar=function(){var e=this.toolbar.style,t="-1000px";e.top=t,e.left=t,e.display="none"},i.prototype.disable=function(e,t,n){n===void 0&&(n={});var a=this.em,p=this.customRte,m=e.getChildrenContainer();p?p.disable(m,t):t&&t.disable(),this.hideToolbar(),a&&(a.off(Pw,this.updatePosition,this),!n.fromMove&&a.trigger("rte:disable",e,t)),this.model.unset("currentView")},i}(z);const MD=LD,DD={sectors:[{name:"General",open:!1,properties:["display","float","position","top","right","left","bottom"]},{name:"Flex",open:!1,properties:["flex-direction","flex-wrap","justify-content","align-items","align-content","order","flex-basis","flex-grow","flex-shrink","align-self"]},{name:"Dimension",open:!1,properties:["width","height","max-width","min-height","margin","padding"]},{name:"Typography",open:!1,properties:["font-family","font-size","font-weight","letter-spacing","color","line-height","text-align","text-shadow"]},{name:"Decorations",open:!1,properties:["background-color","border-radius","border","box-shadow","background"]},{name:"Extra",open:!1,properties:["opacity","transition","transform"]}],appendTo:"",stylePrefix:"sm-",custom:!1,hideNotStylable:!0,highlightChanged:!0,highlightComputed:!0,showComputed:!0,clearProperties:!0,avoidComputed:["width","height"]};var RD=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Xi=function(){return Xi=Object.assign||function(u){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(u[n]=i[n])}return u},Xi.apply(this,arguments)},ND=function(u,i){var e={};for(var t in u)Object.prototype.hasOwnProperty.call(u,t)&&i.indexOf(t)<0&&(e[t]=u[t]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(u);n<t.length;n++)i.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(u,t[n])&&(e[t[n]]=u[t[n]]);return e},_C=function(u,i,e){if(e||arguments.length===2)for(var t=0,n=i.length,a;t<n;t++)(a||!(t in i))&&(a||(a=Array.prototype.slice.call(i,0,t)),a[t]=i[t]);return u.concat(a||Array.prototype.slice.call(i))},kw=function(u){RD(i,u);function i(){return u!==null&&u.apply(this,arguments)||this}return i.getDefaults=function(){return(0,r.result)(this.prototype,"defaults")},i.prototype.defaults=function(){return{name:"",property:"",type:"",defaults:"",info:"",value:"",icon:"",functionName:"",status:"",visible:!0,fixedValues:["initial","inherit"],full:!1,important:!1,toRequire:!1,requires:void 0,requiresParent:null,parentTarget:null}},i.prototype.initialize=function(e,t){e===void 0&&(e={}),t===void 0&&(t={}),this.em=t.em;var n=this.getId()||"",a=this.get("name")||this.get("label")||"";!this.get("property")&&this.set("property",(a||n).replace(/ /g,"-"));var p=this.get("property");!this.get("id")&&this.set("id",p),!a&&this.set("name",(0,o.capitalize)(p).replace(/-/g," ")),this.on("change",this.__upTargets),i.callInit(this,e,t)},i.prototype.__getParentProp=function(){var e,t;return(t=(e=this.collection)===null||e===void 0?void 0:e.opts)===null||t===void 0?void 0:t.parentProp},i.prototype.__upTargets=function(e,t){var n,a=this;t===void 0&&(t={});var p=this.em,m=p.Styles,y=this.getName(),b=t.__clear,O=b?"":this.__getFullValue(t),A=this.__getParentProp(),R=this.changedAttributes(),B=(0,r.keys)(R).reduce(function(He,ot){return He[ot]=a.previous(ot),He},{}),Q=_C(_C([],(0,r.keys)(this.__getClearProps()),!0),["__p"],!1),le=(0,r.keys)(R),ue=!t.__up&&!A&&(b||Q.some(function(He){return le.indexOf(He)>=0})),ke=this.get("onChange"),Be={property:this,from:B,to:R,value:O,opts:t};m.__trgEv(m.events.propertyUpdate,Be),ke&&ke(Be),ue&&this.__upTargetsStyle((n={},n[y]=O,n),t)},i.prototype.__upTargetsStyle=function(e,t){var n,a=(n=this.em)===null||n===void 0?void 0:n.get("StyleManager");a==null||a.addStyleTargets(Xi(Xi({},e),{__p:!!t.avoidStore}),t)},i.prototype._up=function(e,t){t===void 0&&(t={}),t.noTarget&&(t.__up=!0);var n=t.partial,a=ND(t,["partial"]);return e.__p=!!(a.avoidStore||n),this.set(e,Xi(Xi({},a),{avoidStore:e.__p}))},i.prototype.up=function(e,t){t===void 0&&(t={}),this.set(e,Xi(Xi({},t),{__up:!0}))},i.prototype.init=function(){},i.prototype.getId=function(){return this.get("id")},i.prototype.getType=function(){return this.get("type")},i.prototype.getName=function(){return this.get("property")},i.prototype.getLabel=function(e){var t;e===void 0&&(e={});var n=e.locale,a=n===void 0?!0:n,p=this.getId(),m=this.get("name")||this.get("label");return a&&((t=this.em)===null||t===void 0?void 0:t.t("styleManager.properties.".concat(p)))||m},i.prototype.getValue=function(e){e===void 0&&(e={});var t=e.noDefault,n=this.get("value");return!this.hasValue()&&!t?this.getDefaultValue():n},i.prototype.hasValue=function(e){e===void 0&&(e={});var t=e.noParent,n=t&&this.getParentTarget(),a=this.get("value");return!(0,r.isUndefined)(a)&&a!==""&&!n},i.prototype.hasValueParent=function(){return this.hasValue()&&!this.hasValue({noParent:!0})},i.prototype.getStyle=function(e){var t;e===void 0&&(e={});var n=this.getName(),a=e.camelCase?(0,o.camelCase)(n):n;return t={},t[a]=this.__getFullValue(e),t},i.prototype.getDefaultValue=function(){var e=this.get("default");return"".concat((0,r.isUndefined)(e)?this.get("defaults"):e)},i.prototype.upValue=function(e,t){t===void 0&&(t={});var n=e===null||e===""?this.__getClearProps():this.__parseValue(e,t);return this._up(n,t)},i.prototype.isVisible=function(){return!!this.get("visible")},i.prototype.clear=function(e){return e===void 0&&(e={}),this._up(this.__getClearProps(),Xi(Xi({},e),{__clear:!0})),this},i.prototype.canClear=function(){var e=this.getParent();return e?e.__canClearProp(this):this.hasValue({noParent:!0})},i.prototype.getParent=function(){return this.__getParentProp()},i.prototype.isFull=function(){return!!this.get("full")},i.prototype.__parseValue=function(e,t){return this.parseValue(e,t)},i.prototype.__getClearProps=function(){return{value:""}},i.prototype.setValue=function(e,t,n){t===void 0&&(t=!0),n===void 0&&(n={});var a=this.parseValue(e),p=!t;!p&&this.set({value:void 0},{avoidStore:p,silent:!0}),this.set(a,Xi({avoidStore:p},n))},i.prototype.setValueFromInput=function(e,t,n){n===void 0&&(n={}),this.setValue(e,t,Xi(Xi({},n),{fromInput:1}))},i.prototype.parseValue=function(e,t){t===void 0&&(t={});var n={value:e},a="!important",p=this.get("functionName")||"";if((0,r.isString)(e)&&e.indexOf(a)!==-1&&(n.value=e.replace(a,"").trim(),n.important=!0),!p&&!t.complete)return n;var m=[],y="".concat(n.value).trim(),b=y.indexOf("(")+1,O=p||y.substring(0,b-1);if(O&&(n.functionName=O),!p||y.indexOf("".concat(p,"("))===0){var A=y.lastIndexOf(")");m.push(b),A>=0&&m.push(A),n.value=String.prototype.substring.apply(y,m)}if(t.numeric){var R=parseFloat(n.value);n.unit=n.value.replace(R,""),n.value=R}return n},i.prototype.__getFullValue=function(e){var t=e===void 0?{}:e,n=t.withDefault;return!this.hasValue()&&n?this.getDefaultValue():this.getFullValue()},i.prototype.getFullValue=function(e,t){t===void 0&&(t={});var n=this.get("functionName"),a=this.getDefaultValue(),p=(0,r.isUndefined)(e)?this.get("value"):e,m=!(0,r.isUndefined)(p)&&p!=="";if(p&&a&&p===a)return a;if(n&&m){var y=n==="url"?"'".concat(p.replace(/'|"/g,""),"'"):p;p="".concat(n,"(").concat(y,")")}return m&&this.get("important")&&!t.skipImportant&&(p="".concat(p," !important")),p||""},i.prototype.__setParentTarget=function(e){this.up({parentTarget:e})},i.prototype.getParentTarget=function(){return this.get("parentTarget")||null},i.prototype.__parseFn=function(e){e===void 0&&(e="");var t=e.indexOf("(")+1,n=e.lastIndexOf(")");return{name:e.substring(0,t-1).trim(),value:String.prototype.substring.apply(e,[t,n>=0?n:void 0]).trim()}},i.prototype.__checkVisibility=function(e){var t=e.target,n=e.component,a=e.sectors,p=n||t;if(!p)return!1;var m=this.getId(),y=this.getName(),b=this.get("toRequire"),O=this.get("requires"),A=this.get("requiresParent"),R=p.get("unstylable"),B=p.get("stylable-require"),Q=p.get("stylable");if((0,r.isArray)(Q)&&(Q=Q.indexOf(y)>=0),(0,r.isArray)(R)&&(Q=R.indexOf(y)<0),b&&(Q=!t||B&&(B.indexOf(m)>=0||B.indexOf(y)>=0)),a&&O){var le=(0,r.keys)(O);a.forEach(function(He){He.getProperties().forEach(function(ot){if((0,r.includes)(le,ot.id)){var Ot=O[ot.id];Q=Q&&(0,r.includes)(Ot,ot.get("value"))}})})}if(A){var ue=n&&n.parent(),ke=ue&&ue.getEl();if(ke){var Be=(0,o.hasWin)()?window.getComputedStyle(ke):{};(0,r.each)(A,function(He,ot){Q=Q&&Be[ot]&&(0,r.includes)(He,Be[ot])})}else Q=!1}return!!Q},i}(C.Hn);const bn=kw;kw.callParentInit=function(u,i,e,t){t===void 0&&(t={}),u.prototype.initialize.apply(i,[e,Xi(Xi({},t),{skipInit:1})])},kw.callInit=function(u,i,e){e===void 0&&(e={}),!e.skipInit&&u.init(i,e)};var jD=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Ag=function(){return Ag=Object.assign||function(u){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(u[n]=i[n])}return u},Ag.apply(this,arguments)},ID=function(u){jD(i,u);function i(){return u!==null&&u.apply(this,arguments)||this}return i.prototype.defaults=function(){return{values:{}}},i.prototype.initialize=function(){var e=this.collection;this.prop=e==null?void 0:e.prop},i.prototype.getId=function(){return this.cid},i.prototype.getIndex=function(){var e=this.collection;return e?e.indexOf(this):-1},i.prototype.getValues=function(e){e===void 0&&(e={});var t=this.get("values");return e.camelCase?Object.keys(t).reduce(function(n,a){return n[(0,o.camelCase)(a)]=t[a],n},{}):t},i.prototype.getLabel=function(){var e;return(e=this.prop)===null||e===void 0?void 0:e.getLayerLabel(this)},i.prototype.isSelected=function(){var e;return((e=this.prop)===null||e===void 0?void 0:e.getSelectedLayer())===this},i.prototype.select=function(){var e;return(e=this.prop)===null||e===void 0?void 0:e.selectLayer(this)},i.prototype.remove=function(){var e;return(e=this.prop)===null||e===void 0?void 0:e.removeLayer(this)},i.prototype.move=function(e){var t;return(t=this.prop)===null||t===void 0?void 0:t.moveLayer(this,e)},i.prototype.getStylePreview=function(e){var t;return e===void 0&&(e={}),(t=this.prop)===null||t===void 0?void 0:t.getStylePreview(this,e)},i.prototype.hasPreview=function(){var e;return!!(!((e=this.prop)===null||e===void 0)&&e.get("preview"))},i.prototype.upValues=function(e){return e===void 0&&(e={}),this.set("values",Ag(Ag({},this.getValues()),e))},i}(C.Hn);const FD=ID;var VD=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),bC=function(u){VD(i,u);function i(){return u!==null&&u.apply(this,arguments)||this}return i.prototype.initialize=function(e,t){t===void 0&&(t={}),this.prop=t.prop},i}(C.FE);const UD=bC;bC.prototype.model=FD;var BD=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Ff=function(){return Ff=Object.assign||function(u){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(u[n]=i[n])}return u},Ff.apply(this,arguments)},xC=function(u,i,e){if(e||arguments.length===2)for(var t=0,n=i.length,a;t<n;t++)(a||!(t in i))&&(a||(a=Array.prototype.slice.call(i,0,t)),a[t]=i[t]);return u.concat(a||Array.prototype.slice.call(i))},SC=function(u){return u==="integer"||u==="number"},HD=function(u){BD(i,u);function i(){return u!==null&&u.apply(this,arguments)||this}return i.prototype.defaults=function(){return Ff(Ff({},bn.getDefaults()),{detached:!1,properties:[],separator:" ",join:null,fromStyle:null,toStyle:null,full:!0})},i.prototype.initialize=function(e,t){e===void 0&&(e={}),t===void 0&&(t={}),bn.callParentInit(bn,this,e,t);var n=this.em,a=new Dw(this.get("properties")||[],{em:n,parentProp:this});this.set("properties",a,{silent:!0}),this.listenTo(a,"change",this.__upProperties),bn.callInit(this,e,t)},Object.defineProperty(i.prototype,"properties",{get:function(){return this.get("properties")||[]},enumerable:!1,configurable:!0}),i.prototype.getProperties=function(){return xC([],this.get("properties").models,!0)},i.prototype.getProperty=function(e){return this.properties.filter(function(t){return t.getId()===e||t.getName()===e})[0]},i.prototype.getPropertyAt=function(e){return this.get("properties").at(e)},i.prototype.isDetached=function(){return!!this.get("detached")},i.prototype.getValues=function(e){var t=e===void 0?{}:e,n=t.byName;return this.getProperties().reduce(function(a,p){var m=n?p.getName():p.getId();return a[m]="".concat(p.__getFullValue()),a},{})},i.prototype.getSeparator=function(){return this.getSplitSeparator()},i.prototype.getJoin=function(){return this.__getJoin()},i.prototype.getStyleFromProps=function(e){var t;e===void 0&&(e={});var n=this.getName(),a=this.__getJoin(),p=this.get("toStyle"),m=this.getValues(),y={};if(p)y=p(m,{join:a,name:n,property:this});else if(m=this.getValues({byName:!0}),this.isDetached())y=m;else{var b=this.getProperties().map(function(O){return O.__getFullValue({withDefault:1})}).filter(Boolean).join(a);y=(t={},t[n]=b,t)}return this.isDetached()?y[n]="":(y[n]=y[n]||"",y=Ff(Ff({},y),this.getProperties().reduce(function(O,A){return O[A.getName()]="",O},{}))),e.camelCase?Object.keys(y).reduce(function(O,A){return O[(0,o.camelCase)(A)]=y[A],O},{}):y},i.prototype.getSplitSeparator=function(){return new RegExp("".concat(this.get("separator"),"(?![^\\(]*\\))"))},i.prototype.__upProperties=function(e,t){if(t===void 0&&(t={}),!(t.__up||t.__clearIn)){var n=this.__getParentProp();if(n)return n.__upProperties(this,t);this.__upTargetsStyleProps(t,e)}},i.prototype.__upTargetsStyleProps=function(e,t){var n;e===void 0&&(e={});var a=this.getStyleFromProps();if(this.isDetached()&&t){var p=t.getName();a=(n={},n[p]=a[p],n)}this.__upTargetsStyle(a,e)},i.prototype._up=function(e,t){return t===void 0&&(t={}),this.__setProperties(this.__getSplitValue(e.value),t),bn.prototype._up.call(this,e,t),this},i.prototype.getStyle=function(e){return this.getStyleFromProps(e)},i.prototype.__getFullValue=function(e){if(e===void 0&&(e={}),this.isDetached()||e.__clear)return"";var t=this.getStyleFromProps()[this.getName()]||"";return Jr(t)},i.prototype.__getJoin=function(){var e=this.get("join");return(0,r.isString)(e)?e:this.get("separator")},i.prototype.__styleHasProps=function(e){e===void 0&&(e={});var t=this.getName(),n=this.getProperties(),a=n.map(function(m){return m.getName()}),p=xC([t],a,!0);return p.some(function(m){return!(0,r.isUndefined)(e[m])&&e[m]!==""})},i.prototype.__splitValue=function(e,t){return Jr(e).split(t).map(function(n){return n.trim()}).filter(Boolean)},i.prototype.__splitStyleName=function(e,t,n){return this.__splitValue(e[t]||"",n)},i.prototype.__getSplitValue=function(e,t){e===void 0&&(e="");var n=t===void 0?{}:t,a=n.byName,p=this.getProperties(),m=p.length===4&&p.every(function(O){return SC(O.getType())}),y=this.__splitValue(e,this.getSplitSeparator()),b={};return p.forEach(function(O,A){var R=y[A],B=(0,r.isUndefined)(R)?"":R;if(m){var Q=y.length;B=y[A]||y[A%Q+(Q!=1&&Q%2?1:0)]||B}var le=a?O.getName():O.getId();b[le]=B||""}),b},i.prototype.__getPropsFromStyle=function(e,t){if(e===void 0&&(e={}),t===void 0&&(t={}),!this.__styleHasProps(e))return null;var n=t.byName,a=this.getName(),p=this.getProperties(),m=this.getSplitSeparator(),y=this.get("fromStyle"),b=y?y(e,{property:this,name:a,separator:m}):{};return y||(b=this.__getSplitValue(e[a]||"",{byName:n}),p.forEach(function(O){var A=e[O.getName()],R=n?O.getName():O.getId();!(0,r.isUndefined)(A)&&A!==""&&(b[R]=A)})),b},i.prototype.__setProperties=function(e,t){e===void 0&&(e={}),t===void 0&&(t={}),this.getProperties().forEach(function(a){var p=e[a.getId()];a.__getFullValue()!==p&&a.upValue(p,t)});var n=(0,r.keys)(e).map(function(a){return e[a]}).join(" ");this.set("value",n,{silent:!0})},i.prototype.clear=function(){var e=this;return this.getProperties().map(function(t){return t.clear({__clearIn:!e.isDetached()})}),bn.prototype.clear.call(this),this},i.prototype.hasValue=function(e){return this.getProperties().some(function(t){return t.hasValue(e)})},i.prototype.getFullValue=function(){return this.__getFullValue()},i.prototype.__canClearProp=function(e){return this.isDetached()&&e.hasValue({noParent:!0})},i}(bn);const Vf=HD;var zD=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),co=function(){return co=Object.assign||function(u){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(u[n]=i[n])}return u},co.apply(this,arguments)},WD=function(u,i){var e={};for(var t in u)Object.prototype.hasOwnProperty.call(u,t)&&i.indexOf(t)<0&&(e[t]=u[t]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(u);n<t.length;n++)i.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(u,t[n])&&(e[t[n]]=u[t[n]]);return e},$D=/,(?![^\(]*\))/,KD=/\s(?![^(]*\))/,GD=function(u){zD(i,u);function i(){return u!==null&&u.apply(this,arguments)||this}return i.prototype.defaults=function(){return co(co({},Vf.getDefaults()),{layers:[],emptyValue:"unset",layerSeparator:", ",layerJoin:"",prepend:0,preview:!1,layerLabel:null,selectedLayer:null})},i.prototype.initialize=function(e,t){e===void 0&&(e={}),t===void 0&&(t={}),Vf.callParentInit(Vf,this,e,t);var n=this.get("layers"),a=new UD(n,{prop:this});a.property=this,a.properties=this.get("properties"),this.set("layers",a,{silent:!0}),this.on("change:selectedLayer",this.__upSelected),this.listenTo(a,"add remove",this.__upLayers),Vf.callInit(this,e,t)},Object.defineProperty(i.prototype,"layers",{get:function(){return this.get("layers")},enumerable:!1,configurable:!0}),i.prototype.getLayers=function(){return this.layers.models},i.prototype.hasLayers=function(){return this.getLayers().length>0},i.prototype.getLayer=function(e){return e===void 0&&(e=0),this.layers.at(e)||void 0},i.prototype.getSelectedLayer=function(){var e=this.get("selectedLayer");return e&&e.getIndex()>=0?e:void 0},i.prototype.selectLayer=function(e){return this.set("selectedLayer",e,{__select:!0})},i.prototype.selectLayerAt=function(e){e===void 0&&(e=0);var t=this.getLayer(e);return t&&this.selectLayer(t)},i.prototype.moveLayer=function(e,t){t===void 0&&(t=0);var n=this.layers,a=e?e.getIndex():-1;a>=0&&(0,r.isNumber)(t)&&t>=0&&t<n.length&&a!==t&&(this.removeLayer(e),n.add(e,{at:t}))},i.prototype.addLayer=function(e,t){e===void 0&&(e={}),t===void 0&&(t={});var n={};this.getProperties().forEach(function(p){var m=p.getId(),y=e[m];n[m]=(0,r.isUndefined)(y)?p.getDefaultValue():y});var a=this.layers.push({values:n},t);return a},i.prototype.removeLayer=function(e){return this.layers.remove(e)},i.prototype.removeLayerAt=function(e){e===void 0&&(e=0);var t=this.getLayer(e);return t?this.removeLayer(t):null},i.prototype.getLayerLabel=function(e){var t="";if(e){var n=this.get("layerLabel"),a=e.getValues(),p=e.getIndex();if(n)t=n(e,{index:p,values:a,property:this});else{var m=[];this.getProperties().map(function(y){m.push(a[y.getId()])}),t=m.filter(Boolean).join(" ")}}return t},i.prototype.getStyleFromLayer=function(e,t){var n;t===void 0&&(t={});var a=this.__getJoin(),p=this.__getJoinLayers(),m=this.get("toStyle"),y=this.getName(),b=e.getValues(),O;if(m)O=m(b,{join:a,joinLayers:p,name:y,layer:e,property:this});else{var A=this.getProperties().map(function(R){var B=R.getName(),Q=b[R.getId()],le=(0,r.isUndefined)(Q)?R.getDefaultValue():Q;if(t.number&&SC(R.getType())){var ue=R.parseValue(Q,t.number);le="".concat(ue.value).concat(ue.unit)}return{name:B,value:le}});O=this.isDetached()?A.reduce(function(R,B){return R[B.name]=B.value,R},{}):(n={},n[this.getName()]=A.map(function(R){return R.value}).join(a),n)}return t.camelCase?Object.keys(O).reduce(function(R,B){return R[(0,o.camelCase)(B)]=O[B],R},{}):O},i.prototype.getStylePreview=function(e,t){t===void 0&&(t={});var n={},a=this.get("preview");return a&&(n=this.getStyleFromLayer(e,t)),n},i.prototype.getLayerSeparator=function(){var e=this.get("layerSeparator");return(0,r.isString)(e)?new RegExp("".concat(e,"(?![^\\(]*\\))")):e},i.prototype.hasEmptyValue=function(){return!this.hasLayers()&&!!this.attributes.isEmptyValue},i.prototype.__upProperties=function(e,t){var n;t===void 0&&(t={});var a=this.getSelectedLayer();a&&(a.upValues((n={},n[e.getId()]=e.__getFullValue(),n)),!t.__up&&this.__upTargetsStyleProps(t))},i.prototype.__upLayers=function(e,t,n){this.__upTargetsStyleProps(n||t)},i.prototype.__upTargets=function(e,t){if(t===void 0&&(t={}),!t.__select)return bn.prototype.__upTargets.call(this,e,t)},i.prototype.__upTargetsStyleProps=function(e){e===void 0&&(e={}),this.__upTargetsStyle(this.getStyleFromLayers(e),e)},i.prototype.__upTargetsStyle=function(e,t){return bn.prototype.__upTargetsStyle.call(this,e,t)},i.prototype.__upSelected=function(e,t){var n=e===void 0?{}:e,a=n.noEvent;t===void 0&&(t={});var p=this.em.Styles,m=this.getSelectedLayer(),y=m==null?void 0:m.getValues();y&&this.getProperties().forEach(function(b){var O,A=(O=y[b.getId()])!==null&&O!==void 0?O:"";b.__getFullValue()!==A&&b.upValue(A,co(co({},t),{__up:!0}))}),!a&&p.__trgEv(p.events.layerSelect,{property:this})},i.prototype._up=function(e,t){t===void 0&&(t={});var n=e.__layers,a=n===void 0?[]:n,p=WD(e,["__layers"]);return!this.isDetached()&&this.__setLayers(a),this.__upSelected({noEvent:!0},t),bn.prototype._up.call(this,p,t),this},i.prototype.__setLayers=function(e,t){e===void 0&&(e=[]),t===void 0&&(t={});var n=this.layers,a=e.map(function(p){return{values:p}});n.length===a.length?a.map(function(p,m){var y;return(y=n.at(m))===null||y===void 0?void 0:y.upValues(p.values)}):n.reset(a),this.set({isEmptyValue:!!t.isEmptyValue}),this.__upSelected({noEvent:!0})},i.prototype.__parseValue=function(e){var t=this,n=this.parseValue(e);return n.__layers=e.split($D).map(function(a){return a.trim()}).map(function(a){return t.__parseLayer(a)}).filter(Boolean),n},i.prototype.__parseLayer=function(e){var t=this.get("parseLayer"),n=e.split(KD),a=this.getProperties();return t?t({value:e,values:n}):a.reduce(function(p,m,y){var b=n[y];return p[m.getId()]=(0,r.isUndefined)(b)?m.getDefaultValue():b,p},{})},i.prototype.__getLayersFromStyle=function(e){var t=this;if(e===void 0&&(e={}),!this.__styleHasProps(e))return null;if(this.isEmptyValueStyle(e))return[];var n=this.getName(),a=this.getProperties(),p=this.getLayerSeparator(),m=this.attributes.fromStyle,y=m?m(e,{property:this,name:n,separatorLayers:p}):[];if(!m){var b=this.__splitStyleName(e,n,p).map(function(O){return O.split(t.getSplitSeparator())}).map(function(O){var A={};return a.forEach(function(R,B){var Q=O[B];A[R.getId()]=(0,r.isUndefined)(Q)?R.getDefaultValue():Q}),A});a.forEach(function(O){var A=O.getId();t.__splitStyleName(e,O.getName(),p).map(function(R){var B;return B={},B[A]=R||O.getDefaultValue(),B}).forEach(function(R,B){b[B]=b[B]?co(co({},b[B]),R):R})}),y=b}return(0,r.isArray)(y)?y:[y]},i.prototype.getStyle=function(e){return e===void 0&&(e={}),this.getStyleFromLayers(e)},i.prototype.getStyleFromLayers=function(e){var t=this;e===void 0&&(e={});var n={},a=this.getName(),p=this.getLayers(),m=this.getProperties(),y=p.map(function(O){return t.getStyleFromLayer(O,e)});if(y.forEach(function(O){(0,r.keys)(O).map(function(A){n[A]||(n[A]=[]),n[A].push(O[A])})}),(0,r.keys)(n).map(function(O){n[O]=n[O].join(t.__getJoinLayers())}),this.isDetached())n[a]="",!p.length&&m.map(function(O){n[O.getName()]=""});else{var b=m.reduce(function(O,A){return O[A.getName()]="",O},{});n[a]=n[a]||"",n=co(co({},n),b)}return co(co({},n),e.__clear?{}:this.getEmptyValueStyle())},i.prototype.isEmptyValueStyle=function(e){e===void 0&&(e={});var t=this.getEmptyValueStyle({force:!0}),n=(0,r.keys)(t);return!!n.length&&n.every(function(a){return t[a]===e[a]})},i.prototype.getEmptyValueStyle=function(e){e===void 0&&(e={});var t=this.attributes.emptyValue;if(t&&(!this.hasLayers()||e.force)){var n=this.getName(),a=this.getProperties(),p=(0,r.isString)(t)?t:t({property:this});if((0,r.isString)(p)){var m={};return this.isDetached()?a.map(function(y){m[y.getName()]=p}):m[n]=p,m}else return p}else return{}},i.prototype.__getJoinLayers=function(){var e=this.get("layerJoin"),t=this.get("layerSeparator");return e||((0,r.isString)(t)?t:e)},i.prototype.__getFullValue=function(){if(this.get("detached"))return"";var e=this.getStyleFromLayers();return Jr(e[this.getName()])},i.prototype.hasValue=function(e){e===void 0&&(e={});var t=e.noParent,n=t&&this.getParentTarget();return(this.hasLayers()||this.hasEmptyValue())&&!n},i.prototype.clear=function(e){return e===void 0&&(e={}),this.layers.reset(),this.__upTargetsStyleProps(co(co({},e),{__clear:!0})),bn.prototype.clear.call(this),this},i.prototype.__canClearProp=function(){return!1},i.prototype.__getLayers=function(){return this.layers},i}(Vf);const ZD=GD;var qD=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Lg=function(){return Lg=Object.assign||function(u){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(u[n]=i[n])}return u},Lg.apply(this,arguments)},YD=function(u,i){var e={};for(var t in u)Object.prototype.hasOwnProperty.call(u,t)&&i.indexOf(t)<0&&(e[t]=u[t]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(u);n<t.length;n++)i.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(u,t[n])&&(e[t[n]]=u[t[n]]);return e},XD=function(u,i,e){if(e||arguments.length===2)for(var t=0,n=i.length,a;t<n;t++)(a||!(t in i))&&(a||(a=Array.prototype.slice.call(i,0,t)),a[t]=i[t]);return u.concat(a||Array.prototype.slice.call(i))},Aw="data-clear-style",JD=function(u){qD(i,u);function i(e){e===void 0&&(e={});var t=u.call(this,e)||this;(0,r.bindAll)(t,"__change","__updateStyle");var n=e.config||{},a=n.em;t.config=n,t.em=a,t.pfx=n.stylePrefix||"",t.ppfx=n.pStylePrefix||"",t.__destroyFn=t.destroy?t.destroy.bind(t):function(){};var p=t.model;p.view=t,t.onValueChange=(0,r.debounce)(t.onValueChange.bind(t),10),t.updateStatus=(0,r.debounce)(t.updateStatus.bind(t),0),t.listenTo(p,"destroy remove",t.remove),t.listenTo(p,"change:visible",t.updateVisibility),t.listenTo(p,"change:name change:className change:full",t.render),t.listenTo(p,"change:value",t.onValueChange),t.listenTo(p,"change:parentTarget",t.updateStatus),t.listenTo(a,"change:device",t.onValueChange);var m=t.init&&t.init.bind(t);return m&&m(),t}return i.prototype.events=function(){var e;return e={change:"inputValueChanged"},e["click [".concat(Aw,"]")]="clear",e},i.prototype.template=function(e){var t=this,n=t.pfx,a=t.ppfx;return`
      <div class="`.concat(n,`label" data-sm-label></div>
      <div class="`).concat(a,`fields" data-sm-fields></div>
    `)},i.prototype.templateLabel=function(e){var t=this,n=t.pfx,a=t.em,p=e.parent,m=e.attributes,y=m.icon,b=y===void 0?"":y,O=m.info,A=O===void 0?"":O,R=a==null?void 0:a.getConfig().icons,B=(R==null?void 0:R.close)||"";return`
      <span class="`.concat(n,"icon ").concat(b,'" title="').concat(A,`">
        `).concat(e.getLabel(),`
      </span>
      `).concat(p?"":'<div class="'.concat(n,'clear" style="display: none" ').concat(Aw,">").concat(B,"</div>"),`
    `)},i.prototype.templateInput=function(e){return`
      <div class="`.concat(this.ppfx,`field">
        <input placeholder="`).concat(e.getDefaultValue(),`"/>
      </div>
    `)},i.prototype.remove=function(){var e=this;return C.G7.prototype.remove.apply(this,arguments),["em","input","$input","view"].forEach(function(t){return e[t]=null}),this.__destroyFn(this._getClbOpts()),this},i.prototype.updateStatus=function(){var e,t=this,n=t.model,a=t.pfx,p=t.ppfx,m=t.config,y="".concat(p,"four-color"),b="".concat(p,"color-warn"),O=this.$el.children(".".concat(a,"label")),A=this.getClearEl(),R=A?A.style:{};O.removeClass("".concat(y," ").concat(b)),R.display="none",n.hasValue({noParent:!0})&&m.highlightChanged?(O.addClass(y),m.clearProperties&&(R.display="")):n.hasValue()&&m.highlightComputed&&O.addClass(b),(e=this.parent)===null||e===void 0||e.updateStatus()},i.prototype.clear=function(e){e&&e.stopPropagation(),this.model.clear()},i.prototype.getClearEl=function(){return this.clearEl||(this.clearEl=this.el.querySelector("[".concat(Aw,"]"))),this.clearEl},i.prototype.inputValueChanged=function(e){e&&e.stopPropagation(),!this.emit&&this.model.upValue(e.target.value)},i.prototype.onValueChange=function(e,t,n){this.setValue(this.model.getFullValue(void 0,{skipImportant:!0})),this.updateStatus()},i.prototype.setValue=function(e){var t=this.model,n=(0,r.isUndefined)(e)||e===""?t.getDefaultValue():e;if(this.update)return this.__update(n);this.__setValueInput(n)},i.prototype.__setValueInput=function(e){var t=this.getInputEl();t&&(t.value=e)},i.prototype.getInputEl=function(){return this.input||(this.input=this.el.querySelector("input")),this.input},i.prototype.updateVisibility=function(){this.el.style.display=this.model.isVisible()?"":"none"},i.prototype.clearCached=function(){delete this.clearEl,delete this.input,delete this.$input},i.prototype.__unset=function(){var e=this.unset&&this.unset.bind(this);e&&e(this._getClbOpts())},i.prototype.__update=function(e){var t=this.update&&this.update.bind(this);t&&t(Lg(Lg({},this._getClbOpts()),{value:e}))},i.prototype.__change=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.emit&&this.emit.bind(this);n&&n.apply(void 0,XD([this._getClbOpts()],e,!1))},i.prototype.__updateStyle=function(e,t){t===void 0&&(t={});var n=t.complete,a=t.partial;YD(t,["complete","partial"]);var p=this.model,m=n!==!1&&a!==!0;(0,o.isObject)(e)?p.__upTargetsStyle(e,{avoidStore:!m}):p.upValue(e,{partial:!m})},i.prototype._getClbOpts=function(){var e=this,t=e.model,n=e.el,a=e.createdEl;return{el:n,createdEl:a,property:t,props:t.attributes,change:this.__change,updateStyle:this.__updateStyle}},i.prototype.render=function(){this.clearCached();var e=this,t=e.pfx,n=e.model,a=e.el,p=e.$el,m=n.getName(),y=n.getType(),b=n.get("className")||"",O="".concat(t,"property"),A=y==="number"?"".concat(t).concat(y," ").concat(t,"integer"):"".concat(t).concat(y);this.createdEl&&this.__destroyFn(this._getClbOpts()),p.empty().append(this.template(n)),p.find("[data-sm-label]").append(this.templateLabel(n));var R=this.create&&this.create.bind(this);this.createdEl=R&&R(this._getClbOpts()),p.find("[data-sm-fields]").append(this.createdEl||this.templateInput(n)),a.className="".concat(O," ").concat(A," ").concat(O,"__").concat(m," ").concat(b).trim(),a.className+=n.isFull()?" ".concat(O,"--full"):"";var B=this.onRender&&this.onRender.bind(this);return B&&B(),this.setValue(n.getValue()),this},i.prototype.onRender=function(){},i}(C.G7);const zs=JD;var QD=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),eR=function(u){QD(i,u);function i(e){var t=u.call(this,e)||this;t.config=e.config||{},t.pfx=t.config.stylePrefix||"",t.properties=[],t.parent=e.parent;var n=t.collection;return t.listenTo(n,"add",t.addTo),t.listenTo(n,"reset",t.render),t}return i.prototype.addTo=function(e,t,n){this.add(e,null,n)},i.prototype.add=function(e,t,n){n===void 0&&(n={});var a=this,p=a.parent,m=a.config,y=t||this.el,b=new e.typeView({model:e,config:m});p&&(b.parent=p),b.render();var O=b.el;this.properties.push(b),(0,nt.$Q)(y,O,n.at)},i.prototype.remove=function(){return C.G7.prototype.remove.apply(this,arguments),this.clearItems(),this},i.prototype.clearItems=function(){this.properties.forEach(function(e){return e.remove()}),this.properties=[]},i.prototype.render=function(){var e=this,t=this,n=t.$el,a=t.pfx;this.clearItems();var p=document.createDocumentFragment();return this.collection.forEach(function(m){return e.add(m,p)}),n.empty(),n.append(p),n.attr("class","".concat(a,"properties")),this},i}(C.G7);const Lw=eR;var tR=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Mg=function(){return Mg=Object.assign||function(u){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(u[n]=i[n])}return u},Mg.apply(this,arguments)},rR=function(u){tR(i,u);function i(){return u!==null&&u.apply(this,arguments)||this}return i.prototype.templateInput=function(){var e=this.pfx;return`
      <div class="`.concat(e,"field ").concat(e,`composite">
        <span id="`).concat(e,`input-holder"></span>
      </div>
    `)},i.prototype.remove=function(){var e;return(e=this.props)===null||e===void 0||e.remove(),zs.prototype.remove.apply(this,arguments),this},i.prototype.onValueChange=function(){},i.prototype.onRender=function(){var e=this.pfx,t=this.model,n=t.get("properties");if(n.length&&!this.props){var a=t.isDetached(),p=new Lw({config:Mg(Mg({},this.config),{highlightComputed:a,highlightChanged:a}),collection:n,parent:this});p.render(),this.$el.find("#".concat(e,"input-holder")).append(p.el),this.props=p}},i.prototype.clearCached=function(){zs.prototype.clearCached.apply(this,arguments),delete this.props},i}(zs);const Dp=rR;var nR=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),iR=function(u){nR(i,u);function i(){return u!==null&&u.apply(this,arguments)||this}return i.prototype.events=function(){return{click:"select","click [data-close-layer]":"removeItem","mousedown [data-move-layer]":"initSorter","touchstart [data-move-layer]":"initSorter"}},i.prototype.template=function(){var e=this,t=e.pfx,n=e.ppfx,a=e.em,p=a==null?void 0:a.getConfig().icons,m=(p==null?void 0:p.close)||"",y=(p==null?void 0:p.move)||"";return`
      <div class="`.concat(t,`label-wrp">
        <div id="`).concat(t,'move" class="').concat(n,`no-touch-actions" data-move-layer>
          `).concat(y,`
        </div>
        <div id="`).concat(t,`label" data-label></div>
        <div id="`).concat(t,'preview-box" class="').concat(t,`layer-preview" style="display: none" data-preview-box>
          <div id="`).concat(t,'preview" class="').concat(t,`layer-preview-cnt" data-preview></div>
        </div>
        <div id="`).concat(t,'close-layer" class="').concat(t,`btn-close" data-close-layer>
          `).concat(m,`
        </div>
      </div>
      <div id="`).concat(t,`inputs" data-properties></div>
    `)},i.prototype.initialize=function(e){e===void 0&&(e={});var t=this.model,n=e.config||{};this.em=n.em,this.config=n,this.sorter=e.sorter,this.pfx=n.stylePrefix||"",this.ppfx=n.pStylePrefix||"",this.propertyView=e.propertyView;var a=this.propertyView.model;this.listenTo(t,"destroy remove",this.remove),this.listenTo(t,"change:values",this.updateLabel),this.listenTo(a,"change:selectedLayer",this.updateVisibility),t.view=this,t.set({droppable:0,draggable:1}),this.$el.data("model",t)},i.prototype.initSorter=function(){var e;(e=this.sorter)===null||e===void 0||e.startSort(this.el)},i.prototype.removeItem=function(e){e&&e.stopPropagation(),this.model.remove()},i.prototype.select=function(){this.model.select()},i.prototype.getPropertiesWrapper=function(){return this.propsWrapEl||(this.propsWrapEl=this.el.querySelector("[data-properties]")),this.propsWrapEl},i.prototype.getPreviewEl=function(){return this.previewEl||(this.previewEl=this.el.querySelector("[data-preview]")),this.previewEl},i.prototype.getLabelEl=function(){return this.labelEl||(this.labelEl=this.el.querySelector("[data-label]")),this.labelEl},i.prototype.updateLabel=function(){var e=this.model,t=e.getLabel();if(this.getLabelEl().innerHTML=t,e.hasPreview()){var n=this.getPreviewEl(),a=e.getStylePreview({number:{min:-3,max:3}}),p=(0,r.keys)(a).map(function(m){return"".concat(m,":").concat(a[m])}).join(";");n.setAttribute("style",p)}},i.prototype.updateVisibility=function(){var e,t=this,n=t.pfx,a=t.model,p=t.propertyView,m=this.getPropertiesWrapper(),y=a.isSelected();m.style.display=y?"":"none",this.$el[y?"addClass":"removeClass"]("".concat(n,"active")),y&&m.appendChild((e=p.props)===null||e===void 0?void 0:e.el)},i.prototype.render=function(){var e=this,t=e.el,n=e.pfx,a=e.model;return t.innerHTML=this.template(),t.className="".concat(n,"layer"),a.hasPreview()&&(t.querySelector("[data-preview-box]").style.display=""),this.updateLabel(),this.updateVisibility(),this},i}(C.G7);const oR=iR;var aR=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),sR=function(u){aR(i,u);function i(e){var t=u.call(this,e)||this,n=t.collection,a=e.config||{},p=a.em,m=a.stylePrefix||"",y=a.pStylePrefix||"";t.config=a,t.pfx=m,t.ppfx=y,t.propertyView=e.propertyView,t.className="".concat(m,"layers ").concat(y,"field"),t.listenTo(n,"add",t.addTo),t.listenTo(n,"reset",t.reset),t.items=[];var b=p==null?void 0:p.Utils;return t.sorter=b?new b.Sorter({container:t.el,ignoreViewChildren:1,containerSel:".".concat(m,"layers"),itemSel:".".concat(m,"layer"),pfx:a.pStylePrefix,em:p}):"",n.view=t,t.$el.data("model",n),t.$el.data("collection",n),t}return i.prototype.addTo=function(e){var t=this.collection.indexOf(e);this.addToCollection(e,null,t)},i.prototype.addToCollection=function(e,t,n){var a=t||null,p=this,m=p.propertyView,y=p.config,b=p.sorter,O=p.$el,A=new oR({model:e,config:y,sorter:b,propertyView:m}),R=A.render().el;if(this.items.push(A),a)a.appendChild(R);else if(typeof n<"u"){var B="before";O.children().length===n&&(n--,B="after"),n<0?O.append(R):O.children().eq(n)[B](R)}else O.append(R);return R},i.prototype.reset=function(e,t){this.clearItems(),this.render()},i.prototype.remove=function(){return this.clearItems(),C.G7.prototype.remove.apply(this,arguments),this},i.prototype.clearItems=function(){this.items.forEach(function(e){return e.remove()}),this.items=[]},i.prototype.render=function(){var e=this,t=this,n=t.$el,a=t.sorter,p=document.createDocumentFragment();return n.empty(),this.collection.forEach(function(m){return e.addToCollection(m,p)}),n.append(p),n.attr("class",this.className),a&&(a.plh=null),this},i}(C.G7);const lR=sR;var uR=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Uf=function(){return Uf=Object.assign||function(u){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(u[n]=i[n])}return u},Uf.apply(this,arguments)},cR=function(u){uR(i,u);function i(){return u!==null&&u.apply(this,arguments)||this}return i.prototype.events=function(){return Uf(Uf({},Dp.prototype.events()),{"click [data-add-layer]":"addLayer",change:""})},i.prototype.templateInput=function(){var e=this,t=e.pfx,n=e.em,a=n==null?void 0:n.getConfig().icons,p=(a==null?void 0:a.plus)||"+";return`
      <div class="`.concat(t,"field ").concat(t,`stack">
        <button type="button" id="`).concat(t,`add" data-add-layer>
          `).concat(p,`
        </button>
        <div data-layers-wrapper></div>
      </div>
    `)},i.prototype.init=function(){var e=this.model;this.listenTo(e.layers,"change reset",this.updateStatus),this.listenTo(e,"change:isEmptyValue",this.updateStatus)},i.prototype.addLayer=function(){this.model.addLayer({},{at:0})},i.prototype.setValue=function(){},i.prototype.remove=function(){var e;return(e=this.layersView)===null||e===void 0||e.remove(),Dp.prototype.remove.apply(this,arguments),this},i.prototype.clearCached=function(){Dp.prototype.clearCached.apply(this,arguments),delete this.layersView},i.prototype.onRender=function(){var e=this,t=e.model,n=e.el,a=e.config,p=t.get("properties");if(p.length&&!this.props){var m=new Lw({config:Uf(Uf({},a),{highlightComputed:!1,highlightChanged:!1}),collection:p,parent:this});m.render();var y=new lR({collection:t.layers,config:a,propertyView:this});y.render();var b=n.querySelector("[data-layers-wrapper]");b.appendChild(y.el),this.props=m,this.layersView=y}},i}(Dp);const fR=cR;var dR=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Dg=function(){return Dg=Object.assign||function(u){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(u[n]=i[n])}return u},Dg.apply(this,arguments)},pR=function(u){dR(i,u);function i(){return u!==null&&u.apply(this,arguments)||this}return i.prototype.events=function(){return Dg(Dg({},zs.prototype.events()),{"click [data-clear-asset]":"clear","click [data-open-assets]":"openAssetManager"})},i.prototype.templateInput=function(){var e,t=this,n=t.pfx,a=t.em,p=(e=this.em)===null||e===void 0?void 0:e.getConfig().icons,m=p==null?void 0:p.close;return`
      <div class="`.concat(n,"field ").concat(n,`file">
        <div id='`).concat(n,`input-holder'>
          <div class="`).concat(n,`btn-c">
            <button class="`).concat(n,'btn" id="').concat(n,`images" type="button" data-open-assets>
              `).concat(a.t("styleManager.fileButton"),`
            </button>
          </div>
          <div style="clear:both;"></div>
        </div>
        <div id="`).concat(n,'preview-box" class="').concat(n,`preview-file" data-preview-box>
          <div id="`).concat(n,'preview-file" class="').concat(n,`preview-file-cnt" data-preview></div>
          <div id="`).concat(n,'close" class="').concat(n,'preview-file-close" data-clear-asset>').concat(m,`</div>
        </div>
      </div>
    `)},i.prototype.__setValueInput=function(e){var t=this,n=t.model,a=t.el,p=n.getDefaultValue(),m=a.querySelector("[data-preview-box]"),y=a.querySelector("[data-preview]");m.style.display=!e||e===p?"none":"",y.style.backgroundImage=e||n.getDefaultValue()},i.prototype.openAssetManager=function(){var e=this,t,n=(t=this.em)===null||t===void 0?void 0:t.Assets;n==null||n.open({select:function(a,p){var m=(0,r.isString)(a)?a:a.get("src");e.model.upValue(m,{partial:!p}),p&&n.close()},types:["image"],accept:"image/*"})},i}(zs);const hR=pR;var vR=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),gR=function(u){vR(i,u);function i(){return u!==null&&u.apply(this,arguments)||this}return i.prototype.templateInput=function(e){return""},i.prototype.init=function(){var e=this.model;this.listenTo(e,"change:unit",this.onValueChange),this.listenTo(e,"change:units",this.render)},i.prototype.setValue=function(e){},i.prototype.onRender=function(){var e=this,t=e.ppfx,n=e.model,a=e.el;if(!this.inputInst){var p=n.input;p.ppfx=t,p.render();var m=a.querySelector(".".concat(t,"fields"));m.appendChild(p.el),this.input=p.inputEl.get(0),this.inputInst=p}},i.prototype.clearCached=function(){zs.prototype.clearCached.apply(this,arguments),this.inputInst=null},i}(zs);const Ws=gR;var mR=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),yR=function(u){mR(i,u);function i(){return u!==null&&u.apply(this,arguments)||this}return i.prototype.setValue=function(e){var t;(t=this.inputInst)===null||t===void 0||t.setValue(e,{fromTarget:1,def:this.model.getDefaultValue()})},i.prototype.remove=function(){var e=this;Ws.prototype.remove.apply(this,arguments);var t=this.inputInst;return t&&t.remove&&t.remove(),["inputInst","$color"].forEach(function(n){return e[n]=null}),this},i.prototype.__handleChange=function(e,t){this.model.upValue(e,{partial:t})},i.prototype.onRender=function(){var e;if(!this.inputInst){this.__handleChange=this.__handleChange.bind(this);var t=this,n=t.ppfx,a=t.model,p=t.em,m=t.el,y=new rs({target:p,model:a,ppfx:n,onChange:this.__handleChange}),b=y.render();m.querySelector(".".concat(n,"fields")).appendChild(b.el),this.input=(e=b.inputEl)===null||e===void 0?void 0:e.get(0),this.inputInst=b}},i}(Ws);const wR=yR;var _R=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Rg=function(){return Rg=Object.assign||function(u){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(u[n]=i[n])}return u},Rg.apply(this,arguments)},CC=function(u,i,e){if(e||arguments.length===2)for(var t=0,n=i.length,a;t<n;t++)(a||!(t in i))&&(a||(a=Array.prototype.slice.call(i,0,t)),a[t]=i[t]);return u.concat(a||Array.prototype.slice.call(i))},bR=function(u){_R(i,u);function i(){return u!==null&&u.apply(this,arguments)||this}return i.prototype.defaults=function(){return Rg(Rg({},bn.getDefaults()),{options:[],full:0})},i.prototype.getOptions=function(){var e=this.attributes,t=e.options,n=e.list;return(t&&t.length?t:n)||[]},i.prototype.getOption=function(e){var t=this,n=(0,o.isDef)(e)?e:this.getValue();return this.getOptions().filter(function(a){return t.getOptionId(a)===n})[0]||null},i.prototype.setOptions=function(e){return e===void 0&&(e=[]),this.set("options",e),this},i.prototype.addOption=function(e){if(e){var t=this.getOptions();this.setOptions(CC(CC([],t,!0),[e],!1))}return this},i.prototype.getOptionId=function(e){return(0,o.isDef)(e.id)?e.id:e.value},i.prototype.getOptionLabel=function(e,t){var n;t===void 0&&(t={});var a=t.locale,p=a===void 0?!0:a,m=((0,r.isString)(e)?this.getOption(e):e)||{},y=this.getOptionId(m),b=m.label||m.name||y,O=t.property||this.getId();return p&&((n=this.em)===null||n===void 0?void 0:n.t("styleManager.options.".concat(O,".").concat(y)))||b},i.prototype.initialize=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];bn.prototype.initialize.apply(this,e),this.listenTo(this,"change:options",this.__onOptionChange)},i.prototype.__onOptionChange=function(){this.set("list",this.get("options"))},i}(bn);const Mw=bR;var xR=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),SR=function(u){xR(i,u);function i(e){var t=u.call(this,e)||this;return t.listenTo(t.model,"change:options",t.updateOptions),t}return i.prototype.templateInput=function(){var e=this,t=e.pfx,n=e.ppfx;return`
      <div class="`.concat(n,"field ").concat(n,`select">
        <span id="`).concat(t,`input-holder"></span>
        <div class="`).concat(n,`sel-arrow">
          <div class="`).concat(n,`d-s-arrow"></div>
        </div>
      </div>
    `)},i.prototype.updateOptions=function(){delete this.input,this.onRender()},i.prototype.onRender=function(){var e=this.pfx,t=this.model,n=t.getOptions();if(!this.input){var a=[];n.forEach(function(m){var y=t.getOptionId(m),b=t.getOptionLabel(y),O=m.style?m.style.replace(/"/g,"&quot;"):"",A=O?'style="'.concat(O,'"'):"",R=y.replace(/"/g,"&quot;");a.push('<option value="'.concat(R,'" ').concat(A,">").concat(b,"</option>"))});var p=this.el.querySelector("#".concat(e,"input-holder"));p.innerHTML="<select>".concat(a.join(""),"</select>"),this.input=p.firstChild}},i.prototype.__setValueInput=function(e){var t=this.model,n=this.getInputEl(),a=t.getOptions()[0],p=a?t.getOptionId(a):"";n&&(n.value=e||p)},i}(zs);const OC=SR;var CR=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Ng=function(){return Ng=Object.assign||function(u){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(u[n]=i[n])}return u},Ng.apply(this,arguments)},OR=function(u){CR(i,u);function i(){return u!==null&&u.apply(this,arguments)||this}return i.prototype.defaults=function(){return Ng(Ng({},Mw.getDefaults()),{full:1})},i}(Mw);const ER=OR;var TR=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),PR=function(u){TR(i,u);function i(){return u!==null&&u.apply(this,arguments)||this}return i.prototype.templateInput=function(){var e=this.ppfx;return'<div class="'.concat(e,"field ").concat(e,'field-radio"></div>')},i.prototype.onRender=function(){var e=this,t=e.pfx,n=e.ppfx,a=this.model,p="".concat(n,"radio-item-label"),m=a.getName(),y=a.getOptions(),b="".concat(t,"radio ").concat(t,"radio-").concat(m),O=a.cid;if(!this.input){var A=[];y.forEach(function(B){var Q=B.className?"".concat(B.className," ").concat(t,"icon ").concat(p):"",le=a.getOptionId(B),ue="".concat(m,"-").concat(le,"-").concat(O),ke=Q?"":a.getOptionLabel(le),Be=B.title?'title="'.concat(B.title,'"'):"",He=a.getValue()===le?"checked":"";A.push(`
          <div class="`.concat(n,`radio-item">
            <input type="radio" class="`).concat(b,'" id="').concat(ue,'" name="').concat(m,"-").concat(O,'" value="').concat(le,'" ').concat(He,`/>
            <label class="`).concat(Q||p,'" ').concat(Be,' for="').concat(ue,'">').concat(ke,`</label>
          </div>
        `))});var R=this.el.querySelector(".".concat(n,"field"));R.innerHTML='<div class="'.concat(n,'radio-items">').concat(A.join(""),"</div>"),this.input=R.firstChild}},i.prototype.__setValueInput=function(e){var t,n=this.model,a=e||n.getDefaultValue(),p=(t=this.getInputEl())===null||t===void 0?void 0:t.querySelector('[value="'.concat(a,'"]'));p&&(p.checked=!0)},i}(OC);const kR=PR;var AR=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),uc=function(){return uc=Object.assign||function(u){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(u[n]=i[n])}return u},uc.apply(this,arguments)},LR=function(u){AR(i,u);function i(){return u!==null&&u.apply(this,arguments)||this}return i.prototype.defaults=function(){return uc(uc({},bn.getDefaults()),{units:[],unit:"",min:"",max:"",step:1})},i.prototype.getUnits=function(){return this.get("units")||[]},i.prototype.getUnit=function(){return this.get("unit")},i.prototype.getMin=function(){return this.get("min")},i.prototype.getMax=function(){return this.get("max")},i.prototype.getStep=function(){return this.get("step")},i.prototype.upUnit=function(e,t){return t===void 0&&(t={}),this._up({unit:e},t)},i.prototype.initialize=function(e,t){e===void 0&&(e={}),t===void 0&&(t={}),bn.callParentInit(bn,this,e,t);var n=this.get("unit"),a=this.getUnits();this.input=(0,o.hasWin)()?new CS({model:this}):void 0,a.length&&!n&&this.set("unit",a[0],{silent:!0}),bn.callInit(this,e,t)},i.prototype.__getClearProps=function(){return uc(uc({},bn.prototype.__getClearProps()),{unit:""})},i.prototype.parseValue=function(e,t){t===void 0&&(t={});var n=bn.prototype.parseValue.apply(this,arguments),a=this.input.validateInputValue(n.value,uc({deepCheck:1},t)),p=a.value,m=a.unit;return n.value=p,n.unit=m,n},i.prototype.getFullValue=function(){var e=this.get("value"),t=this.get("unit"),n=(0,r.isUndefined)(e)?"":"".concat(e),a=!(0,r.isUndefined)(t)&&n?t:"",p="".concat(n).concat(a);return bn.prototype.getFullValue.apply(this,[p])},i}(bn);const jg=LR;var MR=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Ig=function(){return Ig=Object.assign||function(u){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(u[n]=i[n])}return u},Ig.apply(this,arguments)},DR=function(u){MR(i,u);function i(){return u!==null&&u.apply(this,arguments)||this}return i.prototype.defaults=function(){return Ig(Ig({},jg.getDefaults()),{showInput:1})},i}(jg);const RR=DR;var NR=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Fg=function(){return Fg=Object.assign||function(u){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(u[n]=i[n])}return u},Fg.apply(this,arguments)},jR=function(u){NR(i,u);function i(){return u!==null&&u.apply(this,arguments)||this}return i.prototype.events=function(){return Fg(Fg({},Ws.prototype.events()),{"change [type=range]":"inputValueChanged","input [type=range]":"inputValueChangedSoft",change:""})},i.prototype.templateInput=function(e){var t=this.ppfx;return`
      <div class="`.concat(t,"field ").concat(t,`field-range">
        <input type="range" min="`).concat(e.get("min"),'" max="').concat(e.get("max"),'" step="').concat(e.get("step"),`"/>
      </div>
    `)},i.prototype.getSliderEl=function(){return this.slider||(this.slider=this.el.querySelector("input[type=range]")),this.slider},i.prototype.inputValueChanged=function(e){e.stopPropagation(),this.model.upValue(this.getSliderEl().value)},i.prototype.inputValueChangedSoft=function(e){e.stopPropagation(),this.model.upValue(this.getSliderEl().value,{partial:!0})},i.prototype.setValue=function(e){var t=this.model,n=t.parseValue(e);this.getSliderEl().value=e===""?t.getDefaultValue():parseFloat(n.value),Ws.prototype.setValue.apply(this,arguments)},i.prototype.onRender=function(){Ws.prototype.onRender.apply(this,arguments),this.model.get("showInput")||(this.inputInst.el.style.display="none")},i.prototype.clearCached=function(){Ws.prototype.clearCached.apply(this,arguments),delete this.slider},i}(Ws);const IR=jR;var FR=C.FE.extend(WS),VR=FR.extend({extendViewApi:1,init:function(){var u=this,i=u.opts,e=u.em,t=i.module||(e==null?void 0:e.get("StyleManager"));t&&(t.__listenAdd(this,t.events.propertyAdd),t.__listenRemove(this,t.events.propertyRemove))},types:[{id:"stack",model:ZD,view:fR,isType:function(u){if(u&&u.type=="stack")return u}},{id:"composite",model:Vf,view:Dp,isType:function(u){if(u&&u.type=="composite")return u}},{id:"file",model:bn,view:hR,isType:function(u){if(u&&u.type=="file")return u}},{id:"color",model:bn,view:wR,isType:function(u){if(u&&u.type=="color")return u}},{id:"select",model:Mw,view:OC,isType:function(u){if(u&&u.type=="select")return u}},{id:"radio",model:ER,view:kR,isType:function(u){if(u&&u.type=="radio")return u}},{id:"slider",model:RR,view:IR,isType:function(u){if(u&&u.type=="slider")return u}},{id:"integer",model:jg,view:Ws,isType:function(u){if(u&&u.type=="integer")return u}},{id:"number",model:jg,view:Ws,isType:function(u){if(u&&u.type=="number")return u}},{id:"base",model:bn,view:zs,isType:function(u){return u.type="base",u}}]});const Dw=VR;var UR=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Vg=function(){return Vg=Object.assign||function(u){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(u[n]=i[n])}return u},Vg.apply(this,arguments)},BR=function(u,i){var e={};for(var t in u)Object.prototype.hasOwnProperty.call(u,t)&&i.indexOf(t)<0&&(e[t]=u[t]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(u);n<t.length;n++)i.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(u,t[n])&&(e[t[n]]=u[t[n]]);return e},HR=function(u,i,e){if(e||arguments.length===2)for(var t=0,n=i.length,a;t<n;t++)(a||!(t in i))&&(a||(a=Array.prototype.slice.call(i,0,t)),a[t]=i[t]);return u.concat(a||Array.prototype.slice.call(i))},zR=function(u){UR(i,u);function i(e,t){t===void 0&&(t={});var n=u.call(this,e)||this,a=t.em;n.em=a;var p=e||{},m=n.buildProperties(p.buildProps),y=n.get("name")||"",b=[];!n.get("id")&&n.set("id",y.replace(/ /g,"_").toLowerCase()),m?b=n.extendProperties(m):b=n.get("properties").map(function(A){return(0,r.isString)(A)?n.buildProperties(A)[0]:A}).filter(Boolean),b=b.map(function(A){return n.checkExtend(A)});var O=new Dw(b,{em:a});return O.sector=n,n.set("properties",O),n}return i.prototype.defaults=function(){return{id:"",name:"",open:!0,visible:!0,extendBuilded:!0,properties:[]}},Object.defineProperty(i.prototype,"properties",{get:function(){return this.get("properties")},enumerable:!1,configurable:!0}),i.prototype.getId=function(){return this.get("id")},i.prototype.getName=function(){var e,t=this.getId();return((e=this.em)===null||e===void 0?void 0:e.t("styleManager.sectors.".concat(t)))||this.get("name")},i.prototype.setName=function(e){return this.set("name",e)},i.prototype.isOpen=function(){return!!this.get("open")},i.prototype.setOpen=function(e){return this.set("open",e)},i.prototype.isVisible=function(){return!!this.get("visible")},i.prototype.getProperties=function(e){e===void 0&&(e={});var t=this.properties,n=t.models?HR([],t.models,!0):t;return n.filter(function(a){var p=!0;if(e.withValue&&(p=a.hasValue({noParent:!0})),e.withParentValue){var m=a.hasValue({noParent:!0});p=!m&&a.hasValue()}return p})},i.prototype.getProperty=function(e){return this.getProperties().filter(function(t){return t.get("id")===e})[0]||void 0},i.prototype.addProperty=function(e,t){return this.properties.add(this.checkExtend(e),t)},i.prototype.extendProperties=function(e,t,n){n===void 0&&(n=!1);for(var a=e.length,p=t||this.get("properties"),m=this.get("extendBuilded"),y=[],b=0,O=p.length;b<O;b++){for(var A=p[b],R=0,B=0;B<a;B++){var Q=e[B];if(A.property==Q.property||A.id==Q.property){var le=A.properties;le&&le.length&&(A.properties=this.extendProperties(Q.properties||[],le,1)),e[B]=m?(0,r.extend)(Q,A):A,y[B]=e[B],R=1;continue}}R||(e.push(A),y.push(A))}return n?y.filter(function(ue){return ue}):e},i.prototype.checkExtend=function(e){var t=((0,r.isString)(e)?{extend:e}:e)||{},n=t.extend,a=BR(t,["extend"]);return n?Vg(Vg({},this.buildProperties([n])[0]||{}),a):e},i.prototype.buildProperties=function(e){var t,n=e||[];if(!n.length)return[];var a=(t=this.em)===null||t===void 0?void 0:t.Styles.builtIn;return a==null?void 0:a.build(n)},i}(C.Hn);const EC=zR;var WR=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Ug=function(){return Ug=Object.assign||function(u){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(u[n]=i[n])}return u},Ug.apply(this,arguments)},$R=function(u){WR(i,u);function i(){return u!==null&&u.apply(this,arguments)||this}return i.prototype.initialize=function(e,t){t===void 0&&(t={});var n=t.module,a=t.em;this.em=a,this.module=n,this.listenTo(this,"reset",this.onReset)},i.prototype.model=function(e,t){t===void 0&&(t={});var n=t.collection.em;return new EC(e,Ug(Ug({},t),{em:n}))},i.prototype.onReset=function(e,t){t===void 0&&(t={});var n=t.previousModels||[];n.forEach(function(a){return a.get("properties").reset()})},i}(C.FE);const KR=$R;var zl=function(){return zl=Object.assign||function(u){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(u[n]=i[n])}return u},zl.apply(this,arguments)},GR=function(u,i){var e={};for(var t in u)Object.prototype.hasOwnProperty.call(u,t)&&i.indexOf(t)<0&&(e[t]=u[t]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(u);n<t.length;n++)i.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(u,t[n])&&(e[t[n]]=u[t[n]]);return e},cc=function(u,i,e){if(e||arguments.length===2)for(var t=0,n=i.length,a;t<n;t++)(a||!(t in i))&&(a||(a=Array.prototype.slice.call(i,0,t)),a[t]=i[t]);return u.concat(a||Array.prototype.slice.call(i))},hi=function(u){return u.map(function(i){return{id:i}})},ZR=function(){function u(){this.props={},this.typeNumber="number",this.typeColor="color",this.typeRadio="radio",this.typeSelect="select",this.typeFile="file",this.typeSlider="slider",this.typeComposite="composite",this.typeStack="stack",this.unitsSize=["px","%","em","rem","vh","vw"],this.unitsSizeNoPerc=["px","em","rem","vh","vw"],this.unitsTime=["s","ms"],this.unitsAngle=["deg","rad","grad"],this.fixedValues=["initial","inherit","auto"];var i=", sans-serif",e=["flex-start","flex-end","center"],t=cc(cc([],e,!0),["baseline","stretch"],!1);this.optsBgSize=hi(["auto","cover","contain"]),this.optsBgAttach=hi(["scroll","fixed","local"]),this.optsBgRepeat=hi(["repeat","repeat-x","repeat-y","no-repeat"]),this.optsWrap=hi(["nowrap","wrap","wrap-reverse"]),this.optsOverflow=hi(["visible","hidden","scroll","auto"]),this.optsDir=hi(["row","row-reverse","column","column-reverse"]),this.opstDisplay=hi(["block","inline","inline-block","flex","none"]),this.optsTransitFn=hi(["linear","ease","ease-in","ease-out","ease-in-out"]),this.optsCursor=hi(["auto","pointer","copy","crosshair","grab","grabbing","help","move","text"]),this.optsFloat=hi(["none","left","right"]),this.optsPos=hi(["static","relative","absolute","fixed"]),this.optsTextAlign=hi(["left","center","right","justify"]),this.optsFlexAlign=hi(t),this.optsJustCont=hi(cc(cc([],e,!0),["space-between","space-around","space-evenly"],!1)),this.optsAlignCont=hi(cc(cc([],e,!0),["space-between","space-around","stretch"],!1)),this.optsAlignSelf=hi(cc(["auto"],t,!0)),this.optsTransitProp=hi(["all","width","height","background-color","transform","box-shadow","opacity"]),this.optsBorderStyle=hi(["none","solid","dotted","dashed","double","groove","ridge","inset","outset"]),this.optsBgPos=hi(["left top","left center","left bottom","right top","right center","right bottom","center top","center center","center bottom"]),this.optsWeight=[{id:"100",label:"Thin"},{id:"200",label:"Extra-Light"},{id:"300",label:"Light"},{id:"400",label:"Normal"},{id:"500",label:"Medium"},{id:"600",label:"Semi-Bold"},{id:"700",label:"Bold"},{id:"800",label:"Extra-Bold"},{id:"900",label:"Ultra-Bold"}],this.optsShadowType=[{id:"",label:"Outside"},{id:"inset",label:"Inside"}],this.optsFonts=["Arial, Helvetica"+i,"Arial Black, Gadget"+i,"Brush Script MT"+i,"Comic Sans MS, cursive"+i,"Courier New, Courier, monospace","Georgia, serif","Helvetica"+i,"Impact, Charcoal"+i,"Lucida Sans Unicode, Lucida Grande"+i,"Tahoma, Geneva"+i,"Times New Roman, Times, serif","Trebuchet MS, Helvetica"+i,"Verdana, Geneva"+i].map(function(n){return{id:n,label:n.split(",")[0]}}),this.fixedFontSizes=["medium","xx-small","x-small","small","large","x-large","xx-large","smaller","larger","length","initial","inherit"],this.fixedLetSpace=["normal","initial","inherit"],this.requireFlex={display:["flex"]},this.init()}return u.prototype.__sub=function(i){var e=this;return function(){return i.map(function(t){if((0,r.isString)(t))return e.get(t);var n=t.extend,a=GR(t,["extend"]);return zl(zl({},e.get(n)),a)})}},u.prototype.init=function(){var i=this,e=this,t=e.fixedValues,n=e.requireFlex,a=e.typeNumber;this.props={};var p=[["text-shadow-h",{type:a,default:"0",units:this.unitsSizeNoPerc}],["top",{default:"auto",units:this.unitsSize,fixedValues:t},"text-shadow-h"],["right",{},"top"],["bottom",{},"top"],["left",{},"top"],["margin-top",{default:"0"},"top"],["margin-right",{},"margin-top"],["margin-bottom",{},"margin-top"],["margin-left",{},"margin-top"],["padding-top",{min:0},"margin-top"],["padding-right",{},"padding-top"],["padding-bottom",{},"padding-top"],["padding-left",{},"padding-top"],["width",{min:0},"top"],["min-width",{},"width"],["max-width",{},"width"],["height",{},"width"],["min-height",{},"width"],["max-height",{},"width"],["flex-basis",{requiresParent:n},"width"],["font-size",{default:"medium",fixedValues:this.fixedFontSizes},"width"],["letter-spacing",{default:"normal",fixedValues:this.fixedLetSpace},"top"],["line-height",{},"letter-spacing"],["text-shadow-v",{},"text-shadow-h"],["text-shadow-blur",{min:0},"text-shadow-h"],["border-radius-c",{property:"border-radius",fixedValues:void 0},"padding-top"],["border-top-left-radius",{},"border-radius-c"],["border-top-right-radius",{},"border-radius-c"],["border-bottom-left-radius",{},"border-radius-c"],["border-bottom-right-radius",{},"border-radius-c"],["border-width",{units:this.unitsSizeNoPerc},"border-radius-c"],["box-shadow-h",{},"text-shadow-h"],["box-shadow-v",{},"text-shadow-h"],["box-shadow-blur",{default:"5px"},"text-shadow-blur"],["box-shadow-spread",{},"text-shadow-h"],["transition-duration",{default:"2s",units:this.unitsTime},"border-radius-c"],["perspective",{},"border-radius-c"],["order",{type:a,default:"0",requiresParent:n}],["flex-grow",{},"order"],["flex-shrink",{default:"1"},"order"],["float",{type:this.typeRadio,default:"none",options:this.optsFloat}],["position",{default:"static",options:this.optsPos},"float"],["text-align",{default:"left",options:this.optsTextAlign},"float"],["color",{type:this.typeColor,default:"black",full:!0}],["text-shadow-color",{},"color"],["border-color",{},"color"],["box-shadow-color",{},"color"],["background-color",{default:"none"},"color"],["background-image",{type:this.typeFile,functionName:"url",default:"none",full:!0}],["opacity",{type:this.typeSlider,default:"1",min:0,max:1,step:.01,full:!0}],["display",{type:this.typeSelect,default:"block",options:this.opstDisplay}],["flex-direction",{default:"row",options:this.optsDir,requires:n},"display"],["flex-wrap",{default:"nowrap",options:this.optsWrap},"flex-direction"],["justify-content",{default:"flex-start",options:this.optsJustCont},"flex-wrap"],["align-items",{default:"stretch",options:this.optsFlexAlign},"flex-wrap"],["align-content",{options:this.optsAlignCont},"align-items"],["align-self",{default:"auto",options:this.optsAlignSelf,requiresParent:n},"display"],["font-family",{default:"Arial, Helvetica, sans-serif",options:this.optsFonts},"display"],["font-weight",{default:"400",options:this.optsWeight},"display"],["border-style",{default:"solid",options:this.optsBorderStyle},"display"],["box-shadow-type",{default:"",options:this.optsShadowType},"display"],["background-repeat",{default:"repeat",options:this.optsBgRepeat},"display"],["background-position",{default:"left top",options:this.optsBgPos},"display"],["background-attachment",{default:"scroll",options:this.optsBgAttach},"display"],["background-size",{default:"auto",options:this.optsBgSize},"display"],["transition-property",{default:"width",options:this.optsTransitProp},"display"],["transition-timing-function",{default:"ease",options:this.optsTransitFn},"display"],["cursor",{default:"auto",options:this.optsCursor},"display"],["overflow",{default:"visible",options:this.optsOverflow},"display"],["overflow-x",{},"overflow"],["overflow-y",{},"overflow"],["margin",{type:this.typeComposite,properties:this.__sub([{extend:"margin-top",id:"margin-top-sub"},{extend:"margin-right",id:"margin-right-sub"},{extend:"margin-bottom",id:"margin-bottom-sub"},{extend:"margin-left",id:"margin-left-sub"}])}],["padding",{properties:this.__sub([{extend:"padding-top",id:"padding-top-sub"},{extend:"padding-right",id:"padding-right-sub"},{extend:"padding-bottom",id:"padding-bottom-sub"},{extend:"padding-left",id:"padding-left-sub"}])},"margin"],["border",{properties:this.__sub([{extend:"border-width",id:"border-width-sub"},{extend:"border-style",id:"border-style-sub"},{extend:"border-color",id:"border-color-sub"}])},"margin"],["border-radius",{properties:this.__sub([{extend:"border-top-left-radius",id:"border-top-left-radius-sub"},{extend:"border-top-right-radius",id:"border-top-right-radius-sub"},{extend:"border-bottom-right-radius",id:"border-bottom-right-radius-sub"},{extend:"border-bottom-left-radius",id:"border-bottom-left-radius-sub"}])},"margin"],["transition",{type:this.typeStack,properties:this.__sub([{extend:"transition-property",id:"transition-property-sub"},{extend:"transition-duration",id:"transition-duration-sub"},{extend:"transition-timing-function",id:"transition-timing-function-sub"}])}],["box-shadow",{preview:!0,layerLabel:function(m,y){var b=y.values,O=b["box-shadow-h"],A=b["box-shadow-v"],R=b["box-shadow-blur"],B=b["box-shadow-spread"];return"".concat(O," ").concat(A," ").concat(R," ").concat(B)},properties:this.__sub(["box-shadow-h","box-shadow-v","box-shadow-blur","box-shadow-spread","box-shadow-color","box-shadow-type"])},"transition"],["text-shadow",{default:"none",layerLabel:function(m,y){var b=y.values,O=b["text-shadow-h"],A=b["text-shadow-v"],R=b["text-shadow-blur"];return"".concat(O," ").concat(A," ").concat(R)},properties:this.__sub(["text-shadow-h","text-shadow-v","text-shadow-blur","text-shadow-color"])},"box-shadow"],["background",{detached:!0,layerLabel:function(m,y){var b=y.values,O=b["background-repeat-sub"]||"",A=b["background-position-sub"]||"",R=b["background-attachment-sub"]||"",B=b["background-size-sub"]||"";return[O,A,R,B].join(" ")},properties:this.__sub([{extend:"background-image",id:"background-image-sub"},{extend:"background-repeat",id:"background-repeat-sub"},{extend:"background-position",id:"background-position-sub"},{extend:"background-attachment",id:"background-attachment-sub"},{extend:"background-size",id:"background-size-sub"}])},"box-shadow"],["transform",{type:"stack",layerSeparator:" ",fromStyle:function(m,y){var b=y.property,O=y.name,A=m[O]||"",R=b.getLayerSeparator();return A?A.split(R).map(function(B){var Q=b.__parseFn(B),le=Q.name,ue=Q.value;return{"transform-type":le,"transform-value":ue}}):[]},toStyle:function(m,y){var b,O=y.name;return b={},b[O]="".concat(m["transform-type"],"(").concat(m["transform-value"],")"),b},properties:[{property:"transform-type",name:"Type",type:this.typeSelect,default:"rotateZ",full:!0,options:[{id:"scaleX",propValue:{units:[""],step:.01}},{id:"scaleY",propValue:{units:[""],step:.01}},{id:"scaleZ",propValue:{units:[""],step:.01}},{id:"rotateX",propValue:{units:this.unitsAngle,step:1}},{id:"rotateY",propValue:{units:this.unitsAngle,step:1}},{id:"rotateZ",propValue:{units:this.unitsAngle,step:1}},{id:"translateX",propValue:{units:this.unitsSize,step:1}},{id:"translateY",propValue:{units:this.unitsSize,step:1}}],onChange:function(m){var y=m.property,b=m.to;if(b.value){var O=y.getOption(),A=zl({},O.propValue||{}),R=y.getParent().getProperty("transform-value"),B=R.getUnit();(!B||(A==null?void 0:A.units.indexOf(B))<0)&&(A.unit=(A==null?void 0:A.units[0])||""),R.up(A)}}},{property:"transform-value",type:this.typeNumber,default:"0",full:!0}]}]];return p.forEach(function(m){var y=m[0],b=m[1],O=m[2];i.add(y,b||{},{from:O})}),this},u.prototype.add=function(i,e,t){e===void 0&&(e={}),t===void 0&&(t={});var n=t.from||"",a=this.props[n||i]||{},p=zl(zl(zl({},a),{property:i}),e);return p.properties&&(0,r.isFunction)(p.properties)&&(p.properties=p.properties()),this.props[i]=p,p},u.prototype.get=function(i){return this.props[i]},u.prototype.build=function(i){var e=this,t=[],n=(0,r.isString)(i)?[i]:i;return n.forEach(function(a){t.push(e.get(a)||{property:a})}),t},u}();const qR=ZR;var YR=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),XR=function(u,i){return Object.defineProperty?Object.defineProperty(u,"raw",{value:i}):u.raw=i,u},JR=function(u){YR(i,u);function i(e){var t=u.call(this,e)||this,n=e.config||{},a=t.model,p=n.em;return t.config=n,t.em=p,t.pfx=n.stylePrefix||"",t.listenTo(a,"destroy remove",t.remove),t.listenTo(a,"change:open",t.updateOpen),t.listenTo(a,"change:visible",t.updateVisibility),t}return i.prototype.template=function(e){var t,n=e.pfx,a=e.label,p=(t=this.em)===null||t===void 0?void 0:t.getConfig().icons,m=(p==null?void 0:p.caret)||"",y="".concat(n,"sector-");return s(TC||(TC=XR([`
      <div class="`,`title" data-sector-title>
        <div class="`,'caret">$',`</div>
        <div class="`,'label">',`</div>
      </div>
    `],[`
      <div class="`,`title" data-sector-title>
        <div class="`,'caret">$',`</div>
        <div class="`,'label">',`</div>
      </div>
    `])),y,y,m,y,a)},i.prototype.events=function(){return{"click [data-sector-title]":"toggle"}},i.prototype.updateOpen=function(){var e=this,t=e.$el,n=e.model,a=e.pfx,p=n.isOpen();t[p?"addClass":"removeClass"]("".concat(a,"open")),this.getPropertiesEl().style.display=p?"":"none"},i.prototype.updateVisibility=function(){this.el.style.display=this.model.isVisible()?"":"none"},i.prototype.getPropertiesEl=function(){var e=this,t=e.$el,n=e.pfx;return t.find(".".concat(n,"properties")).get(0)},i.prototype.toggle=function(){var e=this.model;e.setOpen(!e.get("open"))},i.prototype.renderProperties=function(){var e=this,t=e.model,n=e.config,a=t.get("properties");if(a){var p=new Lw({collection:a,config:n});this.$el.append(p.render().el)}},i.prototype.render=function(){var e=this,t=e.pfx,n=e.model,a=e.$el,p=n.getId(),m=n.getName();return a.html(this.template({pfx:t,label:m})),this.renderProperties(),a.attr("class","".concat(t,"sector ").concat(t,"sector__").concat(p," no-select")),this.updateOpen(),this},i}(C.G7);const QR=JR;var TC,eN=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),tN=function(u){eN(i,u);function i(e){e===void 0&&(e={});var t=u.call(this,e)||this,n=e.module,a=e.config,p=t.collection;return t.pfx=(a==null?void 0:a.stylePrefix)||"",t.ppfx=(a==null?void 0:a.pStylePrefix)||"",t.config=a,t.module=n,t.listenTo(p,"add",t.addTo),t.listenTo(p,"reset",t.render),t}return i.prototype.remove=function(){var e=this;return C.G7.prototype.remove.apply(this,arguments),["config","module","em"].forEach(function(t){return e[t]={}}),this},i.prototype.addTo=function(e,t,n){n===void 0&&(n={}),this.addToCollection(e,null,n)},i.prototype.addToCollection=function(e,t,n){n===void 0&&(n={});var a=this,p=a.config,m=a.el,y=t||m,b=new QR({model:e,config:p}).render().el;return(0,nt.$Q)(y,b,n.at),b},i.prototype.render=function(){var e=this,t=this,n=t.$el,a=t.pfx,p=t.ppfx;n.empty();var m=document.createDocumentFragment();return this.collection.each(function(y){return e.addToCollection(y,m)}),n.append(m),n.addClass("".concat(a,"sectors ").concat(p,"one-bg ").concat(p,"two-color")),this},i}(C.G7);const rN=tN;var nN=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Wl=function(){return Wl=Object.assign||function(u){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(u[n]=i[n])}return u},Wl.apply(this,arguments)},PC=function(u,i,e){if(e||arguments.length===2)for(var t=0,n=i.length,a;t<n;t++)(a||!(t in i))&&(a||(a=Array.prototype.slice.call(i,0,t)),a[t]=i[t]);return u.concat(a||Array.prototype.slice.call(i))},kC="style",Rp="".concat(kC,":"),Rw="".concat(Rp,"sector"),iN="".concat(Rw,":add"),oN="".concat(Rw,":remove"),aN="".concat(Rw,":update"),Nw="".concat(Rp,"property"),sN="".concat(Nw,":add"),lN="".concat(Nw,":remove"),uN="".concat(Nw,":update"),AC="".concat(Rp,"layer:select"),jw="".concat(Rp,"target"),cN="".concat(Rp,"custom"),LC=function(u){return u||u===0},fN={all:kC,sectorAdd:iN,sectorRemove:oN,sectorUpdate:aN,propertyAdd:sN,propertyRemove:lN,propertyUpdate:uN,layerSelect:AC,target:jw,custom:cN},dN=function(u){nN(i,u);function i(e){var t=u.call(this,e,"StyleManager",new KR([],{em:e}),fN,DD)||this;t.Sector=EC,t.storageKey="",(0,r.bindAll)(t,"__clearStateTarget");var n=t.config,a=n.pStylePrefix;a&&(n.stylePrefix=a+n.stylePrefix),t.builtIn=new qR,t.properties=new Dw([],{em:e,module:t}),t.sectors=t.all;var p=new C.Hn({targets:[]});t.model=p;var m=zt.g.update,y="component:toggled ".concat(m,":classes change:state change:device frame:resized selector:type");t.upAll=(0,r.debounce)(function(){return t.__upSel()},0),p.listenTo(e,y,t.upAll),p.listenTo(e,"component:toggled",t.__clearStateTarget);var b=(0,r.debounce)(function(){t.__upProps(),t.__trgCustom()},0);p.listenTo(e,"styleable:change undo redo",b);var O=(0,r.debounce)(function(){return t.__trgCustom()},0);return p.listenTo(e,"".concat(AC," ").concat(jw),O),p.on("change:lastTarget",function(){return e.trigger(jw,t.getSelected())}),t}return i.prototype.__upSel=function(){this.select(this.em.getSelectedAll())},i.prototype.__trgCustom=function(e){e===void 0&&(e={}),this.__ctn=this.__ctn||e.container,this.em.trigger(this.events.custom,{container:this.__ctn})},i.prototype.__trgEv=function(e){for(var t,n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];(t=this.em).trigger.apply(t,PC([e],n,!1))},i.prototype.__clearStateTarget=function(){var e=this,t=this.em,n=this.__getStateTarget();n&&(t==null||t.skip(function(){t.Css.remove(n),e.model.set({stateTarget:null})}))},i.prototype.onLoad=function(){this.sectors.add(this.config.sectors,{silent:!0})},i.prototype.postRender=function(){this.__appendTo()},i.prototype.addSector=function(e,t,n){n===void 0&&(n={});var a=this.getSector(e);return a||(t.id=e,a=this.sectors.add(t,n)),a},i.prototype.getSector=function(e,t){t===void 0&&(t={});var n=this.sectors.where({id:e})[0];return!n&&t.warn&&this._logNoSector(e),n||null},i.prototype.getSectors=function(e){e===void 0&&(e={});var t=this.sectors,n=t&&t.models?e.array?PC([],t.models,!0):t:[];return e.visible?n.filter(function(a){return a.isVisible()}):n},i.prototype.removeSector=function(e){return this.getSectors().remove(this.getSector(e,{warn:!0}))},i.prototype.addProperty=function(e,t,n){n===void 0&&(n={});var a=this.getSector(e,{warn:!0}),p;return a&&(p=a.addProperty(t,n)),p},i.prototype.getProperty=function(e,t){var n=this.getSector(e,{warn:!0}),a;return n&&(a=n.properties.filter(function(p){return p.get("property")===t||p.get("id")===t})[0]),a},i.prototype.getProperties=function(e){var t,n=this.getSector(e,{warn:!0});return n&&(t=n.properties),t},i.prototype.removeProperty=function(e,t){var n=this.getProperties(e);return n?n.remove(this.getProperty(e,t)):null},i.prototype.select=function(e,t){var n=this;t===void 0&&(t={});var a=this.em,p=(0,r.isArray)(e)?e:[e],m=t.stylable,y=a.Css,b=[];p.filter(Boolean).forEach(function(le){var ue=le;if((0,r.isString)(le)){var ke=y.getRule(le)||y.setRule(le);!(0,r.isUndefined)(m)&&ke.set({stylable:m}),ue=ke}b.push(ue)});var O=t.component||b.filter(function(le){return(0,o.isComponent)(le)}).reverse()[0];b=b.map(function(le){return n.getModelToStyle(le)});var A=a.getState(),R=b.slice().reverse()[0],B=this.getParentRules(R,{state:A,component:O}),Q=this.__getStateTarget();return a.skip(function(){var le;if(A&&(!((le=R==null?void 0:R.getState)===null||le===void 0)&&le.call(R))){var ue=R.getStyle();Q?Q.setStyle(ue):Q=y.getAll().add({selectors:"gjs-selected",style:ue,shallow:!0,important:!0})}else Q&&(y.remove(Q),Q=void 0)}),this.model.set({targets:b,lastTarget:R,lastTargetParents:B,stateTarget:Q,component:O}),this.__upProps(t),b},i.prototype.getSelected=function(){return this.model.get("lastTarget")},i.prototype.getSelectedAll=function(){return this.model.get("targets")},i.prototype.getSelectedParents=function(){return this.model.get("lastTargetParents")||[]},i.prototype.__getStateTarget=function(){return this.model.get("stateTarget")},i.prototype.addStyleTargets=function(e,t){this.getSelectedAll().map(function(p){return p.addStyle(e,t)});var n=this.getSelected();n&&this.__emitCmpStyleUpdate(e);var a=this.__getStateTarget();n&&(a==null||a.setStyle(n.getStyle(),t))},i.prototype.getBuiltIn=function(e){return this.builtIn.get(e)},i.prototype.getBuiltInAll=function(){return this.builtIn.props},i.prototype.addBuiltIn=function(e,t){return this.builtIn.add(e,t)},i.prototype.getModelToStyle=function(e,t){t===void 0&&(t={});var n=this.em,a=t.skipAdd;if(n&&(e!=null&&e.toHTML)){var p=n.getConfig(),m=n.UndoManager,y=n.Css,b=n.Selectors,O=b?b.getConfig():{},A=p.devicePreviewMode?"":n.get("state"),R=e.get("classes"),B=R.getStyleable(),Q=B.length,le=!O.componentFirst||t.useClasses,ue={noCount:1},ke={state:A,addOpts:ue};m.skip(function(){var Be;if(Q&&le){var He=n.getCurrentMedia();Be=y.get(B,A,He),!Be&&!a&&(Be=y.add(B,A,He,{},ue))}else if(p.avoidInlineStyle){var ot=e.getId();Be=y.getIdRule(ot,ke),!Be&&!a&&(Be=y.setIdRule(ot,{},ke)),e.is("wrapper")&&Be.set("wrapper",1,ue)}Be&&(e=Be)})}return e},i.prototype.getParentRules=function(e,t){var n=t===void 0?{}:t,a=n.state,p=n.component,m=this.em,y=[];if(m&&e){var b=p,O=m.Css,A=m.CodeManager.getGenerator("css"),R=e.toHTML?e:e.getComponent(),B={array:!0},Q=[],le=[],ue=[],ke=[],Be=[],He=function(ft){return ft.length?O.getRules().filter(function(Jt){var cr=Jt.getSelectors().map(function(qr){return qr.getFullName()});return cr.length===0?!1:cr.every(function(qr){return ft.indexOf(qr)>=0})}):[]},ot=function(ft){return ft?O.getRules().filter(function(Jt){return Jt.selectorsToString()===ft}):[]};if(R)Q=O.getRules("#".concat(R.getId())),le=ot(R.get("tagName")),ke=b?He(b.getSelectors().getFullName(B)):[],Be=ke.concat(le).concat(Q);else{Q=b?O.getRules("#".concat(b.getId())):[],le=ot((b==null?void 0:b.get("tagName"))||"");var Ot=(b==null?void 0:b.getSelectors().getFullName(B))||[],Gt=Ot.filter(function(ft){return e.getSelectors().getFullName(B).findIndex(function(Jt){return Jt===ft})===-1});ue=He(Gt.concat(e.getSelectors().getFullName(B))),Be=le.concat(Q).concat(ue)}var er=Be.filter(function(ft){return(0,r.isUndefined)(a)?1:ft.get("state")===a}).sort(A.sortRules).reverse();y=er.slice(er.indexOf(e)+1)}return y},i.prototype.addType=function(e,t){this.properties.addType(e,t)},i.prototype.getType=function(e){return this.properties.getType(e)},i.prototype.getTypes=function(){return this.properties.getTypes()},i.prototype.createType=function(e,t){var n=t===void 0?{}:t,a=n.model,p=a===void 0?{}:a,m=n.view,y=m===void 0?{}:m,b=this.config,O=this.getType(e);if(O)return new O.view(Wl({model:new O.model(p),config:b},y))},i.prototype.render=function(){var e=this,t=e.config,n=e.em,a=e.SectView,p=a&&a.el;return this.SectView=new rN({el:p,em:n,config:t,module:this,collection:this.sectors}),this.SectView.render().el},i.prototype._logNoSector=function(e){var t=this.em;t&&t.logWarning("'".concat(e,"' sector not found"))},i.prototype.__emitCmpStyleUpdate=function(e,t){t===void 0&&(t={});var n=this.em;if(!e.__p){var a=this.getSelectedAll(),p=t.components||n.getSelectedAll(),m=Array.isArray(p)?p:[p],y=Wl({},e);delete y.__p,m.forEach(function(b){return!a.includes(b)&&b.__onStyleChange(y)})}},i.prototype.__upProps=function(e){var t=this;e===void 0&&(e={});var n=this.getSelected();if(n){var a=this.sectors,p=this.model.get("component"),m=this.getSelectedParents(),y=n.getStyle(),b=m.map(function(O){return{target:O,style:O.getStyle()}});a.map(function(O){O.getProperties().map(function(A){t.__upProp(A,y,b,e)})}),a.forEach(function(O){var A=O.getProperties();A.forEach(function(B){var Q=B.__checkVisibility({target:n,component:p,sectors:a});B.set("visible",Q)});var R=A.some(function(B){return B.isVisible()});O.set("visible",R)})}},i.prototype.__upProp=function(e,t,n,a){var p=this,m=e.getName(),y=t[m],b=LC(y),O=e.getType()==="stack",A=e.getType()==="composite",R=Wl(Wl({},a),{__up:!0}),B=!A&&!O,Q=e,le=e,ue=O?Q.__getLayersFromStyle(t):[],ke=A?le.__getPropsFromStyle(t):{},Be=b?y:null,He=null;if(O&&ue===null||A&&ke===null){var ot=O?"__getLayersFromStyle":"__getPropsFromStyle",Ot=n.filter(function(cr){return Q[ot](cr.style)!==null})[0];if(Ot){Be=Ot.style[m],He=Ot.target;var Gt=Q[ot](Ot.style);O?ue=Gt:ke=Gt}}else if(!b){Be=null;var Ot=n.filter(function(qr){return LC(qr.style[m])})[0];Ot&&(Be=Ot.style[m],He=Ot.target)}if(e.__setParentTarget(He),B&&e.__getFullValue()!==Be&&e.upValue(Be,R),O&&Q.__setLayers(ue||[],{isEmptyValue:Q.isEmptyValueStyle(t)}),A){var er=le.getProperties();if(le.isDetached()){var ft=le.__getPropsFromStyle(t,{byName:!0})||{},Jt=n.map(function(cr){return Wl(Wl({},cr),{style:le.__getPropsFromStyle(cr.style,{byName:!0})||{}})});er.map(function(cr){return p.__upProp(cr,ft,Jt,a)})}else le.__setProperties(ke||{},R),le.getProperties().map(function(cr){return cr.__setParentTarget(He)})}},i.prototype.destroy=function(){var e;[this.properties,this.sectors].forEach(function(t){t.reset(),t.stopListening()}),(e=this.SectView)===null||e===void 0||e.remove(),this.model.stopListening(),this.upAll.cancel()},i}($);const pN=dN;var hN=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Ui=function(){return Ui=Object.assign||function(u){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(u[n]=i[n])}return u},Ui.apply(this,arguments)},Iw=function(u,i,e,t){function n(a){return a instanceof e?a:new e(function(p){p(a)})}return new(e||(e=Promise))(function(a,p){function m(O){try{b(t.next(O))}catch(A){p(A)}}function y(O){try{b(t.throw(O))}catch(A){p(A)}}function b(O){O.done?a(O.value):n(O.value).then(m,y)}b((t=t.apply(u,i||[])).next())})},Fw=function(u,i){var e={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,n,a,p;return p={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function m(b){return function(O){return y([b,O])}}function y(b){if(t)throw new TypeError("Generator is already executing.");for(;p&&(p=0,b[0]&&(e=0)),e;)try{if(t=1,n&&(a=b[0]&2?n.return:b[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,b[1])).done)return a;switch(n=0,a&&(b=[b[0]&2,a.value]),b[0]){case 0:case 1:a=b;break;case 4:return e.label++,{value:b[1],done:!1};case 5:e.label++,n=b[1],b=[0];continue;case 7:b=e.ops.pop(),e.trys.pop();continue;default:if(a=e.trys,!(a=a.length>0&&a[a.length-1])&&(b[0]===6||b[0]===2)){e=0;continue}if(b[0]===3&&(!a||b[1]>a[0]&&b[1]<a[3])){e.label=b[1];break}if(b[0]===6&&e.label<a[1]){e.label=a[1],a=b;break}if(a&&e.label<a[2]){e.label=a[2],e.ops.push(b);break}a[2]&&e.ops.pop(),e.trys.pop();continue}b=i.call(u,e)}catch(O){b=[6,O],n=0}finally{t=a=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}},vN=function(u,i){var e={};for(var t in u)Object.prototype.hasOwnProperty.call(u,t)&&i.indexOf(t)<0&&(e[t]=u[t]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(u);n<t.length;n++)i.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(u,t[n])&&(e[t[n]]=u[t[n]]);return e},gN=function(u,i,e){if(e||arguments.length===2)for(var t=0,n=i.length,a;t<n;t++)(a||!(t in i))&&(a||(a=Array.prototype.slice.call(i,0,t)),a[t]=i[t]);return u.concat(a||Array.prototype.slice.call(i))};_().$=x.default;var mN=[KL,RL,uM,_D,br,lt,pg,pN,ew,_M,dD,zM,MD,kA,YA,Ru,UA,qv],yN=[wL,Yu,PL,Iv];S({$:x.default});var MC={debug:console.log,info:console.info,warning:console.warn,error:console.error},wN=function(u){hN(i,u);function i(e){e===void 0&&(e={});var t=u.call(this)||this;t.__skip=!1,t.defaultRunning=!1,t.destroyed=!1,t._config=e;var n=t.config;t.set("Config",e),t.set("modules",[]),t.set("toLoad",[]),t.set("storables",[]),t.set("selected",new N),t.set("dmode",n.dragMode);var a=n.el,p=n.log,m=p===!0?(0,r.keys)(MC):(0,r.isArray)(p)?p:[];return(0,r.bindAll)(t,"initBaseColorPicker"),a&&n.fromElement&&(n.components=a.innerHTML),t.attrsOrig=a?(0,r.toArray)(a.attributes).reduce(function(y,b){return y[b.nodeName]=b.nodeValue,y},{}):"",n.components&&!n.pageManager&&(n.pageManager={pages:[{component:n.components}]}),mN.forEach(function(y){return t.loadModule(y)}),yN.forEach(function(y){return t.loadStorableModule(y)}),t.on("change:componentHovered",t.componentHovered,t),t.on("change:changesCount",t.updateChanges,t),t.on("change:readyLoad change:readyCanvas",t._checkReady,t),m.forEach(function(y){return t.listenLog(y)}),[{from:"change:selectedComponent",to:"component:toggled"}].forEach(function(y){var b=y.from,O=y.to;t.listenTo(t,b,function(){for(var A=[],R=0;R<arguments.length;R++)A[R]=arguments[R];t.trigger.apply(t,gN([O],A,!1)),t.logWarning("The event '".concat(b,"' is deprecated, replace it with '").concat(O,"'"))})}),t}return i.prototype.defaults=function(){return{editing:0,selected:0,clipboard:null,dmode:0,componentHovered:null,previousModel:null,changesCount:0,storables:[],modules:[],toLoad:[],opened:{},device:""}},Object.defineProperty(i.prototype,"storables",{get:function(){return this.get("storables")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"modules",{get:function(){return this.get("modules")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"toLoad",{get:function(){return this.get("toLoad")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"selected",{get:function(){return this.get("selected")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"shallow",{get:function(){return this.get("shallow")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"I18n",{get:function(){return this.get("I18n")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Utils",{get:function(){return this.get("Utils")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Commands",{get:function(){return this.get("Commands")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Keymaps",{get:function(){return this.get("Keymaps")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Modal",{get:function(){return this.get("Modal")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Panels",{get:function(){return this.get("Panels")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"CodeManager",{get:function(){return this.get("CodeManager")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"UndoManager",{get:function(){return this.get("UndoManager")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"RichTextEditor",{get:function(){return this.get("RichTextEditor")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Canvas",{get:function(){return this.get("Canvas")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Editor",{get:function(){return this.get("Editor")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Components",{get:function(){return this.get("DomComponents")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Css",{get:function(){return this.get("CssComposer")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Blocks",{get:function(){return this.get("BlockManager")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Selectors",{get:function(){return this.get("SelectorManager")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Storage",{get:function(){return this.get("StorageManager")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Traits",{get:function(){return this.get("TraitManager")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Parser",{get:function(){return this.get("Parser")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Layers",{get:function(){return this.get("LayerManager")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Assets",{get:function(){return this.get("AssetManager")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Devices",{get:function(){return this.get("DeviceManager")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Pages",{get:function(){return this.get("PageManager")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Styles",{get:function(){return this.get("StyleManager")},enumerable:!1,configurable:!0}),i.prototype._checkReady=function(){this.get("readyLoad")&&this.get("readyCanvas")&&!this.get("ready")&&this.set("ready",!0)},i.prototype.getContainer=function(){return this.config.el},i.prototype.listenLog=function(e){this.listenTo(this,"log:".concat(e),MC[e])},Object.defineProperty(i.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),i.prototype.getConfig=function(e){var t=this.config;return(0,r.isUndefined)(e)?t:t[e]},i.prototype.loadOnStart=function(){var e=this,t=this.config,n=t.projectData,a=t.headless,p=this.Storage;this.toLoad.reverse().forEach(function(b){return b.onLoad()});var m=function(){e.modules.forEach(function(b){return b.postLoad&&b.postLoad(e)}),e.set("readyLoad",1)};a?(n&&this.loadData(n),m()):this._storageTimeout=setTimeout(function(){return Iw(e,void 0,void 0,function(){var b;return Fw(this,function(O){switch(O.label){case 0:return n?(this.loadData(n),[3,5]):[3,1];case 1:if(!(p!=null&&p.canAutoload()))return[3,5];O.label=2;case 2:return O.trys.push([2,4,,5]),[4,this.load()];case 3:return O.sent(),[3,5];case 4:return b=O.sent(),this.logError(b),[3,5];case 5:return m(),[2]}})})});var y=new i({noticeOnUnload:!1,storageManager:!1,undoManager:!1});y.Pages.onLoad(),y.Canvas.postLoad(),this.set("shallow",y)},i.prototype.updateChanges=function(e,t,n){var a=this,p=this.Storage,m=this.getDirtyCount();n.isClear||(this.updateItr&&clearTimeout(this.updateItr),this.updateItr=setTimeout(function(){return a.trigger("update")})),this.config.noticeOnUnload&&(window.onbeforeunload=m?function(){return!0}:null),p.isAutosave()&&m>=p.getStepsBeforeSave()&&this.store().catch(function(y){return a.logError(y)})},i.prototype.loadModule=function(e){var t=new e(this);return this.set(t.name,t),t.onLoad&&this.toLoad.push(t),this.modules.push(t),t},i.prototype.loadStorableModule=function(e){var t=this.loadModule(e);return this.storables.push(t),t},i.prototype.init=function(e,t){t===void 0&&(t={}),this.destroyed&&(this.initialize(t),this.destroyed=!1),this.set("Editor",e)},i.prototype.getEditor=function(){return this.get("Editor")},i.prototype.handleUpdates=function(e,t,n){var a=this;n===void 0&&(n={}),!(this.__skip||n.temporary||n.noCount||n.avoidStore||!this.get("ready"))&&(this.timedInterval&&clearTimeout(this.timedInterval),this.timedInterval=setTimeout(function(){var p=a.getDirtyCount()||0;n.unset;var m=vN(n,["unset"]);a.set("changesCount",p+1,m)},0))},i.prototype.changesUp=function(e){this.handleUpdates(0,0,e)},i.prototype.componentHovered=function(e,t,n){var a=this.previous("componentHovered");a&&this.trigger("component:unhovered",a,n),t&&this.trigger("component:hovered",t,n)},i.prototype.getSelected=function(){return this.selected.lastComponent()},i.prototype.getSelectedAll=function(){return this.selected.allComponents()},i.prototype.setSelected=function(e,t){var n=this;t===void 0&&(t={});var a=t.event,p=a&&(a.ctrlKey||a.metaKey),m=(a||{}).shiftKey,y=((0,r.isArray)(e)?e:[e]).map(function(R){var B,Q;return((Q=(B=R==null?void 0:R.delegate)===null||B===void 0?void 0:B.select)===null||Q===void 0?void 0:Q.call(B,R))||R}).filter(Boolean),b=this.getSelectedAll(),O=this.getConfig().multipleSelection,A=(0,r.isArray)(e);(A||!e)&&this.removeSelected(b.filter(function(R){return!(0,r.contains)(y,R)})),y.forEach(function(R){if(R&&(n.trigger("component:select:before",R,t),!R.get("selectable")||t.abort))if(t.useValid){for(var B=R.parent();B&&!B.get("selectable");)B=B.parent();R=B}else return;if(p&&O)return n.toggleSelected(R);if(m&&O){n.clearSelection(n.Canvas.getWindow());var Q=R.collection,le=R.index(),ue,ke;if(n.getSelectedAll().forEach(function(Be){var He=Be.collection,ot=Be.index();He===Q&&(ot<le?ue=(0,r.isUndefined)(ue)?ot:Math.max(ue,ot):ot>le&&(ke=(0,r.isUndefined)(ke)?ot:Math.min(ke,ot)))}),!(0,r.isUndefined)(ue))for(;ue!==le;)n.addSelected(Q.at(ue)),ue++;if(!(0,r.isUndefined)(ke))for(;ke!==le;)n.addSelected(Q.at(ke)),ke--;return n.addSelected(R)}!A&&n.removeSelected(b.filter(function(Be){return Be!==R})),n.addSelected(R,t)})},i.prototype.addSelected=function(e,t){var n=this;t===void 0&&(t={});var a=(0,r.isArray)(e)?e:[e];a.forEach(function(p){var m=n.selected;if(!(!p||!p.get("selectable")||p.parents().some(function(b){return m.hasComponent(b)}))){t.forceChange&&n.removeSelected(p,t);var y=m.allComponents().filter(function(b){return(0,r.contains)(b.parents(),p)});y.forEach(function(b){return n.removeSelected(b,t)}),m.addComponent(p,t),n.trigger("component:select",p,t),n.Canvas.addSpot({type:Sr.q.Select,component:p})}})},i.prototype.removeSelected=function(e,t){var n=this;t===void 0&&(t={}),this.selected.removeComponent(e,t);var a=(0,r.isArray)(e)?e:[e];a.forEach(function(p){return n.Canvas.removeSpots({type:Sr.q.Select,component:p})})},i.prototype.toggleSelected=function(e,t){var n=this;t===void 0&&(t={});var a=(0,r.isArray)(e)?e:[e];a.forEach(function(p){n.selected.hasComponent(p)?n.removeSelected(p,t):n.addSelected(p,t)})},i.prototype.setHovered=function(e,t){var n=this;t===void 0&&(t={});var a=function(y,b){var O=n,A=O.config,R=O.Canvas,B=n.getHovered(),Q=n.getSelectedAll(),le=Sr.q.Hover,ue=Sr.q.Spacing;n.set("componentHovered",y||null,b),B&&(R.removeSpots({type:le,component:B}),R.removeSpots({type:ue,component:B})),y&&(R.addSpot({type:le,component:y}),(!Q.includes(y)||A.showOffsetsSelected)&&R.addSpot({type:ue,component:y}))};if(!e)return a();var p="component:hover";if(t.forceChange&&a(),this.trigger("".concat(p,":before"),e,t),!e.get("hoverable"))if(t.useValid&&!t.abort){for(var m=e.parent();m&&!m.get("hoverable");)m=m.parent();e=m}else return;t.abort||(a(e,t),this.trigger(p,e,t))},i.prototype.getHovered=function(){return this.get("componentHovered")},i.prototype.setComponents=function(e,t){return t===void 0&&(t={}),this.Components.setComponents(e,t)},i.prototype.getComponents=function(){var e=this.Components,t=this.CodeManager;if(!(!e||!t)){var n=e.getComponents();return t.getCode(n,"json")}},i.prototype.setStyle=function(e,t){t===void 0&&(t={});var n=this.Css;return n.clear(t),n.getAll().add(e,t),this},i.prototype.addStyle=function(e,t){t===void 0&&(t={});var n=this.getStyle().add(e,t);return(0,r.isArray)(n)?n:[n]},i.prototype.getStyle=function(){return this.Css.getAll()},i.prototype.setState=function(e){return this.set("state",e),this},i.prototype.getState=function(){return this.get("state")||""},i.prototype.getHtml=function(e){e===void 0&&(e={});var t=this.config,n=t.optsHtml,a=t.jsInHtml?this.getJs(e):"",p=e.component||this.Components.getComponent(),m=p?this.CodeManager.getCode(p,"html",Ui(Ui({},n),e)):"";return m+=a?"<script>".concat(a,"<\/script>"):"",m},i.prototype.getCss=function(e){e===void 0&&(e={});var t=this.config,n=t.optsCss,a=e.avoidProtected,p=(0,r.isUndefined)(e.keepUnusedStyles)?t.keepUnusedStyles:e.keepUnusedStyles,m=this.Css,y=e.component||this.Components.getComponent(),b=a?"":t.protectedCss,O=y&&this.CodeManager.getCode(y,"css",Ui(Ui({cssc:m,keepUnusedStyles:p},n),e));return y?e.json?O:b+O:""},i.prototype.getJs=function(e){e===void 0&&(e={});var t=e.component||this.Components.getWrapper();return t?this.CodeManager.getCode(t,"js").trim():""},i.prototype.store=function(e){return Iw(this,void 0,void 0,function(){var t;return Fw(this,function(n){switch(n.label){case 0:return t=this.storeData(),[4,this.Storage.store(t,e)];case 1:return n.sent(),this.clearDirtyCount(),[2,t]}})})},i.prototype.load=function(e,t){return t===void 0&&(t={}),Iw(this,void 0,void 0,function(){var n;return Fw(this,function(a){switch(a.label){case 0:return[4,this.Storage.load(e)];case 1:return n=a.sent(),this.loadData(n),[4,(0,o.wait)()];case 2:return a.sent(),t.clear&&(this.UndoManager.clear(),this.clearDirtyCount()),[2,n]}})})},i.prototype.storeData=function(){var e={},t=this.getEditing();return t&&t.trigger("sync:content",{noCount:!0}),this.storables.forEach(function(n){e=Ui(Ui({},e),n.store(1))}),JSON.parse(JSON.stringify(e))},i.prototype.loadData=function(e){return e===void 0&&(e={}),(0,o.isEmptyObj)(e)||(this.storables.forEach(function(t){return t.clear()}),this.storables.forEach(function(t){return t.load(e)})),e},i.prototype.getDeviceModel=function(){var e=this.get("device");return this.Devices.get(e)},i.prototype.runDefault=function(e){e===void 0&&(e={});var t=this.get("Commands").get(this.config.defaultCommand);!t||this.defaultRunning||(t.stop(this,this,e),t.run(this,this,e),this.defaultRunning=!0)},i.prototype.stopDefault=function(e){e===void 0&&(e={});var t=this.get("Commands"),n=t.get(this.config.defaultCommand);!n||!this.defaultRunning||(n.stop(this,this,e),this.defaultRunning=!1)},i.prototype.refreshCanvas=function(e){e===void 0&&(e={}),this.Canvas.refresh({spots:e.tools})},i.prototype.clearSelection=function(e){var t,n=e||window;(t=n.getSelection())===null||t===void 0||t.removeAllRanges()},i.prototype.getCurrentMedia=function(){var e=this.config,t=this.getDeviceModel(),n=e.mediaCondition,a=e.devicePreviewMode,p=t&&t.get("widthMedia");return t&&p&&!a?"(".concat(n,": ").concat(p,")"):""},i.prototype.getWrapper=function(){return this.Components.getWrapper()},i.prototype.setCurrentFrame=function(e){return this.set("currentFrame",e)},i.prototype.getCurrentFrame=function(){return this.get("currentFrame")},i.prototype.getCurrentFrameModel=function(){var e;return(e=this.getCurrentFrame()||{})===null||e===void 0?void 0:e.model},i.prototype.getIcon=function(e){var t=this.config.icons||{};return t[e]||""},i.prototype.getDirtyCount=function(){return this.get("changesCount")},i.prototype.clearDirtyCount=function(){return this.set({changesCount:0},{isClear:!0})},i.prototype.getZoomDecimal=function(){return this.Canvas.getZoomDecimal()},i.prototype.getZoomMultiplier=function(){return this.Canvas.getZoomMultiplier()},i.prototype.setDragMode=function(e){return this.set("dmode",e)},i.prototype.getDragMode=function(e){var t=(e==null?void 0:e.getDragMode())||this.get("dmode");return t||""},i.prototype.t=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.get("I18n");return n==null?void 0:n.t.apply(n,e)},i.prototype.inAbsoluteMode=function(e){return this.getDragMode(e)==="absolute"},i.prototype.destroyAll=function(){var e=this,t=this,n=t.config,a=t.view,p=this.getEditor(),m=(n.grapesjs||{}).editors,y=m===void 0?[]:m,b=this.get("shallow");this._storageTimeout&&clearTimeout(this._storageTimeout),b==null||b.destroyAll(),this.stopListening(),this.stopDefault(),this.modules.slice().reverse().forEach(function(O){return O.destroy()}),a&&a.remove(),this.clear({silent:!0}),this.destroyed=!0,["_config","view","_previousAttributes","_events","_listeners"].forEach(function(O){return e[O]={}}),y.splice(y.indexOf(p),1),(0,o.hasWin)()&&(0,x.default)(n.el).empty().attr(this.attrsOrig)},i.prototype.getEditing=function(){var e=this.get("editing");return e&&e.model||void 0},i.prototype.setEditing=function(e){return this.set("editing",e),this},i.prototype.isEditing=function(){return!!this.get("editing")},i.prototype.log=function(e,t){t===void 0&&(t={});var n=t.ns,a=t.level,p=a===void 0?"debug":a;if(this.trigger("log",e,t),p&&this.trigger("log:".concat(p),e,t),n){var m="log-".concat(n);this.trigger(m,e,t),p&&this.trigger("".concat(m,":").concat(p),e,t)}},i.prototype.logInfo=function(e,t){this.log(e,Ui(Ui({},t),{level:"info"}))},i.prototype.logWarning=function(e,t){this.log(e,Ui(Ui({},t),{level:"warning"}))},i.prototype.logError=function(e,t){this.log(e,Ui(Ui({},t),{level:"error"}))},i.prototype.initBaseColorPicker=function(e,t){t===void 0&&(t={});var n=this.config,a=n.colorPicker,p=a===void 0?{}:a,m=n.el,y=n.stylePrefix;return(0,x.default)(e).spectrum(Ui(Ui({containerClassName:"".concat(y,"one-bg ").concat(y,"two-color"),appendTo:m||"body",maxSelectionSize:8,showPalette:!0,palette:[],showAlpha:!0,chooseText:"Ok",cancelText:""},t),p))},i.prototype.skip=function(e){this.__skip=!0;var t=this.UndoManager;t?t.skip(e):e(),this.__skip=!1},i.prototype.data=function(e,t,n){var a="_gjs-data";if(e[a]||(e[a]={}),(0,r.isUndefined)(n))return e[a][t];e[a][t]=n},i}(C.Hn);const _N=wN;var bN=function(){var u=function(i,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},u(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),xN=function(u){bN(i,u);function i(e){var t=u.call(this,{model:e})||this,n=e.Panels,a=e.UndoManager;return e.view=t,e.once("change:ready",function(){n.active(),n.disableButtons(),a.clear(),setTimeout(function(){e.trigger("load",e.Editor),e.clearDirtyCount()})}),t}return i.prototype.render=function(){var e=this,t=this,n=t.$el,a=t.model,p=a.Panels,m=a.Canvas,y=a.config,b=a.modules,O=y.stylePrefix,A=["".concat(O,"editor")];!y.customUI&&A.push("".concat(O,"one-bg ").concat(O,"two-color"));var R=(0,x.default)(y.el||"body ".concat(y.container));y.cssIcons&&(0,o.appendStyles)(y.cssIcons,{unique:!0,prepand:!0}),n.empty(),y.width&&R.css("width",y.width),y.height&&R.css("height",y.height),n.append(m.render()),n.append(p.render());var B=a.shallow,Q=B.Canvas.render();return Q.style.display="none",n.append(Q),n.attr("class",A.join(" ")),R.addClass("".concat(O,"editor-cont")).empty().append(n),b.forEach(function(le){var ue;return(ue=le.postRender)===null||ue===void 0?void 0:ue.call(le,e)}),this},i}(C.G7);const SN=xN;var Np=function(){return Np=Object.assign||function(u){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(u[n]=i[n])}return u},Np.apply(this,arguments)},DC=function(u,i,e,t){function n(a){return a instanceof e?a:new e(function(p){p(a)})}return new(e||(e=Promise))(function(a,p){function m(O){try{b(t.next(O))}catch(A){p(A)}}function y(O){try{b(t.throw(O))}catch(A){p(A)}}function b(O){O.done?a(O.value):n(O.value).then(m,y)}b((t=t.apply(u,i||[])).next())})},RC=function(u,i){var e={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,n,a,p;return p={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function m(b){return function(O){return y([b,O])}}function y(b){if(t)throw new TypeError("Generator is already executing.");for(;p&&(p=0,b[0]&&(e=0)),e;)try{if(t=1,n&&(a=b[0]&2?n.return:b[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,b[1])).done)return a;switch(n=0,a&&(b=[b[0]&2,a.value]),b[0]){case 0:case 1:a=b;break;case 4:return e.label++,{value:b[1],done:!1};case 5:e.label++,n=b[1],b=[0];continue;case 7:b=e.ops.pop(),e.trys.pop();continue;default:if(a=e.trys,!(a=a.length>0&&a[a.length-1])&&(b[0]===6||b[0]===2)){e=0;continue}if(b[0]===3&&(!a||b[1]>a[0]&&b[1]<a[3])){e.label=b[1];break}if(b[0]===6&&e.label<a[1]){e.label=a[1],a=b;break}if(a&&e.label<a[2]){e.label=a[2],e.ops.push(b);break}a[2]&&e.ops.pop(),e.trys.pop();continue}b=i.call(u,e)}catch(O){b=[6,O],n=0}finally{t=a=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}},CN=function(u,i,e){if(e||arguments.length===2)for(var t=0,n=i.length,a;t<n;t++)(a||!(t in i))&&(a||(a=Array.prototype.slice.call(i,0,t)),a[t]=i[t]);return u.concat(a||Array.prototype.slice.call(i))},ON=function(){function u(i,e){i===void 0&&(i={}),e===void 0&&(e={});var t;this.html=s,this.config=Np(Np(Np({},d),i),{pStylePrefix:(t=i.stylePrefix)!==null&&t!==void 0?t:d.stylePrefix}),this.em=new _N(this.config),this.$=e.$,this.em.init(this),this.editor=this.em}return Object.defineProperty(u.prototype,"Config",{get:function(){return this.em.config},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"I18n",{get:function(){return this.em.I18n},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"Utils",{get:function(){return this.em.Utils},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"Commands",{get:function(){return this.em.Commands},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"Keymaps",{get:function(){return this.em.Keymaps},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"Modal",{get:function(){return this.em.Modal},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"Panels",{get:function(){return this.em.Panels},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"Canvas",{get:function(){return this.em.Canvas},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"Parser",{get:function(){return this.em.Parser},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"CodeManager",{get:function(){return this.em.CodeManager},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"UndoManager",{get:function(){return this.em.UndoManager},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"RichTextEditor",{get:function(){return this.em.RichTextEditor},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"Pages",{get:function(){return this.em.Pages},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"Components",{get:function(){return this.em.Components},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"DomComponents",{get:function(){return this.em.Components},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"Layers",{get:function(){return this.em.Layers},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"LayerManager",{get:function(){return this.em.Layers},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"Css",{get:function(){return this.em.Css},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"CssComposer",{get:function(){return this.em.Css},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"Storage",{get:function(){return this.em.Storage},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"StorageManager",{get:function(){return this.em.Storage},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"Assets",{get:function(){return this.em.Assets},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"AssetManager",{get:function(){return this.em.Assets},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"Blocks",{get:function(){return this.em.Blocks},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"BlockManager",{get:function(){return this.em.Blocks},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"Traits",{get:function(){return this.em.Traits},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"TraitManager",{get:function(){return this.em.Traits},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"Selectors",{get:function(){return this.em.Selectors},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"SelectorManager",{get:function(){return this.em.Selectors},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"Styles",{get:function(){return this.em.Styles},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"StyleManager",{get:function(){return this.em.Styles},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"Devices",{get:function(){return this.em.Devices},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"DeviceManager",{get:function(){return this.em.Devices},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"EditorModel",{get:function(){return this.em},enumerable:!1,configurable:!0}),u.prototype.getConfig=function(i){return this.em.getConfig(i)},u.prototype.getHtml=function(i){return this.em.getHtml(i)},u.prototype.getCss=function(i){return this.em.getCss(i)},u.prototype.getJs=function(i){return this.em.getJs(i)},u.prototype.getComponents=function(){return this.Components.getComponents()},u.prototype.getWrapper=function(){return this.Components.getWrapper()},u.prototype.setComponents=function(i,e){return e===void 0&&(e={}),this.em.setComponents(i,e),this},u.prototype.addComponents=function(i,e){return this.getWrapper().append(i,e)},u.prototype.getStyle=function(){return this.em.Css.getAll()},u.prototype.setStyle=function(i,e){return e===void 0&&(e={}),this.em.setStyle(i,e),this},u.prototype.addStyle=function(i,e){return e===void 0&&(e={}),this.em.addStyle(i,e)},u.prototype.getSelected=function(){return this.em.getSelected()},u.prototype.getSelectedAll=function(){return this.em.getSelectedAll()},u.prototype.getSelectedToStyle=function(){var i=this.em.getSelected();if(i)return this.StyleManager.getModelToStyle(i)},u.prototype.select=function(i,e){return this.em.setSelected(i,e),this},u.prototype.selectAdd=function(i){return this.em.addSelected(i),this},u.prototype.selectRemove=function(i){return this.em.removeSelected(i),this},u.prototype.selectToggle=function(i){return this.em.toggleSelected(i),this},u.prototype.getEditing=function(){return this.em.getEditing()},u.prototype.setDevice=function(i){return this.em.set("device",i),this},u.prototype.getDevice=function(){return this.em.get("device")},u.prototype.runCommand=function(i,e){return e===void 0&&(e={}),this.Commands.run(i,e)},u.prototype.stopCommand=function(i,e){return e===void 0&&(e={}),this.Commands.stop(i,e)},u.prototype.store=function(i){return DC(this,void 0,void 0,function(){return RC(this,function(e){switch(e.label){case 0:return[4,this.em.store(i)];case 1:return[2,e.sent()]}})})},u.prototype.load=function(i,e){return e===void 0&&(e={}),DC(this,void 0,void 0,function(){return RC(this,function(t){switch(t.label){case 0:return[4,this.em.load(i,e)];case 1:return[2,t.sent()]}})})},u.prototype.getProjectData=function(){return this.em.storeData()},u.prototype.loadProjectData=function(i){return this.em.loadData(i)},u.prototype.storeData=function(){return this.em.storeData()},u.prototype.loadData=function(i){return this.em.loadData(i)},u.prototype.getContainer=function(){return this.config.el},u.prototype.getDirtyCount=function(){return this.em.getDirtyCount()},u.prototype.clearDirtyCount=function(){return this.em.clearDirtyCount()},u.prototype.refresh=function(i){this.em.refreshCanvas(i)},u.prototype.setCustomRte=function(i){this.RichTextEditor.customRte=i},u.prototype.setCustomParserCss=function(i){return this.Parser.getConfig().parserCss=i,this},u.prototype.setDragMode=function(i){return this.em.setDragMode(i),this},u.prototype.log=function(i,e){return e===void 0&&(e={}),this.em.log(i,e),this},u.prototype.t=function(){for(var i,e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(i=this.em).t.apply(i,e)},u.prototype.on=function(i,e){return this.em.on(i,e),this},u.prototype.once=function(i,e){return this.em.once(i,e),this},u.prototype.off=function(i,e){return this.em.off(i,e),this},u.prototype.trigger=function(i){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return this.em.trigger.apply(this.em,CN([i],e,!0)),this},u.prototype.destroy=function(){this.em&&(this.em.destroyAll(),this.editorView=void 0)},u.prototype.getEl=function(){var i;return(i=this.editorView)===null||i===void 0?void 0:i.el},u.prototype.getModel=function(){return this.em},u.prototype.render=function(){var i;return(i=this.editorView)===null||i===void 0||i.remove(),this.editorView=new SN(this.em),this.editorView.render().el},u.prototype.onReady=function(i){this.em.get("ready")?i(this):this.em.on("load",i)},u}();const EN=ON;var TN=function(u,i){var e=i.get(u);if(!e){var t=(0,o.getGlobal)()[u];e=(t==null?void 0:t.default)||t}return e},NC=function(u,i){return(0,r.isString)(u)?TN(u,i):(u==null?void 0:u.default)||u},jC=function(u,i){u.getModel().logWarning("Plugin ".concat(i," not found"),{context:"plugins",plugin:i})},PN=function(){function u(){this.plugins={}}return u.prototype.add=function(i,e){var t=this.get(i);return t||(this.plugins[i]=e,e)},u.prototype.get=function(i){return this.plugins[i]},u.prototype.getAll=function(){return this.plugins},u}();const kN=PN,AN=function(){var u=function(){for(var e,t=window.navigator.userAgent,n=[["edge",/Edge\/([0-9\._]+)/],["ie",/MSIE\s(7\.0)/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/]],a=0;a<n.length;a++){var p=n[a];if(e=p[1].exec(t),e)break}return!!e};if((0,o.hasWin)()&&u()){var i=DOMImplementation.prototype.createHTMLDocument;DOMImplementation.prototype.createHTMLDocument=function(e){return e||(e=""),i.apply(document.implementation,[e])}}};var Bg=function(){return Bg=Object.assign||function(u){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(u[n]=i[n])}return u},Bg.apply(this,arguments)};AN();var Vw=new kN,IC=[],FC=function(u,i){var e=NC(u,Vw);return function(t){e?e(t,i||{}):jC(t,u)}},VC={$:x.default,editors:IC,plugins:Vw,usePlugin:FC,version:"0.21.12",init:function(u){u===void 0&&(u={});var i=u.headless,e=u.container;if(!e&&!i)throw new Error("'container' is required");var t=Bg(Bg({autorender:!0,plugins:[],pluginsOpts:{}},u),{grapesjs:this,el:i?void 0:(0,r.isElement)(e)?e:document.querySelector(e)}),n=new EN(t,{$:x.default}),a=n.getModel();return t.plugins.forEach(function(p){var m=NC(p,Vw),y=t.pluginsOpts[p]||{};m?m(n,y):jC(n,p)}),a.loadOnStart(),t.autorender&&!i&&n.render(),IC.push(n),n}};const LN=VC})();var F4=hA.ZP,vA={exports:{}};/*! grapesjs-blocks-basic - 1.0.2 */(function(r,o){(function(s,c){r.exports=c()})(typeof globalThis<"u"?globalThis:typeof window<"u"?window:SE,()=>(()=>{var s={d:(x,S)=>{for(var C in S)s.o(S,C)&&!s.o(x,C)&&Object.defineProperty(x,C,{enumerable:!0,get:S[C]})},o:(x,S)=>Object.prototype.hasOwnProperty.call(x,S),r:x=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(x,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(x,"__esModule",{value:!0})}},c={};s.r(c),s.d(c,{default:()=>_});var d=function(){return d=Object.assign||function(x){for(var S,C=1,T=arguments.length;C<T;C++)for(var P in S=arguments[C])Object.prototype.hasOwnProperty.call(S,P)&&(x[P]=S[P]);return x},d.apply(this,arguments)},h=function(){return h=Object.assign||function(x){for(var S,C=1,T=arguments.length;C<T;C++)for(var P in S=arguments[C])Object.prototype.hasOwnProperty.call(S,P)&&(x[P]=S[P]);return x},h.apply(this,arguments)};const _=function(x,S){S===void 0&&(S={}),function(C,T){var P=C.BlockManager,L=T.category,N=T.blocks,U=T.stylePrefix,K=T.flexGrid,fe=T.rowHeight,q=T.addBasicStyle,z="".concat(U,"row"),$="".concat(U,"cell"),X=K?`
    .`.concat(z,` {
      display: flex;
      justify-content: flex-start;
      align-items: stretch;
      flex-wrap: nowrap;
      padding: 10px;
    }
    @media (max-width: 768px) {
      .`).concat(z,` {
        flex-wrap: wrap;
      }
    }`):`
    .`.concat(z,` {
      display: table;
      padding: 10px;
      width: 100%;
    }
    @media (max-width: 768px) {
      .`).concat(U,"cell, .").concat(U,"cell30, .").concat(U,`cell70 {
        width: 100%;
        display: block;
      }
    }`),_e=K?`
    .`.concat($,` {
      min-height: `).concat(fe,`px;
      flex-grow: 1;
      flex-basis: 100%;
    }`):`
    .`.concat($,` {
      width: 8%;
      display: table-cell;
      height: `).concat(fe,`px;
    }`),ie=`
  .`.concat(U,`cell30 {
    width: 30%;
  }`),we=`
  .`.concat(U,`cell70 {
    width: 70%;
  }`),Ae=1,se={tl:0,tc:0,tr:0,cl:0,cr:0,bl:0,br:0,minDim:Ae},ve=d(d({},se),{cr:1,bc:0,currentUnit:1,minDim:Ae,step:.2});K&&(ve.keyWidth="flex-basis");var te={class:z,"data-gjs-droppable":".".concat($),"data-gjs-resizable":se,"data-gjs-name":"Row"},re={class:$,"data-gjs-draggable":".".concat(z),"data-gjs-resizable":ve,"data-gjs-name":"Cell"};K&&(re["data-gjs-unstylable"]=["width"],re["data-gjs-stylable-require"]=["flex-basis"]);var ae=[".".concat(z),".".concat($)];C.on("selector:add",function(Ue){return ae.indexOf(Ue.getFullName())>=0&&Ue.set("private",1)});var G=function(Ue){var $e=[];for(var ge in Ue){var Ve=Ue[ge];Ve=Ve instanceof Array||Ve instanceof Object?JSON.stringify(Ve):Ve,$e.push("".concat(ge,"=").concat("'".concat(Ve,"'")))}return $e.length?" ".concat($e.join(" ")):""},be=function(Ue){return N.indexOf(Ue)>=0},W=G(te),Le=G(re),ye={category:L,select:!0};be("column1")&&P.add("column1",d(d({},ye),{label:T.labelColumn1,media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M2 20h20V4H2v16Zm-1 0V4a1 1 0 0 1 1-1h20a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1Z"/>
      </svg>`,content:"<div ".concat(W,`>
        <div `).concat(Le,`></div>
      </div>
      `).concat(q?`<style>
          `.concat(X,`
          `).concat(_e,`
        </style>`):"")})),be("column2")&&P.add("column2",d(d({},ye),{label:T.labelColumn2,media:`<svg viewBox="0 0 23 24">
        <path fill="currentColor" d="M2 20h8V4H2v16Zm-1 0V4a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1ZM13 20h8V4h-8v16Zm-1 0V4a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1h-8a1 1 0 0 1-1-1Z"/>
      </svg>`,content:"<div ".concat(W,`>
        <div `).concat(Le,`></div>
        <div `).concat(Le,`></div>
      </div>
      `).concat(q?`<style>
          `.concat(X,`
          `).concat(_e,`
        </style>`):"")})),be("column3")&&P.add("column3",d(d({},ye),{label:T.labelColumn3,media:`<svg viewBox="0 0 23 24">
        <path fill="currentColor" d="M2 20h4V4H2v16Zm-1 0V4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1ZM17 20h4V4h-4v16Zm-1 0V4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1ZM9.5 20h4V4h-4v16Zm-1 0V4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1Z"/>
      </svg>`,content:"<div ".concat(W,`>
        <div `).concat(Le,`></div>
        <div `).concat(Le,`></div>
        <div `).concat(Le,`></div>
      </div>
      `).concat(q?`<style>
          `.concat(X,`
          `).concat(_e,`
        </style>`):"")})),be("column3-7")&&P.add("column3-7",d(d({},ye),{label:T.labelColumn37,media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M2 20h5V4H2v16Zm-1 0V4a1 1 0 0 1 1-1h5a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1ZM10 20h12V4H10v16Zm-1 0V4a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H10a1 1 0 0 1-1-1Z"/>
      </svg>`,content:"<div ".concat(W,`>
        <div `).concat(Le," style='").concat(K?"flex-basis":"width",`: 30%;'></div>
        <div `).concat(Le," style='").concat(K?"flex-basis":"width",`: 70%;'></div>
      </div>
      `).concat(q?`<style>
          `.concat(X,`
          `).concat(_e,`
          `).concat(ie,`
          `).concat(we,`
        </style>`):"")})),be("text")&&P.add("text",d(d({},ye),{activate:!0,label:T.labelText,media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M18.5,4L19.66,8.35L18.7,8.61C18.25,7.74 17.79,6.87 17.26,6.43C16.73,6 16.11,6 15.5,6H13V16.5C13,17 13,17.5 13.33,17.75C13.67,18 14.33,18 15,18V19H9V18C9.67,18 10.33,18 10.67,17.75C11,17.5 11,17 11,16.5V6H8.5C7.89,6 7.27,6 6.74,6.43C6.21,6.87 5.75,7.74 5.3,8.61L4.34,8.35L5.5,4H18.5Z" />
      </svg>`,content:{type:"text",content:"Insert your text here",style:{padding:"10px"}}})),be("link")&&P.add("link",d(d({},ye),{label:T.labelLink,media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M3.9,12C3.9,10.29 5.29,8.9 7,8.9H11V7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H11V15.1H7C5.29,15.1 3.9,13.71 3.9,12M8,13H16V11H8V13M17,7H13V8.9H17C18.71,8.9 20.1,10.29 20.1,12C20.1,13.71 18.71,15.1 17,15.1H13V17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7Z" />
      </svg>`,content:{type:"link",content:"Link",style:{color:"#d983a6"}}})),be("image")&&P.add("image",d(d({},ye),{activate:!0,label:T.labelImage,media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M21,3H3C2,3 1,4 1,5V19A2,2 0 0,0 3,21H21C22,21 23,20 23,19V5C23,4 22,3 21,3M5,17L8.5,12.5L11,15.5L14.5,11L19,17H5Z" />
      </svg>`,content:{style:{color:"black"},type:"image"}})),be("video")&&P.add("video",d(d({},ye),{label:T.labelVideo,media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M10,15L15.19,12L10,9V15M21.56,7.17C21.69,7.64 21.78,8.27 21.84,9.07C21.91,9.87 21.94,10.56 21.94,11.16L22,12C22,14.19 21.84,15.8 21.56,16.83C21.31,17.73 20.73,18.31 19.83,18.56C19.36,18.69 18.5,18.78 17.18,18.84C15.88,18.91 14.69,18.94 13.59,18.94L12,19C7.81,19 5.2,18.84 4.17,18.56C3.27,18.31 2.69,17.73 2.44,16.83C2.31,16.36 2.22,15.73 2.16,14.93C2.09,14.13 2.06,13.44 2.06,12.84L2,12C2,9.81 2.16,8.2 2.44,7.17C2.69,6.27 3.27,5.69 4.17,5.44C4.64,5.31 5.5,5.22 6.82,5.16C8.12,5.09 9.31,5.06 10.41,5.06L12,5C16.19,5 18.8,5.16 19.83,5.44C20.73,5.69 21.31,6.27 21.56,7.17Z" />
      </svg>`,content:{type:"video",src:"img/video2.webm",style:{height:"350px",width:"615px"}}})),be("map")&&P.add("map",d(d({},ye),{label:T.labelMap,media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M20.5,3L20.34,3.03L15,5.1L9,3L3.36,4.9C3.15,4.97 3,5.15 3,5.38V20.5A0.5,0.5 0 0,0 3.5,21L3.66,20.97L9,18.9L15,21L20.64,19.1C20.85,19.03 21,18.85 21,18.62V3.5A0.5,0.5 0 0,0 20.5,3M10,5.47L14,6.87V18.53L10,17.13V5.47M5,6.46L8,5.45V17.15L5,18.31V6.46M19,17.54L16,18.55V6.86L19,5.7V17.54Z" />
      </svg>`,content:{type:"map",style:{height:"350px"}}}))}(x,h({blocks:["column1","column2","column3","column3-7","text","link","image","video","map"],flexGrid:!1,stylePrefix:"gjs-",addBasicStyle:!0,category:"Basic",labelColumn1:"1 Column",labelColumn2:"2 Columns",labelColumn3:"3 Columns",labelColumn37:"2 Columns 3/7",labelText:"Text",labelLink:"Link",labelImage:"Image",labelVideo:"Video",labelMap:"Map",rowHeight:75},S))};return c})())})(vA);var V4=vA.exports;const U4=jy(V4);var gA={exports:{}};/*! grapesjs-plugin-forms - 2.0.6 */(function(r,o){(function(s,c){r.exports=c()})(typeof globalThis<"u"?globalThis:typeof window<"u"?window:SE,()=>(()=>{var s={d:(fe,q)=>{for(var z in q)s.o(q,z)&&!s.o(fe,z)&&Object.defineProperty(fe,z,{enumerable:!0,get:q[z]})},o:(fe,q)=>Object.prototype.hasOwnProperty.call(fe,q),r:fe=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(fe,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(fe,"__esModule",{value:!0})}},c={};s.r(c),s.d(c,{default:()=>K});var d="form",h="input",_="textarea",x="select",S="checkbox",C="radio",T="button",P="label",L="option",N=function(){return N=Object.assign||function(fe){for(var q,z=1,$=arguments.length;z<$;z++)for(var X in q=arguments[z])Object.prototype.hasOwnProperty.call(q,X)&&(fe[X]=q[X]);return fe},N.apply(this,arguments)},U=function(){return U=Object.assign||function(fe){for(var q,z=1,$=arguments.length;z<$;z++)for(var X in q=arguments[z])Object.prototype.hasOwnProperty.call(q,X)&&(fe[X]=q[X]);return fe},U.apply(this,arguments)};const K=function(fe,q){q===void 0&&(q={});var z=U({blocks:["form","input","textarea","select","button","label","checkbox","radio"],category:{id:"forms",label:"Forms"},block:function(){return{}}},q);(function($){var X=$.Components,_e={name:"name"},ie={name:"placeholder"},we={type:"checkbox",name:"required"},Ae=function(ve,te){return{type:L,content:te,attributes:{value:ve}}},se=function(ve){$.Commands.isActive("preview")||ve.preventDefault()};X.addType(d,{isComponent:function(ve){return ve.tagName=="FORM"},model:{defaults:{tagName:"form",droppable:":not(form)",draggable:":not(form)",attributes:{method:"get"},traits:[{type:"select",name:"method",options:[{value:"get",name:"GET"},{value:"post",name:"POST"}]},{name:"action"}]}},view:{events:{submit:function(ve){return ve.preventDefault()}}}}),X.addType(h,{isComponent:function(ve){return ve.tagName=="INPUT"},model:{defaults:{tagName:"input",droppable:!1,highlightable:!1,attributes:{type:"text"},traits:[_e,ie,{type:"select",name:"type",options:[{value:"text"},{value:"email"},{value:"password"},{value:"number"}]},we]}},extendFnView:["updateAttributes"],view:{updateAttributes:function(){this.el.setAttribute("autocomplete","off")}}}),X.addType(_,{extend:h,isComponent:function(ve){return ve.tagName=="TEXTAREA"},model:{defaults:{tagName:"textarea",attributes:{},traits:[_e,ie,we]}}}),X.addType(L,{isComponent:function(ve){return ve.tagName=="OPTION"},model:{defaults:{tagName:"option",layerable:!1,droppable:!1,draggable:!1,highlightable:!1}}}),X.addType(x,{isComponent:function(ve){return ve.tagName=="SELECT"},model:{defaults:{tagName:"select",droppable:!1,highlightable:!1,components:[Ae("opt1","Option 1"),Ae("opt2","Option 2")],traits:[_e,{name:"options",type:"select-options"},we]}},view:{events:{mousedown:se}}}),X.addType(S,{extend:h,isComponent:function(ve){return ve.tagName=="INPUT"&&ve.type=="checkbox"},model:{defaults:{copyable:!1,attributes:{type:"checkbox"},traits:[{name:"id"},_e,{name:"value"},we,{type:"checkbox",name:"checked"}]}},view:{events:{click:se},init:function(){this.listenTo(this.model,"change:attributes:checked",this.handleChecked)},handleChecked:function(){var ve;this.el.checked=!!(!((ve=this.model.get("attributes"))===null||ve===void 0)&&ve.checked)}}}),X.addType(C,{extend:S,isComponent:function(ve){return ve.tagName=="INPUT"&&ve.type=="radio"},model:{defaults:{attributes:{type:"radio"}}}}),X.addType(T,{extend:h,isComponent:function(ve){return ve.tagName=="BUTTON"},model:{defaults:{tagName:"button",attributes:{type:"button"},text:"Send",traits:[{name:"text",changeProp:!0},{type:"select",name:"type",options:[{value:"button"},{value:"submit"},{value:"reset"}]}]},init:function(){var ve=this.components(),te=ve.length===1&&ve.models[0],re=te&&te.is("textnode")&&te.get("content")||"",ae=re||this.get("text");this.set("text",ae),this.on("change:text",this.__onTextChange),ae!==re&&this.__onTextChange()},__onTextChange:function(){this.components(this.get("text"))}},view:{events:{click:se}}}),X.addType(P,{extend:"text",isComponent:function(ve){return ve.tagName=="LABEL"},model:{defaults:{tagName:"label",components:"Label",traits:[{name:"for"}]}}})})(fe),function($){$.TraitManager.addType("select-options",{events:{keyup:"onChange"},onValueChange:function(){for(var X,_e=this.model,ie=this.target,we=_e.get("value").trim().split(`
`),Ae=[],se=0;se<we.length;se++){var ve=we[se].split("::");Ae.push({type:L,components:ve[1]||ve[0],attributes:{value:ve[0]}})}ie.components().reset(Ae),(X=ie.view)===null||X===void 0||X.render()},getInputEl:function(){if(!this.$input){for(var X=[],_e=this.target.components(),ie=0;ie<_e.length;ie++){var we=_e.models[ie],Ae=we.get("attributes"),se=(Ae==null?void 0:Ae.value)||"",ve=we.components().models[0],te=ve&&ve.get("content")||"";X.push("".concat(se,"::").concat(te))}var re=document.createElement("textarea");re.value=X.join(`
`),this.$input=re}return this.$input}})}(fe),function($,X){var _e=X,ie=$.BlockManager,we=function(Ae,se){var ve;((ve=_e.blocks)===null||ve===void 0?void 0:ve.indexOf(Ae))>=0&&ie.add(Ae,N(N(N({},se),{category:_e.category,select:!0}),X.block(Ae)))};we(d,{label:"Form",media:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22 5.5c0-.3-.5-.5-1.3-.5H3.4c-.8 0-1.3.2-1.3.5v3c0 .3.5.5 1.3.5h17.4c.8 0 1.3-.2 1.3-.5v-3zM21 8H3V6h18v2zM22 10.5c0-.3-.5-.5-1.3-.5H3.4c-.8 0-1.3.2-1.3.5v3c0 .3.5.5 1.3.5h17.4c.8 0 1.3-.2 1.3-.5v-3zM21 13H3v-2h18v2z"/><rect width="10" height="3" x="2" y="15" rx=".5"/></svg>',content:{type:d,components:[{components:[{type:P,components:"Name"},{type:h}]},{components:[{type:P,components:"Email"},{type:h,attributes:{type:"email"}}]},{components:[{type:P,components:"Gender"},{type:S,attributes:{value:"M"}},{type:P,components:"M"},{type:S,attributes:{value:"F"}},{type:P,components:"F"}]},{components:[{type:P,components:"Message"},{type:_}]},{components:[{type:T}]}]}}),we(h,{label:"Input",media:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22 9c0-.6-.5-1-1.3-1H3.4C2.5 8 2 8.4 2 9v6c0 .6.5 1 1.3 1h17.4c.8 0 1.3-.4 1.3-1V9zm-1 6H3V9h18v6z"/><path d="M4 10h1v4H4z"/></svg>',content:{type:h}}),we(_,{label:"Textarea",media:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22 7.5c0-.9-.5-1.5-1.3-1.5H3.4C2.5 6 2 6.6 2 7.5v9c0 .9.5 1.5 1.3 1.5h17.4c.8 0 1.3-.6 1.3-1.5v-9zM21 17H3V7h18v10z"/><path d="M4 8h1v4H4zM19 7h1v10h-1zM20 8h1v1h-1zM20 15h1v1h-1z"/></svg>',content:{type:_}}),we(x,{label:"Select",media:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22 9c0-.6-.5-1-1.3-1H3.4C2.5 8 2 8.4 2 9v6c0 .6.5 1 1.3 1h17.4c.8 0 1.3-.4 1.3-1V9zm-1 6H3V9h18v6z"/><path d="M18.5 13l1.5-2h-3zM4 11.5h11v1H4z"/></svg>',content:{type:x}}),we(T,{label:"Button",media:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22 9c0-.6-.5-1-1.3-1H3.4C2.5 8 2 8.4 2 9v6c0 .6.5 1 1.3 1h17.4c.8 0 1.3-.4 1.3-1V9zm-1 6H3V9h18v6z"/><path d="M4 11.5h16v1H4z"/></svg>',content:{type:T}}),we(P,{label:"Label",media:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22 11.9c0-.6-.5-.9-1.3-.9H3.4c-.8 0-1.3.3-1.3.9V17c0 .5.5.9 1.3.9h17.4c.8 0 1.3-.4 1.3-.9V12zM21 17H3v-5h18v5z"/><rect width="14" height="5" x="2" y="5" rx=".5"/><path d="M4 13h1v3H4z"/></svg>',content:{type:P}}),we(S,{label:"Checkbox",media:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 17l-5-5 1.41-1.42L10 14.17l7.59-7.59L19 8m0-5H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5a2 2 0 0 0-2-2z"></path></svg>',content:{type:S}}),we(C,{label:"Radio",media:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8m0-18C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 5c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5z"></path></svg>',content:{type:C}})}(fe,z)};return c})())})(gA);var B4=gA.exports;const H4=jy(B4),z4=()=>{const{id:r}=Ik(),[o,s]=pt.useState(null);pt.useEffect(()=>{o?r&&c(r):(()=>{const _=F4.init({container:"#gjs",fromElement:!0,storageManager:!0,pageManager:{pages:[]},plugins:[U4,H4],pluginsOpts:{gjsBlocksBasic:{},gjsForms:{}}});_.BlockManager.add("custom-slider",{label:"Slider",content:`<div class="slider">
                       <input type="range" min="0" max="100" value="50" class="slider-range">
                     </div>`,category:"Custom"}),_.BlockManager.add("custom-form",{label:"Form",content:`<form>
                       <div class="form-group">
                         <label for="name">Name:</label>
                         <input type="text" id="name" name="name">
                       </div>
                       <div class="form-group">
                         <label for="email">Email:</label>
                         <input type="email" id="email" name="email">
                       </div>
                       <button type="submit">Submit</button>
                     </form>`,category:"Custom"}),_.BlockManager.add("custom-table",{label:"Table",content:`<table border="1">
                       <thead>
                         <tr>
                           <th>Header 1</th>
                           <th>Header 2</th>
                           <th>Header 3</th>
                         </tr>
                       </thead>
                       <tbody>
                         <tr>
                           <td>Row 1, Col 1</td>
                           <td>Row 1, Col 2</td>
                           <td>Row 1, Col 3</td>
                         </tr>
                         <tr>
                           <td>Row 2, Col 1</td>
                           <td>Row 2, Col 2</td>
                           <td>Row 2, Col 3</td>
                         </tr>
                       </tbody>
                     </table>`,category:"Custom"}),_.BlockManager.add("custom-navbar",{label:"Navbar",content:`<nav class="navbar">
                      <ul class="navbar-menu">
                        <li class="navbar-item"><a href="#">Home</a></li>
                        <li class="navbar-item"><a href="#">About</a></li>
                        <li class="navbar-item"><a href="#">Contact</a></li>
                      </ul>
                    </nav>`,category:"Custom"}),s(_)})()},[r,o]);const c=h=>{const _=localStorage.getItem(`page_${h}`);_&&o&&o.setComponents(_)},d=(h,_)=>{localStorage.setItem(`page_${h}`,_)};return pt.useEffect(()=>{o&&r&&o.on("component:update",()=>{const h=o.getHtml();d(r,h)})},[o,r]),Rt.jsx("div",{id:"gjs",style:{height:"100vh"}})},W4=v5([{path:"/",element:Rt.jsx(N4,{}),children:[{path:"login",element:Rt.jsx(pA,{})}]},{path:"theme",element:Rt.jsx(j4,{})},{path:"page/:id",element:Rt.jsx(z4,{})}]);H_.createRoot(document.getElementById("root")).render(Rt.jsx(gi.StrictMode,{children:Rt.jsx(C5,{router:W4})}));
